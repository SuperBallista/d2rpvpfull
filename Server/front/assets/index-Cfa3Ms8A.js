var Hf=Object.defineProperty;var Kf=(r,t,e)=>t in r?Hf(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Gf=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var At=(r,t,e)=>Kf(r,typeof t!="symbol"?t+"":t,e);var dx=Gf((pn,vn)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const Lu=!1;var oo=Array.isArray,$l=Array.from,Vf=Object.defineProperty,js=Object.getOwnPropertyDescriptor,Cu=Object.getOwnPropertyDescriptors,Wf=Object.prototype,Jf=Array.prototype,Ji=Object.getPrototypeOf;function ua(r){return typeof r=="function"}const dn=()=>{};function Zf(r){return typeof(r==null?void 0:r.then)=="function"}function Yf(r){return r()}function Zi(r){for(var t=0;t<r.length;t++)r[t]()}const $n=2,qu=4,mi=8,lo=16,Hn=32,gi=64,Go=128,ta=256,Yi=512,Hr=1024,Ms=2048,Ia=4096,ss=8192,ja=16384,Ru=32768,bi=65536,Iu=1<<17,Xf=1<<19,ju=1<<20,ms=Symbol("$state"),Du=Symbol("legacy props"),Qf=Symbol("");function Pu(r){return r===this.v}function Tl(r,t){return r!=r?t==t:r!==t||r!==null&&typeof r=="object"||typeof r=="function"}function th(r,t){return r!==t}function Nl(r){return!Tl(r,this.v)}function eh(r){throw new Error("effect_in_teardown")}function rh(){throw new Error("effect_in_unowned_derived")}function nh(r){throw new Error("effect_orphan")}function sh(){throw new Error("effect_update_depth_exceeded")}function ah(r){throw new Error("props_invalid_value")}function ih(){throw new Error("state_descriptors_fixed")}function oh(){throw new Error("state_prototype_fixed")}function lh(){throw new Error("state_unsafe_local_read")}function ch(){throw new Error("state_unsafe_mutation")}let Da=!1;function uh(){Da=!0}function zr(r){return{f:0,v:r,reactions:null,equals:Pu,version:0}}function Ta(r,t=!1){var n;const e=zr(r);return t||(e.equals=Nl),Da&&ue!==null&&ue.l!==null&&((n=ue.l).s??(n.s=[])).push(e),e}function O(r,t=!1){return dh(Ta(r,t))}function dh(r){return we!==null&&we.f&$n&&(as===null?qh([r]):as.push(r)),r}function fn(r,t){return _(r,Fn(()=>i(r))),t}function _(r,t){return we!==null&&Ba()&&we.f&($n|lo)&&(as===null||!as.includes(r))&&ch(),ya(r,t)}function ya(r,t){return r.equals(t)||(r.v=t,r.version=ad(),Bu(r,Ms),Ba()&&oe!==null&&oe.f&Hr&&!(oe.f&Hn)&&(Ar!==null&&Ar.includes(r)?(Kn(oe,Ms),po(oe)):Ps===null?Rh([r]):Ps.push(r))),t}function Bu(r,t){var e=r.reactions;if(e!==null)for(var n=Ba(),s=e.length,a=0;a<s;a++){var o=e[a],l=o.f;l&Ms||!n&&o===oe||(Kn(o,t),l&(Hr|ta)&&(l&$n?Bu(o,Ia):po(o)))}}const Sl=1,Ol=2,Mu=4,fh=8,hh=16,ph=1,vh=2,Uu=4,mh=8,gh=16,bh=1,_h=2,yh=4,wh=1,xh=2,Er=Symbol();let Fu=!1;function da(r,t=null,e){if(typeof r!="object"||r===null||ms in r)return r;const n=Ji(r);if(n!==Wf&&n!==Jf)return r;var s=new Map,a=oo(r),o=zr(0);a&&s.set("length",zr(r.length));var l;return new Proxy(r,{defineProperty(c,h,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&ih();var m=s.get(h);return m===void 0?(m=zr(v.value),s.set(h,m)):_(m,da(v.value,l)),!0},deleteProperty(c,h){var v=s.get(h);if(v===void 0)h in c&&s.set(h,zr(Er));else{if(a&&typeof h=="string"){var m=s.get("length"),p=Number(h);Number.isInteger(p)&&p<m.v&&_(m,p)}_(v,Er),oc(o)}return!0},get(c,h,v){var w;if(h===ms)return r;var m=s.get(h),p=h in c;if(m===void 0&&(!p||(w=js(c,h))!=null&&w.writable)&&(m=zr(da(p?c[h]:Er,l)),s.set(h,m)),m!==void 0){var g=i(m);return g===Er?void 0:g}return Reflect.get(c,h,v)},getOwnPropertyDescriptor(c,h){var v=Reflect.getOwnPropertyDescriptor(c,h);if(v&&"value"in v){var m=s.get(h);m&&(v.value=i(m))}else if(v===void 0){var p=s.get(h),g=p==null?void 0:p.v;if(p!==void 0&&g!==Er)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return v},has(c,h){var g;if(h===ms)return!0;var v=s.get(h),m=v!==void 0&&v.v!==Er||Reflect.has(c,h);if(v!==void 0||oe!==null&&(!m||(g=js(c,h))!=null&&g.writable)){v===void 0&&(v=zr(m?da(c[h],l):Er),s.set(h,v));var p=i(v);if(p===Er)return!1}return m},set(c,h,v,m){var T;var p=s.get(h),g=h in c;if(a&&h==="length")for(var w=v;w<p.v;w+=1){var b=s.get(w+"");b!==void 0?_(b,Er):w in c&&(b=zr(Er),s.set(w+"",b))}p===void 0?(!g||(T=js(c,h))!=null&&T.writable)&&(p=zr(void 0),_(p,da(v,l)),s.set(h,p)):(g=p.v!==Er,_(p,da(v,l)));var E=Reflect.getOwnPropertyDescriptor(c,h);if(E!=null&&E.set&&E.set.call(m,v),!g){if(a&&typeof h=="string"){var k=s.get("length"),$=Number(h);Number.isInteger($)&&$>=k.v&&_(k,$+1)}oc(o)}return!0},ownKeys(c){i(o);var h=Reflect.ownKeys(c).filter(p=>{var g=s.get(p);return g===void 0||g.v!==Er});for(var[v,m]of s)m.v!==Er&&!(v in c)&&h.push(v);return h},setPrototypeOf(){oh()}})}function oc(r,t=1){_(r,r.v+t)}function lc(r){return r!==null&&typeof r=="object"&&ms in r?r[ms]:r}function Eh(r,t){return Object.is(lc(r),lc(t))}var cc,zu,Hu;function kh(){if(cc===void 0){cc=window;var r=Element.prototype,t=Node.prototype;zu=js(t,"firstChild").get,Hu=js(t,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function co(r=""){return document.createTextNode(r)}function ni(r){return zu.call(r)}function uo(r){return Hu.call(r)}function u(r,t){return ni(r)}function wt(r,t){{var e=ni(r);return e instanceof Comment&&e.data===""?uo(e):e}}function f(r,t=1,e=!1){let n=r;for(;t--;)n=uo(n);return n}function Ah(r){r.textContent=""}function Xi(r){var t=$n|Ms;oe===null?t|=ta:oe.f|=ju;var e=we!==null&&we.f&$n?we:null;const n={children:null,ctx:ue,deps:null,equals:Pu,f:t,fn:r,reactions:null,v:null,version:0,parent:e??oe};return e!==null&&(e.children??(e.children=[])).push(n),n}function kr(r){const t=Xi(r);return t.equals=Nl,t}function Ku(r){var t=r.children;if(t!==null){r.children=null;for(var e=0;e<t.length;e+=1){var n=t[e];n.f&$n?Ll(n):Fs(n)}}}function $h(r){for(var t=r.parent;t!==null;){if(!(t.f&$n))return t;t=t.parent}return null}function Gu(r){var t,e=oe;Qr($h(r));try{Ku(r),t=id(r)}finally{Qr(e)}return t}function Vu(r){var t=Gu(r),e=(ba||r.f&ta)&&r.deps!==null?Ia:Hr;Kn(r,e),r.equals(t)||(r.v=t,r.version=ad())}function Ll(r){Ku(r),ii(r,0),Kn(r,ja),r.v=r.children=r.deps=r.ctx=r.reactions=null}function Wu(r){oe===null&&we===null&&nh(),we!==null&&we.f&ta&&rh(),ql&&eh()}function Th(r,t){var e=t.last;e===null?t.last=t.first=r:(e.next=r,r.prev=e,t.last=r)}function Pa(r,t,e,n=!0){var s=(r&gi)!==0,a=oe,o={ctx:ue,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:r|Ms,first:null,fn:t,last:null,next:null,parent:s?null:a,prev:null,teardown:null,transitions:null,version:0};if(e){var l=wa;try{uc(!0),xi(o),o.f|=Ru}catch(v){throw Fs(o),v}finally{uc(l)}}else t!==null&&po(o);var c=e&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&ju)===0;if(!c&&!s&&n&&(a!==null&&Th(o,a),we!==null&&we.f&$n)){var h=we;(h.children??(h.children=[])).push(o)}return o}function Ju(r){const t=Pa(mi,null,!1);return Kn(t,Hr),t.teardown=r,t}function Vo(r){Wu();var t=oe!==null&&(oe.f&Hn)!==0&&ue!==null&&!ue.m;if(t){var e=ue;(e.e??(e.e=[])).push({fn:r,effect:oe,reaction:we})}else{var n=_i(r);return n}}function Nh(r){return Wu(),yi(r)}function Sh(r){const t=Pa(gi,r,!0);return()=>{Fs(t)}}function _i(r){return Pa(qu,r,!1)}function Ft(r,t,e,n){var s=ue,a={effect:null,ran:!1};s.l.r1.push(a),a.effect=yi(()=>{r(),!a.ran&&(a.ran=!0,_(s.l.r2,!0),Fn(t))})}function tn(){var r=ue;yi(()=>{if(i(r.l.r2)){for(var t of r.l.r1){var e=t.effect;e.f&Hr&&Kn(e,Ia),Ma(e)&&xi(e),t.ran=!1}r.l.r2.v=!1}})}function yi(r){return Pa(mi,r,!0)}function it(r){return ea(r)}function ea(r,t=0){return Pa(mi|lo|t,r,!0)}function Mn(r,t=!0){return Pa(mi|Hn,r,!0,t)}function Zu(r){var t=r.teardown;if(t!==null){const e=ql,n=we;dc(!0),Tn(null);try{t.call(null)}finally{dc(e),Tn(n)}}}function Yu(r){var t=r.deriveds;if(t!==null){r.deriveds=null;for(var e=0;e<t.length;e+=1)Ll(t[e])}}function Xu(r,t=!1){var e=r.first;for(r.first=r.last=null;e!==null;){var n=e.next;Fs(e,t),e=n}}function Oh(r){for(var t=r.first;t!==null;){var e=t.next;t.f&Hn||Fs(t),t=e}}function Fs(r,t=!0){var e=!1;if((t||r.f&Xf)&&r.nodes_start!==null){for(var n=r.nodes_start,s=r.nodes_end;n!==null;){var a=n===s?null:uo(n);n.remove(),n=a}e=!0}Xu(r,t&&!e),Yu(r),ii(r,0),Kn(r,ja);var o=r.transitions;if(o!==null)for(const c of o)c.stop();Zu(r);var l=r.parent;l!==null&&l.first!==null&&Qu(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Qu(r){var t=r.parent,e=r.prev,n=r.next;e!==null&&(e.next=n),n!==null&&(n.prev=e),t!==null&&(t.first===r&&(t.first=n),t.last===r&&(t.last=e))}function Ds(r,t){var e=[];Cl(r,e,!0),td(e,()=>{Fs(r),t&&t()})}function td(r,t){var e=r.length;if(e>0){var n=()=>--e||t();for(var s of r)s.out(n)}else t()}function Cl(r,t,e){if(!(r.f&ss)){if(r.f^=ss,r.transitions!==null)for(const o of r.transitions)(o.is_global||e)&&t.push(o);for(var n=r.first;n!==null;){var s=n.next,a=(n.f&bi)!==0||(n.f&Hn)!==0;Cl(n,t,a?e:!1),n=s}}}function Vs(r){ed(r,!0)}function ed(r,t){if(r.f&ss){Ma(r)&&xi(r),r.f^=ss;for(var e=r.first;e!==null;){var n=e.next,s=(e.f&bi)!==0||(e.f&Hn)!==0;ed(e,s?t:!1),e=n}if(r.transitions!==null)for(const a of r.transitions)(a.is_global||t)&&a.in()}}let Qi=!1,Wo=[];function rd(){Qi=!1;const r=Wo.slice();Wo=[],Zi(r)}function wi(r){Qi||(Qi=!0,queueMicrotask(rd)),Wo.push(r)}function Lh(){Qi&&rd()}function fo(r){throw new Error("lifecycle_outside_component")}const nd=0,Ch=1;let Hi=!1,Ki=nd,si=!1,ai=null,wa=!1,ql=!1;function uc(r){wa=r}function dc(r){ql=r}let Gs=[],xa=0,we=null;function Tn(r){we=r}let oe=null;function Qr(r){oe=r}let as=null;function qh(r){as=r}let Ar=null,un=0,Ps=null;function Rh(r){Ps=r}let sd=0,ba=!1,Os=null,ue=null;function fc(r){ue=r}function ad(){return++sd}function Ba(){return!Da||ue!==null&&ue.l===null}function Ma(r){var o,l;var t=r.f;if(t&Ms)return!0;if(t&Ia){var e=r.deps,n=(t&ta)!==0;if(e!==null){var s;if(t&Yi){for(s=0;s<e.length;s++)((o=e[s]).reactions??(o.reactions=[])).push(r);r.f^=Yi}for(s=0;s<e.length;s++){var a=e[s];if(Ma(a)&&Vu(a),n&&oe!==null&&!ba&&!((l=a==null?void 0:a.reactions)!=null&&l.includes(r))&&(a.reactions??(a.reactions=[])).push(r),a.version>r.version)return!0}}n||Kn(r,Hr)}return!1}function Ih(r,t){for(var e=t;e!==null;){if(e.f&Go)try{e.fn(r);return}catch{e.f^=Go}e=e.parent}throw Hi=!1,r}function jh(r){return(r.f&ja)===0&&(r.parent===null||(r.parent.f&Go)===0)}function ho(r,t,e,n){if(Hi){if(e===null&&(Hi=!1),jh(t))throw r;return}e!==null&&(Hi=!0);{Ih(r,t);return}}function id(r){var p;var t=Ar,e=un,n=Ps,s=we,a=ba,o=as,l=ue,c=r.f;Ar=null,un=0,Ps=null,we=c&(Hn|gi)?null:r,ba=!wa&&(c&ta)!==0,as=null,ue=r.ctx;try{var h=(0,r.fn)(),v=r.deps;if(Ar!==null){var m;if(ii(r,un),v!==null&&un>0)for(v.length=un+Ar.length,m=0;m<Ar.length;m++)v[un+m]=Ar[m];else r.deps=v=Ar;if(!ba)for(m=un;m<v.length;m++)((p=v[m]).reactions??(p.reactions=[])).push(r)}else v!==null&&un<v.length&&(ii(r,un),v.length=un);return h}finally{Ar=t,un=e,Ps=n,we=s,ba=a,as=o,ue=l}}function Dh(r,t){let e=t.reactions;if(e!==null){var n=e.indexOf(r);if(n!==-1){var s=e.length-1;s===0?e=t.reactions=null:(e[n]=e[s],e.pop())}}e===null&&t.f&$n&&(Ar===null||!Ar.includes(t))&&(Kn(t,Ia),t.f&(ta|Yi)||(t.f^=Yi),ii(t,0))}function ii(r,t){var e=r.deps;if(e!==null)for(var n=t;n<e.length;n++)Dh(r,e[n])}function xi(r){var t=r.f;if(!(t&ja)){Kn(r,Hr);var e=oe,n=ue;oe=r;try{t&lo?Oh(r):Xu(r),Yu(r),Zu(r);var s=id(r);r.teardown=typeof s=="function"?s:null,r.version=sd}catch(a){ho(a,r,e,n||r.ctx)}finally{oe=e}}}function od(){if(xa>1e3){xa=0;try{sh()}catch(r){if(ai!==null)ho(r,ai,null);else throw r}}xa++}function ld(r){var t=r.length;if(t!==0){od();var e=wa;wa=!0;try{for(var n=0;n<t;n++){var s=r[n];s.f&Hr||(s.f^=Hr);var a=[];cd(s,a),Ph(a)}}finally{wa=e}}}function Ph(r){var t=r.length;if(t!==0)for(var e=0;e<t;e++){var n=r[e];if(!(n.f&(ja|ss)))try{Ma(n)&&(xi(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Qu(n):n.fn=null))}catch(s){ho(s,n,null,n.ctx)}}}function Bh(){if(si=!1,xa>1001)return;const r=Gs;Gs=[],ld(r),si||(xa=0,ai=null)}function po(r){Ki===nd&&(si||(si=!0,queueMicrotask(Bh))),ai=r;for(var t=r;t.parent!==null;){t=t.parent;var e=t.f;if(e&(gi|Hn)){if(!(e&Hr))return;t.f^=Hr}}Gs.push(t)}function cd(r,t){var e=r.first,n=[];t:for(;e!==null;){var s=e.f,a=(s&Hn)!==0,o=a&&(s&Hr)!==0,l=e.next;if(!o&&!(s&ss))if(s&mi){if(a)e.f^=Hr;else try{Ma(e)&&xi(e)}catch(m){ho(m,e,null,e.ctx)}var c=e.first;if(c!==null){e=c;continue}}else s&qu&&n.push(e);if(l===null){let m=e.parent;for(;m!==null;){if(r===m)break t;var h=m.next;if(h!==null){e=h;continue t}m=m.parent}}e=l}for(var v=0;v<n.length;v++)c=n[v],t.push(c),cd(c,t)}function ud(r){var t=Ki,e=Gs;try{od();const s=[];Ki=Ch,Gs=s,si=!1,ld(e);var n=r==null?void 0:r();return Lh(),(Gs.length>0||s.length>0)&&ud(),xa=0,ai=null,n}finally{Ki=t,Gs=e}}function i(r){var v;var t=r.f,e=(t&$n)!==0;if(e&&t&ja){var n=Gu(r);return Ll(r),n}if(Os!==null&&Os.add(r),we!==null){as!==null&&as.includes(r)&&lh();var s=we.deps;Ar===null&&s!==null&&s[un]===r?un++:Ar===null?Ar=[r]:Ar.push(r),Ps!==null&&oe!==null&&oe.f&Hr&&!(oe.f&Hn)&&Ps.includes(r)&&(Kn(oe,Ms),po(oe))}else if(e&&r.deps===null)for(var a=r,o=a.parent,l=a;o!==null;)if(o.f&$n){var c=o;l=c,o=c.parent}else{var h=o;(v=h.deriveds)!=null&&v.includes(l)||(h.deriveds??(h.deriveds=[])).push(l);break}return e&&(a=r,Ma(a)&&Vu(a)),r.v}function Mh(r){var t=Os;Os=new Set;var e=Os,n;try{if(Fn(r),t!==null)for(n of Os)t.add(n)}finally{Os=t}return e}function rs(r){var t=Mh(()=>Fn(r));for(var e of t)if(e.f&Iu)for(const n of e.deps||[])n.f&$n||fn(n,null);else fn(e,null)}function Fn(r){const t=we;try{return we=null,r()}finally{we=t}}const Uh=~(Ms|Ia|Hr);function Kn(r,t){r.f=r.f&Uh|t}function Ws(r){return dd().get(r)}function ko(r,t){return dd().set(r,t),t}function dd(r){return ue===null&&fo(),ue.c??(ue.c=new Map(Fh(ue)||void 0))}function Fh(r){let t=r.p;for(;t!==null;){const e=t.c;if(e!==null)return e;t=t.p}return null}function hc(r,t=1){var e=i(r),n=t===1?e++:e--;return _(r,e),n}function Xt(r,t=!1,e){ue={p:ue,c:null,e:null,m:!1,s:r,x:null,l:null},Da&&!t&&(ue.l={s:null,u:null,r1:[],r2:zr(!1)})}function Qt(r){const t=ue;if(t!==null){const o=t.e;if(o!==null){var e=oe,n=we;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Qr(a.effect),Tn(a.reaction),_i(a.fn)}}finally{Qr(e),Tn(n)}}ue=t.p,t.m=!0}return{}}function Js(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(ms in r)Jo(r);else if(!Array.isArray(r))for(let t in r){const e=r[t];typeof e=="object"&&e&&ms in e&&Jo(e)}}}function Jo(r,t=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!t.has(r)){t.add(r),r instanceof Date&&r.getTime();for(let n in r)try{Jo(r[n],t)}catch{}const e=Ji(r);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const n=Cu(e);for(let s in n){const a=n[s].get;if(a)try{a.call(r)}catch{}}}}}function zh(r,t){if(t){const e=document.body;r.autofocus=!0,wi(()=>{document.activeElement===e&&r.focus()})}}let pc=!1;function Hh(){pc||(pc=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function fd(r){var t=we,e=oe;Tn(null),Qr(null);try{return r()}finally{Tn(t),Qr(e)}}function Rl(r,t,e,n=e){r.addEventListener(t,()=>fd(e));const s=r.__on_r;s?r.__on_r=()=>{s(),n()}:r.__on_r=n,Hh()}const hd=new Set,Zo=new Set;function pd(r,t,e,n){function s(a){if(n.capture||Wa.call(t,a),!a.cancelBubble)return fd(()=>e.call(this,a))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?wi(()=>{t.addEventListener(r,s,n)}):t.addEventListener(r,s,n),s}function Z(r,t,e,n,s){var a={capture:n,passive:s},o=pd(r,t,e,a);(t===document.body||t===window||t===document)&&Ju(()=>{t.removeEventListener(r,o,a)})}function Kh(r){for(var t=0;t<r.length;t++)hd.add(r[t]);for(var e of Zo)e(r)}function Wa(r){var $;var t=this,e=t.ownerDocument,n=r.type,s=(($=r.composedPath)==null?void 0:$.call(r))||[],a=s[0]||r.target,o=0,l=r.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){r.__root=t;return}var h=s.indexOf(t);if(h===-1)return;c<=h&&(o=c)}if(a=s[o]||r.target,a!==t){Vf(r,"currentTarget",{configurable:!0,get(){return a||e}});var v=we,m=oe;Tn(null),Qr(null);try{for(var p,g=[];a!==null;){var w=a.assignedSlot||a.parentNode||a.host||null;try{var b=a["__"+n];if(b!==void 0&&!a.disabled)if(oo(b)){var[E,...k]=b;E.apply(a,[r,...k])}else b.call(a,r)}catch(T){p?g.push(T):p=T}if(r.cancelBubble||w===t||w===null)break;a=w}if(p){for(let T of g)queueMicrotask(()=>{throw T});throw p}}finally{r.__root=t,delete r.currentTarget,Tn(v),Qr(m)}}}function vd(r){var t=document.createElement("template");return t.innerHTML=r,t.content}function oi(r,t){var e=oe;e.nodes_start===null&&(e.nodes_start=r,e.nodes_end=t)}function W(r,t){var e=(t&wh)!==0,n=(t&xh)!==0,s,a=!r.startsWith("<!>");return()=>{s===void 0&&(s=vd(a?r:"<!>"+r),e||(s=ni(s)));var o=n?document.importNode(s,!0):s.cloneNode(!0);if(e){var l=ni(o),c=o.lastChild;oi(l,c)}else oi(o,o);return o}}function hn(r=""){{var t=co(r+"");return oi(t,t),t}}function Vt(){var r=document.createDocumentFragment(),t=document.createComment(""),e=co();return r.append(t,e),oi(t,e),r}function I(r,t){r!==null&&r.before(t)}function Gh(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const Vh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Wh(r){return Vh.includes(r)}const Jh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function Zh(r){return r=r.toLowerCase(),Jh[r]??r}const Yh=["touchstart","touchmove"];function Xh(r){return Yh.includes(r)}let Yo=!0;function Q(r,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function Qh(r,t){return tp(r,t)}const la=new Map;function tp(r,{target:t,anchor:e,props:n={},events:s,context:a,intro:o=!0}){kh();var l=new Set,c=m=>{for(var p=0;p<m.length;p++){var g=m[p];if(!l.has(g)){l.add(g);var w=Xh(g);t.addEventListener(g,Wa,{passive:w});var b=la.get(g);b===void 0?(document.addEventListener(g,Wa,{passive:w}),la.set(g,1)):la.set(g,b+1)}}};c($l(hd)),Zo.add(c);var h=void 0,v=Sh(()=>{var m=e??t.appendChild(co());return Mn(()=>{if(a){Xt({});var p=ue;p.c=a}s&&(n.$$events=s),Yo=o,h=r(m,n)||{},Yo=!0,a&&Qt()}),()=>{var w;for(var p of l){t.removeEventListener(p,Wa);var g=la.get(p);--g===0?(document.removeEventListener(p,Wa),la.delete(p)):la.set(p,g)}Zo.delete(c),vc.delete(h),m!==e&&((w=m.parentNode)==null||w.removeChild(m))}});return vc.set(h,v),h}let vc=new WeakMap;const Ao=0,Oi=1,$o=2;function ep(r,t,e,n,s){var a=r,o=Ba(),l=ue,c=Er,h,v,m,p=(o?zr:Ta)(void 0),g=(o?zr:Ta)(void 0),w=!1;function b(k,$){w=!0,$&&(Qr(E),Tn(E),fc(l));try{k===Ao&&e&&(h?Vs(h):h=Mn(()=>e(a))),k===Oi&&n&&(v?Vs(v):v=Mn(()=>n(a,p))),k===$o&&s&&(m?Vs(m):m=Mn(()=>s(a,g))),k!==Ao&&h&&Ds(h,()=>h=null),k!==Oi&&v&&Ds(v,()=>v=null),k!==$o&&m&&Ds(m,()=>m=null)}finally{$&&(fc(null),Tn(null),Qr(null),ud())}}var E=ea(()=>{if(c!==(c=t())){if(Zf(c)){var k=c;w=!1,k.then($=>{k===c&&(ya(p,$),b(Oi,!0))},$=>{if(k===c)throw ya(g,$),b($o,!0),g.v}),wi(()=>{w||b(Ao,!0)})}else ya(p,c),b(Oi,!1);return()=>c=Er}})}function xt(r,t,e,n=null,s=!1){var a=r,o=null,l=null,c=null,h=s?bi:0;ea(()=>{c!==(c=!!t())&&(c?(o?Vs(o):o=Mn(()=>e(a)),l&&Ds(l,()=>{l=null})):(l?Vs(l):n&&(l=Mn(()=>n(a))),o&&Ds(o,()=>{o=null})))},h)}function rp(r,t,e){var n=r,s=Er,a,o=Ba()?th:Tl;ea(()=>{o(s,s=t())&&(a&&Ds(a),a=Mn(()=>e(n)))})}function ae(r,t){return t}function np(r,t,e,n){for(var s=[],a=t.length,o=0;o<a;o++)Cl(t[o].e,s,!0);var l=a>0&&s.length===0&&e!==null;if(l){var c=e.parentNode;Ah(c),c.append(e),n.clear(),Ss(r,t[0].prev,t[a-1].next)}td(s,()=>{for(var h=0;h<a;h++){var v=t[h];l||(n.delete(v.k),Ss(r,v.prev,v.next)),Fs(v.e,!l)}})}function Yt(r,t,e,n,s,a=null){var o=r,l={flags:t,items:new Map,first:null},c=(t&Mu)!==0;if(c){var h=r;o=h.appendChild(co())}var v=null,m=!1;ea(()=>{var p=e(),g=oo(p)?p:p==null?[]:$l(p),w=g.length;if(!(m&&w===0)){m=w===0;{var b=we;sp(g,l,o,s,t,(b.f&ss)!==0,n)}a!==null&&(w===0?v?Vs(v):v=Mn(()=>a(o)):v!==null&&Ds(v,()=>{v=null})),e()}})}function sp(r,t,e,n,s,a,o){var C,D,P,H;var l=(s&fh)!==0,c=(s&(Sl|Ol))!==0,h=r.length,v=t.items,m=t.first,p=m,g,w=null,b,E=[],k=[],$,T,q,S;if(l)for(S=0;S<h;S+=1)$=r[S],T=o($,S),q=v.get(T),q!==void 0&&((C=q.a)==null||C.measure(),(b??(b=new Set)).add(q));for(S=0;S<h;S+=1){if($=r[S],T=o($,S),q=v.get(T),q===void 0){var L=p?p.e.nodes_start:e;w=ip(L,t,w,w===null?t.first:w.next,$,T,S,n,s),v.set(T,w),E=[],k=[],p=w.next;continue}if(c&&ap(q,$,S,s),q.e.f&ss&&(Vs(q.e),l&&((D=q.a)==null||D.unfix(),(b??(b=new Set)).delete(q))),q!==p){if(g!==void 0&&g.has(q)){if(E.length<k.length){var M=k[0],B;w=M.prev;var U=E[0],z=E[E.length-1];for(B=0;B<E.length;B+=1)mc(E[B],M,e);for(B=0;B<k.length;B+=1)g.delete(k[B]);Ss(t,U.prev,z.next),Ss(t,w,U),Ss(t,z,M),p=M,w=z,S-=1,E=[],k=[]}else g.delete(q),mc(q,p,e),Ss(t,q.prev,q.next),Ss(t,q,w===null?t.first:w.next),Ss(t,w,q),w=q;continue}for(E=[],k=[];p!==null&&p.k!==T;)(a||!(p.e.f&ss))&&(g??(g=new Set)).add(p),k.push(p),p=p.next;if(p===null)continue;q=p}E.push(q),w=q,p=q.next}if(p!==null||g!==void 0){for(var y=g===void 0?[]:$l(g);p!==null;)(a||!(p.e.f&ss))&&y.push(p),p=p.next;var N=y.length;if(N>0){var A=s&Mu&&h===0?e:null;if(l){for(S=0;S<N;S+=1)(P=y[S].a)==null||P.measure();for(S=0;S<N;S+=1)(H=y[S].a)==null||H.fix()}np(t,y,A,v)}}l&&wi(()=>{var K;if(b!==void 0)for(q of b)(K=q.a)==null||K.apply()}),oe.first=t.first&&t.first.e,oe.last=w&&w.e}function ap(r,t,e,n){n&Sl&&ya(r.v,t),n&Ol?ya(r.i,e):r.i=e}function ip(r,t,e,n,s,a,o,l,c){var h=(c&Sl)!==0,v=(c&hh)===0,m=h?v?Ta(s):zr(s):s,p=c&Ol?zr(o):o,g={i:p,v:m,k:a,a:null,e:null,prev:e,next:n};try{return g.e=Mn(()=>l(r,m,p),Fu),g.e.prev=e&&e.e,g.e.next=n&&n.e,e===null?t.first=g:(e.next=g,e.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function mc(r,t,e){for(var n=r.next?r.next.e.nodes_start:e,s=t?t.e.nodes_start:e,a=r.e.nodes_start;a!==n;){var o=uo(a);s.before(a),a=o}}function Ss(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function Xo(r,t,e,n,s){var a=r,o="",l;ea(()=>{o!==(o=t()??"")&&(l!==void 0&&(Fs(l),l=void 0),o!==""&&(l=Mn(()=>{var c=o+"",h=vd(c);oi(ni(h),h.lastChild),a.before(h)})))})}function to(r,t,e,n,s){var l;var a=(l=t.$$slots)==null?void 0:l[e],o=!1;a===!0&&(a=t.children,o=!0),a===void 0||a(r,o?()=>n:n)}function op(r,t,e){var n=r,s,a;ea(()=>{s!==(s=t())&&(a&&(Ds(a),a=null),s&&(a=Mn(()=>e(n,s))))},bi)}function _a(r,t,e,n){var s=r.__attributes??(r.__attributes={});s[t]!==(s[t]=e)&&(t==="style"&&"__styles"in r&&(r.__styles={}),t==="loading"&&(r[Qf]=e),e==null?r.removeAttribute(t):typeof e!="string"&&md(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function lp(r,t,e,n,s=!1,a=!1,o=!1){var l=t||{},c=r.tagName==="OPTION";for(var h in t)h in e||(e[h]=null);var v=md(r),m=r.__attributes??(r.__attributes={});for(const k in e){let $=e[k];if(c&&k==="value"&&$==null){r.value=r.__value="",l[k]=$;continue}var p=l[k];if($!==p){l[k]=$;var g=k[0]+k[1];if(g!=="$$"){if(g==="on"){const T={},q="$$"+k;let S=k.slice(2);var w=Wh(S);if(Gh(S)&&(S=S.slice(0,-7),T.capture=!0),!w&&p){if($!=null)continue;r.removeEventListener(S,l[q],T),l[q]=null}if($!=null)if(w)r[`__${S}`]=$,Kh([S]);else{let L=function(M){l[k].call(this,M)};var E=L;l[q]=pd(S,r,L,T)}}else if(k==="style"&&$!=null)r.style.cssText=$+"";else if(k==="autofocus")zh(r,!!$);else if(k==="__value"||k==="value"&&$!=null)r.value=r[k]=r.__value=$;else{var b=k;s||(b=Zh(b)),$==null&&!a?(m[k]=null,r.removeAttribute(k)):v.includes(b)&&(a||typeof $!="string")?r[b]=$:typeof $!="function"&&_a(r,b,$)}k==="style"&&"__styles"in r&&(r.__styles={})}}}return l}var gc=new Map;function md(r){var t=gc.get(r.nodeName);if(t)return t;gc.set(r.nodeName,t=[]);for(var e,n=Ji(r),s=Element.prototype;s!==n;){e=Cu(n);for(var a in e)e[a].set&&t.push(a);n=Ji(n)}return t}function Ke(r,t){var e=r.__className,n=cp(t);(e!==n||Fu)&&(t==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function cp(r){return r??""}function up(r,t,e){if(e){if(r.classList.contains(t))return;r.classList.add(t)}else{if(!r.classList.contains(t))return;r.classList.remove(t)}}function To(r,t,e,n){var s=r.__styles??(r.__styles={});s[t]!==e&&(s[t]=e,e==null?r.style.removeProperty(t):r.style.setProperty(t,e,""))}const dp=()=>performance.now(),Ls={tick:r=>requestAnimationFrame(r),now:()=>dp(),tasks:new Set};function gd(r){Ls.tasks.forEach(t=>{t.c(r)||(Ls.tasks.delete(t),t.f())}),Ls.tasks.size!==0&&Ls.tick(gd)}function fp(r){let t;return Ls.tasks.size===0&&Ls.tick(gd),{promise:new Promise(e=>{Ls.tasks.add(t={c:r,f:e})}),abort(){Ls.tasks.delete(t)}}}function Li(r,t){r.dispatchEvent(new CustomEvent(t))}function hp(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function bc(r){const t={},e=r.split(";");for(const n of e){const[s,a]=n.split(":");if(!s||a===void 0)break;const o=hp(s.trim());t[o]=a.trim()}return t}const pp=r=>r;function _c(r,t,e,n){var s=(r&bh)!==0,a=(r&_h)!==0,o=s&&a,l=(r&yh)!==0,c=o?"both":s?"in":"out",h,v=t.inert,m,p;function g(){var $=we,T=oe;Tn(null),Qr(null);try{return h??(h=e()(t,(n==null?void 0:n())??{},{direction:c}))}finally{Tn($),Qr(T)}}var w={is_global:l,in(){var $;if(t.inert=v,!s){p==null||p.abort(),($=p==null?void 0:p.reset)==null||$.call(p);return}a||m==null||m.abort(),Li(t,"introstart"),m=Qo(t,g(),p,1,()=>{Li(t,"introend"),m==null||m.abort(),m=h=void 0})},out($){if(!a){$==null||$(),h=void 0;return}t.inert=!0,Li(t,"outrostart"),p=Qo(t,g(),m,0,()=>{Li(t,"outroend"),$==null||$()})},stop:()=>{m==null||m.abort(),p==null||p.abort()}},b=oe;if((b.transitions??(b.transitions=[])).push(w),s&&Yo){var E=l;if(!E){for(var k=b.parent;k&&k.f&bi;)for(;(k=k.parent)&&!(k.f&lo););E=!k||(k.f&Ru)!==0}E&&_i(()=>{Fn(()=>w.in())})}}function Qo(r,t,e,n,s){var a=n===1;if(ua(t)){var o,l=!1;return wi(()=>{if(!l){var E=t({direction:a?"in":"out"});o=Qo(r,E,e,n,s)}}),{abort:()=>{l=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return s(),{abort:dn,deactivate:dn,reset:dn,t:()=>n};const{delay:c=0,css:h,tick:v,easing:m=pp}=t;var p=[];if(a&&e===void 0&&(v&&v(0,1),h)){var g=bc(h(0,1));p.push(g,g)}var w=()=>1-n,b=r.animate(p,{duration:c});return b.onfinish=()=>{var E=(e==null?void 0:e.t())??1-n;e==null||e.abort();var k=n-E,$=t.duration*Math.abs(k),T=[];if($>0){if(h)for(var q=Math.ceil($/16.666666666666668),S=0;S<=q;S+=1){var L=E+k*m(S/q),M=h(L,1-L);T.push(bc(M))}w=()=>{var B=b.currentTime;return E+k*m(B/$)},v&&fp(()=>{if(b.playState!=="running")return!1;var B=w();return v(B,1-B),!0})}b=r.animate(T,{duration:$,fill:"forwards"}),b.onfinish=()=>{w=()=>n,v==null||v(n,1-n),s()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=dn)},deactivate:()=>{s=dn},reset:()=>{n===0&&(v==null||v(1,0))},t:()=>w()}}function j(r,t,e=t){var n=Ba();Rl(r,"input",()=>{var s=yc(r)?wc(r.value):r.value;e(s),n&&s!==(s=t())&&(r.value=s??"")}),yi(()=>{var s=t();yc(r)&&s===wc(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function vp(r,t,e=t){Rl(r,"change",()=>{var n=r.checked;e(n)}),t()==null&&e(!1),yi(()=>{var n=t();r.checked=!!n})}function yc(r){var t=r.type;return t==="number"||t==="range"}function wc(r){return r===""?null:+r}function bd(r,t,e){if(r.multiple)return gp(r,t);for(var n of r.options){var s=Xa(n);if(Eh(s,t)){n.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function mp(r,t){_i(()=>{var e=new MutationObserver(()=>{var n=r.__value;bd(r,n)});return e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function ns(r,t,e=t){var n=!0;Rl(r,"change",()=>{var s;if(r.multiple)s=[].map.call(r.querySelectorAll(":checked"),Xa);else{var a=r.querySelector(":checked");s=a&&Xa(a)}e(s)}),_i(()=>{var s=t();if(bd(r,s,n),n&&s===void 0){var a=r.querySelector(":checked");a!==null&&(s=Xa(a),e(s))}r.__value=s,n=!1}),mp(r)}function gp(r,t){for(var e of r.options)e.selected=~t.indexOf(Xa(e))}function Xa(r){return"__value"in r?r.__value:r.value}function pe(r=!1){const t=ue,e=t.l.u;if(!e)return;let n=()=>Js(t.s);if(r){let s=0,a={};const o=Xi(()=>{let l=!1;const c=t.s;for(const h in c)c[h]!==a[h]&&(a[h]=c[h],l=!0);return l&&s++,s});n=()=>i(o)}e.b.length&&Nh(()=>{xc(t,n),Zi(e.b)}),Vo(()=>{const s=Fn(()=>e.m.map(Yf));return()=>{for(const a of s)typeof a=="function"&&a()}}),e.a.length&&Vo(()=>{xc(t,n),Zi(e.a)})}function xc(r,t){if(r.l.s)for(const e of r.l.s)i(e);t()}function Il(r,t,e){if(r==null)return t(void 0),e&&e(void 0),dn;const n=Fn(()=>r.subscribe(t,e));return n.unsubscribe?()=>n.unsubscribe():n}let Ci=!1;function F(r,t,e){const n=e[t]??(e[t]={store:null,source:Ta(void 0),unsubscribe:dn});if(n.store!==r)if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=dn;else{var s=!0;n.unsubscribe=Il(r,a=>{s?n.source.v=a:_(n.source,a)}),s=!1}return i(n.source)}function pt(r,t){return r.set(t),t}function le(){const r={};return Ju(()=>{for(var t in r)r[t].unsubscribe()}),r}function bp(r){var t=Ci;try{return Ci=!1,[r(),Ci]}finally{Ci=t}}const _p={get(r,t){if(!r.exclude.includes(t))return i(r.version),t in r.special?r.special[t]():r.props[t]},set(r,t,e){return t in r.special||(r.special[t]=tr({get[t](){return r.props[t]}},t,Uu)),r.special[t](e),hc(r.version),!0},getOwnPropertyDescriptor(r,t){if(!r.exclude.includes(t)&&t in r.props)return{enumerable:!0,configurable:!0,value:r.props[t]}},deleteProperty(r,t){return r.exclude.includes(t)||(r.exclude.push(t),hc(r.version)),!0},has(r,t){return r.exclude.includes(t)?!1:t in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(t=>!r.exclude.includes(t))}};function tl(r,t){return new Proxy({props:r,exclude:t,special:{},version:zr(0)},_p)}const yp={get(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(ua(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(r,t,e){let n=r.props.length;for(;n--;){let s=r.props[n];ua(s)&&(s=s());const a=js(s,t);if(a&&a.set)return a.set(e),!0}return!1},getOwnPropertyDescriptor(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(ua(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=js(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(r,t){if(t===ms||t===Du)return!1;for(let e of r.props)if(ua(e)&&(e=e()),e!=null&&t in e)return!0;return!1},ownKeys(r){const t=[];for(let e of r.props){ua(e)&&(e=e());for(const n in e)t.includes(n)||t.push(n)}return t}};function wp(...r){return new Proxy({props:r},yp)}function Ec(r){for(var t=oe,e=oe;t!==null&&!(t.f&(Hn|gi));)t=t.parent;try{return Qr(t),r()}finally{Qr(e)}}function tr(r,t,e,n){var M;var s=(e&ph)!==0,a=!Da||(e&vh)!==0,o=(e&mh)!==0,l=(e&gh)!==0,c=!1,h;o?[h,c]=bp(()=>r[t]):h=r[t];var v=ms in r||Du in r,m=((M=js(r,t))==null?void 0:M.set)??(v&&o&&t in r?B=>r[t]=B:void 0),p=n,g=!0,w=!1,b=()=>(w=!0,g&&(g=!1,l?p=Fn(n):p=n),p);h===void 0&&n!==void 0&&(m&&a&&ah(),h=b(),m&&m(h));var E;if(a)E=()=>{var B=r[t];return B===void 0?b():(g=!0,w=!1,B)};else{var k=Ec(()=>(s?Xi:kr)(()=>r[t]));k.f|=Iu,E=()=>{var B=i(k);return B!==void 0&&(p=void 0),B===void 0?p:B}}if(!(e&Uu))return E;if(m){var $=r.$$legacy;return function(B,U){return arguments.length>0?((!a||!U||$||c)&&m(U?E():B),B):E()}}var T=!1,q=!1,S=Ta(h),L=Ec(()=>Xi(()=>{var B=E(),U=i(S);return T?(T=!1,q=!0,U):(q=!1,S.v=B)}));return s||(L.equals=Nl),function(B,U){if(Os!==null&&(T=q,E(),i(S)),arguments.length>0){const z=U?i(L):a&&o?da(B):B;return L.equals(z)||(T=!0,_(S,z),w&&p!==void 0&&(p=z),Fn(()=>i(L))),B}return i(L)}}function Ze(r){ue===null&&fo(),Da&&ue.l!==null?kp(ue).m.push(r):Vo(()=>{const t=Fn(r);if(typeof t=="function")return t})}function _d(r){ue===null&&fo(),Ze(()=>()=>Fn(r))}function xp(r,t,{bubbles:e=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:n})}function Ep(){const r=ue;return r===null&&fo(),(t,e,n)=>{var a;const s=(a=r.s.$$events)==null?void 0:a[t];if(s){const o=oo(s)?s.slice():[s],l=xp(t,e,n);for(const c of o)c.call(r.x,l);return!l.defaultPrevented}return!0}}function kp(r){var t=r.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ap="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ap);uh();const eo={},ro={},yd={},wd=()=>Ws(eo),xd=/^:(.+)/,kc=4,$p=3,Tp=2,Np=1,Sp=1,li=r=>r.replace(/(^\/+|\/+$)/g,"").split("/"),No=r=>r.replace(/(^\/+|\/+$)/g,""),Op=(r,t)=>{const e=r.default?0:li(r.path).reduce((n,s)=>(n+=kc,s===""?n+=Sp:xd.test(s)?n+=Tp:s[0]==="*"?n-=kc+Np:n+=$p,n),0);return{route:r,score:e,index:t}},Lp=r=>r.map(Op).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),Ac=(r,t)=>{let e,n;const[s]=t.split("?"),a=li(s),o=a[0]==="",l=Lp(r);for(let c=0,h=l.length;c<h;c++){const v=l[c].route;let m=!1;if(v.default){n={route:v,params:{},uri:t};continue}const p=li(v.path),g={},w=Math.max(a.length,p.length);let b=0;for(;b<w;b++){const E=p[b],k=a[b];if(E&&E[0]==="*"){const T=E==="*"?"*":E.slice(1);g[T]=a.slice(b).map(decodeURIComponent).join("/");break}if(typeof k>"u"){m=!0;break}const $=xd.exec(E);if($&&!o){const T=decodeURIComponent(k);g[$[1]]=T}else if(E!==k){m=!0;break}}if(!m){e={route:v,params:g,uri:"/"+a.slice(0,b).join("/")};break}}return e||n||null},So=(r,t)=>r+(t?`?${t}`:""),Cp=(r,t)=>{if(r.startsWith("/"))return r;const[e,n]=r.split("?"),[s]=t.split("?"),a=li(e),o=li(s);if(a[0]==="")return So(s,n);if(!a[0].startsWith(".")){const h=o.concat(a).join("/");return So((s==="/"?"":"/")+h,n)}const l=o.concat(a),c=[];return l.forEach(h=>{h===".."?c.pop():h!=="."&&c.push(h)}),So("/"+c.join("/"),n)},Oo=(r,t)=>`${No(t==="/"?r:`${No(r)}/${No(t)}`)}/`,qp=r=>!r.defaultPrevented&&r.button===0&&!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey),el=()=>typeof window<"u"&&"document"in window&&"location"in window;var Rp=W("<a><!></a>");function Cs(r,t){const e=tl(t,["children","$$slots","$$events","$$legacy"]),n=tl(e,["to","replace","state","getProps","preserveScroll"]);Xt(t,!1);const s=le(),a=()=>F(w,"$base",s),o=()=>F(g,"$location",s),l=O();let c=tr(t,"to",8,"#"),h=tr(t,"replace",8,!1),v=tr(t,"state",24,()=>({})),m=tr(t,"getProps",8,()=>({})),p=tr(t,"preserveScroll",8,!1);const g=Ws(eo),{base:w}=Ws(ro),{navigate:b}=Ws(yd),E=Ep();let k=O(),$=O(),T=O(),q=O();const S=U=>{if(E("click",U),qp(U)){U.preventDefault();const z=o().pathname===i(k)||h();b(i(k),{state:v(),replace:z,preserveScroll:p()})}};Ft(()=>(Js(c()),a()),()=>{_(k,Cp(c(),a().uri))}),Ft(()=>(o(),i(k)),()=>{_($,o().pathname.startsWith(i(k)))}),Ft(()=>(i(k),o()),()=>{_(T,i(k)===o().pathname)}),Ft(()=>i(T),()=>{_(l,i(T)?"page":void 0)}),Ft(()=>(Js(m()),o(),i(k),i($),i(T),Js(n)),()=>{_(q,m()({location:o(),href:i(k),isPartiallyCurrent:i($),isCurrent:i(T),existingProps:n}))}),tn(),pe();var L=Rp();let M;var B=u(L);to(B,t,"default",{get active(){return!!i(l)}}),it(()=>M=lp(L,M,{href:i(k),"aria-current":i(l),...i(q),...n})),Z("click",L,S),I(r,L),Qt()}function je(r,t){const e=tl(t,["children","$$slots","$$events","$$legacy"]);Xt(t,!1);const n=le(),s=()=>F(m,"$activeRoute",n);let a=tr(t,"path",8,""),o=tr(t,"component",12,null),l=O({}),c=O({});const{registerRoute:h,unregisterRoute:v,activeRoute:m}=Ws(ro),p={path:a(),default:a()===""};h(p),_d(()=>{v(p)}),Ft(()=>(s(),Js(e),el),()=>{if(s()&&s().route===p){_(l,s().params);const{component:b,path:E,...k}=e;_(c,k),b&&(b.toString().startsWith("class ")?o(b):o(b())),el()&&!s().preserveScroll&&(window==null||window.scrollTo(0,0))}}),tn(),pe();var g=Vt(),w=wt(g);xt(w,()=>s()&&s().route===p,b=>{var E=Vt(),k=wt(E);xt(k,o,$=>{var T=Vt(),q=wt(T);ep(q,o,null,(S,L)=>{var M=Vt(),B=wt(M);op(B,()=>{var U;return((U=i(L))==null?void 0:U.default)||i(L)},(U,z)=>{z(U,wp(()=>i(l),()=>i(c)))}),I(S,M)}),I($,T)},$=>{var T=Vt(),q=wt(T);to(q,t,"default",{get params(){return i(l)}}),I($,T)}),I(b,E)}),I(r,g),Qt()}const ca=[];function Ip(r,t){return{subscribe:X(r,t).subscribe}}function X(r,t=dn){let e=null;const n=new Set;function s(l){if(Tl(r,l)&&(r=l,e)){const c=!ca.length;for(const h of n)h[1](),ca.push(h,r);if(c){for(let h=0;h<ca.length;h+=2)ca[h][0](ca[h+1]);ca.length=0}}}function a(l){s(l(r))}function o(l,c=dn){const h=[l,c];return n.add(h),n.size===1&&(e=t(s,a)||dn),l(r),()=>{n.delete(h),n.size===0&&e&&(e(),e=null)}}return{set:s,update:a,subscribe:o}}function jp(r,t,e){const n=!Array.isArray(r),s=n?[r]:r;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Ip(e,(o,l)=>{let c=!1;const h=[];let v=0,m=dn;const p=()=>{if(v)return;m();const w=t(n?h[0]:h,o,l);a?o(w):m=typeof w=="function"?w:dn},g=s.map((w,b)=>Il(w,E=>{h[b]=E,v&=~(1<<b),c&&p()},()=>{v|=1<<b}));return c=!0,p(),function(){Zi(g),m(),c=!1}})}function Dp(r){let t;return Il(r,e=>t=e)(),t}const Lo=r=>({...r.location,state:r.history.state,key:r.history.state&&r.history.state.key||"initial"}),Pp=r=>{const t=[];let e=Lo(r);return{get location(){return e},listen(n){t.push(n);const s=()=>{e=Lo(r),n({location:e,action:"POP"})};return r.addEventListener("popstate",s),()=>{r.removeEventListener("popstate",s);const a=t.indexOf(n);t.splice(a,1)}},navigate(n,{state:s,replace:a=!1,preserveScroll:o=!1,blurActiveElement:l=!0}={}){s={...s,key:Date.now()+""};try{a?r.history.replaceState(s,"",n):r.history.pushState(s,"",n)}catch{r.location[a?"replace":"assign"](n)}e=Lo(r),t.forEach(c=>c({location:e,action:"PUSH",preserveScroll:o})),l&&document.activeElement.blur()}}},Bp=(r="/")=>{let t=0;const e=[{pathname:r,search:""}],n=[];return{get location(){return e[t]},addEventListener(s,a){},removeEventListener(s,a){},history:{get entries(){return e},get index(){return t},get state(){return n[t]},pushState(s,a,o){const[l,c=""]=o.split("?");t++,e.push({pathname:l,search:c}),n.push(s)},replaceState(s,a,o){const[l,c=""]=o.split("?");e[t]={pathname:l,search:c},n[t]=s}}}},Ed=Pp(el()?window:Bp()),{navigate:Na}=Ed;var Mp=W("<div><!></div>");function Up(r,t){Xt(t,!1);const e=le(),n=()=>F($,"$base",e),s=()=>F(k,"$location",e),a=()=>F(w,"$routes",e),o=()=>F(b,"$activeRoute",e);let l=tr(t,"basepath",8,"/"),c=tr(t,"url",8,null),h=tr(t,"viewtransition",8,null),v=tr(t,"history",8,Ed);const m=(U,z,y)=>{const N=h()(y);return typeof(N==null?void 0:N.fn)=="function"?N.fn(U,N):N};ko(yd,v());const p=Ws(eo),g=Ws(ro),w=X([]),b=X(null);let E=!1;const k=p||X(c()?{pathname:c()}:v().location),$=g?g.routerBase:X({path:l(),uri:l()}),T=jp([$,b],([U,z])=>{if(!z)return U;const{path:y}=U,{route:N,uri:A}=z;return{path:N.default?y:N.path.replace(/\*.*$/,""),uri:A}}),q=U=>{const{path:z}=n();let{path:y}=U;if(U._path=y,U.path=Oo(z,y),typeof window>"u"){if(E)return;const N=Ac([U],s().pathname);N&&(b.set(N),E=!0)}else w.update(N=>[...N,U])},S=U=>{w.update(z=>z.filter(y=>y!==U))};let L=O(!1);p||(Ze(()=>v().listen(z=>{_(L,z.preserveScroll||!1),k.set(z.location)})),ko(eo,k)),ko(ro,{activeRoute:b,base:$,routerBase:T,registerRoute:q,unregisterRoute:S}),Ft(()=>(n(),Oo),()=>{const{path:U}=n();w.update(z=>z.map(y=>Object.assign(y,{path:Oo(U,y._path)})))}),Ft(()=>(a(),s(),i(L)),()=>{const U=Ac(a(),s().pathname);b.set(U&&{...U,preserveScroll:i(L)})}),tn(),pe();var M=Vt(),B=wt(M);xt(B,h,U=>{var z=Vt(),y=wt(z);rp(y,()=>s().pathname,N=>{var A=Mp(),C=u(A);to(C,t,"default",{get route(){return o()&&o().uri},get location(){return s()}}),_c(1,A,()=>m),_c(2,A,()=>m),I(N,A)}),I(U,z)},U=>{var z=Vt(),y=wt(z);to(y,t,"default",{get route(){return o()&&o().uri},get location(){return s()}}),I(U,z)}),I(r,M),Qt()}const he=X("babapk"),Zs=X("");function Fp(r){var n;const e=`; ${document.cookie}`.split(`; ${r}=`);if(e.length===2)return(n=e.pop())==null?void 0:n.split(";").shift()}async function jt(r,t,e=null){const n=Dp(Zs)||null,s=Fp("csrfToken")||null,a={"Content-Type":"application/json"};n&&(a.d2rpvpjwttoken=n),s&&(a["X-CSRF-Token"]=s);const o={method:t,headers:a,credentials:"include"};e&&(o.body=JSON.stringify(e));try{const l=await fetch(r,o),c=l.headers.get("d2rpvpjwttoken");return typeof c=="string"&&Zs.set(c),l}catch(l){throw console.error("Error during fetch:",l),l}}const Sa=X(""),Je=X(""),gs=X([]);async function Ua(r){try{const t="/nicknames/"+r,e=await jt(t,"GET");if(e.ok){const n=await e.json();r==="babapk"?gs.set(n):r==="mpk"?gs.set(n.map(s=>s.replace("_m",""))):r==="zpke"&&gs.set(n.map(s=>s.replace("_z","")))}else console.error("닉네임을 가져오는데 실패했습니다.")}catch(t){console.error("닉네임을 가져오는 중 오류가 발생했습니다:",t)}}function Ea(r){const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${r}`);const e={month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",e).format(t)}const $c=X(1),Tc=X("all"),rl=X("none"),Ge=X("none");var zp=W('<button class="emphasis-button inline-block">로그인</button> <!>',1),Hp=W('<button class="simple-button">나의정보</button>'),Kp=W('<div class="menu-container svelte-eqoifg"><div class="menu-logo svelte-eqoifg"><!></div> <div class="menu-items svelte-eqoifg"></div> <button class="hamburger svelte-eqoifg"><span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span></button></div> <div></div> <div class="floating-button"><!></div>',1);function Gp(r,t){Xt(t,!1);const e=le(),n=()=>F(l,"$location",e),s=()=>F(he,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=tr(t,"isOpen",12,!1);const l=wd();let c=O(""),h=O(),v=O("밀리PK"),m=O("/mpk"),p=O(),g=O();const w=()=>{o(!o())};function b(){_(g,[{label:"공지사항",href:"/info"},{label:"랭킹조회",href:"/rank"},{label:"대전기록",href:"/record"},{label:"대회기록",href:"/tournament"},...s()==="babapk"?[{label:"클랜목록",href:"/clan"}]:[],{label:"커뮤니티",href:"/boardlist"},...s()==="zpke"?[]:[{label:"역대우승",href:"/winners"}],{label:"계산하기",href:"/calculator"},...a()==="admin"||a()==="admin_m"||a()==="admin_z"?[{label:"관리설정",href:"/admin"}]:[]]),s()==="mpk"?document.body.style.backgroundColor="#2a1e2e":s()==="zpke"?document.body.style.backgroundColor="#102a2d":document.body.style.backgroundColor="#0d0d0d"}async function E(){try{const C=await(await jt("/auth/check-jwt","POST")).json();C.authenticated?(Je.set(C.username),Zs.set(C.token),he.set(C.mode),Na("/"+s()),_(p,"/"+s()),b()):(Je.set(""),Zs.set(""))}catch{alert("서버 연결에 실패하였습니다")}}Ze(async()=>{await E()}),Ft(()=>n(),()=>{_(c,n().pathname)}),Ft(()=>(i(c),s()),()=>{i(c).includes("mpk")?(he.set("mpk"),_(h,"밀리PK"),_(p,"/"+s()),_(m,"/zpke"),_(v,"질딘PK"),b()):i(c).includes("zpke")?(he.set("zpke"),_(h,"질딘PK"),_(m,"/"),_(p,"/"+s()),_(v,"정통바바"),b()):(he.set("babapk"),_(h,"정통바바"),_(p,"/"+s()),_(m,"/mpk"),_(v,"밀리PK"),b())}),tn(),pe();var k=Kp(),$=wt(k),T=u($),q=u(T);Cs(q,{class:"menu-logo-link",get to(){return i(p)},children:(A,C)=>{var D=hn("D2RPvP");I(A,D)},$$slots:{default:!0}});var S=f(T,2);Yt(S,5,()=>i(g),ae,(A,C)=>{var D=kr(()=>i(p)+i(C).href);Cs(A,{class:"link",get to(){return i(D)},$$events:{click:()=>o(!1)},children:(P,H)=>{var K=hn();it(()=>Q(K,i(C).label)),I(P,K)},$$slots:{default:!0}})});var L=f(S,2),M=u(L),B=f(M,2),U=f(B,2),z=f($,2);Yt(z,5,()=>i(g),ae,(A,C)=>{var D=kr(()=>i(p)+i(C).href);Cs(A,{class:"link",get to(){return i(D)},$$events:{click:()=>o(!1)},children:(P,H)=>{var K=hn();it(()=>Q(K,i(C).label)),I(P,K)},$$slots:{default:!0}})});var y=f(z,2),N=u(y);xt(N,()=>a()==="",A=>{var C=zp(),D=wt(C),P=f(D,2);Cs(P,{class:"simple-button",get to(){return i(m)},children:(H,K)=>{var V=hn();it(()=>Q(V,i(v))),I(H,V)},$$slots:{default:!0}}),Z("click",D,()=>Ge.set("login")),I(A,C)},A=>{var C=Hp();Z("click",C,()=>Ge.set("myinfo")),I(A,C)}),it(()=>{To(M,"transform",o()?"rotate(45deg)":""),To(B,"opacity",o()?"0":"1"),To(U,"transform",o()?"rotate(-45deg)":""),Ke(z,`${`mobile-menu ${o()?"open":""}`??""} svelte-eqoifg`)}),Z("click",L,w),I(r,k),Qt()}var Vp=W('<a class="svelte-1vl6564"> </a>'),Wp=W('<a target="_blank" rel="noopener noreferrer" class="svelte-1vl6564"><img class="social-icon svelte-1vl6564"></a>'),Jp=W('<footer class="svelte-1vl6564"><div class="footer-links svelte-1vl6564"></div> <div class="social-links svelte-1vl6564"></div> <div class="copyright svelte-1vl6564"> </div></footer>');function Zp(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O([]);const a=[{label:"문의하기",href:"https://open.kakao.com/me/balli"},{label:"개인정보 보호정책",href:"/privacy.html"},{label:"이용 약관",href:"/terms.html"}];Ft(()=>n(),()=>{n()==="mpk"?_(s,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/4tuTA5Uf",alt:"mpk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/gPUHe6kf",alt:"mpk Kakaotalk"}]):n()==="babapk"?_(s,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/AqvAJJKCag",alt:"babapk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/giHO7Mzg",alt:"babapk Kakaotalk"}]):n()==="zpke"&&_(s,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/4tuTA5Uf",alt:"zpke Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/g3ltefWg",alt:"zpke Kakaotalk"}])}),tn(),pe();var o=Jp(),l=u(o);Yt(l,5,()=>a,ae,(m,p)=>{var g=Vp(),w=u(g);it(()=>{_a(g,"href",i(p).href),Q(w,i(p).label)}),I(m,g)});var c=f(l,2);Yt(c,5,()=>i(s),ae,(m,p)=>{var g=Wp(),w=u(g);it(()=>{_a(g,"href",i(p).href),_a(w,"src",i(p).icon),_a(w,"alt",i(p).alt)}),I(m,g)});var h=f(c,2),v=u(h);it(()=>Q(v,`© ${new Date().getFullYear()??""} D2RPvP. All rights reserved.`)),I(r,o),Qt()}var Yp=W("<div><h1> </h1></div>");function Xp(r,t){Xt(t,!1);const e=le(),n=()=>F(a,"$location",e),s=()=>F(he,"$mode",e),a=wd();let o=O(""),l=O(""),c=O("");Ft(()=>n(),()=>{_(o,n().pathname)}),Ft(()=>i(o),()=>{i(o).includes("rank")?_(c,"랭킹조회"):i(o).includes("info")?_(c,"공지사항"):i(o).includes("record")?_(c,"대전기록"):i(o).includes("tournament")?_(c,"대회기록"):i(o).includes("boardlist")?_(c,"커뮤니티"):i(o).includes("winners")?_(c,"역대우승"):i(o).includes("calculator")?_(c,"계산하기"):i(o).includes("admin")?_(c,"관리설정"):_(c,"")}),Ft(()=>s(),()=>{s()==="mpk"?_(l,"밀리PK"):s()==="babapk"?_(l,"정통바바"):s()==="zpke"&&_(l,"질딘PK")}),Ft(()=>(i(l),i(c)),()=>{document.title="D2RPvP "+i(l)+" "+i(c)}),tn(),pe();var h=Yp();const v=kr(()=>`header-container ${(i(o).includes("post")||i(o).includes("write")?"hidden":"")??""} svelte-1yjukfn`);var m=u(h),p=u(m);it(()=>{Ke(h,i(v)),Q(p,`${i(l)??""} ${i(c)??""}`)}),I(r,h),Qt()}var Qp=W('<tr class="svelte-1vck7sz"><td class="svelte-1vck7sz"><a> </a></td></tr>'),tv=W('<div class="info-container"><table><thead><tr class="svelte-1vck7sz"><th class="svelte-1vck7sz">공지사항 들어가기(구글 문서 링크)</th></tr></thead><tbody></tbody></table></div>');function ev(r){const t=le(),e=()=>F(he,"$mode",t);let n=O([]);e()==="mpk"?_(n,[{href:"https://docs.google.com/spreadsheets/d/18jJ3WYsWZEdV8oXeJYt1-aMrACN1IHsFnCV3-gir5pk/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12jpQH4QP7QyPRhLPuXJSuU3lJdA_3SzCE5dBYl2jYZg/",title:"듀얼 규칙 안내"},{href:"https://docs.google.com/document/d/1Wj31FLkeFLZp-N2Bohkj_ZKoUrJU5LXkUABH7x9zxC8/",title:"대회 및 랭킹 시스템 안내"}]):e()==="babapk"?_(n,[{href:"https://docs.google.com/spreadsheets/d/19a-_44yVj04BnlUK6QQY9U3jXtlDAgOmdHCgdis1toI/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12EBBA8c9K-KzaE-cC6QvRb8vOB07V9Mi90D44-dzOPw/",title:"인게임 방 안내"},{href:"https://docs.google.com/document/d/1b-vnUyLaDrSnSMouTOoFAYz5K3lq8hS-kzjh_R-JuD8/",title:"월별 랭킹 시스템 안내(with 클랜전)"},{href:"https://docs.google.com/document/d/1RBDp8SzVp-epjIdekWOWPYt0f6XBpreVbQnPD1qv3-o/",title:"미니대회 운영 안내"},{href:"https://docs.google.com/document/d/1m50GKaWyszyBSslQn3348Fz1CAp55DFbKNwNyj5dLnw/",title:"내부 랭킹전 안내"}]):_(n,[{href:"",title:"질딘PK 공지사항"}]);var s=tv(),a=u(s),o=f(u(a));Yt(o,5,()=>i(n),ae,(c,h)=>{var v=Qp(),m=u(v),p=u(m),g=u(p);it(()=>{_a(p,"href",i(h).href),Q(g,i(h).title)}),I(c,v)}),I(r,s)}var rv=W('<td class="empty svelte-5k5sfe"></td>'),nv=W('<input class="calendar-input svelte-5k5sfe" type="text"> <button class="emphasis-button small svelte-5k5sfe">저장</button>',1),sv=W('<div class="inside-tooltip pointer svelte-5k5sfe"> </div> <div class="tooltiptext svelte-5k5sfe"> </div>',1),av=W('<td class="day-cell svelte-5k5sfe" role="button" tabindex="0"><div> </div> <!></td>'),iv=W('<tr class="svelte-5k5sfe"></tr>'),ov=W('<div class="calendar-container"><table class="calendar-table svelte-5k5sfe"><thead><tr class="svelte-5k5sfe"><th class="day-header svelte-5k5sfe">일</th><th class="day-header svelte-5k5sfe">월</th><th class="day-header svelte-5k5sfe">화</th><th class="day-header svelte-5k5sfe">수</th><th class="day-header svelte-5k5sfe">목</th><th class="day-header svelte-5k5sfe">금</th><th class="day-header svelte-5k5sfe">토</th></tr></thead><tbody></tbody></table></div>');function lv(r,t){Xt(t,!1);const e=le(),n=()=>F(Je,"$myaccount",e),s=()=>F(he,"$mode",e),a=O(),o=O(),l=O();let c=tr(t,"year",8),h=tr(t,"month",8),v=tr(t,"date",8),m=tr(t,"events",12),p=tr(t,"eventname",8),g=tr(t,"getCalendartext",8),w=O(null),b=O("");function E(U,z){const y=new Date(U,z,1),N=new Date(U,z+1,0),A=[];let C=new Date(y);for(;C<=N;)A.push(new Date(C)),C.setDate(C.getDate()+1);const D=y.getDay();return{daysInMonth:A,startDayOfWeek:D}}const k=(U,z)=>{(n()==="admin"||n()==="admin_m"||n()==="admin_z")&&(_(w,U.toDateString()),_(b,z||""))},$=async U=>{const z=U.toDateString(),y={year:U.getFullYear(),month:U.getMonth()+1,day:U.getDate(),event:i(b),mode:s()};try{const A=await jt("/calendar/event","POST",y);if(A.ok){alert("이벤트 기록을 저장하였습니다"),m({...m(),[z]:i(b)}),_(w,null),_(b,"");const C=c(),D=h();await g()(C,D)}else alert(`오류 발생: ${A.status}`)}catch(N){console.error("Error:",N)}};function T(U,z){const y=[];let N=[],A=0;for(let C=0;C<z;C++)N.push("empty"),A++;if(U.forEach(C=>{A===7&&(y.push(N),N=[],A=0);const D=C.getDate()===v()&&C.getMonth()===h()&&C.getFullYear()===c(),P=C.getDate();N.push({day:C,isToday:D,dayKey:P}),A++}),N.length>0){for(;N.length<7;)N.push("empty");y.push(N)}return y}let q=O(null);function S(U){i(q)===`${U}`?_(q,null):_(q,`${U}`)}Ft(()=>(i(a),i(o),Js(c()),Js(h())),()=>{(U=>(_(a,U.daysInMonth),_(o,U.startDayOfWeek)))(E(c(),h()))}),Ft(()=>(i(a),i(o)),()=>{_(l,T(i(a),i(o)))}),tn(),pe();var L=ov(),M=u(L),B=f(u(M));Yt(B,5,()=>i(l),ae,(U,z)=>{var y=iv();Yt(y,5,()=>i(z),ae,(N,A)=>{var C=Vt(),D=wt(C);xt(D,()=>i(A)==="empty",P=>{var H=rv();I(P,H)},P=>{var H=av(),K=u(H),V=u(K);it(()=>Q(V,i(A).day.getDate()));var G=f(K,2);xt(G,()=>i(w)===i(A).day.toDateString(),tt=>{var st=nv(),at=wt(st),lt=f(at,2);j(at,()=>i(b),J=>_(b,J)),Z("keydown",at,J=>{J.key==="Enter"&&$(i(A).day)}),Z("click",lt,()=>$(i(A).day)),I(tt,st)},tt=>{var st=sv(),at=wt(st),lt=u(at),J=f(at,2),ct=u(J);it(()=>{Q(lt,p()[i(A).dayKey]||""),up(J,"visible",i(q)===`${i(A).dayKey}`),Q(ct,p()[i(A).dayKey]||"이벤트 없음")}),Z("click",at,()=>S(i(A).dayKey)),I(tt,st)}),it(()=>Ke(K,`day-number ${(n()==="admin"||n()==="admin_m"||n()==="admin_z"?"pointer":"")??""} svelte-5k5sfe`)),Z("click",K,()=>k(i(A).day,p()[i(A).dayKey])),I(P,H)}),I(N,C)}),I(U,y)}),I(r,L),Qt()}var cv=W('<div class="calendar-header svelte-fc2pud"><button class="simple-button">지난달</button> <div class="calendar-header-text svelte-fc2pud"> </div> <button class="simple-button">다음달</button></div> <!>',1);function qi(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O({});const a=new Date,o=a.getFullYear(),l=a.getMonth(),c=a.getDate();let h=O(o),v=O(l),m=O(c),p={};const g=()=>{let M=i(v)+1,B=i(h);M===12&&(M=0,B+=1),_(v,M),_(h,B),_(m,null),B===a.getFullYear()&&M===a.getMonth()&&_(m,a.getDate()),b(B,M)},w=()=>{let M=i(v)-1,B=i(h);M===-1&&(M=11,B-=1),_(v,M),_(h,B),_(m,null),B===a.getFullYear()&&M===a.getMonth()&&_(m,a.getDate()),b(B,M)};async function b(M,B){try{const U=`/calendar/event?year=${M}&month=${B+1}&mode=${n()}`,z=await jt(U,"GET");if(!z.ok)throw new Error("Network response was not ok");const y=await z.json(),N={};y.forEach(A=>{N[A.date]=A.text}),_(s,N)}catch(U){alert("달력 DB 에러"),console.error("Error:",U)}}Ze(()=>{b(a.getFullYear(),a.getMonth())}),pe();var E=cv(),k=wt(E),$=u(k),T=f($,2),q=u(T),S=f(T,2),L=f(k,2);lv(L,{get year(){return i(h)},get month(){return i(v)},get date(){return i(m)},events:p,get eventname(){return i(s)},getCalendartext:b}),it(()=>Q(q,`${i(h)??""}년 ${i(v)+1}월`)),Z("click",$,w),Z("click",S,g),I(r,E),Qt()}var uv=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">로그인</button></div> <button class="message-button">계정찾기</button> <button class="message-button">회원가입</button>',1);function dv(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O(""),a=O("");async function o(){let E={nickname:i(s),password:i(a)};try{const k="/auth/"+n()+"/login",$=await jt(k,"POST",E);if($.status===200){const T=await $.json(),q=T.accessToken;q&&Zs.set(q),Je.set(T.username),Ge.set("none")}else alert("로그인 실패")}catch(k){alert(k)}}pe();var l=uv(),c=wt(l),h=u(c),v=f(c,2),m=u(v),p=f(m,2),g=f(p,2),w=f(v,2),b=f(w,2);it(()=>Q(h,`${n()??""} 로그인하기`)),j(m,()=>i(s),E=>_(s,E)),j(p,()=>i(a),E=>_(a,E)),Z("click",g,()=>o()),Z("click",w,()=>Ge.set("findaccount")),Z("click",b,()=>Ge.set("register")),I(r,l),Qt()}var fv=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input type="text" placeholder="이메일 입력"> <button class="emphasis-button block">계정찾기</button></div>',1);function hv(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O(!0),a=O(""),o=O("");const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function c(){_(s,l.test(i(o)))}async function h(){const k={findpw_nickname:i(a),findpw_email:i(o)};try{const $="/reset-pw/"+n();(await jt($,"POST",k)).ok?(alert("이메일을 확인하세요"),Ge.set("none")):alert("에러 발생")}catch($){alert($)}}pe();var v=fv(),m=wt(v),p=u(m),g=f(m,2),w=u(g),b=f(w,2),E=f(b,2);it(()=>{Q(p,`${n()??""} 계정찾기`),Ke(b,`input-text ${(i(s)?"":"invalid")??""}`)}),j(w,()=>i(a),k=>_(a,k)),j(b,()=>i(o),k=>_(o,k)),Z("input",b,c),Z("click",E,h),I(r,v),Qt()}var pv=W(`<strong>웹사이트 이용 약관</strong> <p>D2R PvP는 Diablo 2: Resurrected에서 PvP(플레이어 대 플레이어) 매치에
  참여하는 사용자들을 위한 랭킹 시스템을 제공하는 웹사이트입니다.</p> <p>사이트에서 자신의 랭킹을 확인하려면 서버에 계정을 등록하고 매치 결과를
  기록해야 합니다.</p> <p>등록 과정에서 제공된 정보는 사이트 운영을 위해서만 사용되며, 다른
  목적으로는 사용되지 않습니다.</p>`,1);function vv(r){var t=pv();I(r,t)}var mv=W(`<strong>개인정보 처리방침</strong> <p>이 페이지는 서비스를 사용하기로 결정한 경우, 개인 정보의 수집, 사용 및
  공개에 관한 제 정책을 방문자에게 알리기 위해 사용됩니다.</p> <p>서비스를 사용하기로 선택하면, 이 정책과 관련하여 정보 수집 및 사용에
  동의하는 것입니다. 수집된 개인 정보는 서비스 제공 및 개선을 위해
  사용됩니다. 이 개인정보 처리방침에 설명된 경우를 제외하고는 귀하의 정보를
  사용하거나 제3자와 공유하지 않습니다.</p> <p>이 개인정보 처리방침에서 사용되는 용어는 D2R PvP에서 접근할 수 있는 이용
  약관과 동일한 의미를 가지며, 본 개인정보 처리방침에서 달리 정의되지 않는
  한 이용 약관과 동일한 의미를 가집니다.</p> <p><strong>정보 수집 및 사용</strong></p> <p>더 나은 경험을 제공하기 위해, 서비스 사용 중 특정 개인 식별 정보를
  제공해야 할 수 있습니다. 이 정보에는 닉네임, 비밀번호, 이메일, 플레이
  데이터 등이 포함될 수 있습니다. 요청된 정보는 귀하의 장치에 보관되며,
  당사에 의해 수집되지 않습니다.</p> <div><p>이 사이트는 개인 정보를 제3자 서비스 제공자에게 제공하지 않습니다.</p> <p><strong>로그 데이터</strong></p> <p>서비스 사용 시, 오류가 발생할 경우 귀하의 전화에서 로그 데이터라는
    정보를 (제3자 제품을 통해) 수집함을 알려드립니다. 이 로그 데이터에는
    장치의 인터넷 프로토콜(IP) 주소, 장치 이름, 운영 체제 버전, 서비스 사용
    시의 사이트 구성, 사용 날짜 및 시간, 기타 통계 정보가 포함될 수
    있습니다.</p> <p><strong>쿠키</strong></p> <p>쿠키는 일반적으로 익명의 고유 식별자로 사용되는 소량의 데이터가 포함된
    파일입니다. 이러한 파일은 귀하가 방문하는 웹사이트에서 브라우저로
    전송되어 귀하의 장치 내부 메모리에 저장됩니다.</p> <p>이 서비스는 이러한 "쿠키"를 명시적으로 사용하지 않습니다. 그러나
    사이트는 정보 수집 및 서비스 개선을 위해 "쿠키"를 사용하는 제3자 코드 및
    라이브러리를 사용할 수 있습니다. 쿠키 수신 시 이를 허용하거나 거부할 수
    있는 옵션이 있으며, 쿠키가 귀하의 장치로 전송될 때 알림을 받도록 설정할
    수 있습니다. 쿠키를 거부하기로 선택하면 이 서비스의 일부를 사용하지 못할
    수도 있습니다.</p> <p><strong>서비스 제공자</strong></p> <p>당사는 다음과 같은 이유로 제3자 회사 및 개인을 고용할 수 있습니다:</p> <ul><li>당사 서비스를 용이하게 하기 위해;</li> <li>당사를 대신하여 서비스를 제공하기 위해;</li> <li>서비스 관련 서비스를 수행하기 위해; 또는</li> <li>당사 서비스 사용 방식을 분석하는 데 도움을 주기 위해.</li></ul> <p>이 서비스의 사용자에게 제3자가 귀하의 개인 정보에 접근할 수 있음을
    알리고자 합니다. 이는 당사를 대신하여 할당된 작업을 수행하기 위한
    것입니다. 그러나 그들은 정보를 다른 목적으로 사용하거나 공개하지 않을
    의무가 있습니다.</p> <p><strong>보안</strong></p> <p>귀하의 개인 정보를 제공받는 것을 신뢰하며, 이를 보호하기 위해 상업적으로
    합리적인 수단을 사용하고 있습니다. 그러나 인터넷을 통한 전송 방법 또는
    전자 저장 방법은 100% 안전하고 신뢰할 수 없으며, 절대적인 보안을 보장할
    수는 없습니다.</p> <p><strong>다른 사이트로의 링크</strong></p> <p>이 서비스에는 다른 사이트로의 링크가 포함될 수 있습니다. 제3자 링크를
    클릭하면 해당 사이트로 이동됩니다. 이러한 외부 사이트는 당사에서
    운영하지 않음을 유의하시기 바랍니다. 따라서 이러한 웹사이트의 개인정보
    처리방침을 검토할 것을 강력히 권장합니다. 당사는 제3자 사이트나 서비스의
    콘텐츠, 개인정보 처리방침 또는 관행에 대해 책임을 지지 않습니다.</p> <p><strong>어린이 개인정보</strong></p> <div><p>이 서비스는 13세 미만의 어린이를 대상으로 하지 않습니다. 당사는 13세
      미만의 어린이로부터 개인 식별 정보를 고의로 수집하지 않습니다. 만약
      13세 미만의 어린이가 개인 정보를 제공한 것으로 발견될 경우, 이를 즉시
      서버에서 삭제합니다. 부모나 보호자이시고, 자녀가 개인 정보를 제공한
      사실을 알게 된 경우, 저에게 연락해 주시면 필요한 조치를 취하겠습니다.</p></div> <p><strong>개인정보 처리방침의 변경</strong></p> <p>당사는 개인정보 처리방침을 수시로 업데이트할 수 있습니다. 따라서 이
    페이지를 주기적으로 검토하여 변경 사항을 확인할 것을 권장합니다.
    개인정보 처리방침의 변경 사항은 이 페이지에 게시하여 알릴 것입니다.</p> <p>이 정책은 2024-01-17부터 유효합니다.</p> <p><strong>문의하기</strong></p> <p>개인정보 처리방침에 대해 질문이나 제안사항이 있는 경우,
    kor8240@gmail.com으로 주저하지 말고 연락해 주시기 바랍니다.</p> <p>이 개인정보 처리방침 페이지는 <a href="https://privacypolicytemplate.net" target="_blank" rel="noopener noreferrer">privacypolicytemplate.net</a>에서 작성되었으며, <a href="https://app-privacy-policy-generator.nisrulz.com/" target="_blank" rel="noopener noreferrer">사이트 개인정보 처리방침 생성기</a>에서 수정/생성되었습니다.</p></div>`,1);function gv(r){var t=mv();I(r,t)}var bv=W('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),_v=W('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),yv=W('<button class="simple-button">이용약관</button> <button class="simple-button">개인정보 정책</button> <input class="input-text" type="text" placeholder="닉네임"> <button class="emphasis-button">닉네임 확인</button>',1),wv=W('<div class="nickname-input svelte-18sr952"> </div> <input type="text" placeholder="이메일 입력"> <input class="input-text" type="password" placeholder="비밀번호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">회원가입</button>',1),xv=W('<h3 class="message-title"> </h3> <div class="message-body"><!></div>',1);function Ev(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O(!0),a=O(""),o=O("");const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let c=O(""),h=O(""),v=O(""),m=O(!1);function p(){_(s,l.test(i(o)))}function g(S){return!S||S.trim()===""?{isValid:!1,message:"닉네임을 입력해주세요."}:/^[a-zA-Z가-힣]{3,20}$/.test(S)?{isValid:!0,message:"닉네임이 유효합니다."}:{isValid:!1,message:"닉네임은 3~20자의 알파벳, 한글만 허용됩니다."}}async function w(){const S=g(i(c));if(!S.isValid){alert(S.message);return}if(i(m))alert("닉네임을 이미 확인하였습니다");else{const L=`/auth/${n()}/check-nickname`,M={nickname:i(c)};try{const B=await jt(L,"POST",M);B.status===200?(alert("해당 닉네임은 사용 가능합니다"),_(m,!0)):B.status===403&&alert("해당 닉네임은 사용이 불가능합니다")}catch(B){console.error("Error occurred while checking nickname:",B),alert(B)}}}async function b(){const S={nickname:i(c),password:i(h),email:i(o)};try{const L=`/auth/${n()}/register`,M=await jt(L,"POST",S);if(!M.ok)throw new Error("회원가입에 실패했습니다.");M.status===201&&(alert("회원가입이 성공적으로 완료되었습니다."),Ge.set("none"))}catch(L){alert(L)}}pe();var E=xv(),k=wt(E),$=u(k),T=f(k,2),q=u(T);xt(q,()=>i(a)==="terms",S=>{var L=bv(),M=wt(L),B=u(M);vv(B);var U=f(M,2);Z("click",U,()=>_(a,"")),I(S,L)},S=>{var L=Vt(),M=wt(L);xt(M,()=>i(a)==="privacy",B=>{var U=_v(),z=wt(U),y=u(z);gv(y);var N=f(z,2);Z("click",N,()=>_(a,"")),I(B,U)},B=>{var U=Vt(),z=wt(U);xt(z,()=>!i(m),y=>{var N=yv(),A=wt(N),C=f(A,2),D=f(C,2),P=f(D,2);Z("click",A,()=>_(a,"terms")),Z("click",C,()=>_(a,"privacy")),j(D,()=>i(c),H=>_(c,H)),Z("click",P,w),I(y,N)},y=>{var N=wv(),A=wt(N),C=u(A),D=f(A,2),P=f(D,2),H=f(P,2),K=f(H,3);it(()=>{Q(C,`닉네임 :${i(c)??""}`),Ke(D,`input-text ${(i(s)?"":"invalid")??""}`)}),j(D,()=>i(o),V=>_(o,V)),Z("input",D,p),j(P,()=>i(h),V=>_(h,V)),j(H,()=>i(v),V=>_(v,V)),Z("click",K,b),I(y,N)}),I(B,U)},!0),I(S,L)}),it(()=>Q($,`${n()??""} 가입하기`)),I(r,E),Qt()}var kv=W('<tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 신청</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>도전 취소</button></td></tr> <tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 날짜</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>자동 승리</button></td></tr>',1),Av=W('<h3 class="message-title">내 정보 확인</h3> <div class="message-body"><table class="info-table svelte-cga3fb"><tbody><tr class="svelte-cga3fb"><td class="svelte-cga3fb">계정</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">로그아웃</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">메일</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">암호</td><td class="svelte-cga3fb">********</td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><!><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대전점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대회점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">승/패</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">탈퇴</td><td class="svelte-cga3fb"></td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">탈퇴</button></td></tr></tbody></table></div>',1);function $v(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(Je,"$myaccount",e);let a=O("Loading"),o=O("Loading"),l=O("Loading"),c=O("Loading"),h=O("Loading"),v=O(""),m=O("");async function p(){const et=`/userdata/${n()}/info`;try{const ot=await jt(et,"POST");if(ot.ok){const ut=await ot.json();n()!="babapk"&&(_(v,ut.challenge),_(m,ut.challengeDate)),_(a,ut.email),_(o,ut.bscore),_(l,ut.lscore),_(c,ut.countwin),_(h,ut.countlose)}}catch(ot){console.error("정보를 불러오는 중 오류가 발생하였습니다:",ot),alert("정보를 불러오는 중 오류가 발생하였습니다")}}async function g(){const et={mode:n(),challenge:i(v)};try{(await jt("/userdata/challenge/cancel","DELETE",et)).status===200&&alert("도전 중인 게임 정보를 삭제하였습니다")}catch(ot){console.error("요청에 실패하였습니다",ot),alert("요청에 실패하였습니다")}}async function w(){const et={mode:n(),challenge:i(v)};try{const ot=await jt("/record/challenge/check","POST",et),ut=await ot.json();ot.status===201?alert("도전 기간에 상대가 응답하지 않아 자동 승리로 입력되었습니다"):ot.status===400?alert(ut.message||"도전 중이 아니거나 응답 기간이 끝나지 않았습니다"):alert("알 수 없는 상태 코드: "+ot.status)}catch(ot){console.error("요청에 실패하였습니다:",ot),alert("요청 처리 중 오류가 발생했습니다. 네트워크 상태를 확인해주세요.")}}Ze(()=>{p()});async function b(){try{await jt("/auth/logout","POST"),alert("로그아웃하였습니다"),Na(n()==="babapk"?"/":"/"+n()),Ge.set("none"),Je.set(""),Zs.set("")}catch(et){alert(et)}}pe();var E=Av(),k=f(wt(E),2),$=u(k),T=u($),q=u(T),S=f(u(q)),L=u(S);it(()=>Q(L,s().replace("_m","").replace("_z","")));var M=f(S),B=u(M),U=f(q),z=f(u(U)),y=u(z),N=f(z),A=u(N),C=f(U),D=f(u(C),2),P=u(D),H=f(C);xt(H,()=>n()!="babapk",et=>{var ot=kv(),ut=wt(ot),ht=f(u(ut)),Et=u(ht);it(()=>Q(Et,i(v)?i(v).replace("_m",""):""));var $t=f(ht),Nt=u($t),It=f(ut,2),Bt=f(u(It)),se=u(Bt),Ut=f(Bt),te=u(Ut);it(()=>{Ke(Nt,`simple-button ${(i(v)===""?"hidden":null)??""} svelte-cga3fb`),Q(se,i(m)||""),Ke(te,`simple-button ${(i(v)===""?"hidden":null)??""} svelte-cga3fb`)}),Z("click",Nt,()=>g()),Z("click",te,()=>w()),I(et,ot)});var K=f(H),V=f(u(K)),G=u(V),tt=f(K),st=f(u(tt)),at=u(st),lt=f(tt),J=f(u(lt)),ct=u(J),gt=f(lt),ft=f(u(gt),2),vt=u(ft);it(()=>{Q(y,i(a)),Q(G,i(o)),Q(at,i(l)),Q(ct,`${i(c)??""}/${i(h)??""}`)}),Z("click",B,()=>b()),Z("click",A,()=>Ge.set("changeemail")),Z("click",P,()=>Ge.set("changepw")),Z("click",vt,()=>Ge.set("deleteaccount")),I(r,E),Qt()}var Tv=W('<h3 class="message-title">이메일 변경</h3> <div class="message-body"><input class="input-text" type="text" placeholder="새 이메일"> <input class="input-text" type="password" placeholder="비밀번호"> <br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function Nv(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O(""),a=O("");async function o(){const g={nowpw:i(s),newemail:i(a)};try{const w=`/userdata/${n()}/change-email`,b=await jt(w,"POST",g);typeof(await b.json()).message=="string"?(alert("이메일 변경 완료"),Ge.set("none")):alert(`오류 발생: ${b.status}`)}catch(w){console.error("오류 발생:",w),alert("오류 발생: "+w)}}pe();var l=Tv(),c=f(wt(l),2),h=u(c),v=f(h,2),m=f(v,4),p=f(c,2);j(h,()=>i(a),g=>_(a,g)),j(v,()=>i(s),g=>_(s,g)),Z("click",m,()=>o()),Z("click",p,()=>Ge.set("myinfo")),I(r,l),Qt()}var Sv=W('<h3 class="message-title">암호 변경</h3> <div class="message-body"><input class="input-text" type="password" placeholder="현재암호"> <input class="input-text" type="password" placeholder="새 암호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function Ov(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O(""),a=O(""),o=O("");async function l(){if(i(a)!==i(o)){alert("암호 확인이 일치하지 않습니다. 다시 확인해주세요.");return}const b={nowpw:i(s),newpw:i(a)};try{const E=`/userdata/${n()}/change-pw`,k=await jt(E,"POST",b);typeof(await k.json()).message=="string"?(alert("암호 변경 완료"),Ge.set("none")):alert(`오류 발생: ${k.status}`)}catch(E){console.error("오류 발생:",E),alert("오류 발생: "+E)}}pe();var c=Sv(),h=f(wt(c),2),v=u(h),m=f(v,2),p=f(m,2),g=f(p,3),w=f(h,2);j(v,()=>i(s),b=>_(s,b)),j(m,()=>i(a),b=>_(a,b)),j(p,()=>i(o),b=>_(o,b)),Z("click",g,()=>l()),Z("click",w,()=>Ge.set("myinfo")),I(r,c),Qt()}var Lv=W('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">계정삭제</button></div>',1);function Cv(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O("");async function a(){const m={nowpw:i(s)};try{const p=`/auth/${n()}/delete`,g=await jt(p,"DELETE",m);g.status===200?(alert("계정 삭제 완료"),Ge.set("none"),Je.set(""),Zs.set("")):alert(`오류 발생: ${g.status}`)}catch(p){console.error("오류 발생:",p),alert("오류 발생: "+p)}}pe();var o=Lv(),l=wt(o);l.textContent=`${(he?"밀리PK":"정통바바")??""} 계정 삭제`;var c=f(l,2),h=u(c),v=f(h,2);j(h,()=>i(s),m=>_(s,m)),Z("click",v,()=>a()),I(r,o),Qt()}var qv=W("<option> </option>"),Rv=W('<h3 class="message-title"> </h3> <div class="message-body"><input list="nicknames_list" class="input-text" placeholder="승자를 선택하세요"> <datalist id="nicknames_list"></datalist> <button class="emphasis-button block">보내기</button></div>',1);function Iv(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(gs,"$nicknames",e),a=()=>F(Je,"$myaccount",e);let o=O([]),l=O();Ze(()=>{Ua(n()),_(o,n()==="babapk"?s().filter($=>$!==a()):s().filter($=>$!==a().replace("_m","").replace("_z","")))});function c($,T){return T.includes($)?$:null}function h($){const q=$.target.value;typeof q=="string"&&_(l,c(q,i(o)))}async function v(){let $;n()==="babapk"?$={winner:i(l),mode:n()}:n()==="mpk"?$={winner:i(l)+"_m",mode:n()}:$={winner:i(l)+"_z",mode:n()};try{const T=await jt("/record/submit","POST",$);T.ok?alert("기록 전송 완료"):alert(`오류 발생: ${T.status}`)}catch(T){console.error("오류 발생:",T),alert("오류 발생: "+T)}}pe();var m=Rv(),p=wt(m),g=u(p),w=f(p,2),b=u(w),E=f(b,2);Yt(E,5,()=>i(o),ae,($,T)=>{var q=qv(),S={},L=u(q);it(()=>{S!==(S=i(T))&&(q.value=(q.__value=i(T))==null?"":i(T)),Q(L,i(T))}),I($,q)});var k=f(E,2);it(()=>Q(g,`${n()??""} 기록 보내기`)),j(b,()=>i(l),$=>_(l,$)),Z("blur",b,h),Z("click",k,v),I(r,m),Qt()}var jv=W('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">로딩 중...</td></tr>'),Dv=W('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">기록이 없습니다</td></tr>'),Pv=W('<tr class="svelte-y61ocg"><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"><button class="simple-button svelte-y61ocg">승인</button> <button class="simple-button svelte-y61ocg">삭제</button></td></tr>'),Bv=W('<h3 class="message-title"> </h3> <div class="message-body"><table class="temp-table svelte-y61ocg"><thead><tr><th class="record-table-date">날짜</th><th class="record-table-loser">패자</th><th class="record-table-score">점수</th><th class="record-table-ok">승인</th></tr></thead><tbody><!></tbody></table></div>',1);function Mv(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O(),a=O(!0);async function o(){const b="/record/pending",E={mode:n()};try{const k=await jt(b,"POST",E);if(!k.ok)throw new Error(`오류 발생: ${k.status}`);_(s,await k.json())}catch(k){console.error("데이터 불러오기 오류:",k),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{_(a,!1)}}async function l(b,E){const k=b==="approve"?"/record/approve":"/record/cancel",$={orderNum:E,mode:n()};try{const T=await jt(k,b==="approve"?"POST":"DELETE",$);if(T.ok)alert(`${b==="approve"?"승인":"삭제"} 완료`),o();else throw new Error(`오류 발생: ${T.status}`)}catch(T){console.error(`${b==="approve"?"승인":"삭제"} 오류:`,T),alert(`오류 발생: ${T}`)}}Ze(async()=>{await o()}),pe();var c=Bv(),h=wt(c),v=u(h),m=f(h,2),p=u(m),g=f(u(p)),w=u(g);xt(w,()=>i(a),b=>{var E=jv();I(b,E)},b=>{var E=Vt(),k=wt(E);xt(k,()=>i(s).length===0,$=>{var T=Dv();I($,T)},$=>{var T=Vt(),q=wt(T);Yt(q,1,()=>i(s),ae,(S,L)=>{var M=Pv(),B=u(M),U=u(B);it(()=>Q(U,new Date(i(L).date).toLocaleDateString()));var z=f(B),y=u(z);it(()=>Q(y,n()?i(L).loser.replace("_m",""):i(L).loser));var N=f(z),A=u(N),C=f(N),D=u(C),P=f(D,2);it(()=>Q(A,i(L).lScore)),Z("click",D,()=>l("approve",i(L).orderNum)),Z("click",P,()=>l("delete",i(L).orderNum)),I(S,M)}),I($,T)},!0),I(b,E)}),it(()=>Q(v,`${(n()?"밀리PK":"정통바바")??""} 기록 승인하기`)),I(r,c),Qt()}var Uv=W('<select class="optionwidth input-text svelte-anctt3"><option>1인 1팀</option><option>2인 1팀</option><option>3인 1팀</option><option>4인 1팀</option></select>'),Fv=W("<option> </option>"),zv=W("<option> </option>"),Hv=W("<option> </option>"),Kv=W("<option> </option>"),Gv=W("<option> </option>"),Vv=W("<option> </option>"),Wv=W("<option> </option>"),Jv=W("<option> </option>"),Zv=W("<option> </option>"),Yv=W("<option> </option>"),Xv=W("<option> </option>"),Qv=W("<option> </option>"),tm=W('<h3 class="message-title"> </h3> <div class="message-body svelte-anctt3"><input type="text" class="titlewidth input-text svelte-anctt3" placeholder="대회 이름"> <select class="optionwidth input-text svelte-anctt3"><option>2팀(듀얼)</option><option>3-5팀(4강)</option><option>6-11팀(8강)</option><option>12팀 이상(16강)</option><option>정식전</option></select> <!> <br> 우승 <input list="nicknames1" class="namewidth input-text svelte-anctt3" placeholder="선택하세요"> <datalist id="nicknames1"></datalist> <input list="nicknames2" placeholder="선택하세요"> <datalist id="nicknames2"></datalist> <input list="nicknames3" placeholder="선택하세요"> <datalist id="nicknames3"></datalist> <input list="nicknames4" placeholder="선택하세요"> <datalist id="nicknames4"></datalist> <br> <span>2위</span> <input list="nicknames5" placeholder="선택하세요"> <datalist id="nicknames5"></datalist> <input list="nicknames6" placeholder="선택하세요"> <datalist id="nicknames6"></datalist> <input list="nicknames7" placeholder="선택하세요"> <datalist id="nicknames7"></datalist> <input list="nicknames8" placeholder="선택하세요"> <datalist id="nicknames8"></datalist> <br> <span>3위</span> <input list="nicknames9" placeholder="선택하세요"> <datalist id="nicknames9"></datalist> <input list="nicknames10" placeholder="선택하세요"> <datalist id="nicknames10"></datalist> <input list="nicknames11" placeholder="선택하세요"> <datalist id="nicknames11"></datalist> <input list="nicknames12" placeholder="선택하세요"> <datalist id="nicknames12"></datalist> <br> <button class="emphasis-button">대회 기록 전송</button></div>',1);function em(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(Je,"$myaccount",e),a=()=>F(gs,"$nicknames",e),o=O();Ze(async()=>{Ua(n())});let l=O(),c=O(),h=O(),v=O(),m=O(),p=O(),g=O(),w=O(),b=O(),E=O(),k=O(),$=O(),T=O(1),q=O(),S=O();function L(rt,dt){return dt.includes(rt)?rt:""}function M(){i(T)<2&&_(c,_(p,_(E,""))),i(T)<3&&_(h,_(g,_(k,""))),i(T)<4&&_(v,_(w,_($,""))),i(q)<4&&_(m,_(p,_(g,_(w,"")))),i(q)<8&&_(b,_(E,_(k,_($,""))));const rt=[i(l),i(c),i(h),i(v),i(m),i(p),i(g),i(w),i(b),i(E),i(k),i($)];return new Set(rt.filter(Boolean)).size===rt.filter(Boolean).length}async function B(){if(!M()){alert("중복 기록된 선수가 있습니다");return}const rt={Championship1:i(l),Championship2:i(c),Championship3:i(h),Championship4:i(v),Runner_up1:i(m),Runner_up2:i(p),Runner_up3:i(g),Runner_up4:i(w),Place3rd1:i(b),Place3rd2:i(E),Place3rd3:i(k),Place3rd4:i($),eventname:i(S),numberteams:i(q),teamSize:i(T),Eventhost:i(o)};try{(await jt(`/event/${n()}/submit`,"POST",rt)).status===201&&alert("대회 기록 전송 완료")}catch(dt){console.error("오류 발생:",dt),alert(`오류 발생: ${dt}`)}}function U(rt){_(l,L(rt.target.value,a()))}function z(rt){_(c,L(rt.target.value,a()))}function y(rt){_(h,L(rt.target.value,a()))}function N(rt){_(v,L(rt.target.value,a()))}function A(rt){_(m,L(rt.target.value,a()))}function C(rt){_(p,L(rt.target.value,a()))}function D(rt){_(g,L(rt.target.value,a()))}function P(rt){_(w,L(rt.target.value,a()))}function H(rt){_(b,L(rt.target.value,a()))}function K(rt){_(E,L(rt.target.value,a()))}function V(rt){_(k,L(rt.target.value,a()))}function G(rt){_($,L(rt.target.value,a()))}function tt(rt){_(S,rt.target.value)}function st(rt){_(q,rt.target.value)}function at(rt){_(T,rt.target.value)}Ft(()=>(n(),s()),()=>{_(o,n()==="babapk"?s():s().replace("_m","").replace("_z",""))}),tn(),pe();var lt=tm(),J=wt(lt),ct=u(J),gt=f(J,2),ft=u(gt),vt=f(ft,2);it(()=>{i(q),rs(()=>{})});var et=u(vt);et.value=(et.__value="2")==null?"":"2";var ot=f(et);ot.value=(ot.__value="4")==null?"":"4";var ut=f(ot);ut.value=(ut.__value="8")==null?"":"8";var ht=f(ut);ht.value=(ht.__value="16")==null?"":"16";var Et=f(ht);Et.value=(Et.__value="24")==null?"":"24";var $t=f(vt,2);xt($t,()=>n()!="zpke",rt=>{var dt=Uv();it(()=>{i(T),rs(()=>{})});var _t=u(dt);_t.value=(_t.__value="1")==null?"":"1";var qt=f(_t);qt.value=(qt.__value="2")==null?"":"2";var mt=f(qt);mt.value=(mt.__value="3")==null?"":"3";var ze=f(mt);ze.value=(ze.__value="4")==null?"":"4",ns(dt,()=>i(T),er=>_(T,er)),Z("change",dt,at),I(rt,dt)});var Nt=f($t,4),It=f(Nt,2);Yt(It,5,a,ae,(rt,dt)=>{var _t=Fv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Bt=f(It,2),se=f(Bt,2);Yt(se,5,a,ae,(rt,dt)=>{var _t=zv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Ut=f(se,2),te=f(Ut,2);Yt(te,5,a,ae,(rt,dt)=>{var _t=Hv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var zt=f(te,2),de=f(zt,2);Yt(de,5,a,ae,(rt,dt)=>{var _t=Kv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Ht=f(de,4),ie=f(Ht,2),fe=f(ie,2);Yt(fe,5,a,ae,(rt,dt)=>{var _t=Gv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Mt=f(fe,2),Jt=f(Mt,2);Yt(Jt,5,a,ae,(rt,dt)=>{var _t=Vv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var ce=f(Jt,2),Kt=f(ce,2);Yt(Kt,5,a,ae,(rt,dt)=>{var _t=Wv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var ve=f(Kt,2),xe=f(ve,2);Yt(xe,5,a,ae,(rt,dt)=>{var _t=Jv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Te=f(xe,4),ge=f(Te,2),Le=f(ge,2);Yt(Le,5,a,ae,(rt,dt)=>{var _t=Zv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var ke=f(Le,2),Ee=f(ke,2);Yt(Ee,5,a,ae,(rt,dt)=>{var _t=Yv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var me=f(Ee,2),ee=f(me,2);Yt(ee,5,a,ae,(rt,dt)=>{var _t=Xv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Ae=f(ee,2),Ce=f(Ae,2);Yt(Ce,5,a,ae,(rt,dt)=>{var _t=Qv(),qt={},mt=u(_t);it(()=>{qt!==(qt=i(dt))&&(_t.value=(_t.__value=i(dt))==null?"":i(dt)),Q(mt,i(dt))}),I(rt,_t)});var Ne=f(Ce,4);it(()=>{Q(ct,`${n()??""} 토너먼트 기록`),Ke(Bt,`namewidth input-text ${(i(T)<2?"hidden":null)??""} svelte-anctt3`),Ke(Ut,`namewidth input-text ${(i(T)<3?"hidden":null)??""} svelte-anctt3`),Ke(zt,`namewidth input-text ${(i(T)<4?"hidden":null)??""} svelte-anctt3`),Ke(Ht,`${(i(q)<4?"hidden":null)??""} svelte-anctt3`),Ke(ie,`namewidth input-text ${(i(q)<4?"hidden":null)??""} svelte-anctt3`),Ke(Mt,`namewidth input-text ${(i(q)<4||i(T)<2?"hidden":null)??""} svelte-anctt3`),Ke(ce,`namewidth input-text ${(i(q)<4||i(T)<3?"hidden":null)??""} svelte-anctt3`),Ke(ve,`namewidth input-text ${(i(q)<4||i(T)<4?"hidden":null)??""} svelte-anctt3`),Ke(Te,`${(i(q)<8?"hidden":null)??""} svelte-anctt3`),Ke(ge,`namewidth input-text ${(i(q)<8?"hidden":null)??""} svelte-anctt3`),Ke(ke,`namewidth input-text ${(i(q)<8||i(T)<2?"hidden":null)??""} svelte-anctt3`),Ke(me,`namewidth input-text ${(i(q)<8||i(T)<3?"hidden":null)??""} svelte-anctt3`),Ke(Ae,`namewidth input-text ${(i(q)<8||i(T)<4?"hidden":null)??""} svelte-anctt3`)}),j(ft,()=>i(S),rt=>_(S,rt)),Z("change",ft,tt),ns(vt,()=>i(q),rt=>_(q,rt)),Z("change",vt,st),j(Nt,()=>i(l),rt=>_(l,rt)),Z("blur",Nt,U),j(Bt,()=>i(c),rt=>_(c,rt)),Z("blur",Bt,z),j(Ut,()=>i(h),rt=>_(h,rt)),Z("blur",Ut,y),j(zt,()=>i(v),rt=>_(v,rt)),Z("blur",zt,N),j(ie,()=>i(m),rt=>_(m,rt)),Z("blur",ie,A),j(Mt,()=>i(p),rt=>_(p,rt)),Z("blur",Mt,C),j(ce,()=>i(g),rt=>_(g,rt)),Z("blur",ce,D),j(ve,()=>i(w),rt=>_(w,rt)),Z("blur",ve,P),j(ge,()=>i(b),rt=>_(b,rt)),Z("blur",ge,H),j(ke,()=>i(E),rt=>_(E,rt)),Z("blur",ke,K),j(me,()=>i(k),rt=>_(k,rt)),Z("blur",me,V),j(Ae,()=>i($),rt=>_($,rt)),Z("blur",Ae,G),Z("click",Ne,()=>B()),I(r,lt),Qt()}var rm=W('<tbody><tr><td colspan="3" class="text-center svelte-yaw264">로딩 중...</td></tr></tbody>'),nm=W('<tbody><tr><td colspan="3" class="text-center svelte-yaw264">기록이 없습니다</td></tr></tbody>'),sm=W('<tr><td> </td><td> </td><td><button class="small simple-button svelte-yaw264">경기</button> <button class="small simple-button svelte-yaw264">기권</button></td></tr>'),am=W("<tbody></tbody>"),im=W('<h3 class="message-title">도전 승인하기</h3> <div class="message-body"><table class="svelte-yaw264"><thead><tr><th class="record-table-date svelte-yaw264">날짜</th><th class="record-table-loser svelte-yaw264">도전자</th><th class="record-table-score svelte-yaw264">결과</th></tr></thead><!></table></div>',1);function om(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=O([]),a=O(!0);async function o(){const p=`/rank/challenge/${n()}/show`;try{const g=await jt(p,"POST");if(!g.ok)throw new Error(`오류 발생: ${g.status}`);_(s,await g.json())}catch(g){console.error("데이터 불러오기 오류:",g.message),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{_(a,!1)}}async function l(p,g){const w=p==="win"?"/record/challenge/win":"/record/challenge/lose",b={challenger:g,mode:n()};try{const E=await jt(w,"POST",b);if(E.ok)alert(p==="win"?"도전을 승인하였습니다, 결과는 대전 기록에서 입력해주세요.":"경기를 포기하여 자동 패배처리합니다"),o();else throw new Error(`오류 발생: ${E.status}`)}catch(E){console.error(`${p==="win"?"승인":"삭제"} 오류:`,E.message),alert(`오류 발생: ${E.message}`)}}Ze(()=>{o()}),pe();var c=im(),h=f(wt(c),2),v=u(h),m=f(u(v));xt(m,()=>i(a),p=>{var g=rm();I(p,g)},p=>{var g=Vt(),w=wt(g);xt(w,()=>i(s).length===0,b=>{var E=nm();I(b,E)},b=>{var E=am();Yt(E,5,()=>i(s),ae,(k,$)=>{var T=sm(),q=u(T),S=u(q);it(()=>Q(S,new Date(i($).challengeDate).toLocaleDateString()));var L=f(q),M=u(L);it(()=>Q(M,n()?i($).nickname.replace("_m",""):i($).nickname));var B=f(L),U=u(B),z=f(U,2);Z("click",U,()=>l("win",i($).nickname)),Z("click",z,()=>l("lose",i($).nickname)),I(k,T)}),I(b,E)},!0),I(p,g)}),I(r,c),Qt()}var lm=W('<div class="message-container"><div class="message-box"><button class="close-button">&times;</button> <!></div></div>');function cm(r,t){Xt(t,!1);const e=le(),n=()=>F(Sa,"$key",e),s=()=>F(Ge,"$form",e);function a(h){h.key==="Escape"&&o()}Ze(()=>{window.addEventListener("keydown",a)}),_d(()=>{window.removeEventListener("keydown",a)});function o(){Sa.set(n()+1),Ge.set("none")}pe();var l=Vt(),c=wt(l);xt(c,()=>s()!=="none",h=>{var v=lm(),m=u(v),p=u(m),g=f(p,2);xt(g,()=>s()==="login",w=>{dv(w,{})},w=>{var b=Vt(),E=wt(b);xt(E,()=>s()==="findaccount",k=>{hv(k,{})},k=>{var $=Vt(),T=wt($);xt(T,()=>s()==="register",q=>{Ev(q,{})},q=>{var S=Vt(),L=wt(S);xt(L,()=>s()==="myinfo",M=>{$v(M,{})},M=>{var B=Vt(),U=wt(B);xt(U,()=>s()==="changeemail",z=>{Nv(z,{})},z=>{var y=Vt(),N=wt(y);xt(N,()=>s()==="changepw",A=>{Ov(A,{})},A=>{var C=Vt(),D=wt(C);xt(D,()=>s()==="deleteaccount",P=>{Cv(P,{})},P=>{var H=Vt(),K=wt(H);xt(K,()=>s()==="recordcreate",V=>{Iv(V,{})},V=>{var G=Vt(),tt=wt(G);xt(tt,()=>s()==="recordok",st=>{Mv(st,{})},st=>{var at=Vt(),lt=wt(at);xt(lt,()=>s()==="newevent",J=>{em(J,{})},J=>{var ct=Vt(),gt=wt(ct);xt(gt,()=>s()==="challenge",ft=>{om(ft,{})},null,!0),I(J,ct)},!0),I(st,at)},!0),I(V,G)},!0),I(P,H)},!0),I(A,C)},!0),I(z,y)},!0),I(M,B)},!0),I(q,S)},!0),I(k,$)},!0),I(w,b)}),Z("click",p,()=>o()),I(h,v)}),I(r,l),Qt()}var um=W("<p>로딩 중...</p>"),dm=W("<p> </p>"),fm=W('<img class="ranksize svelte-qu26i8" src="/img/diamond.png" alt="1st">'),hm=W('<img class="ranksize svelte-qu26i8" src="/img/platinum.png" alt="10%">'),pm=W('<img class="ranksize svelte-qu26i8" src="/img/gold.png" alt="30%">'),vm=W('<img class="ranksize svelte-qu26i8" src="/img/silver.png" alt="60%">'),mm=W('<img class="ranksize svelte-qu26i8" src="/img/bronze.png" alt="100%">'),gm=W('<img class="ranksize svelte-qu26i8" src="/img/zpke-challenger.jpg" alt="Top3">'),bm=W('<img class="ranksize svelte-qu26i8" src="/img/zpke-diamond.jpg" alt="25%">'),_m=W('<img class="ranksize svelte-qu26i8" src="/img/zpke-gold.jpg" alt="50%">'),ym=W('<img class="ranksize svelte-qu26i8" src="/img/zpke-silver.jpg" alt="75%">'),wm=W('<img class="ranksize svelte-qu26i8" src="/img/zpke-bronze.jpg" alt="100%">'),xm=W('<button class="simple-button">도전하기</button>'),Em=W('<tr class="svelte-qu26i8"><td colspan="5" class="detail-row svelte-qu26i8"> <br> <br> <br> <br> <br> <!></td></tr>'),km=W('<tr class="svelte-qu26i8"><td class="svelte-qu26i8"><!></td><td class="svelte-qu26i8"> </td><td class="svelte-qu26i8"> </td><td class="svelte-qu26i8"> </td></tr> <!>',1),Am=W('<table class="rank-table svelte-qu26i8"><thead><tr class="svelte-qu26i8"><th class="svelte-qu26i8">등급</th><th class="svelte-qu26i8">닉네임</th><th class="svelte-qu26i8">승률</th><th class="svelte-qu26i8">점수</th></tr></thead><tbody></tbody></table>'),$m=W('<span class="badge">NEW</span>'),Tm=W('<div class="fixed-button-div"><button class="simple-button">도전승인 <!></button></div>'),Nm=W('<div class="table-outline"><!></div> <!>',1);function Sm(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(Je,"$myaccount",e);let a=O([]),o=O(!0),l=O(null),c=O(null),h=O([]),v=O(!1);async function m(){let T,q=1,S=1,L="/rank/"+n();try{const M=await fetch(L);if(!M.ok)throw new Error("연결 에러입니다");_(a,await M.json()),i(a).sort((B,U)=>U.TScore-B.TScore),T=i(a).length||1;for(let B=0;B<i(a).length;B++)i(a)[B].wins+i(a)[B].loses!==0?(B>0&&i(a)[B].TScore===i(a)[B-1].TScore?fn(a,i(a)[B].rank=q):(fn(a,i(a)[B].rank=S),q=S),S++):fn(a,i(a)[B].rank=T),s()===i(a)[B].nickname&&_(c,i(a)[B].rank)}catch(M){_(l,M)}finally{_(o,!1)}}async function p(T){const q={nickname:T,mode:n()};try{const S=await jt("/rank/challenge","POST",q);S.status===201?alert(`${T.replace("_m","")}님에게 도전을 신청하였습니다`):S.status===400?alert("당신은 이미 도전 신청을 한 상태입니다"):S.status===403?alert(`${T.replace("_m","")}님은 휴가중으로 도전을 받을 수 없는 상태입니다`):S.status===404&&alert("서버 에러입니다")}catch{alert("서버 오류입니다")}}function g(T){fn(h,i(h)[T]=!i(h)[T]),_(h,[...i(h)])}Ze(()=>{const T=Sa.subscribe(q=>{m(),w()});return()=>{T()}});async function w(){const T=`/rank/challenge/${n()}/show`;if(s())try{const q=await jt(T,"POST");if(!q.ok)throw new Error(`오류 발생: ${q.status}`);(await q.json()).length===0?_(v,!1):_(v,!0)}catch(q){console.error("데이터 불러오기 오류:",q.message)}}pe();var b=Nm(),E=wt(b),k=u(E);xt(k,()=>i(o),T=>{var q=um();I(T,q)},T=>{var q=Vt(),S=wt(q);xt(S,()=>i(l),L=>{var M=dm(),B=u(M);it(()=>Q(B,`Error: ${i(l).message??""}`)),I(L,M)},L=>{var M=Am(),B=f(u(M));Yt(B,5,()=>i(a),ae,(U,z,y)=>{var N=km(),A=wt(N),C=u(A),D=u(C);xt(D,()=>n()!="zpke",at=>{var lt=Vt(),J=wt(lt);xt(J,()=>i(z).rank===1,ct=>{var gt=fm();I(ct,gt)},ct=>{var gt=Vt(),ft=wt(gt);xt(ft,()=>i(z).rank/i(a).length<=.1,vt=>{var et=hm();I(vt,et)},vt=>{var et=Vt(),ot=wt(et);xt(ot,()=>i(z).rank/i(a).length<=.2,ut=>{var ht=pm();I(ut,ht)},ut=>{var ht=Vt(),Et=wt(ht);xt(Et,()=>i(z).rank/i(a).length<=.6,$t=>{var Nt=vm();I($t,Nt)},$t=>{var Nt=mm();I($t,Nt)},!0),I(ut,ht)},!0),I(vt,et)},!0),I(ct,gt)}),I(at,lt)},at=>{var lt=Vt(),J=wt(lt);xt(J,()=>i(z).rank<=3,ct=>{var gt=gm();I(ct,gt)},ct=>{var gt=Vt(),ft=wt(gt);xt(ft,()=>i(z).rank/i(a).length<=.25,vt=>{var et=bm();I(vt,et)},vt=>{var et=Vt(),ot=wt(et);xt(ot,()=>i(z).rank/i(a).length<=.5,ut=>{var ht=_m();I(ut,ht)},ut=>{var ht=Vt(),Et=wt(ht);xt(Et,()=>i(z).rank/i(a).length<=.75,$t=>{var Nt=ym();I($t,Nt)},$t=>{var Nt=wm();I($t,Nt)},!0),I(ut,ht)},!0),I(vt,et)},!0),I(ct,gt)}),I(at,lt)});var P=f(C),H=u(P);it(()=>Q(H,i(z).nickname.replace("_m","").replace("_z","")));var K=f(P),V=u(K);it(()=>Q(V,`${(i(z).wins+i(z).losses>0?(Math.round(1e4*(i(z).wins/(i(z).wins+i(z).losses)))/100).toFixed(2):"0.00")??""}%`));var G=f(K),tt=u(G);it(()=>Q(tt,(Math.round(i(z).TScore*100)/100).toFixed(2)));var st=f(A,2);xt(st,()=>i(h)[y],at=>{var lt=Em(),J=u(lt),ct=u(J);it(()=>Q(ct,`대전점수: ${(Math.round(i(z).BScore*100)/100).toFixed(2)??""}`));var gt=f(ct,2),ft=f(gt,2),vt=f(ft,2);it(()=>Q(vt,` Elo: ${(Math.round(i(z).Elo*100)/100).toFixed(2)??""}`));var et=f(vt,2),ot=f(et,3);xt(ot,()=>Number(i(c))>Number(i(z).rank),ut=>{var ht=xm();Z("click",ht,()=>p(i(z).nickname)),I(ut,ht)}),it(()=>{Q(gt,` 대회점수: ${i(z).LScore??""}`),Q(ft,` 순위: ${i(z).rank??""}`),Q(et,` ${i(z).wins??""} 승 / ${i(z).losses??""} 패`)}),I(at,lt)}),Z("click",A,()=>g(y)),I(U,N)}),I(L,M)},!0),I(T,q)});var $=f(E,2);xt($,()=>s()&&(n()==="mpk"&&s()!="admin_m"||n()==="zpke"&&s()!="admin_z"),T=>{var q=Tm(),S=u(q),L=f(u(S));xt(L,()=>i(v),M=>{var B=$m();I(M,B)}),Z("click",S,()=>Ge.set("challenge")),I(T,q)}),I(r,b),Qt()}var Om=W("<option> </option>"),Lm=W("<p>로딩 중...</p>"),Cm=W("<p></p>"),qm=W('<th class="svelte-13ak1b3">관리</th>'),Rm=W('<td class="svelte-13ak1b3"><button class="simple-button small svelte-13ak1b3">삭제</button></td>'),Im=W('<tr class="svelte-13ak1b3"><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><!></tr>'),jm=W('<button class="simple-button">처음</button> <button class="simple-button">이전</button>',1),Dm=W("<button> </button>"),Pm=W('<button class="simple-button">다음</button> <button class="simple-button">마지막</button>',1),Bm=W('<table class="data-table svelte-13ak1b3"><thead><tr class="svelte-13ak1b3"><th class="svelte-13ak1b3">번호</th><th class="svelte-13ak1b3">승자</th><th class="svelte-13ak1b3">패자</th><th class="svelte-13ak1b3">날짜</th><!></tr></thead><tbody></tbody></table> <div class="pagination"><!> <!> <!></div>',1),Mm=W('<span class="badge">NEW</span>'),Um=W('<div class="fixed-button-div"><button class="simple-button">기록하기</button> <button class="simple-button">승인하기 <!></button></div>'),Fm=W('<div class="filter svelte-13ak1b3"><input list="nicknames_filter" class="input-text" placeholder="필터 선택"> <datalist id="nicknames_filter"><option>모두 보기</option><!></datalist></div> <div class="table-outline"><!> <!></div>',1);function zm(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(gs,"$nicknames",e),a=()=>F(Je,"$myaccount",e),o=O(),l=O();let c=[],h=O(!0),v=null,m=O(1);const p=10;let g=O("All"),w=O([]),b=O([]),E=O(!1);async function k(){const V="/record/data?mode="+n();try{await Ua(n());const G=await jt(V,"GET");if(!G.ok)throw new Error("연결 에러입니다");c=await G.json(),_(w,T(c)),q()}catch{alert("서버 오류가 발생하여 자료를 불러올 수 없습니다")}finally{_(h,!1)}}Ze(()=>{const V=Sa.subscribe(()=>{k(),U()});return()=>{V()}});function $(V){_(m,V),q()}function T(V){return i(g)==="All"?V:V.filter(G=>G.winner&&G.loser&&(G.winner.replace("_m","").replace("_z","")===i(g)||G.loser.replace("_m","").replace("_z","")===i(g)))}function q(){const V=(i(m)-1)*p,G=V+p;_(b,i(w).slice(V,G))}function S(V){const G=V.target;_(g,M(G.value,s())||"All"),_(m,1),_(w,T(c)),q()}function L(V,G){const st=[];let at=Math.max(V-Math.floor(2.5),1),lt=at+5-1;lt>G&&(lt=G,at=Math.max(lt-5+1,1));for(let J=at;J<=lt;J++)st.push(J);return st}function M(V,G){return G.includes(V)?V:"All"}async function B(V){const G={OrderNum:V,mode:n()};try{const tt=await jt("/record/delete","DELETE",G);tt.status===200?(alert("삭제 완료하였습니다"),k()):alert(`오류 발생: ${tt.status}`)}catch(tt){alert(`오류 발생: ${tt instanceof Error?tt.message:"알 수 없는 오류"}`)}}async function U(){const V="/record/pending",G={mode:n()};if(a())try{const tt=await jt(V,"POST",G);if(!tt.ok)throw new Error(`오류 발생: ${tt.status}`);(await tt.json()).length===0?_(E,!1):_(E,!0)}catch(tt){console.error("데이터 불러오기 오류:",tt)}}Ft(()=>i(w),()=>{_(o,Math.ceil(i(w).length/p))}),Ft(()=>(i(m),i(o)),()=>{_(l,L(i(m),i(o)))}),tn(),pe();var z=Fm(),y=wt(z),N=u(y),A=f(N,2),C=u(A);C.value=(C.__value="All")==null?"":"All";var D=f(C);Yt(D,1,()=>s().map(V=>V.replace("_m","")),ae,(V,G)=>{var tt=Om(),st={},at=u(tt);it(()=>{st!==(st=i(G))&&(tt.value=(tt.__value=i(G))==null?"":i(G)),Q(at,i(G))}),I(V,tt)});var P=f(y,2),H=u(P);xt(H,()=>i(h),V=>{var G=Lm();I(V,G)},V=>{var G=Vt(),tt=wt(G);xt(tt,()=>v,st=>{var at=Cm();at.textContent="Error: ",I(st,at)},st=>{var at=Bm(),lt=wt(at),J=u(lt),ct=u(J),gt=f(u(ct),4);xt(gt,()=>a()==="admin_m"||a()==="admin"||a()==="admin_z",ht=>{var Et=qm();I(ht,Et)});var ft=f(J);Yt(ft,5,()=>i(b),ae,(ht,Et)=>{let $t=()=>i(Et).orderNum,Nt=()=>i(Et).winner,It=()=>i(Et).loser,Bt=()=>i(Et).date;var se=Im(),Ut=u(se),te=u(Ut),zt=f(Ut),de=u(zt);it(()=>Q(de,Nt().replace("_m","").replace("_z","")));var Ht=f(zt),ie=u(Ht);it(()=>Q(ie,It().replace("_m","").replace("_z","")));var fe=f(Ht),Mt=u(fe),Jt=f(fe);xt(Jt,()=>a()==="admin_m"||a()==="admin"||a()==="admin_z",ce=>{var Kt=Rm(),ve=u(Kt);Z("click",ve,()=>B($t())),I(ce,Kt)}),it(()=>{Q(te,$t()),Q(Mt,Bt())}),I(ht,se)});var vt=f(lt,2),et=u(vt);xt(et,()=>i(m)>1,ht=>{var Et=jm(),$t=wt(Et),Nt=f($t,2);Z("click",$t,()=>$(1)),Z("click",Nt,()=>$(i(m)-1)),I(ht,Et)});var ot=f(et,2);Yt(ot,1,()=>i(l),ae,(ht,Et)=>{var $t=Dm(),Nt=u($t);it(()=>{Ke($t,i(Et)===i(m)?"emphasis-button":"simple-button"),Q(Nt,i(Et))}),Z("click",$t,()=>$(i(Et))),I(ht,$t)});var ut=f(ot,2);xt(ut,()=>i(m)<i(o),ht=>{var Et=Pm(),$t=wt(Et),Nt=f($t,2);Z("click",$t,()=>$(i(m)+1)),Z("click",Nt,()=>$(i(o))),I(ht,Et)}),I(st,at)},!0),I(V,G)});var K=f(H,2);xt(K,()=>a()&&a()!="admin_m"&&a()!="admin"&&a()!="admin_z",V=>{var G=Um(),tt=u(G),st=f(tt,2),at=f(u(st));xt(at,()=>i(E),lt=>{var J=Mm();I(lt,J)}),Z("click",tt,()=>Ge.set("recordcreate")),Z("click",st,()=>Ge.set("recordok")),I(V,G)}),j(N,()=>i(g),V=>_(g,V)),Z("blur",N,S),I(r,z),Qt()}var Hm=W("<p>로딩 중...</p>"),Km=W("<p> </p>"),Gm=W('<button class="simple-button small svelte-t27p2x">승인</button> <button class="simple-button small svelte-t27p2x">삭제</button>',1),Vm=W('<button class="simple-button small svelte-t27p2x">삭제</button>'),Wm=W('<input type="text" class="memo-input svelte-t27p2x"><button class="simple-button">작성</button>',1),Jm=W("<span> </span>"),Zm=W('<tr class="svelte-t27p2x"><td colspan="4" class="svelte-t27p2x"><div class="details svelte-t27p2x"><strong>토너먼트 정보</strong><br> <br> <br> <br> <br> 메모: <!></div></td></tr>'),Ym=W('<tr class="svelte-t27p2x"><td class="svelte-t27p2x"> </td><td class="svelte-t27p2x"><!></td><td class="svelte-t27p2x"> </td><td class="svelte-t27p2x"><!></td></tr> <!>',1),Xm=W('<table class="svelte-t27p2x"><thead><tr class="svelte-t27p2x"><th class="svelte-t27p2x">대회명</th><th class="svelte-t27p2x">규모</th><th class="svelte-t27p2x">우승자</th><th class="svelte-t27p2x">승인</th></tr></thead><tbody></tbody></table>'),Qm=W('<div class="fixed-button-div"><button class="simple-button">등록하기</button></div>'),t1=W('<div class="table-container"><!></div> <!>',1);function e1(r,t){Xt(t,!1);const e=le(),n=()=>F(Je,"$myaccount",e),s=()=>F(he,"$mode",e);let a=O([]),o=O(!0),l=O(null),c=O([]),h=O();function v(S){if(n()==="admin"||n()==="admin_m"||n()==="admin_z"){for(let L=0;L<i(a).length;L++)fn(a,i(a)[L].modify=!1);_(h,i(a)[S].memo),fn(a,i(a)[S].modify=!0)}}async function m(S){const L={eventname:i(a)[S].eventname,memotext:i(h),mode:s()};if(n()==="admin"||n()==="admin_m"||n()==="admin_z")try{(await jt("/event/memo","PATCH",L)).ok&&(alert("메모 수정 완료하였습니다"),b())}catch(M){alert("오류가 발생하였습니다"+M)}finally{fn(a,i(a)[S].modify=!1)}}async function p(S){try{const L=`/event/${s()}/cancel`,M=await jt(L,"DELETE",i(a)[S]);M&&M.ok&&alert("토너먼트 히스토리를 삭제하고 점수를 초기화하였습니다")}catch(L){alert("에러가 발생하였습니다: "+L)}finally{b()}}async function g(S){try{const L=`/event/${s()}/accept`,M=await jt(L,"POST",i(a)[S]);M&&M.status===201&&alert("토너먼트 히스토리를 승인하였습니다")}catch(L){alert("에러가 발생하였습니다: "+L)}finally{b()}}async function w(S){try{const L=`/event/${s()}/delete`,M={eventname:i(a)[S].eventname},B=await jt(L,"DELETE",M);B&&B.status===200&&alert("토너먼트 히스토리를 삭제하였습니다")}catch(L){alert("에러가 발생하였습니다: "+L)}finally{b()}}async function b(){try{const S=await jt(`/event/${s()}/history`,"GET");if(!S.ok)throw new Error("연결 에러입니다");_(a,await S.json()),_(a,i(a).map(L=>({...L,ok:L.accept===1?"대기":L.accept===2?"승인":L.ok,modify:!1}))),_(c,new Array(i(a).length).fill(!1))}catch(S){_(l,S)}finally{_(o,!1)}}Ze(()=>{const S=Sa.subscribe(()=>{b()});return()=>{S()}});function E(S){_(c,[...i(c)]),fn(c,i(c)[S]=!i(c)[S])}pe();var k=t1(),$=wt(k),T=u($);xt(T,()=>i(o),S=>{var L=Hm();I(S,L)},S=>{var L=Vt(),M=wt(L);xt(M,()=>i(l),B=>{var U=Km(),z=u(U);it(()=>Q(z,`Error: ${i(l)??""}`)),I(B,U)},B=>{var U=Xm(),z=f(u(U));Yt(z,5,()=>i(a),ae,(y,N,A)=>{var C=Ym(),D=wt(C),P=u(D),H=u(P),K=f(P),V=u(K);xt(V,()=>i(N).numberteams===24,J=>{var ct=hn("정식전");I(J,ct)},J=>{var ct=hn();it(()=>Q(ct,`${i(N).numberteams??""}x${i(N).teamSize??""}`)),I(J,ct)});var G=f(K),tt=u(G);it(()=>Q(tt,i(N).Championship1.replace("_m","").replace("_z","")));var st=f(G),at=u(st);xt(at,()=>n()==="admin"||n()==="admin_m"||n()==="admin_z",J=>{var ct=Vt(),gt=wt(ct);xt(gt,()=>i(N).ok==="대기",ft=>{var vt=Gm(),et=wt(vt),ot=f(et,2);Z("click",et,()=>g(A)),Z("click",ot,()=>w(A)),I(ft,vt)},ft=>{var vt=Vm();Z("click",vt,()=>p(A)),I(ft,vt)}),I(J,ct)},J=>{var ct=hn();it(()=>Q(ct,i(N).ok)),I(J,ct)});var lt=f(D,2);xt(lt,()=>i(c)[A],J=>{var ct=Zm(),gt=u(ct),ft=u(gt),vt=f(u(ft),2);it(()=>Q(vt,` 주최자: ${i(N).Eventhost.replace("_m","").replace("_z","")??""}`));const et=kr(()=>(i(N).Championship1?i(N).Championship1.replace("_m","").replace("_z",""):"")??""),ot=kr(()=>(i(N).Championship2?i(N).Championship2.replace("_m","").replace("_z",""):"")??""),ut=kr(()=>(i(N).Championship3?i(N).Championship3.replace("_m","").replace("_z",""):"")??""),ht=kr(()=>(i(N).Championship4?i(N).Championship4.replace("_m","").replace("_z",""):"")??"");var Et=f(vt,2);it(()=>Q(Et,` 우승: ${i(et)}
                    ${i(ot)}
                    ${i(ut)}
                    ${i(ht)}`));const $t=kr(()=>(i(N).Runner_up1?i(N).Runner_up1.replace("_m","").replace("_z",""):"")??""),Nt=kr(()=>(i(N).Runner_up2?i(N).Runner_up2.replace("_m","").replace("_z",""):"")??""),It=kr(()=>(i(N).Runner_up3?i(N).Runner_up3.replace("_m","").replace("_z",""):"")??""),Bt=kr(()=>(i(N).Runner_up4?i(N).Runner_up4.replace("_m","").replace("_z",""):"")??"");var se=f(Et,2);it(()=>Q(se,` 준우승: ${i($t)}
                    ${i(Nt)}
                    ${i(It)}
                    ${i(Bt)}`));const Ut=kr(()=>(i(N).Place3rd1?i(N).Place3rd1.replace("_m","").replace("_z",""):"")??""),te=kr(()=>(i(N).Place3rd2?i(N).Place3rd2.replace("_m","").replace("_z",""):"")??""),zt=kr(()=>(i(N).Place3rd3?i(N).Place3rd3.replace("_m","").replace("_z",""):"")??""),de=kr(()=>(i(N).Place3rd4?i(N).Place3rd4.replace("_m","").replace("_z",""):"")??"");var Ht=f(se,2);it(()=>Q(Ht,` 3위: ${i(Ut)}
                    ${i(te)}
                    ${i(zt)}
                    ${i(de)}`));var ie=f(Ht,3);xt(ie,()=>i(N).modify,fe=>{var Mt=Wm(),Jt=wt(Mt),ce=f(Jt);j(Jt,()=>i(h),Kt=>_(h,Kt)),Z("keydown",Jt,Kt=>{Kt.key==="Enter"&&m(A)}),Z("click",ce,()=>m(A)),I(fe,Mt)},fe=>{var Mt=Jm(),Jt=u(Mt);it(()=>{Ke(Mt,`${(n()==="admin"||n()==="admin_m"?"modify":"")??""} svelte-t27p2x`),Q(Jt,typeof i(N).memo=="string"?i(N).memo:"기록하기")}),Z("click",Mt,()=>v(A)),I(fe,Mt)}),I(J,ct)}),it(()=>Q(H,i(N).eventname)),Z("click",D,()=>E(A)),I(y,C)}),I(B,U)},!0),I(S,L)});var q=f($,2);xt(q,n,S=>{var L=Qm(),M=u(L);Z("click",M,()=>Ge.set("newevent")),I(S,L)}),I(r,k),Qt()}var r1=W('<div class="fixed-button-div"><!></div>'),n1=W('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m">로딩 중...</td></tr>'),s1=W('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),a1=W('<tr class="svelte-1puu09m"><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"> </td><td class="svelte-1puu09m"> </td></tr>'),i1=W('<button class="simple-button">이전</button>'),o1=W('<button class="simple-button">다음</button>'),l1=W('<!> <select class="input-text svelte-1puu09m"><option>모든 글 보기</option><option>자유 글 보기</option><option>거래 글 보기</option><option>공략 글 보기</option></select> <input class="input-text svelte-1puu09m" type="text"> <button class="simple-button small svelte-1puu09m">검색</button> <table class="svelte-1puu09m"><thead><tr class="svelte-1puu09m"><th class="table-head_board_date svelte-1puu09m">날짜</th><th class="table-head_board_title svelte-1puu09m">제목</th><th class="table-head_board_writter svelte-1puu09m">작성자</th><th class="table-head_board_views svelte-1puu09m">조회수</th></tr></thead><tbody><!></tbody></table> <div class="pagination svelte-1puu09m"><!> <!></div>',1);function c1(r,t){Xt(t,!1);const e=le(),n=()=>F(Tc,"$category",e),s=()=>F($c,"$page",e),a=()=>F(he,"$mode",e),o=()=>F(Je,"$myaccount",e);let l=O(null),c=O(!0),h=O(null),v=O([]);Ze(()=>{w(n())});function m(C){$c.set(s()+C),w(n())}const p="/"+a();async function g(C){try{const D=`/board/search?data=${C}&find=${i(l)}`,P=await fetch(D);if(!P.ok)throw new Error("Network response was not ok");const H=await P.json();H.length===0?_(v,[{post_id:"-",date:"-",title:"검색 결과가 없습니다",writter:"-",views:0}]):_(v,H.map(K=>({...K,date:Ea(K.date)}))),_(c,!1)}catch(D){console.error("Error:",D),_(h,D instanceof Error?D.message:String(D))}}async function w(C){try{const D=`/board/list?data=${C}&page=${s()}`,P=await jt(D,"GET");if(!P.ok)throw new Error("Network response was not ok");const H=await P.json();_(v,H.map(K=>({...K,date:Ea(K.date)}))),_(c,!1),_(l,"")}catch(D){console.error("Error:",D),_(h,D instanceof Error?D.message:String(D))}}pe();var b=l1(),E=wt(b);xt(E,o,C=>{var D=r1(),P=u(D);Cs(P,{to:`${p}/write`,class:"simple-button",children:(H,K)=>{var V=hn("작성하기");I(H,V)},$$slots:{default:!0}}),I(C,D)});var k=f(E,2);it(()=>{n(),rs(()=>{})});var $=u(k);$.value=($.__value="all")==null?"":"all";var T=f($);T.value=(T.__value="free")==null?"":"free";var q=f(T);q.value=(q.__value="trade")==null?"":"trade";var S=f(q);S.value=(S.__value="setting")==null?"":"setting";var L=f(k,2),M=f(L,2),B=f(M,2),U=f(u(B)),z=u(U);xt(z,()=>i(c),C=>{var D=n1();I(C,D)},C=>{var D=Vt(),P=wt(D);xt(P,()=>i(h),H=>{var K=s1(),V=u(K),G=u(V);it(()=>Q(G,`Error: ${i(h)??""}`)),I(H,K)},H=>{var K=Vt(),V=wt(K);Yt(V,1,()=>i(v),ae,(G,tt)=>{let st=()=>i(tt).post_id,at=()=>i(tt).date,lt=()=>i(tt).title,J=()=>i(tt).writter,ct=()=>i(tt).views;var gt=a1(),ft=u(gt),vt=u(ft);xt(vt,()=>at()===Ea(String(new Date)),Nt=>{var It=hn("new");I(Nt,It)},Nt=>{var It=hn();it(()=>Q(It,at())),I(Nt,It)});var et=f(ft),ot=u(et);Cs(ot,{get to(){return`${p??""}/post/${st()??""}`},class:"fontBasic",children:(Nt,It)=>{var Bt=hn();it(()=>Q(Bt,lt())),I(Nt,Bt)},$$slots:{default:!0}});var ut=f(et),ht=u(ut),Et=f(ut),$t=u(Et);it(()=>{Q(ht,J()),Q($t,ct())}),I(G,gt)}),I(H,K)},!0),I(C,D)});var y=f(B,2),N=u(y);xt(N,()=>s()!=1,C=>{var D=i1();Z("click",D,()=>m(-1)),I(C,D)});var A=f(N,2);xt(A,()=>i(v).length===20,C=>{var D=o1();Z("click",D,()=>m(1)),I(C,D)}),ns(k,n,C=>pt(Tc,C)),Z("change",k,()=>w(n())),j(L,()=>i(l),C=>_(l,C)),Z("click",M,()=>g(n())),I(r,b),Qt()}var u1=W('<div class="text-center">Loading...</div>'),d1=W('<div class="text-center"> </div>'),f1=W('<button class="simple-button">수정하기</button>'),h1=W('<button class="simple-button">삭제하기</button>'),p1=W('<button class="simple-button small svelte-8hjirj">삭제</button>'),v1=W('<tr class="svelte-8hjirj"><td class="svelte-8hjirj"> </td><td class="commentContent svelte-8hjirj"> </td><td class="svelte-8hjirj"> </td><td class="svelte-8hjirj"><!></td></tr>'),m1=W('<div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-comment table-contents_cell"><input class="input-text svelte-8hjirj" type="text"> <button class="simple-button small svelte-8hjirj">댓글 작성</button></div></div></div>'),g1=W('<div class="table-outline main_data svelte-8hjirj"><div class="table-head table-title fontBasic svelte-8hjirj"> </div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-info-no-line flex"><div class="table-info-writter table-contents_cell svelte-8hjirj"> </div> <div class="table-info-date table-contents_cell svelte-8hjirj"> </div> <div class="table-info-date table-contents_cell svelte-8hjirj"> </div> <div class="table-info-views table-contents_cell svelte-8hjirj"> </div></div></div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-content fontBasic svelte-8hjirj"><!></div></div></div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-button svelte-8hjirj"><!> <!> <!></div></div></div></div> <table class="comment-table svelte-8hjirj"><thead><tr class="svelte-8hjirj"><th class="svelte-8hjirj">작성자</th><th class="svelte-8hjirj">내용</th><th class="svelte-8hjirj">작성일</th><th class="svelte-8hjirj">관리</th></tr></thead><tbody></tbody></table> <!>',1),b1=W('<div class="margin svelte-8hjirj"></div> <!>',1);function _1(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(Je,"$myaccount",e),a=O();let o=O(""),l=O({}),c=O(""),h=O([]),v=O("");const m="/"+n();async function p(S){try{console.log(`Fetching post with ID: ${S}`);const L=await fetch(`/board/post?post_id=${S}`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const M=await L.json();console.log("Fetched data:",M),_(l,{...M}),_(a,!1),console.log("Loading state after fetch:",i(a))}catch(L){console.error(`Error fetching post: ${L}`),_(a,!1),_(c,`네트워크 오류: ${L.message}`)}}async function g(S){try{const L=await fetch(`/board/comments?post_id=${S}`);_(h,await L.json())}catch(L){console.error("댓글 가져오기 오류:",L)}}function w(S){const L=S.match(/\/post\/(\d+)$/);return L?L[1]:null}Ze(()=>{const S=w(window.location.pathname);console.log("Extracted ID:",S),_(o,S??""),i(o)?(p(i(o)),g(i(o))):(_(a,!1),_(c,"잘못된 주소입니다"))});async function b(S){const L={post_id:S,content:i(v),writter:s()};try{(await jt("/board/comment/add","POST",L)).ok&&(alert("댓글을 등록하였습니다"),_(v,""),g(S))}catch(M){console.error("댓글 작성 오류:",M)}}async function E(S,L){const M={comment_id:L};try{(await jt("/board/comment/delete","DELETE",M)).ok&&(alert("댓글을 삭제하였습니다"),g(S))}catch(B){console.error("댓글 삭제 오류:",B)}}function k(){pt(rl,i(o)),Na(`${m}/write`)}async function $(S){const L={post_id:S};try{(await jt("/board/delete","DELETE",L)).ok&&(alert("글을 삭제하였습니다"),Na(`${m}/boardlist`))}catch(M){console.error("글 삭제 오류:",M)}}Ft(()=>{},()=>{_(a,!0)}),tn(),pe();var T=b1(),q=f(wt(T),2);xt(q,()=>i(a),S=>{var L=u1();I(S,L)},S=>{var L=Vt(),M=wt(L);xt(M,()=>i(c),B=>{var U=d1(),z=u(U);it(()=>Q(z,`Error: ${i(c)??""}`)),I(B,U)},B=>{var U=g1(),z=wt(U),y=u(z),N=u(y),A=f(y,2),C=u(A),D=u(C),P=u(D),H=f(D,2),K=u(H);it(()=>Q(K,`작성일 : ${(Ea(i(l).createdAt)||"")??""}`));var V=f(H,2),G=u(V);it(()=>Q(G,`수정일 : ${(Ea(i(l).updatedAt)||"")??""}`));var tt=f(V,2),st=u(tt),at=f(A,2),lt=u(at),J=u(lt),ct=u(J);Xo(ct,()=>i(l).content);var gt=f(at,2),ft=u(gt),vt=u(ft),et=u(vt);xt(et,()=>i(l).nickname===s(),Nt=>{var It=f1();Z("click",It,k),I(Nt,It)});var ot=f(et,2);xt(ot,()=>s()==="admin"||s()==="admin_m"||i(l).writter===Je,Nt=>{var It=h1();Z("click",It,()=>$(i(o))),I(Nt,It)});var ut=f(ot,2);Cs(ut,{class:"simple-button",to:`${m}/boardlist`,children:(Nt,It)=>{var Bt=hn("목록보기");I(Nt,Bt)},$$slots:{default:!0}});var ht=f(z,2),Et=f(u(ht));Yt(Et,5,()=>i(h),ae,(Nt,It)=>{let Bt=()=>i(It).nickname,se=()=>i(It).content,Ut=()=>i(It).createdAt,te=()=>i(It).commentId;var zt=v1(),de=u(zt),Ht=u(de),ie=f(de),fe=u(ie),Mt=f(ie),Jt=u(Mt);it(()=>Q(Jt,Ea(Ut())));var ce=f(Mt),Kt=u(ce);xt(Kt,()=>Bt()===s()||s()==="admin"||s()==="admin_m",ve=>{var xe=p1();Z("click",xe,()=>E(i(o),te())),I(ve,xe)}),it(()=>{Q(Ht,Bt()),Q(fe,se())}),I(Nt,zt)});var $t=f(ht,2);xt($t,s,Nt=>{var It=m1(),Bt=u(It),se=u(Bt),Ut=u(se),te=f(Ut,2);j(Ut,()=>i(v),zt=>_(v,zt)),Z("click",te,()=>b(i(o))),I(Nt,It)}),it(()=>{Q(N,i(l).title||""),Q(P,i(l).nickname||""),Q(st,`조회수 : ${(i(l).views||"")??""}`)}),I(B,U)},!0),I(S,L)}),I(r,T),Qt()}var kd=typeof global=="object"&&global&&global.Object===Object&&global,y1=typeof self=="object"&&self&&self.Object===Object&&self,us=kd||y1||Function("return this")(),Us=us.Symbol,Ad=Object.prototype,w1=Ad.hasOwnProperty,x1=Ad.toString,Ga=Us?Us.toStringTag:void 0;function E1(r){var t=w1.call(r,Ga),e=r[Ga];try{r[Ga]=void 0;var n=!0}catch{}var s=x1.call(r);return n&&(t?r[Ga]=e:delete r[Ga]),s}var k1=Object.prototype,A1=k1.toString;function $1(r){return A1.call(r)}var T1="[object Null]",N1="[object Undefined]",Nc=Us?Us.toStringTag:void 0;function Fa(r){return r==null?r===void 0?N1:T1:Nc&&Nc in Object(r)?E1(r):$1(r)}function bs(r){return r!=null&&typeof r=="object"}var Ys=Array.isArray;function zs(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function $d(r){return r}var S1="[object AsyncFunction]",O1="[object Function]",L1="[object GeneratorFunction]",C1="[object Proxy]";function jl(r){if(!zs(r))return!1;var t=Fa(r);return t==O1||t==L1||t==S1||t==C1}var Co=us["__core-js_shared__"],Sc=function(){var r=/[^.]+$/.exec(Co&&Co.keys&&Co.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function q1(r){return!!Sc&&Sc in r}var R1=Function.prototype,I1=R1.toString;function ra(r){if(r!=null){try{return I1.call(r)}catch{}try{return r+""}catch{}}return""}var j1=/[\\^$.*+?()[\]{}|]/g,D1=/^\[object .+?Constructor\]$/,P1=Function.prototype,B1=Object.prototype,M1=P1.toString,U1=B1.hasOwnProperty,F1=RegExp("^"+M1.call(U1).replace(j1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function z1(r){if(!zs(r)||q1(r))return!1;var t=jl(r)?F1:D1;return t.test(ra(r))}function H1(r,t){return r==null?void 0:r[t]}function na(r,t){var e=H1(r,t);return z1(e)?e:void 0}var nl=na(us,"WeakMap"),Oc=Object.create,K1=function(){function r(){}return function(t){if(!zs(t))return{};if(Oc)return Oc(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function G1(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function Td(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var V1=800,W1=16,J1=Date.now;function Z1(r){var t=0,e=0;return function(){var n=J1(),s=W1-(n-e);if(e=n,s>0){if(++t>=V1)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function Y1(r){return function(){return r}}var no=function(){try{var r=na(Object,"defineProperty");return r({},"",{}),r}catch{}}(),X1=no?function(r,t){return no(r,"toString",{configurable:!0,enumerable:!1,value:Y1(t),writable:!0})}:$d,Q1=Z1(X1);function tg(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var eg=9007199254740991,rg=/^(?:0|[1-9]\d*)$/;function Nd(r,t){var e=typeof r;return t=t??eg,!!t&&(e=="number"||e!="symbol"&&rg.test(r))&&r>-1&&r%1==0&&r<t}function Dl(r,t,e){t=="__proto__"&&no?no(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function Ei(r,t){return r===t||r!==r&&t!==t}var ng=Object.prototype,sg=ng.hasOwnProperty;function Sd(r,t,e){var n=r[t];(!(sg.call(r,t)&&Ei(n,e))||e===void 0&&!(t in r))&&Dl(r,t,e)}function ki(r,t,e,n){var s=!e;e||(e={});for(var a=-1,o=t.length;++a<o;){var l=t[a],c=void 0;c===void 0&&(c=r[l]),s?Dl(e,l,c):Sd(e,l,c)}return e}var Lc=Math.max;function ag(r,t,e){return t=Lc(t===void 0?r.length-1:t,0),function(){for(var n=arguments,s=-1,a=Lc(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=e(o),G1(r,this,l)}}function ig(r,t){return Q1(ag(r,t,$d),r+"")}var og=9007199254740991;function Od(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=og}function vo(r){return r!=null&&Od(r.length)&&!jl(r)}function lg(r,t,e){if(!zs(e))return!1;var n=typeof t;return(n=="number"?vo(e)&&Nd(t,e.length):n=="string"&&t in e)?Ei(e[t],r):!1}function cg(r){return ig(function(t,e){var n=-1,s=e.length,a=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(s--,a):void 0,o&&lg(e[0],e[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++n<s;){var l=e[n];l&&r(t,l,n,a)}return t})}var ug=Object.prototype;function Pl(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||ug;return r===e}function dg(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var fg="[object Arguments]";function Cc(r){return bs(r)&&Fa(r)==fg}var Ld=Object.prototype,hg=Ld.hasOwnProperty,pg=Ld.propertyIsEnumerable,sl=Cc(function(){return arguments}())?Cc:function(r){return bs(r)&&hg.call(r,"callee")&&!pg.call(r,"callee")};function vg(){return!1}var Cd=typeof pn=="object"&&pn&&!pn.nodeType&&pn,qc=Cd&&typeof vn=="object"&&vn&&!vn.nodeType&&vn,mg=qc&&qc.exports===Cd,Rc=mg?us.Buffer:void 0,gg=Rc?Rc.isBuffer:void 0,ci=gg||vg,bg="[object Arguments]",_g="[object Array]",yg="[object Boolean]",wg="[object Date]",xg="[object Error]",Eg="[object Function]",kg="[object Map]",Ag="[object Number]",$g="[object Object]",Tg="[object RegExp]",Ng="[object Set]",Sg="[object String]",Og="[object WeakMap]",Lg="[object ArrayBuffer]",Cg="[object DataView]",qg="[object Float32Array]",Rg="[object Float64Array]",Ig="[object Int8Array]",jg="[object Int16Array]",Dg="[object Int32Array]",Pg="[object Uint8Array]",Bg="[object Uint8ClampedArray]",Mg="[object Uint16Array]",Ug="[object Uint32Array]",De={};De[qg]=De[Rg]=De[Ig]=De[jg]=De[Dg]=De[Pg]=De[Bg]=De[Mg]=De[Ug]=!0;De[bg]=De[_g]=De[Lg]=De[yg]=De[Cg]=De[wg]=De[xg]=De[Eg]=De[kg]=De[Ag]=De[$g]=De[Tg]=De[Ng]=De[Sg]=De[Og]=!1;function Fg(r){return bs(r)&&Od(r.length)&&!!De[Fa(r)]}function Bl(r){return function(t){return r(t)}}var qd=typeof pn=="object"&&pn&&!pn.nodeType&&pn,Qa=qd&&typeof vn=="object"&&vn&&!vn.nodeType&&vn,zg=Qa&&Qa.exports===qd,qo=zg&&kd.process,Oa=function(){try{var r=Qa&&Qa.require&&Qa.require("util").types;return r||qo&&qo.binding&&qo.binding("util")}catch{}}(),Ic=Oa&&Oa.isTypedArray,Ml=Ic?Bl(Ic):Fg,Hg=Object.prototype,Kg=Hg.hasOwnProperty;function Rd(r,t){var e=Ys(r),n=!e&&sl(r),s=!e&&!n&&ci(r),a=!e&&!n&&!s&&Ml(r),o=e||n||s||a,l=o?dg(r.length,String):[],c=l.length;for(var h in r)(t||Kg.call(r,h))&&!(o&&(h=="length"||s&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Nd(h,c)))&&l.push(h);return l}function Id(r,t){return function(e){return r(t(e))}}var Gg=Id(Object.keys,Object),Vg=Object.prototype,Wg=Vg.hasOwnProperty;function Jg(r){if(!Pl(r))return Gg(r);var t=[];for(var e in Object(r))Wg.call(r,e)&&e!="constructor"&&t.push(e);return t}function Ul(r){return vo(r)?Rd(r):Jg(r)}function Zg(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var Yg=Object.prototype,Xg=Yg.hasOwnProperty;function Qg(r){if(!zs(r))return Zg(r);var t=Pl(r),e=[];for(var n in r)n=="constructor"&&(t||!Xg.call(r,n))||e.push(n);return e}function Ai(r){return vo(r)?Rd(r,!0):Qg(r)}var ui=na(Object,"create");function tb(){this.__data__=ui?ui(null):{},this.size=0}function eb(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var rb="__lodash_hash_undefined__",nb=Object.prototype,sb=nb.hasOwnProperty;function ab(r){var t=this.__data__;if(ui){var e=t[r];return e===rb?void 0:e}return sb.call(t,r)?t[r]:void 0}var ib=Object.prototype,ob=ib.hasOwnProperty;function lb(r){var t=this.__data__;return ui?t[r]!==void 0:ob.call(t,r)}var cb="__lodash_hash_undefined__";function ub(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=ui&&t===void 0?cb:t,this}function Xs(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Xs.prototype.clear=tb;Xs.prototype.delete=eb;Xs.prototype.get=ab;Xs.prototype.has=lb;Xs.prototype.set=ub;function db(){this.__data__=[],this.size=0}function mo(r,t){for(var e=r.length;e--;)if(Ei(r[e][0],t))return e;return-1}var fb=Array.prototype,hb=fb.splice;function pb(r){var t=this.__data__,e=mo(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():hb.call(t,e,1),--this.size,!0}function vb(r){var t=this.__data__,e=mo(t,r);return e<0?void 0:t[e][1]}function mb(r){return mo(this.__data__,r)>-1}function gb(r,t){var e=this.__data__,n=mo(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function ws(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ws.prototype.clear=db;ws.prototype.delete=pb;ws.prototype.get=vb;ws.prototype.has=mb;ws.prototype.set=gb;var di=na(us,"Map");function bb(){this.size=0,this.__data__={hash:new Xs,map:new(di||ws),string:new Xs}}function _b(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function go(r,t){var e=r.__data__;return _b(t)?e[typeof t=="string"?"string":"hash"]:e.map}function yb(r){var t=go(this,r).delete(r);return this.size-=t?1:0,t}function wb(r){return go(this,r).get(r)}function xb(r){return go(this,r).has(r)}function Eb(r,t){var e=go(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function sa(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}sa.prototype.clear=bb;sa.prototype.delete=yb;sa.prototype.get=wb;sa.prototype.has=xb;sa.prototype.set=Eb;function jd(r,t){for(var e=-1,n=t.length,s=r.length;++e<n;)r[s+e]=t[e];return r}var Fl=Id(Object.getPrototypeOf,Object),kb="[object Object]",Ab=Function.prototype,$b=Object.prototype,Dd=Ab.toString,Tb=$b.hasOwnProperty,Nb=Dd.call(Object);function Sb(r){if(!bs(r)||Fa(r)!=kb)return!1;var t=Fl(r);if(t===null)return!0;var e=Tb.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Dd.call(e)==Nb}function Ob(){this.__data__=new ws,this.size=0}function Lb(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function Cb(r){return this.__data__.get(r)}function qb(r){return this.__data__.has(r)}var Rb=200;function Ib(r,t){var e=this.__data__;if(e instanceof ws){var n=e.__data__;if(!di||n.length<Rb-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new sa(n)}return e.set(r,t),this.size=e.size,this}function is(r){var t=this.__data__=new ws(r);this.size=t.size}is.prototype.clear=Ob;is.prototype.delete=Lb;is.prototype.get=Cb;is.prototype.has=qb;is.prototype.set=Ib;function jb(r,t){return r&&ki(t,Ul(t),r)}function Db(r,t){return r&&ki(t,Ai(t),r)}var Pd=typeof pn=="object"&&pn&&!pn.nodeType&&pn,jc=Pd&&typeof vn=="object"&&vn&&!vn.nodeType&&vn,Pb=jc&&jc.exports===Pd,Dc=Pb?us.Buffer:void 0,Pc=Dc?Dc.allocUnsafe:void 0;function Bd(r,t){if(t)return r.slice();var e=r.length,n=Pc?Pc(e):new r.constructor(e);return r.copy(n),n}function Bb(r,t){for(var e=-1,n=r==null?0:r.length,s=0,a=[];++e<n;){var o=r[e];t(o,e,r)&&(a[s++]=o)}return a}function Md(){return[]}var Mb=Object.prototype,Ub=Mb.propertyIsEnumerable,Bc=Object.getOwnPropertySymbols,zl=Bc?function(r){return r==null?[]:(r=Object(r),Bb(Bc(r),function(t){return Ub.call(r,t)}))}:Md;function Fb(r,t){return ki(r,zl(r),t)}var zb=Object.getOwnPropertySymbols,Ud=zb?function(r){for(var t=[];r;)jd(t,zl(r)),r=Fl(r);return t}:Md;function Hb(r,t){return ki(r,Ud(r),t)}function Fd(r,t,e){var n=t(r);return Ys(r)?n:jd(n,e(r))}function al(r){return Fd(r,Ul,zl)}function Kb(r){return Fd(r,Ai,Ud)}var il=na(us,"DataView"),ol=na(us,"Promise"),ll=na(us,"Set"),Mc="[object Map]",Gb="[object Object]",Uc="[object Promise]",Fc="[object Set]",zc="[object WeakMap]",Hc="[object DataView]",Vb=ra(il),Wb=ra(di),Jb=ra(ol),Zb=ra(ll),Yb=ra(nl),Pn=Fa;(il&&Pn(new il(new ArrayBuffer(1)))!=Hc||di&&Pn(new di)!=Mc||ol&&Pn(ol.resolve())!=Uc||ll&&Pn(new ll)!=Fc||nl&&Pn(new nl)!=zc)&&(Pn=function(r){var t=Fa(r),e=t==Gb?r.constructor:void 0,n=e?ra(e):"";if(n)switch(n){case Vb:return Hc;case Wb:return Mc;case Jb:return Uc;case Zb:return Fc;case Yb:return zc}return t});var Xb=Object.prototype,Qb=Xb.hasOwnProperty;function t_(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&Qb.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var so=us.Uint8Array;function Hl(r){var t=new r.constructor(r.byteLength);return new so(t).set(new so(r)),t}function e_(r,t){var e=t?Hl(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var r_=/\w*$/;function n_(r){var t=new r.constructor(r.source,r_.exec(r));return t.lastIndex=r.lastIndex,t}var Kc=Us?Us.prototype:void 0,Gc=Kc?Kc.valueOf:void 0;function s_(r){return Gc?Object(Gc.call(r)):{}}function zd(r,t){var e=t?Hl(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var a_="[object Boolean]",i_="[object Date]",o_="[object Map]",l_="[object Number]",c_="[object RegExp]",u_="[object Set]",d_="[object String]",f_="[object Symbol]",h_="[object ArrayBuffer]",p_="[object DataView]",v_="[object Float32Array]",m_="[object Float64Array]",g_="[object Int8Array]",b_="[object Int16Array]",__="[object Int32Array]",y_="[object Uint8Array]",w_="[object Uint8ClampedArray]",x_="[object Uint16Array]",E_="[object Uint32Array]";function k_(r,t,e){var n=r.constructor;switch(t){case h_:return Hl(r);case a_:case i_:return new n(+r);case p_:return e_(r,e);case v_:case m_:case g_:case b_:case __:case y_:case w_:case x_:case E_:return zd(r,e);case o_:return new n;case l_:case d_:return new n(r);case c_:return n_(r);case u_:return new n;case f_:return s_(r)}}function Hd(r){return typeof r.constructor=="function"&&!Pl(r)?K1(Fl(r)):{}}var A_="[object Map]";function $_(r){return bs(r)&&Pn(r)==A_}var Vc=Oa&&Oa.isMap,T_=Vc?Bl(Vc):$_,N_="[object Set]";function S_(r){return bs(r)&&Pn(r)==N_}var Wc=Oa&&Oa.isSet,O_=Wc?Bl(Wc):S_,L_=1,C_=2,q_=4,Kd="[object Arguments]",R_="[object Array]",I_="[object Boolean]",j_="[object Date]",D_="[object Error]",Gd="[object Function]",P_="[object GeneratorFunction]",B_="[object Map]",M_="[object Number]",Vd="[object Object]",U_="[object RegExp]",F_="[object Set]",z_="[object String]",H_="[object Symbol]",K_="[object WeakMap]",G_="[object ArrayBuffer]",V_="[object DataView]",W_="[object Float32Array]",J_="[object Float64Array]",Z_="[object Int8Array]",Y_="[object Int16Array]",X_="[object Int32Array]",Q_="[object Uint8Array]",ty="[object Uint8ClampedArray]",ey="[object Uint16Array]",ry="[object Uint32Array]",Oe={};Oe[Kd]=Oe[R_]=Oe[G_]=Oe[V_]=Oe[I_]=Oe[j_]=Oe[W_]=Oe[J_]=Oe[Z_]=Oe[Y_]=Oe[X_]=Oe[B_]=Oe[M_]=Oe[Vd]=Oe[U_]=Oe[F_]=Oe[z_]=Oe[H_]=Oe[Q_]=Oe[ty]=Oe[ey]=Oe[ry]=!0;Oe[D_]=Oe[Gd]=Oe[K_]=!1;function Gi(r,t,e,n,s,a){var o,l=t&L_,c=t&C_,h=t&q_;if(o!==void 0)return o;if(!zs(r))return r;var v=Ys(r);if(v){if(o=t_(r),!l)return Td(r,o)}else{var m=Pn(r),p=m==Gd||m==P_;if(ci(r))return Bd(r,l);if(m==Vd||m==Kd||p&&!s){if(o=c||p?{}:Hd(r),!l)return c?Hb(r,Db(o,r)):Fb(r,jb(o,r))}else{if(!Oe[m])return s?r:{};o=k_(r,m,l)}}a||(a=new is);var g=a.get(r);if(g)return g;a.set(r,o),O_(r)?r.forEach(function(E){o.add(Gi(E,t,e,E,r,a))}):T_(r)&&r.forEach(function(E,k){o.set(k,Gi(E,t,e,k,r,a))});var w=h?c?Kb:al:c?Ai:Ul,b=v?void 0:w(r);return tg(b||r,function(E,k){b&&(k=E,E=r[k]),Sd(o,k,Gi(E,t,e,k,r,a))}),o}var ny=1,sy=4;function ka(r){return Gi(r,ny|sy)}var ay="__lodash_hash_undefined__";function iy(r){return this.__data__.set(r,ay),this}function oy(r){return this.__data__.has(r)}function ao(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new sa;++t<e;)this.add(r[t])}ao.prototype.add=ao.prototype.push=iy;ao.prototype.has=oy;function ly(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function cy(r,t){return r.has(t)}var uy=1,dy=2;function Wd(r,t,e,n,s,a){var o=e&uy,l=r.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var h=a.get(r),v=a.get(t);if(h&&v)return h==t&&v==r;var m=-1,p=!0,g=e&dy?new ao:void 0;for(a.set(r,t),a.set(t,r);++m<l;){var w=r[m],b=t[m];if(n)var E=o?n(b,w,m,t,r,a):n(w,b,m,r,t,a);if(E!==void 0){if(E)continue;p=!1;break}if(g){if(!ly(t,function(k,$){if(!cy(g,$)&&(w===k||s(w,k,e,n,a)))return g.push($)})){p=!1;break}}else if(!(w===b||s(w,b,e,n,a))){p=!1;break}}return a.delete(r),a.delete(t),p}function fy(r){var t=-1,e=Array(r.size);return r.forEach(function(n,s){e[++t]=[s,n]}),e}function hy(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var py=1,vy=2,my="[object Boolean]",gy="[object Date]",by="[object Error]",_y="[object Map]",yy="[object Number]",wy="[object RegExp]",xy="[object Set]",Ey="[object String]",ky="[object Symbol]",Ay="[object ArrayBuffer]",$y="[object DataView]",Jc=Us?Us.prototype:void 0,Ro=Jc?Jc.valueOf:void 0;function Ty(r,t,e,n,s,a,o){switch(e){case $y:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case Ay:return!(r.byteLength!=t.byteLength||!a(new so(r),new so(t)));case my:case gy:case yy:return Ei(+r,+t);case by:return r.name==t.name&&r.message==t.message;case wy:case Ey:return r==t+"";case _y:var l=fy;case xy:var c=n&py;if(l||(l=hy),r.size!=t.size&&!c)return!1;var h=o.get(r);if(h)return h==t;n|=vy,o.set(r,t);var v=Wd(l(r),l(t),n,s,a,o);return o.delete(r),v;case ky:if(Ro)return Ro.call(r)==Ro.call(t)}return!1}var Ny=1,Sy=Object.prototype,Oy=Sy.hasOwnProperty;function Ly(r,t,e,n,s,a){var o=e&Ny,l=al(r),c=l.length,h=al(t),v=h.length;if(c!=v&&!o)return!1;for(var m=c;m--;){var p=l[m];if(!(o?p in t:Oy.call(t,p)))return!1}var g=a.get(r),w=a.get(t);if(g&&w)return g==t&&w==r;var b=!0;a.set(r,t),a.set(t,r);for(var E=o;++m<c;){p=l[m];var k=r[p],$=t[p];if(n)var T=o?n($,k,p,t,r,a):n(k,$,p,r,t,a);if(!(T===void 0?k===$||s(k,$,e,n,a):T)){b=!1;break}E||(E=p=="constructor")}if(b&&!E){var q=r.constructor,S=t.constructor;q!=S&&"constructor"in r&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof S=="function"&&S instanceof S)&&(b=!1)}return a.delete(r),a.delete(t),b}var Cy=1,Zc="[object Arguments]",Yc="[object Array]",Ri="[object Object]",qy=Object.prototype,Xc=qy.hasOwnProperty;function Ry(r,t,e,n,s,a){var o=Ys(r),l=Ys(t),c=o?Yc:Pn(r),h=l?Yc:Pn(t);c=c==Zc?Ri:c,h=h==Zc?Ri:h;var v=c==Ri,m=h==Ri,p=c==h;if(p&&ci(r)){if(!ci(t))return!1;o=!0,v=!1}if(p&&!v)return a||(a=new is),o||Ml(r)?Wd(r,t,e,n,s,a):Ty(r,t,c,e,n,s,a);if(!(e&Cy)){var g=v&&Xc.call(r,"__wrapped__"),w=m&&Xc.call(t,"__wrapped__");if(g||w){var b=g?r.value():r,E=w?t.value():t;return a||(a=new is),s(b,E,e,n,a)}}return p?(a||(a=new is),Ly(r,t,e,n,s,a)):!1}function Jd(r,t,e,n,s){return r===t?!0:r==null||t==null||!bs(r)&&!bs(t)?r!==r&&t!==t:Ry(r,t,e,n,Jd,s)}function Iy(r){return function(t,e,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[++s];if(e(a[c],c,a)===!1)break}return t}}var jy=Iy();function cl(r,t,e){(e!==void 0&&!Ei(r[t],e)||e===void 0&&!(t in r))&&Dl(r,t,e)}function Dy(r){return bs(r)&&vo(r)}function ul(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function Py(r){return ki(r,Ai(r))}function By(r,t,e,n,s,a,o){var l=ul(r,e),c=ul(t,e),h=o.get(c);if(h){cl(r,e,h);return}var v=a?a(l,c,e+"",r,t,o):void 0,m=v===void 0;if(m){var p=Ys(c),g=!p&&ci(c),w=!p&&!g&&Ml(c);v=c,p||g||w?Ys(l)?v=l:Dy(l)?v=Td(l):g?(m=!1,v=Bd(c,!0)):w?(m=!1,v=zd(c,!0)):v=[]:Sb(c)||sl(c)?(v=l,sl(l)?v=Py(l):(!zs(l)||jl(l))&&(v=Hd(c))):m=!1}m&&(o.set(c,v),s(v,c,n,a,o),o.delete(c)),cl(r,e,v)}function Zd(r,t,e,n,s){r!==t&&jy(t,function(a,o){if(s||(s=new is),zs(a))By(r,t,o,e,Zd,n,s);else{var l=n?n(ul(r,o),a,o+"",r,t,s):void 0;l===void 0&&(l=a),cl(r,o,l)}},Ai)}function Kl(r,t){return Jd(r,t)}var Bs=cg(function(r,t,e){Zd(r,t,e)}),Ct=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(Ct||{});class ls{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const s=Ct.TYPE&Ct.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Ct.LEVEL|s:Ct.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Aa extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Yd=class dl{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const s=this.query(e);if(s==null)throw new Aa(`Unable to create ${e} blot`);const a=s,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(n),l=new a(t,o,n);return dl.blots.set(l.domNode,l),l}find(t,e=!1){return dl.find(t,e)}query(t,e=Ct.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Ct.LEVEL&Ct.BLOCK?n=this.types.block:t&Ct.LEVEL&Ct.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&Ct.LEVEL&n.scope&&e&Ct.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,s="attrName"in e;if(!n&&!s)throw new Aa("Invalid definition");if(n&&e.blotName==="abstract")throw new Aa("Cannot register abstract class");const a=n?e.blotName:s?e.attrName:void 0;return this.types[a]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};Yd.blots=new WeakMap;let La=Yd;function Qc(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class My extends ls{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Qc(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Qc(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const Gn=My;function Io(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class Uy extends ls{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Io(this.keyName)]=e,!0):!1}remove(t){t.style[Io(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Io(this.keyName)];return this.canAdd(t,e)?e:""}}const Hs=Uy;class Fy{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=La.find(this.domNode);if(t==null)return;const e=ls.keys(this.domNode),n=Gn.keys(this.domNode),s=Hs.keys(this.domNode);e.concat(n).concat(s).forEach(a=>{const o=t.scroll.query(a,Ct.ATTRIBUTE);o instanceof ls&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const bo=Fy,Xd=class{constructor(t,e){this.scroll=t,this.domNode=e,La.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Aa("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),La.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,s){const a=this.isolate(t,e);if(this.scroll.query(n,Ct.BLOT)!=null&&s)a.wrap(n,s);else if(this.scroll.query(n,Ct.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);a.wrap(o),o.format(n,s)}}insertAt(t,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),a=this.split(t);this.parent.insertBefore(s,a||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Aa(`Cannot wrap ${t}`);return n.appendChild(this),n}};Xd.blotName="abstract";let Qd=Xd;const tf=class extends Qd{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};tf.scope=Ct.INLINE_BLOT;let zy=tf;const $r=zy;class Hy{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),s=0;for(;n;){if(n===t)return s;s+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let s=n();for(;s;){const a=s.length();if(t<a||e&&t===a&&(s.next==null||s.next.length()!==0))return[s,t];t-=a,s=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[s,a]=this.find(t);let o=t-a;const l=this.iterator(s);let c=l();for(;c&&o<t+e;){const h=c.length();t>o?n(c,t-o,Math.min(e,o+h-t)):n(c,0,Math.min(h,t+e-o)),o+=h,c=l()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let s=n();for(;s;)e=t(e,s),s=n();return e}}function tu(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(Ct.INLINE);return Array.from(r.childNodes).forEach(s=>{n.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const ef=class Ns extends Qd{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Ns.uiClass&&this.uiNode.classList.add(Ns.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Hy,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=tu(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Aa)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,s,a)=>{n.deleteAt(s,a)})}descendant(t,e=0){const[n,s]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof Ns?n.descendant(t,s):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let s=[],a=n;return this.children.forEachAt(e,n,(o,l,c)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof Ns&&(s=s.concat(o.descendants(t,l,a))),a-=c}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===Ct.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Ns?e.unwrap():e.remove())})}formatAt(t,e,n,s){this.children.forEachAt(t,e,(a,o,l)=>{a.formatAt(o,l,n,s)})}insertAt(t,e,n){const[s,a]=this.children.find(t);if(s)s.insertAt(a,e,n);else{const o=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,s]=this.children.find(t,e),a=[[this,t]];return n instanceof Ns?a.concat(n.path(s,e)):(n!=null&&a.push([n,s]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof Ns&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,a,o)=>{const l=s.split(a,e);l!=null&&n.appendChild(l)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],s=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(n.push(...a.addedNodes),s.push(...a.removedNodes))}),s.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(a);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,o)=>a===o?0:a.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let o=null;a.nextSibling!=null&&(o=this.scroll.find(a.nextSibling));const l=tu(a,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};ef.uiClass="";let Ky=ef;const Un=Ky;function Gy(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const fa=class ha extends Un{static create(t){return super.create(t)}static formats(t,e){const n=e.query(ha.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new bo(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof ha||(n=n.wrap(ha.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Ct.INLINE);if(n==null)return;n instanceof ls?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.formats()[n]!=null||this.scroll.query(n,Ct.ATTRIBUTE)?this.isolate(t,e).format(n,s):super.formatAt(t,e,n,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof ha&&n.prev===this&&Gy(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof ha&&this.attributes.move(n),n}};fa.allowedChildren=[fa,$r],fa.blotName="inline",fa.scope=Ct.INLINE_BLOT,fa.tagName="SPAN";let Vy=fa;const Gl=Vy,pa=class fl extends Un{static create(t){return super.create(t)}static formats(t,e){const n=e.query(fl.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new bo(this.domNode)}format(t,e){const n=this.scroll.query(t,Ct.BLOCK);n!=null&&(n instanceof ls?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(fl.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.scroll.query(n,Ct.BLOCK)!=null?this.format(n,s):super.formatAt(t,e,n,s)}insertAt(t,e,n){if(n==null||this.scroll.query(e,Ct.INLINE)!=null)super.insertAt(t,e,n);else{const s=this.split(t);if(s!=null){const a=this.scroll.create(e,n);s.parent.insertBefore(a,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};pa.blotName="block",pa.scope=Ct.BLOCK_BLOT,pa.tagName="P",pa.allowedChildren=[Gl,pa,$r];let Wy=pa;const fi=Wy,hl=class extends Un{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};hl.blotName="container",hl.scope=Ct.BLOCK_BLOT;let Jy=hl;const _o=Jy;class Zy extends $r{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,s){t===0&&e===this.length()?this.format(n,s):super.formatAt(t,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const mn=Zy,Yy={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Xy=100,va=class extends Un{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Yy),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=Ct.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,s){this.update(),super.formatAt(t,e,n,s)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const a=(c,h=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(n.has(c.domNode)||n.set(c.domNode,[]),h&&a(c.parent))},o=c=>{n.has(c.domNode)&&(c instanceof Un&&c.children.forEach(o),n.delete(c.domNode),c.optimize(e))};let l=t;for(let c=0;l.length>0;c+=1){if(c>=Xy)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(h=>{const v=this.find(h.target,!0);v!=null&&(v.domNode===h.target&&(h.type==="childList"?(a(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(m=>{const p=this.find(m,!1);a(p,!1),p instanceof Un&&p.children.forEach(g=>{a(g,!1)})})):h.type==="attributes"&&a(v.prev)),a(v))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),s=l.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const a=this.find(s.target,!0);return a==null?null:n.has(a.domNode)?(n.get(a.domNode).push(s),null):(n.set(a.domNode,[s]),a)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};va.blotName="scroll",va.defaultChild=fi,va.allowedChildren=[fi,_o],va.scope=Ct.BLOCK_BLOT,va.tagName="DIV";let Qy=va;const Vl=Qy,pl=class rf extends $r{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof rf&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};pl.blotName="text",pl.scope=Ct.INLINE_BLOT;let t0=pl;const io=t0,e0=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ls,AttributorStore:bo,BlockBlot:fi,ClassAttributor:Gn,ContainerBlot:_o,EmbedBlot:mn,InlineBlot:Gl,LeafBlot:$r,ParentBlot:Un,Registry:La,Scope:Ct,ScrollBlot:Vl,StyleAttributor:Hs,TextBlot:io},Symbol.toStringTag,{value:"Module"}));var qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ii={exports:{}},jo,eu;function r0(){if(eu)return jo;eu=1;var r=-1,t=1,e=0;function n(y,N,A,C,D){if(y===N)return y?[[e,y]]:[];if(A!=null){var P=U(y,N,A);if(P)return P}var H=l(y,N),K=y.substring(0,H);y=y.substring(H),N=N.substring(H),H=h(y,N);var V=y.substring(y.length-H);y=y.substring(0,y.length-H),N=N.substring(0,N.length-H);var G=s(y,N);return K&&G.unshift([e,K]),V&&G.push([e,V]),$(G,D),C&&m(G),G}function s(y,N){var A;if(!y)return[[t,N]];if(!N)return[[r,y]];var C=y.length>N.length?y:N,D=y.length>N.length?N:y,P=C.indexOf(D);if(P!==-1)return A=[[t,C.substring(0,P)],[e,D],[t,C.substring(P+D.length)]],y.length>N.length&&(A[0][0]=A[2][0]=r),A;if(D.length===1)return[[r,y],[t,N]];var H=v(y,N);if(H){var K=H[0],V=H[1],G=H[2],tt=H[3],st=H[4],at=n(K,G),lt=n(V,tt);return at.concat([[e,st]],lt)}return a(y,N)}function a(y,N){for(var A=y.length,C=N.length,D=Math.ceil((A+C)/2),P=D,H=2*D,K=new Array(H),V=new Array(H),G=0;G<H;G++)K[G]=-1,V[G]=-1;K[P+1]=0,V[P+1]=0;for(var tt=A-C,st=tt%2!==0,at=0,lt=0,J=0,ct=0,gt=0;gt<D;gt++){for(var ft=-gt+at;ft<=gt-lt;ft+=2){var vt=P+ft,et;ft===-gt||ft!==gt&&K[vt-1]<K[vt+1]?et=K[vt+1]:et=K[vt-1]+1;for(var ot=et-ft;et<A&&ot<C&&y.charAt(et)===N.charAt(ot);)et++,ot++;if(K[vt]=et,et>A)lt+=2;else if(ot>C)at+=2;else if(st){var ut=P+tt-ft;if(ut>=0&&ut<H&&V[ut]!==-1){var ht=A-V[ut];if(et>=ht)return o(y,N,et,ot)}}}for(var Et=-gt+J;Et<=gt-ct;Et+=2){var ut=P+Et,ht;Et===-gt||Et!==gt&&V[ut-1]<V[ut+1]?ht=V[ut+1]:ht=V[ut-1]+1;for(var $t=ht-Et;ht<A&&$t<C&&y.charAt(A-ht-1)===N.charAt(C-$t-1);)ht++,$t++;if(V[ut]=ht,ht>A)ct+=2;else if($t>C)J+=2;else if(!st){var vt=P+tt-Et;if(vt>=0&&vt<H&&K[vt]!==-1){var et=K[vt],ot=P+et-vt;if(ht=A-ht,et>=ht)return o(y,N,et,ot)}}}}return[[r,y],[t,N]]}function o(y,N,A,C){var D=y.substring(0,A),P=N.substring(0,C),H=y.substring(A),K=N.substring(C),V=n(D,P),G=n(H,K);return V.concat(G)}function l(y,N){if(!y||!N||y.charAt(0)!==N.charAt(0))return 0;for(var A=0,C=Math.min(y.length,N.length),D=C,P=0;A<D;)y.substring(P,D)==N.substring(P,D)?(A=D,P=A):C=D,D=Math.floor((C-A)/2+A);return T(y.charCodeAt(D-1))&&D--,D}function c(y,N){var A=y.length,C=N.length;if(A==0||C==0)return 0;A>C?y=y.substring(A-C):A<C&&(N=N.substring(0,A));var D=Math.min(A,C);if(y==N)return D;for(var P=0,H=1;;){var K=y.substring(D-H),V=N.indexOf(K);if(V==-1)return P;H+=V,(V==0||y.substring(D-H)==N.substring(0,H))&&(P=H,H++)}}function h(y,N){if(!y||!N||y.slice(-1)!==N.slice(-1))return 0;for(var A=0,C=Math.min(y.length,N.length),D=C,P=0;A<D;)y.substring(y.length-D,y.length-P)==N.substring(N.length-D,N.length-P)?(A=D,P=A):C=D,D=Math.floor((C-A)/2+A);return q(y.charCodeAt(y.length-D))&&D--,D}function v(y,N){var A=y.length>N.length?y:N,C=y.length>N.length?N:y;if(A.length<4||C.length*2<A.length)return null;function D(lt,J,ct){for(var gt=lt.substring(ct,ct+Math.floor(lt.length/4)),ft=-1,vt="",et,ot,ut,ht;(ft=J.indexOf(gt,ft+1))!==-1;){var Et=l(lt.substring(ct),J.substring(ft)),$t=h(lt.substring(0,ct),J.substring(0,ft));vt.length<$t+Et&&(vt=J.substring(ft-$t,ft)+J.substring(ft,ft+Et),et=lt.substring(0,ct-$t),ot=lt.substring(ct+Et),ut=J.substring(0,ft-$t),ht=J.substring(ft+Et))}return vt.length*2>=lt.length?[et,ot,ut,ht,vt]:null}var P=D(A,C,Math.ceil(A.length/4)),H=D(A,C,Math.ceil(A.length/2)),K;if(!P&&!H)return null;H?P?K=P[4].length>H[4].length?P:H:K=H:K=P;var V,G,tt,st;y.length>N.length?(V=K[0],G=K[1],tt=K[2],st=K[3]):(tt=K[0],st=K[1],V=K[2],G=K[3]);var at=K[4];return[V,G,tt,st,at]}function m(y){for(var N=!1,A=[],C=0,D=null,P=0,H=0,K=0,V=0,G=0;P<y.length;)y[P][0]==e?(A[C++]=P,H=V,K=G,V=0,G=0,D=y[P][1]):(y[P][0]==t?V+=y[P][1].length:G+=y[P][1].length,D&&D.length<=Math.max(H,K)&&D.length<=Math.max(V,G)&&(y.splice(A[C-1],0,[r,D]),y[A[C-1]+1][0]=t,C--,C--,P=C>0?A[C-1]:-1,H=0,K=0,V=0,G=0,D=null,N=!0)),P++;for(N&&$(y),k(y),P=1;P<y.length;){if(y[P-1][0]==r&&y[P][0]==t){var tt=y[P-1][1],st=y[P][1],at=c(tt,st),lt=c(st,tt);at>=lt?(at>=tt.length/2||at>=st.length/2)&&(y.splice(P,0,[e,st.substring(0,at)]),y[P-1][1]=tt.substring(0,tt.length-at),y[P+1][1]=st.substring(at),P++):(lt>=tt.length/2||lt>=st.length/2)&&(y.splice(P,0,[e,tt.substring(0,lt)]),y[P-1][0]=t,y[P-1][1]=st.substring(0,st.length-lt),y[P+1][0]=r,y[P+1][1]=tt.substring(lt),P++),P++}P++}}var p=/[^a-zA-Z0-9]/,g=/\s/,w=/[\r\n]/,b=/\n\r?\n$/,E=/^\r?\n\r?\n/;function k(y){function N(lt,J){if(!lt||!J)return 6;var ct=lt.charAt(lt.length-1),gt=J.charAt(0),ft=ct.match(p),vt=gt.match(p),et=ft&&ct.match(g),ot=vt&&gt.match(g),ut=et&&ct.match(w),ht=ot&&gt.match(w),Et=ut&&lt.match(b),$t=ht&&J.match(E);return Et||$t?5:ut||ht?4:ft&&!et&&ot?3:et||ot?2:ft||vt?1:0}for(var A=1;A<y.length-1;){if(y[A-1][0]==e&&y[A+1][0]==e){var C=y[A-1][1],D=y[A][1],P=y[A+1][1],H=h(C,D);if(H){var K=D.substring(D.length-H);C=C.substring(0,C.length-H),D=K+D.substring(0,D.length-H),P=K+P}for(var V=C,G=D,tt=P,st=N(C,D)+N(D,P);D.charAt(0)===P.charAt(0);){C+=D.charAt(0),D=D.substring(1)+P.charAt(0),P=P.substring(1);var at=N(C,D)+N(D,P);at>=st&&(st=at,V=C,G=D,tt=P)}y[A-1][1]!=V&&(V?y[A-1][1]=V:(y.splice(A-1,1),A--),y[A][1]=G,tt?y[A+1][1]=tt:(y.splice(A+1,1),A--))}A++}}function $(y,N){y.push([e,""]);for(var A=0,C=0,D=0,P="",H="",K;A<y.length;){if(A<y.length-1&&!y[A][1]){y.splice(A,1);continue}switch(y[A][0]){case t:D++,H+=y[A][1],A++;break;case r:C++,P+=y[A][1],A++;break;case e:var V=A-D-C-1;if(N){if(V>=0&&L(y[V][1])){var G=y[V][1].slice(-1);if(y[V][1]=y[V][1].slice(0,-1),P=G+P,H=G+H,!y[V][1]){y.splice(V,1),A--;var tt=V-1;y[tt]&&y[tt][0]===t&&(D++,H=y[tt][1]+H,tt--),y[tt]&&y[tt][0]===r&&(C++,P=y[tt][1]+P,tt--),V=tt}}if(S(y[A][1])){var G=y[A][1].charAt(0);y[A][1]=y[A][1].slice(1),P+=G,H+=G}}if(A<y.length-1&&!y[A][1]){y.splice(A,1);break}if(P.length>0||H.length>0){P.length>0&&H.length>0&&(K=l(H,P),K!==0&&(V>=0?y[V][1]+=H.substring(0,K):(y.splice(0,0,[e,H.substring(0,K)]),A++),H=H.substring(K),P=P.substring(K)),K=h(H,P),K!==0&&(y[A][1]=H.substring(H.length-K)+y[A][1],H=H.substring(0,H.length-K),P=P.substring(0,P.length-K)));var st=D+C;P.length===0&&H.length===0?(y.splice(A-st,st),A=A-st):P.length===0?(y.splice(A-st,st,[t,H]),A=A-st+1):H.length===0?(y.splice(A-st,st,[r,P]),A=A-st+1):(y.splice(A-st,st,[r,P],[t,H]),A=A-st+2)}A!==0&&y[A-1][0]===e?(y[A-1][1]+=y[A][1],y.splice(A,1)):A++,D=0,C=0,P="",H="";break}}y[y.length-1][1]===""&&y.pop();var at=!1;for(A=1;A<y.length-1;)y[A-1][0]===e&&y[A+1][0]===e&&(y[A][1].substring(y[A][1].length-y[A-1][1].length)===y[A-1][1]?(y[A][1]=y[A-1][1]+y[A][1].substring(0,y[A][1].length-y[A-1][1].length),y[A+1][1]=y[A-1][1]+y[A+1][1],y.splice(A-1,1),at=!0):y[A][1].substring(0,y[A+1][1].length)==y[A+1][1]&&(y[A-1][1]+=y[A+1][1],y[A][1]=y[A][1].substring(y[A+1][1].length)+y[A+1][1],y.splice(A+1,1),at=!0)),A++;at&&$(y,N)}function T(y){return y>=55296&&y<=56319}function q(y){return y>=56320&&y<=57343}function S(y){return q(y.charCodeAt(0))}function L(y){return T(y.charCodeAt(y.length-1))}function M(y){for(var N=[],A=0;A<y.length;A++)y[A][1].length>0&&N.push(y[A]);return N}function B(y,N,A,C){return L(y)||S(C)?null:M([[e,y],[r,N],[t,A],[e,C]])}function U(y,N,A){var C=typeof A=="number"?{index:A,length:0}:A.oldRange,D=typeof A=="number"?null:A.newRange,P=y.length,H=N.length;if(C.length===0&&(D===null||D.length===0)){var K=C.index,V=y.slice(0,K),G=y.slice(K),tt=D?D.index:null;t:{var st=K+H-P;if(tt!==null&&tt!==st||st<0||st>H)break t;var at=N.slice(0,st),lt=N.slice(st);if(lt!==G)break t;var J=Math.min(K,st),ct=V.slice(0,J),gt=at.slice(0,J);if(ct!==gt)break t;var ft=V.slice(J),vt=at.slice(J);return B(ct,ft,vt,G)}t:{if(tt!==null&&tt!==K)break t;var et=K,at=N.slice(0,et),lt=N.slice(et);if(at!==V)break t;var ot=Math.min(P-et,H-et),ut=G.slice(G.length-ot),ht=lt.slice(lt.length-ot);if(ut!==ht)break t;var ft=G.slice(0,G.length-ot),vt=lt.slice(0,lt.length-ot);return B(V,ft,vt,ut)}}if(C.length>0&&D&&D.length===0)t:{var ct=y.slice(0,C.index),ut=y.slice(C.index+C.length),J=ct.length,ot=ut.length;if(H<J+ot)break t;var gt=N.slice(0,J),ht=N.slice(H-ot);if(ct!==gt||ut!==ht)break t;var ft=y.slice(J,P-ot),vt=N.slice(J,H-ot);return B(ct,ft,vt,ut)}return null}function z(y,N,A,C){return n(y,N,A,C,!0)}return z.INSERT=t,z.DELETE=r,z.EQUAL=e,jo=z,jo}var Ja={exports:{}};Ja.exports;var ru;function sf(){return ru||(ru=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=9007199254740991,a="[object Arguments]",o="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",v="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",w="[object Object]",b="[object Promise]",E="[object RegExp]",k="[object Set]",$="[object String]",T="[object Symbol]",q="[object WeakMap]",S="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",z="[object Int16Array]",y="[object Int32Array]",N="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",D="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,H=/\w*$/,K=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,G={};G[a]=G[o]=G[S]=G[L]=G[l]=G[c]=G[M]=G[B]=G[U]=G[z]=G[y]=G[p]=G[g]=G[w]=G[E]=G[k]=G[$]=G[T]=G[N]=G[A]=G[C]=G[D]=!0,G[h]=G[v]=G[q]=!1;var tt=typeof qs=="object"&&qs&&qs.Object===Object&&qs,st=typeof self=="object"&&self&&self.Object===Object&&self,at=tt||st||Function("return this")(),lt=t&&!t.nodeType&&t,J=lt&&!0&&r&&!r.nodeType&&r,ct=J&&J.exports===lt;function gt(d,x){return d.set(x[0],x[1]),d}function ft(d,x){return d.add(x),d}function vt(d,x){for(var R=-1,Y=d?d.length:0;++R<Y&&x(d[R],R,d)!==!1;);return d}function et(d,x){for(var R=-1,Y=x.length,Pt=d.length;++R<Y;)d[Pt+R]=x[R];return d}function ot(d,x,R,Y){for(var Pt=-1,Ot=d?d.length:0;++Pt<Ot;)R=x(R,d[Pt],Pt,d);return R}function ut(d,x){for(var R=-1,Y=Array(d);++R<d;)Y[R]=x(R);return Y}function ht(d,x){return d==null?void 0:d[x]}function Et(d){var x=!1;if(d!=null&&typeof d.toString!="function")try{x=!!(d+"")}catch{}return x}function $t(d){var x=-1,R=Array(d.size);return d.forEach(function(Y,Pt){R[++x]=[Pt,Y]}),R}function Nt(d,x){return function(R){return d(x(R))}}function It(d){var x=-1,R=Array(d.size);return d.forEach(function(Y){R[++x]=Y}),R}var Bt=Array.prototype,se=Function.prototype,Ut=Object.prototype,te=at["__core-js_shared__"],zt=function(){var d=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),de=se.toString,Ht=Ut.hasOwnProperty,ie=Ut.toString,fe=RegExp("^"+de.call(Ht).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=ct?at.Buffer:void 0,Jt=at.Symbol,ce=at.Uint8Array,Kt=Nt(Object.getPrototypeOf,Object),ve=Object.create,xe=Ut.propertyIsEnumerable,Te=Bt.splice,ge=Object.getOwnPropertySymbols,Le=Mt?Mt.isBuffer:void 0,ke=Nt(Object.keys,Object),Ee=sr(at,"DataView"),me=sr(at,"Map"),ee=sr(at,"Promise"),Ae=sr(at,"Set"),Ce=sr(at,"WeakMap"),Ne=sr(Object,"create"),rt=Me(Ee),dt=Me(me),_t=Me(ee),qt=Me(Ae),mt=Me(Ce),ze=Jt?Jt.prototype:void 0,er=ze?ze.valueOf:void 0;function Ve(d){var x=-1,R=d?d.length:0;for(this.clear();++x<R;){var Y=d[x];this.set(Y[0],Y[1])}}function Nr(){this.__data__=Ne?Ne(null):{}}function ur(d){return this.has(d)&&delete this.__data__[d]}function dr(d){var x=this.__data__;if(Ne){var R=x[d];return R===n?void 0:R}return Ht.call(x,d)?x[d]:void 0}function fr(d){var x=this.__data__;return Ne?x[d]!==void 0:Ht.call(x,d)}function rr(d,x){var R=this.__data__;return R[d]=Ne&&x===void 0?n:x,this}Ve.prototype.clear=Nr,Ve.prototype.delete=ur,Ve.prototype.get=dr,Ve.prototype.has=fr,Ve.prototype.set=rr;function be(d){var x=-1,R=d?d.length:0;for(this.clear();++x<R;){var Y=d[x];this.set(Y[0],Y[1])}}function Kr(){this.__data__=[]}function Gr(d){var x=this.__data__,R=nr(x,d);if(R<0)return!1;var Y=x.length-1;return R==Y?x.pop():Te.call(x,R,1),!0}function Sr(d){var x=this.__data__,R=nr(x,d);return R<0?void 0:x[R][1]}function hr(d){return nr(this.__data__,d)>-1}function pr(d,x){var R=this.__data__,Y=nr(R,d);return Y<0?R.push([d,x]):R[Y][1]=x,this}be.prototype.clear=Kr,be.prototype.delete=Gr,be.prototype.get=Sr,be.prototype.has=hr,be.prototype.set=pr;function $e(d){var x=-1,R=d?d.length:0;for(this.clear();++x<R;){var Y=d[x];this.set(Y[0],Y[1])}}function Vr(){this.__data__={hash:new Ve,map:new(me||be),string:new Ve}}function Or(d){return Tt(this,d).delete(d)}function vr(d){return Tt(this,d).get(d)}function mr(d){return Tt(this,d).has(d)}function Wr(d,x){return Tt(this,d).set(d,x),this}$e.prototype.clear=Vr,$e.prototype.delete=Or,$e.prototype.get=vr,$e.prototype.has=mr,$e.prototype.set=Wr;function qe(d){this.__data__=new be(d)}function Lr(){this.__data__=new be}function gr(d){return this.__data__.delete(d)}function Cr(d){return this.__data__.get(d)}function Jr(d){return this.__data__.has(d)}function qr(d,x){var R=this.__data__;if(R instanceof be){var Y=R.__data__;if(!me||Y.length<e-1)return Y.push([d,x]),this;R=this.__data__=new $e(Y)}return R.set(d,x),this}qe.prototype.clear=Lr,qe.prototype.delete=gr,qe.prototype.get=Cr,qe.prototype.has=Jr,qe.prototype.set=qr;function Ye(d,x){var R=ln(d)||on(d)?ut(d.length,String):[],Y=R.length,Pt=!!Y;for(var Ot in d)Ht.call(d,Ot)&&!(Pt&&(Ot=="length"||ds(Ot,Y)))&&R.push(Ot);return R}function br(d,x,R){var Y=d[x];(!(Ht.call(d,x)&&Qn(Y,R))||R===void 0&&!(x in d))&&(d[x]=R)}function nr(d,x){for(var R=d.length;R--;)if(Qn(d[R][0],x))return R;return-1}function We(d,x){return d&&wr(x,yn(x),d)}function _r(d,x,R,Y,Pt,Ot,re){var Wt;if(Y&&(Wt=Ot?Y(d,Pt,Ot,re):Y(d)),Wt!==void 0)return Wt;if(!ir(d))return d;var Se=ln(d);if(Se){if(Wt=Nn(d),!x)return Pr(d,Wt)}else{var ne=Br(d),Ue=ne==v||ne==m;if(Sn(d))return jr(d,x);if(ne==w||ne==a||Ue&&!Ot){if(Et(d))return Ot?d:{};if(Wt=ar(Ue?{}:d),!x)return sn(d,We(Wt,d))}else{if(!G[ne])return Ot?d:{};Wt=Jn(d,ne,_r,x)}}re||(re=new qe);var He=re.get(d);if(He)return He;if(re.set(d,Wt),!Se)var Re=R?Yr(d):yn(d);return vt(Re||d,function(Fe,Pe){Re&&(Pe=Fe,Fe=d[Pe]),br(Wt,Pe,_r(Fe,x,R,Y,Pe,d,re))}),Wt}function yr(d){return ir(d)?ve(d):{}}function Rr(d,x,R){var Y=x(d);return ln(d)?Y:et(Y,R(d))}function Ir(d){return ie.call(d)}function Zr(d){if(!ir(d)||Yn(d))return!1;var x=On(d)||Et(d)?fe:K;return x.test(Me(d))}function Rt(d){if(!an(d))return ke(d);var x=[];for(var R in Object(d))Ht.call(d,R)&&R!="constructor"&&x.push(R);return x}function jr(d,x){if(x)return d.slice();var R=new d.constructor(d.length);return d.copy(R),R}function Dr(d){var x=new d.constructor(d.byteLength);return new ce(x).set(new ce(d)),x}function or(d,x){var R=x?Dr(d.buffer):d.buffer;return new d.constructor(R,d.byteOffset,d.byteLength)}function en(d,x,R){var Y=x?R($t(d),!0):$t(d);return ot(Y,gt,new d.constructor)}function gn(d){var x=new d.constructor(d.source,H.exec(d));return x.lastIndex=d.lastIndex,x}function rn(d,x,R){var Y=x?R(It(d),!0):It(d);return ot(Y,ft,new d.constructor)}function bn(d){return er?Object(er.call(d)):{}}function nn(d,x){var R=x?Dr(d.buffer):d.buffer;return new d.constructor(R,d.byteOffset,d.length)}function Pr(d,x){var R=-1,Y=d.length;for(x||(x=Array(Y));++R<Y;)x[R]=d[R];return x}function wr(d,x,R,Y){R||(R={});for(var Pt=-1,Ot=x.length;++Pt<Ot;){var re=x[Pt],Wt=void 0;br(R,re,Wt===void 0?d[re]:Wt)}return R}function sn(d,x){return wr(d,xr(d),x)}function Yr(d){return Rr(d,yn,xr)}function Tt(d,x){var R=d.__data__;return Zn(x)?R[typeof x=="string"?"string":"hash"]:R.map}function sr(d,x){var R=ht(d,x);return Zr(R)?R:void 0}var xr=ge?Nt(ge,Object):fs,Br=Ir;(Ee&&Br(new Ee(new ArrayBuffer(1)))!=L||me&&Br(new me)!=p||ee&&Br(ee.resolve())!=b||Ae&&Br(new Ae)!=k||Ce&&Br(new Ce)!=q)&&(Br=function(d){var x=ie.call(d),R=x==w?d.constructor:void 0,Y=R?Me(R):void 0;if(Y)switch(Y){case rt:return L;case dt:return p;case _t:return b;case qt:return k;case mt:return q}return x});function Nn(d){var x=d.length,R=d.constructor(x);return x&&typeof d[0]=="string"&&Ht.call(d,"index")&&(R.index=d.index,R.input=d.input),R}function ar(d){return typeof d.constructor=="function"&&!an(d)?yr(Kt(d)):{}}function Jn(d,x,R,Y){var Pt=d.constructor;switch(x){case S:return Dr(d);case l:case c:return new Pt(+d);case L:return or(d,Y);case M:case B:case U:case z:case y:case N:case A:case C:case D:return nn(d,Y);case p:return en(d,Y,R);case g:case $:return new Pt(d);case E:return gn(d);case k:return rn(d,Y,R);case T:return bn(d)}}function ds(d,x){return x=x??s,!!x&&(typeof d=="number"||V.test(d))&&d>-1&&d%1==0&&d<x}function Zn(d){var x=typeof d;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?d!=="__proto__":d===null}function Yn(d){return!!zt&&zt in d}function an(d){var x=d&&d.constructor,R=typeof x=="function"&&x.prototype||Ut;return d===R}function Me(d){if(d!=null){try{return de.call(d)}catch{}try{return d+""}catch{}}return""}function Xn(d){return _r(d,!0,!0)}function Qn(d,x){return d===x||d!==d&&x!==x}function on(d){return ts(d)&&Ht.call(d,"callee")&&(!xe.call(d,"callee")||ie.call(d)==a)}var ln=Array.isArray;function Xr(d){return d!=null&&_n(d.length)&&!On(d)}function ts(d){return Ln(d)&&Xr(d)}var Sn=Le||Cn;function On(d){var x=ir(d)?ie.call(d):"";return x==v||x==m}function _n(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=s}function ir(d){var x=typeof d;return!!d&&(x=="object"||x=="function")}function Ln(d){return!!d&&typeof d=="object"}function yn(d){return Xr(d)?Ye(d):Rt(d)}function fs(){return[]}function Cn(){return!1}r.exports=Xn}(Ja,Ja.exports)),Ja.exports}var Za={exports:{}};Za.exports;var nu;function af(){return nu||(nu=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=1,a=2,o=9007199254740991,l="[object Arguments]",c="[object Array]",h="[object AsyncFunction]",v="[object Boolean]",m="[object Date]",p="[object Error]",g="[object Function]",w="[object GeneratorFunction]",b="[object Map]",E="[object Number]",k="[object Null]",$="[object Object]",T="[object Promise]",q="[object Proxy]",S="[object RegExp]",L="[object Set]",M="[object String]",B="[object Symbol]",U="[object Undefined]",z="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",H="[object Int32Array]",K="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",tt="[object Uint32Array]",st=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,lt=/^(?:0|[1-9]\d*)$/,J={};J[A]=J[C]=J[D]=J[P]=J[H]=J[K]=J[V]=J[G]=J[tt]=!0,J[l]=J[c]=J[y]=J[v]=J[N]=J[m]=J[p]=J[g]=J[b]=J[E]=J[$]=J[S]=J[L]=J[M]=J[z]=!1;var ct=typeof qs=="object"&&qs&&qs.Object===Object&&qs,gt=typeof self=="object"&&self&&self.Object===Object&&self,ft=ct||gt||Function("return this")(),vt=t&&!t.nodeType&&t,et=vt&&!0&&r&&!r.nodeType&&r,ot=et&&et.exports===vt,ut=ot&&ct.process,ht=function(){try{return ut&&ut.binding&&ut.binding("util")}catch{}}(),Et=ht&&ht.isTypedArray;function $t(d,x){for(var R=-1,Y=d==null?0:d.length,Pt=0,Ot=[];++R<Y;){var re=d[R];x(re,R,d)&&(Ot[Pt++]=re)}return Ot}function Nt(d,x){for(var R=-1,Y=x.length,Pt=d.length;++R<Y;)d[Pt+R]=x[R];return d}function It(d,x){for(var R=-1,Y=d==null?0:d.length;++R<Y;)if(x(d[R],R,d))return!0;return!1}function Bt(d,x){for(var R=-1,Y=Array(d);++R<d;)Y[R]=x(R);return Y}function se(d){return function(x){return d(x)}}function Ut(d,x){return d.has(x)}function te(d,x){return d==null?void 0:d[x]}function zt(d){var x=-1,R=Array(d.size);return d.forEach(function(Y,Pt){R[++x]=[Pt,Y]}),R}function de(d,x){return function(R){return d(x(R))}}function Ht(d){var x=-1,R=Array(d.size);return d.forEach(function(Y){R[++x]=Y}),R}var ie=Array.prototype,fe=Function.prototype,Mt=Object.prototype,Jt=ft["__core-js_shared__"],ce=fe.toString,Kt=Mt.hasOwnProperty,ve=function(){var d=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),xe=Mt.toString,Te=RegExp("^"+ce.call(Kt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=ot?ft.Buffer:void 0,Le=ft.Symbol,ke=ft.Uint8Array,Ee=Mt.propertyIsEnumerable,me=ie.splice,ee=Le?Le.toStringTag:void 0,Ae=Object.getOwnPropertySymbols,Ce=ge?ge.isBuffer:void 0,Ne=de(Object.keys,Object),rt=xr(ft,"DataView"),dt=xr(ft,"Map"),_t=xr(ft,"Promise"),qt=xr(ft,"Set"),mt=xr(ft,"WeakMap"),ze=xr(Object,"create"),er=Me(rt),Ve=Me(dt),Nr=Me(_t),ur=Me(qt),dr=Me(mt),fr=Le?Le.prototype:void 0,rr=fr?fr.valueOf:void 0;function be(d){var x=-1,R=d==null?0:d.length;for(this.clear();++x<R;){var Y=d[x];this.set(Y[0],Y[1])}}function Kr(){this.__data__=ze?ze(null):{},this.size=0}function Gr(d){var x=this.has(d)&&delete this.__data__[d];return this.size-=x?1:0,x}function Sr(d){var x=this.__data__;if(ze){var R=x[d];return R===n?void 0:R}return Kt.call(x,d)?x[d]:void 0}function hr(d){var x=this.__data__;return ze?x[d]!==void 0:Kt.call(x,d)}function pr(d,x){var R=this.__data__;return this.size+=this.has(d)?0:1,R[d]=ze&&x===void 0?n:x,this}be.prototype.clear=Kr,be.prototype.delete=Gr,be.prototype.get=Sr,be.prototype.has=hr,be.prototype.set=pr;function $e(d){var x=-1,R=d==null?0:d.length;for(this.clear();++x<R;){var Y=d[x];this.set(Y[0],Y[1])}}function Vr(){this.__data__=[],this.size=0}function Or(d){var x=this.__data__,R=jr(x,d);if(R<0)return!1;var Y=x.length-1;return R==Y?x.pop():me.call(x,R,1),--this.size,!0}function vr(d){var x=this.__data__,R=jr(x,d);return R<0?void 0:x[R][1]}function mr(d){return jr(this.__data__,d)>-1}function Wr(d,x){var R=this.__data__,Y=jr(R,d);return Y<0?(++this.size,R.push([d,x])):R[Y][1]=x,this}$e.prototype.clear=Vr,$e.prototype.delete=Or,$e.prototype.get=vr,$e.prototype.has=mr,$e.prototype.set=Wr;function qe(d){var x=-1,R=d==null?0:d.length;for(this.clear();++x<R;){var Y=d[x];this.set(Y[0],Y[1])}}function Lr(){this.size=0,this.__data__={hash:new be,map:new(dt||$e),string:new be}}function gr(d){var x=sr(this,d).delete(d);return this.size-=x?1:0,x}function Cr(d){return sr(this,d).get(d)}function Jr(d){return sr(this,d).has(d)}function qr(d,x){var R=sr(this,d),Y=R.size;return R.set(d,x),this.size+=R.size==Y?0:1,this}qe.prototype.clear=Lr,qe.prototype.delete=gr,qe.prototype.get=Cr,qe.prototype.has=Jr,qe.prototype.set=qr;function Ye(d){var x=-1,R=d==null?0:d.length;for(this.__data__=new qe;++x<R;)this.add(d[x])}function br(d){return this.__data__.set(d,n),this}function nr(d){return this.__data__.has(d)}Ye.prototype.add=Ye.prototype.push=br,Ye.prototype.has=nr;function We(d){var x=this.__data__=new $e(d);this.size=x.size}function _r(){this.__data__=new $e,this.size=0}function yr(d){var x=this.__data__,R=x.delete(d);return this.size=x.size,R}function Rr(d){return this.__data__.get(d)}function Ir(d){return this.__data__.has(d)}function Zr(d,x){var R=this.__data__;if(R instanceof $e){var Y=R.__data__;if(!dt||Y.length<e-1)return Y.push([d,x]),this.size=++R.size,this;R=this.__data__=new qe(Y)}return R.set(d,x),this.size=R.size,this}We.prototype.clear=_r,We.prototype.delete=yr,We.prototype.get=Rr,We.prototype.has=Ir,We.prototype.set=Zr;function Rt(d,x){var R=on(d),Y=!R&&Qn(d),Pt=!R&&!Y&&Xr(d),Ot=!R&&!Y&&!Pt&&Ln(d),re=R||Y||Pt||Ot,Wt=re?Bt(d.length,String):[],Se=Wt.length;for(var ne in d)Kt.call(d,ne)&&!(re&&(ne=="length"||Pt&&(ne=="offset"||ne=="parent")||Ot&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Jn(ne,Se)))&&Wt.push(ne);return Wt}function jr(d,x){for(var R=d.length;R--;)if(Xn(d[R][0],x))return R;return-1}function Dr(d,x,R){var Y=x(d);return on(d)?Y:Nt(Y,R(d))}function or(d){return d==null?d===void 0?U:k:ee&&ee in Object(d)?Br(d):an(d)}function en(d){return ir(d)&&or(d)==l}function gn(d,x,R,Y,Pt){return d===x?!0:d==null||x==null||!ir(d)&&!ir(x)?d!==d&&x!==x:rn(d,x,R,Y,gn,Pt)}function rn(d,x,R,Y,Pt,Ot){var re=on(d),Wt=on(x),Se=re?c:ar(d),ne=Wt?c:ar(x);Se=Se==l?$:Se,ne=ne==l?$:ne;var Ue=Se==$,He=ne==$,Re=Se==ne;if(Re&&Xr(d)){if(!Xr(x))return!1;re=!0,Ue=!1}if(Re&&!Ue)return Ot||(Ot=new We),re||Ln(d)?wr(d,x,R,Y,Pt,Ot):sn(d,x,Se,R,Y,Pt,Ot);if(!(R&s)){var Fe=Ue&&Kt.call(d,"__wrapped__"),Pe=He&&Kt.call(x,"__wrapped__");if(Fe||Pe){var Mr=Fe?d.value():d,Ur=Pe?x.value():x;return Ot||(Ot=new We),Pt(Mr,Ur,R,Y,Ot)}}return Re?(Ot||(Ot=new We),Yr(d,x,R,Y,Pt,Ot)):!1}function bn(d){if(!_n(d)||Zn(d))return!1;var x=Sn(d)?Te:at;return x.test(Me(d))}function nn(d){return ir(d)&&On(d.length)&&!!J[or(d)]}function Pr(d){if(!Yn(d))return Ne(d);var x=[];for(var R in Object(d))Kt.call(d,R)&&R!="constructor"&&x.push(R);return x}function wr(d,x,R,Y,Pt,Ot){var re=R&s,Wt=d.length,Se=x.length;if(Wt!=Se&&!(re&&Se>Wt))return!1;var ne=Ot.get(d);if(ne&&Ot.get(x))return ne==x;var Ue=-1,He=!0,Re=R&a?new Ye:void 0;for(Ot.set(d,x),Ot.set(x,d);++Ue<Wt;){var Fe=d[Ue],Pe=x[Ue];if(Y)var Mr=re?Y(Pe,Fe,Ue,x,d,Ot):Y(Fe,Pe,Ue,d,x,Ot);if(Mr!==void 0){if(Mr)continue;He=!1;break}if(Re){if(!It(x,function(Ur,cn){if(!Ut(Re,cn)&&(Fe===Ur||Pt(Fe,Ur,R,Y,Ot)))return Re.push(cn)})){He=!1;break}}else if(!(Fe===Pe||Pt(Fe,Pe,R,Y,Ot))){He=!1;break}}return Ot.delete(d),Ot.delete(x),He}function sn(d,x,R,Y,Pt,Ot,re){switch(R){case N:if(d.byteLength!=x.byteLength||d.byteOffset!=x.byteOffset)return!1;d=d.buffer,x=x.buffer;case y:return!(d.byteLength!=x.byteLength||!Ot(new ke(d),new ke(x)));case v:case m:case E:return Xn(+d,+x);case p:return d.name==x.name&&d.message==x.message;case S:case M:return d==x+"";case b:var Wt=zt;case L:var Se=Y&s;if(Wt||(Wt=Ht),d.size!=x.size&&!Se)return!1;var ne=re.get(d);if(ne)return ne==x;Y|=a,re.set(d,x);var Ue=wr(Wt(d),Wt(x),Y,Pt,Ot,re);return re.delete(d),Ue;case B:if(rr)return rr.call(d)==rr.call(x)}return!1}function Yr(d,x,R,Y,Pt,Ot){var re=R&s,Wt=Tt(d),Se=Wt.length,ne=Tt(x),Ue=ne.length;if(Se!=Ue&&!re)return!1;for(var He=Se;He--;){var Re=Wt[He];if(!(re?Re in x:Kt.call(x,Re)))return!1}var Fe=Ot.get(d);if(Fe&&Ot.get(x))return Fe==x;var Pe=!0;Ot.set(d,x),Ot.set(x,d);for(var Mr=re;++He<Se;){Re=Wt[He];var Ur=d[Re],cn=x[Re];if(Y)var Es=re?Y(cn,Ur,Re,x,d,Ot):Y(Ur,cn,Re,d,x,Ot);if(!(Es===void 0?Ur===cn||Pt(Ur,cn,R,Y,Ot):Es)){Pe=!1;break}Mr||(Mr=Re=="constructor")}if(Pe&&!Mr){var qn=d.constructor,Rn=x.constructor;qn!=Rn&&"constructor"in d&&"constructor"in x&&!(typeof qn=="function"&&qn instanceof qn&&typeof Rn=="function"&&Rn instanceof Rn)&&(Pe=!1)}return Ot.delete(d),Ot.delete(x),Pe}function Tt(d){return Dr(d,yn,Nn)}function sr(d,x){var R=d.__data__;return ds(x)?R[typeof x=="string"?"string":"hash"]:R.map}function xr(d,x){var R=te(d,x);return bn(R)?R:void 0}function Br(d){var x=Kt.call(d,ee),R=d[ee];try{d[ee]=void 0;var Y=!0}catch{}var Pt=xe.call(d);return Y&&(x?d[ee]=R:delete d[ee]),Pt}var Nn=Ae?function(d){return d==null?[]:(d=Object(d),$t(Ae(d),function(x){return Ee.call(d,x)}))}:fs,ar=or;(rt&&ar(new rt(new ArrayBuffer(1)))!=N||dt&&ar(new dt)!=b||_t&&ar(_t.resolve())!=T||qt&&ar(new qt)!=L||mt&&ar(new mt)!=z)&&(ar=function(d){var x=or(d),R=x==$?d.constructor:void 0,Y=R?Me(R):"";if(Y)switch(Y){case er:return N;case Ve:return b;case Nr:return T;case ur:return L;case dr:return z}return x});function Jn(d,x){return x=x??o,!!x&&(typeof d=="number"||lt.test(d))&&d>-1&&d%1==0&&d<x}function ds(d){var x=typeof d;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?d!=="__proto__":d===null}function Zn(d){return!!ve&&ve in d}function Yn(d){var x=d&&d.constructor,R=typeof x=="function"&&x.prototype||Mt;return d===R}function an(d){return xe.call(d)}function Me(d){if(d!=null){try{return ce.call(d)}catch{}try{return d+""}catch{}}return""}function Xn(d,x){return d===x||d!==d&&x!==x}var Qn=en(function(){return arguments}())?en:function(d){return ir(d)&&Kt.call(d,"callee")&&!Ee.call(d,"callee")},on=Array.isArray;function ln(d){return d!=null&&On(d.length)&&!Sn(d)}var Xr=Ce||Cn;function ts(d,x){return gn(d,x)}function Sn(d){if(!_n(d))return!1;var x=or(d);return x==g||x==w||x==h||x==q}function On(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=o}function _n(d){var x=typeof d;return d!=null&&(x=="object"||x=="function")}function ir(d){return d!=null&&typeof d=="object"}var Ln=Et?se(Et):nn;function yn(d){return ln(d)?Rt(d):Pr(d)}function fs(){return[]}function Cn(){return!1}r.exports=ts}(Za,Za.exports)),Za.exports}var ji={},su;function n0(){if(su)return ji;su=1,Object.defineProperty(ji,"__esModule",{value:!0});const r=sf(),t=af();var e;return function(n){function s(c={},h={},v=!1){typeof c!="object"&&(c={}),typeof h!="object"&&(h={});let m=r(h);v||(m=Object.keys(m).reduce((p,g)=>(m[g]!=null&&(p[g]=m[g]),p),{}));for(const p in c)c[p]!==void 0&&h[p]===void 0&&(m[p]=c[p]);return Object.keys(m).length>0?m:void 0}n.compose=s;function a(c={},h={}){typeof c!="object"&&(c={}),typeof h!="object"&&(h={});const v=Object.keys(c).concat(Object.keys(h)).reduce((m,p)=>(t(c[p],h[p])||(m[p]=h[p]===void 0?null:h[p]),m),{});return Object.keys(v).length>0?v:void 0}n.diff=a;function o(c={},h={}){c=c||{};const v=Object.keys(h).reduce((m,p)=>(h[p]!==c[p]&&c[p]!==void 0&&(m[p]=h[p]),m),{});return Object.keys(c).reduce((m,p)=>(c[p]!==h[p]&&h[p]===void 0&&(m[p]=null),m),v)}n.invert=o;function l(c,h,v=!1){if(typeof c!="object")return h;if(typeof h!="object")return;if(!v)return h;const m=Object.keys(h).reduce((p,g)=>(c[g]===void 0&&(p[g]=h[g]),p),{});return Object.keys(m).length>0?m:void 0}n.transform=l}(e||(e={})),ji.default=e,ji}var Di={},au;function of(){if(au)return Di;au=1,Object.defineProperty(Di,"__esModule",{value:!0});var r;return function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e}(r||(r={})),Di.default=r,Di}var Pi={},iu;function s0(){if(iu)return Pi;iu=1,Object.defineProperty(Pi,"__esModule",{value:!0});const r=of();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const s=this.ops[this.index];if(s){const a=this.offset,o=r.default.length(s);if(n>=o-a?(n=o-a,this.index+=1,this.offset=0):this.offset+=n,typeof s.delete=="number")return{delete:n};{const l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=n:typeof s.retain=="object"&&s.retain!==null?l.retain=s.retain:typeof s.insert=="string"?l.insert=s.insert.substr(a,n):l.insert=s.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,s=this.index,a=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=s,[a].concat(o)}}else return[]}}return Pi.default=t,Pi}var ou;function a0(){return ou||(ou=1,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=r0(),n=sf(),s=af(),a=n0();t.AttributeMap=a.default;const o=of();t.Op=o.default;const l=s0();t.OpIterator=l.default;const c="\0",h=(m,p)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(m)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,m[g],p[g]]};class v{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const w={};return typeof p=="string"&&p.length===0?this:(w.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(w.attributes=g),this.push(w))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const w={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(w.attributes=g),this.push(w)}push(p){let g=this.ops.length,w=this.ops[g-1];if(p=n(p),typeof w=="object"){if(typeof p.delete=="number"&&typeof w.delete=="number")return this.ops[g-1]={delete:w.delete+p.delete},this;if(typeof w.delete=="number"&&p.insert!=null&&(g-=1,w=this.ops[g-1],typeof w!="object"))return this.ops.unshift(p),this;if(s(p.attributes,w.attributes)){if(typeof p.insert=="string"&&typeof w.insert=="string")return this.ops[g-1]={insert:w.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof w.retain=="number")return this.ops[g-1]={retain:w.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],w=[];return this.forEach(b=>{(p(b)?g:w).push(b)}),[g,w]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+o.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+o.default.length(g),0)}slice(p=0,g=1/0){const w=[],b=new l.default(this.ops);let E=0;for(;E<g&&b.hasNext();){let k;E<p?k=b.next(p-E):(k=b.next(g-E),w.push(k)),E+=o.default.length(k)}return new v(w)}compose(p){const g=new l.default(this.ops),w=new l.default(p.ops),b=[],E=w.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){let $=E.retain;for(;g.peekType()==="insert"&&g.peekLength()<=$;)$-=g.peekLength(),b.push(g.next());E.retain-$>0&&w.next(E.retain-$)}const k=new v(b);for(;g.hasNext()||w.hasNext();)if(w.peekType()==="insert")k.push(w.next());else if(g.peekType()==="delete")k.push(g.next());else{const $=Math.min(g.peekLength(),w.peekLength()),T=g.next($),q=w.next($);if(q.retain){const S={};if(typeof T.retain=="number")S.retain=typeof q.retain=="number"?$:q.retain;else if(typeof q.retain=="number")T.retain==null?S.insert=T.insert:S.retain=T.retain;else{const M=T.retain==null?"insert":"retain",[B,U,z]=h(T[M],q.retain),y=v.getHandler(B);S[M]={[B]:y.compose(U,z,M==="retain")}}const L=a.default.compose(T.attributes,q.attributes,typeof T.retain=="number");if(L&&(S.attributes=L),k.push(S),!w.hasNext()&&s(k.ops[k.ops.length-1],S)){const M=new v(g.rest());return k.concat(M).chop()}}else typeof q.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&k.push(q)}return k.chop()}concat(p){const g=new v(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new v;const w=[this,p].map(T=>T.map(q=>{if(q.insert!=null)return typeof q.insert=="string"?q.insert:c;const S=T===p?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")),b=new v,E=e(w[0],w[1],g,!0),k=new l.default(this.ops),$=new l.default(p.ops);return E.forEach(T=>{let q=T[1].length;for(;q>0;){let S=0;switch(T[0]){case e.INSERT:S=Math.min($.peekLength(),q),b.push($.next(S));break;case e.DELETE:S=Math.min(q,k.peekLength()),k.next(S),b.delete(S);break;case e.EQUAL:S=Math.min(k.peekLength(),$.peekLength(),q);const L=k.next(S),M=$.next(S);s(L.insert,M.insert)?b.retain(S,a.default.diff(L.attributes,M.attributes)):b.push(M).delete(S);break}q-=S}}),b.chop()}eachLine(p,g=`
`){const w=new l.default(this.ops);let b=new v,E=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const k=w.peek(),$=o.default.length(k)-w.peekLength(),T=typeof k.insert=="string"?k.insert.indexOf(g,$)-$:-1;if(T<0)b.push(w.next());else if(T>0)b.push(w.next(T));else{if(p(b,w.next(1).attributes||{},E)===!1)return;E+=1,b=new v}}b.length()>0&&p(b,{},E)}invert(p){const g=new v;return this.reduce((w,b)=>{if(b.insert)g.delete(o.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return g.retain(b.retain),w+b.retain;if(b.delete||typeof b.retain=="number"){const E=b.delete||b.retain;return p.slice(w,w+E).forEach($=>{b.delete?g.push($):b.retain&&b.attributes&&g.retain(o.default.length($),a.default.invert(b.attributes,$.attributes))}),w+E}else if(typeof b.retain=="object"&&b.retain!==null){const E=p.slice(w,w+1),k=new l.default(E.ops).next(),[$,T,q]=h(b.retain,k.insert),S=v.getHandler($);return g.retain({[$]:S.invert(T,q)},a.default.invert(b.attributes,k.attributes)),w+1}}return w},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const w=p,b=new l.default(this.ops),E=new l.default(w.ops),k=new v;for(;b.hasNext()||E.hasNext();)if(b.peekType()==="insert"&&(g||E.peekType()!=="insert"))k.retain(o.default.length(b.next()));else if(E.peekType()==="insert")k.push(E.next());else{const $=Math.min(b.peekLength(),E.peekLength()),T=b.next($),q=E.next($);if(T.delete)continue;if(q.delete)k.push(q);else{const S=T.retain,L=q.retain;let M=typeof L=="object"&&L!==null?L:$;if(typeof S=="object"&&S!==null&&typeof L=="object"&&L!==null){const B=Object.keys(S)[0];if(B===Object.keys(L)[0]){const U=v.getHandler(B);U&&(M={[B]:U.transform(S[B],L[B],g)})}}k.retain(M,a.default.transform(T.attributes,q.attributes,g))}}return k.chop()}transformPosition(p,g=!1){g=!!g;const w=new l.default(this.ops);let b=0;for(;w.hasNext()&&b<=p;){const E=w.peekLength(),k=w.peekType();if(w.next(),k==="delete"){p-=Math.min(E,p-b);continue}else k==="insert"&&(b<p||!g)&&(p+=E);b+=E}return p}}v.Op=o.default,v.OpIterator=l.default,v.AttributeMap=a.default,v.handlers={},t.default=v,r.exports=v,r.exports.default=v}(Ii,Ii.exports)),Ii.exports}var An=a0();const Lt=nf(An);class Vn extends mn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Vn.blotName="break";Vn.tagName="BR";let zn=class extends io{};const i0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yo(r){return r.replace(/[&<>"']/g,t=>i0[t])}const es=class es extends Gl{static compare(t,e){const n=es.order.indexOf(t),s=es.order.indexOf(e);return n>=0||s>=0?n-s:t===e?0:t<e?-1:1}formatAt(t,e,n,s){if(es.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Ct.BLOT)){const a=this.isolate(t,e);s&&a.wrap(n,s)}else super.formatAt(t,e,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof es&&es.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};At(es,"allowedChildren",[es,Vn,mn,zn]),At(es,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let cs=es;const lu=1;class cr extends fi{constructor(){super(...arguments);At(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=lf(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,a){n<=0||(this.scroll.query(s,Ct.BLOCK)?e+n===this.length()&&this.format(s,a):super.formatAt(e,Math.min(n,this.length()-e-1),s,a),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const a=n.split(`
`),o=a.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;a.reduce((c,h)=>(l=l.split(c,!0),l.insertAt(0,h),h.length),e+o.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof Vn&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+lu),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-lu)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const s=super.split(e,n);return this.cache={},s}}cr.blotName="block";cr.tagName="P";cr.defaultChild=Vn;cr.allowedChildren=[Vn,cs,mn,zn];class kn extends mn{attach(){super.attach(),this.attributes=new bo(this.domNode)}delta(){return new Lt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,Ct.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,s){this.format(n,s)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const s=e.split(`
`),a=s.pop(),o=s.map(c=>{const h=this.scroll.create(cr.blotName);return h.insertAt(0,c),h}),l=this.split(t);o.forEach(c=>{this.parent.insertBefore(c,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}kn.scope=Ct.BLOCK_BLOT;function lf(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants($r).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),xn(n,{},t)),new Lt).insert(`
`,xn(r))}function xn(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:xn(r.parent,t,e)}const wn=class wn extends mn{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(wn.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==Ct.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=wn.CONTENTS.length,n.optimize(),n.formatAt(s,wn.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof zn?this.prev:null,n=e?e.length():0,s=this.next instanceof zn?this.next:null,a=s?s.text:"",{textNode:o}=this,l=o.data.split(wn.CONTENTS).join("");o.data=wn.CONTENTS;let c;if(e)c=e,(l||s)&&(e.insertAt(e.length(),l+a),s&&s.remove());else if(s)c=s,s.insertAt(0,l);else{const h=document.createTextNode(l);c=this.scroll.create(h),this.parent.insertBefore(c,this)}if(this.remove(),t){const h=(p,g)=>e&&p===e.domNode?g:p===o?n+g-1:s&&p===s.domNode?n+l.length+g:null,v=h(t.start.node,t.start.offset),m=h(t.end.node,t.end.offset);if(v!==null&&m!==null)return{startNode:c.domNode,startOffset:v,endNode:c.domNode,endOffset:m}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=wn.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};At(wn,"blotName","cursor"),At(wn,"className","ql-cursor"),At(wn,"tagName","span"),At(wn,"CONTENTS","\uFEFF");let Ca=wn;var Do={exports:{}},cu;function o0(){return cu||(cu=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,h,v){this.fn=c,this.context=h,this.once=v||!1}function a(c,h,v,m,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var g=new s(v,m||c,p),w=e?e+h:h;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],g]:c._events[w].push(g):(c._events[w]=g,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],v,m;if(this._eventsCount===0)return h;for(m in v=this._events)t.call(v,m)&&h.push(e?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(v)):h},l.prototype.listeners=function(h){var v=e?e+h:h,m=this._events[v];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,w=new Array(g);p<g;p++)w[p]=m[p].fn;return w},l.prototype.listenerCount=function(h){var v=e?e+h:h,m=this._events[v];return m?m.fn?1:m.length:0},l.prototype.emit=function(h,v,m,p,g,w){var b=e?e+h:h;if(!this._events[b])return!1;var E=this._events[b],k=arguments.length,$,T;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),k){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,v),!0;case 3:return E.fn.call(E.context,v,m),!0;case 4:return E.fn.call(E.context,v,m,p),!0;case 5:return E.fn.call(E.context,v,m,p,g),!0;case 6:return E.fn.call(E.context,v,m,p,g,w),!0}for(T=1,$=new Array(k-1);T<k;T++)$[T-1]=arguments[T];E.fn.apply(E.context,$)}else{var q=E.length,S;for(T=0;T<q;T++)switch(E[T].once&&this.removeListener(h,E[T].fn,void 0,!0),k){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,v);break;case 3:E[T].fn.call(E[T].context,v,m);break;case 4:E[T].fn.call(E[T].context,v,m,p);break;default:if(!$)for(S=1,$=new Array(k-1);S<k;S++)$[S-1]=arguments[S];E[T].fn.apply(E[T].context,$)}}return!0},l.prototype.on=function(h,v,m){return a(this,h,v,m,!1)},l.prototype.once=function(h,v,m){return a(this,h,v,m,!0)},l.prototype.removeListener=function(h,v,m,p){var g=e?e+h:h;if(!this._events[g])return this;if(!v)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===v&&(!p||w.once)&&(!m||w.context===m)&&o(this,g);else{for(var b=0,E=[],k=w.length;b<k;b++)(w[b].fn!==v||p&&!w[b].once||m&&w[b].context!==m)&&E.push(w[b]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},l.prototype.removeAllListeners=function(h){var v;return h?(v=e?e+h:h,this._events[v]&&o(this,v)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(Do)),Do.exports}var l0=o0();const c0=nf(l0),vl=new WeakMap,ml=["error","warn","log","info"];let gl="warn";function cf(r){if(gl&&ml.indexOf(r)<=ml.indexOf(gl)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function xs(r){return ml.reduce((t,e)=>(t[e]=cf.bind(console,e,r),t),{})}xs.level=r=>{gl=r};cf.level=xs.level;const Po=xs("quill:events"),u0=["selectionchange","mousedown","mouseup","click"];u0.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const a=vl.get(s);a&&a.emitter&&a.emitter.handleDOM(...e)})})});class St extends c0{constructor(){super(),this.domListeners={},this.on("error",Po.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Po.log.call(Po,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(a=>{let{node:o,handler:l}=a;(t.target===o||o.contains(t.target))&&l(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}At(St,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),At(St,"sources",{API:"api",SILENT:"silent",USER:"user"});const Bo=xs("quill:selection");class Qs{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class d0{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Qs(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,St.sources.USER),1)}),this.emitter.on(St.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(St.events.SCROLL_UPDATE,(s,a)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?St.sources.SILENT:s)}catch{}})}),this.emitter.on(St.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:a,startOffset:o,endNode:l,endOffset:c}=s.range;this.setNativeRange(a,o,l,c),this.update(St.sources.SILENT)}}),this.update(St.sources.SILENT)}handleComposition(){this.emitter.on(St.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(St.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(St.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Ct.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof $r){const a=s.split(n.start.offset);s.parent.insertBefore(this.cursor,a)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let s,[a,o]=this.scroll.leaf(t);if(a==null)return null;if(e>0&&o===a.length()){const[v]=this.scroll.leaf(t+1);if(v){const[m]=this.scroll.line(t),[p]=this.scroll.line(t+1);m===p&&(a=v,o=0)}}[s,o]=a.position(o,!0);const l=document.createRange();if(e>0)return l.setStart(s,o),[a,o]=this.scroll.leaf(t+e),a==null?null:([s,o]=a.position(o,!0),l.setEnd(s,o),l.getBoundingClientRect());let c="left",h;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(l.setStart(s,o),l.setEnd(s,o+1)):(l.setStart(s,o-1),l.setEnd(s,o),c="right"),h=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;h=a.domNode.getBoundingClientRect(),o>0&&(c="right")}return{bottom:h.top+h.height,height:h.height,left:h[c],right:h[c],top:h.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return Bo.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Mo(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(o=>{const[l,c]=o,h=this.scroll.find(l,!0),v=h.offset(this.scroll);return c===0?v:h instanceof $r?v+h.index(l,c):v+h.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),a=Math.min(s,...n);return new Qs(a,s-a)}normalizeNative(t){if(!Mo(this.root,t.startContainer)||!t.collapsed&&!Mo(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:s,offset:a}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>a)s=s.childNodes[a],a=0;else if(s.childNodes.length===a)s=s.lastChild,s instanceof Text?a=s.data.length:s.childNodes.length>0?a=s.childNodes.length:a=s.childNodes.length+1;else break;n.node=s,n.offset=a}),e}rangeToNative(t){const e=this.scroll.length(),n=(s,a)=>{s=Math.min(e-1,s);const[o,l]=this.scroll.leaf(s);return o?o.position(l,a):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Bo.info("setNativeRange",t,e,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||s!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const c=document.createRange();c.setStart(t,e),c.setEnd(n,s),o.removeAllRanges(),o.addRange(c)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;if(typeof e=="string"&&(n=e,e=!1),Bo.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St.sources.USER;const e=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!Kl(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const a=[St.events.SELECTION_CHANGE,ka(this.lastRange),ka(e),t];this.emitter.emit(St.events.EDITOR_CHANGE,...a),t!==St.sources.SILENT&&this.emitter.emit(...a)}}}function Mo(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const f0=/^[ -~]*$/;class h0{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=uu(t),s=new Lt;return v0(n.ops.slice()).reduce((o,l)=>{const c=An.Op.length(l);let h=l.attributes||{},v=!1,m=!1;if(l.insert!=null){if(s.retain(c),typeof l.insert=="string"){const w=l.insert;m=!w.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(kn,o)[0]),this.scroll.insertAt(o,w);const[b,E]=this.scroll.line(o);let k=Bs({},xn(b));if(b instanceof cr){const[$]=b.descendant($r,E);$&&(k=Bs(k,xn($)))}h=An.AttributeMap.diff(k,h)||{}}else if(typeof l.insert=="object"){const w=Object.keys(l.insert)[0];if(w==null)return o;const b=this.scroll.query(w,Ct.INLINE)!=null;if(b)(e<=o||this.scroll.descendant(kn,o)[0])&&(m=!0);else if(o>0){const[E,k]=this.scroll.descendant($r,o-1);E instanceof zn?E.value()[k]!==`
`&&(v=!0):E instanceof mn&&E.statics.scope===Ct.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(o,w,l.insert[w]),b){const[E]=this.scroll.descendant($r,o);if(E){const k=Bs({},xn(E));h=An.AttributeMap.diff(k,h)||{}}}}e+=c}else if(s.push(l),l.retain!==null&&typeof l.retain=="object"){const w=Object.keys(l.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,l.retain[w])}Object.keys(h).forEach(w=>{this.scroll.formatAt(o,c,w,h[w])});const p=v?1:0,g=m?1:0;return e+=p+g,s.retain(p),s.delete(g),o+c+p+g},0),s.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+An.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new Lt().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(a=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(a,n[a])})}),this.scroll.optimize();const s=new Lt().retain(t).retain(e,ka(n));return this.update(s)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(a=>{this.scroll.formatAt(t,e,a,n[a])});const s=new Lt().retain(t).retain(e,ka(n));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new Lt)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];e===0?this.scroll.path(t).forEach(l=>{const[c]=l;c instanceof cr?n.push(c):c instanceof $r&&s.push(c)}):(n=this.scroll.lines(t,e),s=this.scroll.descendants($r,t,e));const[a,o]=[n,s].map(l=>{const c=l.shift();if(c==null)return{};let h=xn(c);for(;Object.keys(h).length>0;){const v=l.shift();if(v==null)return h;h=p0(xn(v),h)}return h});return{...a,...o}}getHTML(t,e){const[n,s]=this.scroll.line(t);if(n){const a=n.length();return n.length()>=s+e&&!(s===0&&e===a)?hi(n,s,e,!0):hi(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=uu(e),s=new Lt().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new Lt().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e.length,s,n[s])}),this.update(new Lt().retain(t).insert(e,ka(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==cr.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Vn}removeFormat(t,e){const n=this.getText(t,e),[s,a]=this.scroll.line(t+e);let o=0,l=new Lt;s!=null&&(o=s.length()-a,l=s.delta().slice(a,a+o-1).insert(`
`));const h=this.getContents(t,e+o).diff(new Lt().insert(n).concat(l)),v=new Lt().retain(t).concat(h);return this.applyDelta(v)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(f0)&&this.scroll.find(e[0].target)){const a=this.scroll.find(e[0].target),o=xn(a),l=a.offset(this.scroll),c=e[0].oldValue.replace(Ca.CONTENTS,""),h=new Lt().insert(c),v=new Lt().insert(a.value()),m=n&&{oldRange:du(n.oldRange,-l),newRange:du(n.newRange,-l)};t=new Lt().retain(l).concat(h.diff(v,m)).reduce((g,w)=>w.insert?g.insert(w.insert,o):g.push(w),new Lt),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!Kl(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function ma(r,t,e){if(r.length===0){const[g]=Uo(e.pop());return t<=0?`</li></${g}>`:`</li></${g}>${ma([],t-1,e)}`}const[{child:n,offset:s,length:a,indent:o,type:l},...c]=r,[h,v]=Uo(l);if(o>t)return e.push(l),o===t+1?`<${h}><li${v}>${hi(n,s,a)}${ma(c,o,e)}`:`<${h}><li>${ma(r,t+1,e)}`;const m=e[e.length-1];if(o===t&&l===m)return`</li><li${v}>${hi(n,s,a)}${ma(c,o,e)}`;const[p]=Uo(e.pop());return`</li></${p}>${ma(r,t-1,e)}`}function hi(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof zn)return yo(r.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(r instanceof Un){if(r.statics.blotName==="list-container"){const h=[];return r.children.forEachAt(t,e,(v,m,p)=>{const g="formats"in v&&typeof v.formats=="function"?v.formats():{};h.push({child:v,offset:m,length:p,indent:g.indent||0,type:g.list})}),ma(h,-1,[])}const s=[];if(r.children.forEachAt(t,e,(h,v,m)=>{s.push(hi(h,v,m))}),n||r.statics.blotName==="list")return s.join("");const{outerHTML:a,innerHTML:o}=r.domNode,[l,c]=a.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${c}`:`${l}>${s.join("")}<${c}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function p0(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const s=t[n];return s===r[n]?e[n]=s:Array.isArray(s)?s.indexOf(r[n])<0?e[n]=s.concat([r[n]]):e[n]=s:e[n]=[s,r[n]],e},{})}function Uo(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function uu(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new Lt)}function du(r,t){let{index:e,length:n}=r;return new Qs(e+t,n)}function v0(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,a)=>{a&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class Wn{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}At(Wn,"DEFAULTS",{});const Bi="\uFEFF";class Wl extends mn{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Bi),this.rightGuard=document.createTextNode(Bi),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const s=t.data.split(Bi).join("");if(t===this.leftGuard)if(this.prev instanceof zn){const a=this.prev.length();this.prev.insertAt(a,s),e={startNode:this.prev.domNode,startOffset:a+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof zn?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:s.length}));return t.data=Bi,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(e.range=s)}})}}class m0{constructor(t,e){At(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Wl)&&(this.emitter.emit(St.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(St.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(St.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(St.events.COMPOSITION_END,t),this.isComposing=!1}}const ei=class ei{constructor(t,e){At(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};At(ei,"DEFAULTS",{modules:{}}),At(ei,"themes",{default:ei});let qa=ei;const g0=r=>r.parentElement||r.getRootNode().host||null,b0=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},Mi=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},fu=(r,t,e,n,s,a)=>r<e&&t>n?0:r<e?-(e-r+s):t>n?t-r>n-e?r+s-e:t-n+a:0,_0=(r,t)=>{var a,o,l;const e=r.ownerDocument;let n=t,s=r;for(;s;){const c=s===e.body,h=c?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:b0(s),v=getComputedStyle(s),m=fu(n.left,n.right,h.left,h.right,Mi(v.scrollPaddingLeft),Mi(v.scrollPaddingRight)),p=fu(n.top,n.bottom,h.top,h.bottom,Mi(v.scrollPaddingTop),Mi(v.scrollPaddingBottom));if(m||p)if(c)(l=e.defaultView)==null||l.scrollBy(m,p);else{const{scrollLeft:g,scrollTop:w}=s;p&&(s.scrollTop+=p),m&&(s.scrollLeft+=m);const b=s.scrollLeft-g,E=s.scrollTop-w;n={left:n.left-b,top:n.top-E,right:n.right-b,bottom:n.bottom-E}}s=c||v.position==="fixed"?null:g0(s)}},y0=100,w0=["block","break","cursor","inline","scroll","text"],x0=(r,t,e)=>{const n=new La;return w0.forEach(s=>{const a=t.query(s);a&&n.register(a)}),r.forEach(s=>{let a=t.query(s);a||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;a;)if(n.register(a),a="blotName"in a?a.requiredContainer??null:null,o+=1,o>y0){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},$a=xs("quill"),Ui=new La;Un.uiClass="ql-ui";const Dn=class Dn{static debug(t){t===!0&&(t="log"),xs.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return vl.get(t)||Ui.find(t,e)}static import(t){return this.imports[t]==null&&$a.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&$a.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&Ui.register(e),typeof e.register=="function"&&e.register(Ui)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=E0(t,e),this.container=this.options.container,this.container==null){$a.error("Invalid Quill container",t);return}this.options.debug&&Dn.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",vl.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new St;const s=Vl.blotName,a=this.options.registry.query(s);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new h0(this.scroll),this.selection=new d0(this.scroll,this.emitter),this.composition=new m0(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(St.events.EDITOR_CHANGE,o=>{o===St.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(St.events.SCROLL_UPDATE,(o,l)=>{const c=this.selection.lastRange,[h]=this.selection.getRange(),v=c&&h?{oldRange:c,newRange:h}:void 0;jn.call(this,()=>this.editor.update(null,l,v),o)}),this.emitter.on(St.events.SCROLL_EMBED_UPDATE,(o,l)=>{const c=this.selection.lastRange,[h]=this.selection.getRange(),v=c&&h?{oldRange:c,newRange:h}:void 0;jn.call(this,()=>{const m=new Lt().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(m,[],v)},Dn.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=vs(t,e,n),jn.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;return jn.call(this,()=>{const s=this.getSelection(!0);let a=new Lt;if(s==null)return a;if(this.scroll.query(t,Ct.BLOCK))a=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),a;a=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,St.sources.SILENT),a},n)}formatLine(t,e,n,s,a){let o;return[t,e,o,a]=vs(t,e,n,s,a),jn.call(this,()=>this.editor.formatLine(t,e,o),a,t,0)}formatText(t,e,n,s,a){let o;return[t,e,o,a]=vs(t,e,n,s,a),jn.call(this,()=>this.editor.formatText(t,e,o),a,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=vs(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=vs(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=vs(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dn.sources.API;return jn.call(this,()=>this.editor.insertEmbed(t,e,n),s,t)}insertText(t,e,n,s,a){let o;return[t,,o,a]=vs(t,0,n,s,a),jn.call(this,()=>this.editor.insertText(t,e,o),a,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=vs(t,e,n),jn.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){_0(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;return jn.call(this,()=>{t=new Lt(t);const n=this.getLength(),s=this.editor.deleteText(0,n),a=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(a).compose(o)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||Dn.sources.API):([t,e,,n]=vs(t,e,n),this.selection.setRange(new Qs(Math.max(0,t),e),n),n!==St.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;const n=new Lt().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;return jn.call(this,()=>(t=new Lt(t),this.editor.applyDelta(t)),e,!0)}};At(Dn,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ui,theme:"default"}),At(Dn,"events",St.events),At(Dn,"sources",St.sources),At(Dn,"version","2.0.3"),At(Dn,"imports",{delta:Lt,parchment:e0,"core/module":Wn,"core/theme":qa});let nt=Dn;function hu(r){return typeof r=="string"?document.querySelector(r):r}function Fo(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,s]=e;return{...t,[n]:s===!0?{}:s}},{})}function pu(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function E0(r,t){const e=hu(r);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===nt.DEFAULTS.theme?qa:nt.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:a,...o}=nt.DEFAULTS,{modules:l,...c}=s.DEFAULTS;let h=Fo(t.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const v=Bs({},Fo(a),Fo(l),h),m={...o,...pu(c),...pu(t)};let p=t.registry;return p?t.formats&&$a.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?x0(t.formats,m.registry,$a):m.registry,{...m,registry:p,container:e,theme:s,modules:Object.entries(v).reduce((g,w)=>{let[b,E]=w;if(!E)return g;const k=nt.import(`modules/${b}`);return k==null?($a.error(`Cannot load ${b} module. Are you sure you registered it?`),g):{...g,[b]:Bs({},k.DEFAULTS||{},E)}},{}),bounds:hu(m.bounds)}}function jn(r,t,e,n){if(!this.isEnabled()&&t===St.sources.USER&&!this.allowReadOnlyEdits)return new Lt;let s=e==null?null:this.getSelection();const a=this.editor.delta,o=r();if(s!=null&&(e===!0&&(e=s.index),n==null?s=vu(s,o,t):n!==0&&(s=vu(s,e,n,t)),this.setSelection(s,St.sources.SILENT)),o.length()>0){const l=[St.events.TEXT_CHANGE,o,a,t];this.emitter.emit(St.events.EDITOR_CHANGE,...l),t!==St.sources.SILENT&&this.emitter.emit(...l)}return o}function vs(r,t,e,n,s){let a={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(s=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(s=n,n=e,e=t,t=0),typeof e=="object"?(a=e,s=n):typeof e=="string"&&(n!=null?a[e]=n:s=e),s=s||St.sources.API,[r,t,a,s]}function vu(r,t,e,n){const s=typeof e=="number"?e:0;if(r==null)return null;let a,o;return t&&typeof t.transformPosition=="function"?[a,o]=[r.index,r.index+r.length].map(l=>t.transformPosition(l,n!==St.sources.USER)):[a,o]=[r.index,r.index+r.length].map(l=>l<t||l===t&&n===St.sources.USER?l:s>=0?l+s:Math.max(t,l+s)),new Qs(a,o-a)}class aa extends _o{}function mu(r){return r instanceof cr||r instanceof kn}function gu(r){return typeof r.updateContent=="function"}class ga extends Vl{constructor(t,e,n){let{emitter:s}=n;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(St.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(St.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(St.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,s]=this.line(t),[a]=this.line(t+e);if(super.deleteAt(t,e),a!=null&&n!==a&&s>0){if(n instanceof kn||a instanceof kn){this.optimize();return}const o=a.children.head instanceof Vn?null:a.children.head;n.moveChildren(a,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,Ct.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),n):s.insertAt(0,e,n)}else{const s=this.scroll.create(e,n);this.appendChild(s)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===Ct.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new Lt().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const a=n.shift();if(a){const c=a.type==="block"&&(a.delta.length()===0||!this.descendant(kn,t)[0]&&t<this.length()),h=a.type==="block"?a.delta:new Lt().insert({[a.key]:a.value});zo(this,t,h);const v=a.type==="block"?1:0,m=t+h.length()+v;c&&this.insertAt(m-1,`
`);const p=xn(this.line(t)[0]),g=An.AttributeMap.diff(p,a.attributes)||{};Object.keys(g).forEach(w=>{this.formatAt(m-1,1,w,g[w])}),t=m}let[o,l]=this.children.find(t);if(n.length&&(o&&(o=o.split(l),l=0),n.forEach(c=>{if(c.type==="block"){const h=this.createBlock(c.attributes,o||void 0);zo(h,0,c.delta)}else{const h=this.create(c.key,c.value);this.insertBefore(h,o||void 0),Object.keys(c.attributes).forEach(v=>{h.format(v,c.attributes[v])})}})),s.type==="block"&&s.delta.length()){const c=o?o.offset(o.scroll)+l:this.length();zo(this,c,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,s]=e;return n instanceof $r?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(mu,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,a,o)=>{let l=[],c=o;return s.children.forEachAt(a,o,(h,v,m)=>{mu(h)?l.push(h):h instanceof _o&&(l=l.concat(n(h,v,c))),c-=m}),l};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(St.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=St.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const a=this.find(s,!0);return a&&!gu(a)}),t.length>0&&this.emitter.emit(St.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(St.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[s]=this.descendant(a=>a instanceof kn,t);s&&s.statics.blotName===e&&gu(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new Lt;return t.forEach(s=>{const a=s==null?void 0:s.insert;if(a)if(typeof a=="string"){const o=a.split(`
`);o.slice(0,-1).forEach(c=>{n.insert(c,s.attributes),e.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new Lt});const l=o[o.length-1];l&&n.insert(l,s.attributes)}else{const o=Object.keys(a)[0];if(!o)return;this.query(o,Ct.INLINE)?n.push(s):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new Lt,e.push({type:"blockEmbed",key:o,value:a[o],attributes:s.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const s={};Object.entries(t).forEach(l=>{let[c,h]=l;this.query(c,Ct.BLOCK&Ct.BLOT)!=null?n=c:s[c]=h});const a=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(a,e||void 0);const o=a.length();return Object.entries(s).forEach(l=>{let[c,h]=l;a.formatAt(0,o,c,h)}),a}}At(ga,"blotName","scroll"),At(ga,"className","ql-editor"),At(ga,"tagName","DIV"),At(ga,"defaultChild",cr),At(ga,"allowedChildren",[cr,kn,aa]);function zo(r,t,e){e.reduce((n,s)=>{const a=An.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const l=s.insert;r.insertAt(n,l);const[c]=r.descendant($r,n),h=xn(c);o=An.AttributeMap.diff(h,o)||{}}else if(typeof s.insert=="object"){const l=Object.keys(s.insert)[0];if(l==null)return n;if(r.insertAt(n,l,s.insert[l]),r.scroll.query(l,Ct.INLINE)!=null){const[h]=r.descendant($r,n),v=xn(h);o=An.AttributeMap.diff(v,o)||{}}}}return Object.keys(o).forEach(l=>{r.formatAt(n,a,l,o[l])}),n+a},t)}const Jl={scope:Ct.BLOCK,whitelist:["right","center","justify"]},k0=new ls("align","align",Jl),uf=new Gn("align","ql-align",Jl),df=new Hs("align","text-align",Jl);class ff extends Hs{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const A0=new Gn("color","ql-color",{scope:Ct.INLINE}),Zl=new ff("color","color",{scope:Ct.INLINE}),$0=new Gn("background","ql-bg",{scope:Ct.INLINE}),Yl=new ff("background","background-color",{scope:Ct.INLINE});class ia extends aa{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${yo(this.code(t,e))}
</pre>`}}class Tr extends cr{static register(){nt.register(ia)}}At(Tr,"TAB","  ");class Xl extends cs{}Xl.blotName="code";Xl.tagName="CODE";Tr.blotName="code-block";Tr.className="ql-code-block";Tr.tagName="DIV";ia.blotName="code-block-container";ia.className="ql-code-block-container";ia.tagName="DIV";ia.allowedChildren=[Tr];Tr.allowedChildren=[zn,Vn,Ca];Tr.requiredContainer=ia;const Ql={scope:Ct.BLOCK,whitelist:["rtl"]},hf=new ls("direction","dir",Ql),pf=new Gn("direction","ql-direction",Ql),vf=new Hs("direction","direction",Ql),mf={scope:Ct.INLINE,whitelist:["serif","monospace"]},gf=new Gn("font","ql-font",mf);class T0 extends Hs{value(t){return super.value(t).replace(/["']/g,"")}}const bf=new T0("font","font-family",mf),_f=new Gn("size","ql-size",{scope:Ct.INLINE,whitelist:["small","large","huge"]}),yf=new Hs("size","font-size",{scope:Ct.INLINE,whitelist:["10px","18px","32px"]}),N0=xs("quill:keyboard"),S0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class wo extends Wn{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=L0(t);if(s==null){N0.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const l={...s,key:o,...e,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(k=>wo.match(t,k));if(s.length===0)return;const a=nt.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(o.index),[h,v]=this.quill.getLeaf(o.index),[m,p]=o.length===0?[h,v]:this.quill.getLeaf(o.index+o.length),g=h instanceof io?h.value().slice(0,v):"",w=m instanceof io?m.value().slice(p):"",b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:c,prefix:g,suffix:w,event:t};s.some(k=>{if(k.collapsed!=null&&k.collapsed!==b.collapsed||k.empty!=null&&k.empty!==b.empty||k.offset!=null&&k.offset!==b.offset)return!1;if(Array.isArray(k.format)){if(k.format.every($=>b.format[$]==null))return!1}else if(typeof k.format=="object"&&!Object.keys(k.format).every($=>k.format[$]===!0?b.format[$]!=null:k.format[$]===!1?b.format[$]==null:Kl(k.format[$],b.format[$])))return!1;return k.prefix!=null&&!k.prefix.test(b.prefix)||k.suffix!=null&&!k.suffix.test(b.suffix)?!1:k.handler.call(this,o,b,k)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[a]=this.quill.getLine(t.index);let o=new Lt().retain(t.index-n).delete(n);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const h=a.formats(),v=this.quill.getFormat(t.index-1,1);if(s=An.AttributeMap.diff(h,v)||{},Object.keys(s).length>0){const m=new Lt().retain(t.index+a.length()-2).retain(1,s);o=o.compose(m)}}}this.quill.updateContents(o,nt.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[a]=this.quill.getLine(t.index);let o=new Lt().retain(t.index).delete(n);if(e.offset>=a.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const c=a.formats(),h=this.quill.getFormat(t.index,1);s=An.AttributeMap.diff(c,h)||{},Object.keys(s).length>0&&(o=o.retain(l.length()-1).retain(1,s))}}this.quill.updateContents(o,nt.sources.USER),this.quill.focus()}handleDeleteRange(t){tc({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((a,o)=>(this.quill.scroll.query(o,Ct.BLOCK)&&!Array.isArray(e.format[o])&&(a[o]=e.format[o]),a),{}),s=new Lt().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,nt.sources.USER),this.quill.setSelection(t.index+1,nt.sources.SILENT),this.quill.focus()}}const O0={bindings:{bold:Ho("bold"),italic:Ho("italic"),underline:Ho("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",nt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",nt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",nt.sources.USER):t.format.list!=null&&this.quill.format("list",!1,nt.sources.USER)}},"indent code-block":bu(!0),"outdent code-block":bu(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,nt.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new Lt().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,nt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,nt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,nt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,nt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},s=new Lt().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,nt.sources.USER),this.quill.setSelection(r.index+1,nt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),s=new Lt().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,nt.sources.USER),this.quill.setSelection(r.index+1,nt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,s,a]=t.getTable(r),o=C0(e,n,s,a);if(o==null)return;let l=e.offset();if(o<0){const c=new Lt().retain(l).insert(`
`);this.quill.updateContents(c,nt.sources.USER),this.quill.setSelection(r.index+1,r.length,nt.sources.SILENT)}else if(o>0){l+=e.length();const c=new Lt().retain(l).insert(`
`);this.quill.updateContents(c,nt.sources.USER),this.quill.setSelection(l,nt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,s=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,nt.sources.USER):this.quill.setSelection(s+n.length(),nt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,s]=this.quill.getLine(r.index);if(s>e)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(r.index," ",nt.sources.USER),this.quill.history.cutoff();const o=new Lt().retain(r.index-s).delete(e+1).retain(n.length()-2-s).retain(1,{list:a});return this.quill.updateContents(o,nt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,nt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const a=new Lt().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,nt.sources.USER),this.quill.setSelection(r.index-1,nt.sources.SILENT),!1}return!0}},"embed left":Fi("ArrowLeft",!1),"embed left shift":Fi("ArrowLeft",!0),"embed right":Fi("ArrowRight",!1),"embed right shift":Fi("ArrowRight",!0),"table down":_u(!1),"table up":_u(!0)}};wo.DEFAULTS=O0;function bu(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const s=this.quill.scroll.query("code-block"),{TAB:a}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,a,nt.sources.USER),this.quill.setSelection(t.index+a.length,nt.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:c}=t;o.forEach((h,v)=>{r?(h.insertAt(0,a),v===0?l+=a.length:c+=a.length):h.domNode.textContent.startsWith(a)&&(h.deleteAt(0,a.length),v===0?l-=a.length:c-=a.length)}),this.quill.update(nt.sources.USER),this.quill.setSelection(l,c,nt.sources.SILENT)}}}function Fi(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;r==="ArrowRight"&&(s+=n.length+1);const[a]=this.quill.getLeaf(s);return a instanceof mn?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,nt.sources.USER):this.quill.setSelection(n.index-1,nt.sources.USER):t?this.quill.setSelection(n.index,n.length+1,nt.sources.USER):this.quill.setSelection(n.index+n.length+1,nt.sources.USER),!1):!0}}}function Ho(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],nt.sources.USER)}}}function _u(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",s=e.line,a=s.parent[n];if(a!=null){if(a.statics.blotName==="table-row"){let o=a.children.head,l=s;for(;l.prev!=null;)l=l.prev,o=o.next;const c=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(c,0,nt.sources.USER)}}else{const o=s.table()[n];o!=null&&(r?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,nt.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,nt.sources.USER))}return!1}}}function L0(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=ka(r);else return null;return r.shortKey&&(r[S0]=r.shortKey,delete r.shortKey),r}function tc(r){let{quill:t,range:e}=r;const n=t.getLines(e);let s={};if(n.length>1){const a=n[0].formats(),o=n[n.length-1].formats();s=An.AttributeMap.diff(o,a)||{}}t.deleteText(e,nt.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,nt.sources.USER),t.setSelection(e.index,nt.sources.SILENT)}function C0(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const q0=/font-weight:\s*normal/,R0=["P","OL","UL"],yu=r=>r&&R0.includes(r.tagName),I0=r=>{Array.from(r.querySelectorAll("br")).filter(t=>yu(t.previousElementSibling)&&yu(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},j0=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(q0)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function D0(r){r.querySelector('[id^="docs-internal-guid-"]')&&(j0(r),I0(r))}const P0=/\bmso-list:[^;]*ignore/i,B0=/\bmso-list:[^;]*\bl(\d+)/i,M0=/\bmso-list:[^;]*\blevel(\d+)/i,U0=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(B0);if(!n)return null;const s=Number(n[1]),a=e==null?void 0:e.match(M0),o=a?Number(a[1]):1,l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(l),h=c&&c[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:h,element:r}},F0=r=>{var o,l;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(c=>{(c.getAttribute("style")||"").match(P0)?e.push(c):n.push(c)}),e.forEach(c=>{var h;return(h=c.parentNode)==null?void 0:h.removeChild(c)});const s=r.documentElement.innerHTML,a=n.map(c=>U0(c,s)).filter(c=>c);for(;a.length;){const c=[];let h=a.shift();for(;h;)c.push(h),h=a.length&&((o=a[0])==null?void 0:o.element)===h.element.nextElementSibling&&a[0].id===h.id?a.shift():null;const v=document.createElement("ul");c.forEach(g=>{const w=document.createElement("li");w.setAttribute("data-list",g.type),g.indent>1&&w.setAttribute("class",`ql-indent-${g.indent-1}`),w.innerHTML=g.element.innerHTML,v.appendChild(w)});const m=(l=c[0])==null?void 0:l.element,{parentNode:p}=m??{};m&&(p==null||p.replaceChild(v,m)),c.slice(1).forEach(g=>{let{element:w}=g;p==null||p.removeChild(w)})}};function z0(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&F0(r)}const H0=[z0,D0],K0=r=>{r.documentElement&&H0.forEach(t=>{t(r)})},G0=xs("quill:clipboard"),V0=[[Node.TEXT_NODE,a2],[Node.TEXT_NODE,xu],["br",X0],[Node.ELEMENT_NODE,xu],[Node.ELEMENT_NODE,Y0],[Node.ELEMENT_NODE,Z0],[Node.ELEMENT_NODE,n2],["li",e2],["ol, ul",r2],["pre",Q0],["tr",s2],["b",Ko("bold")],["i",Ko("italic")],["strike",Ko("strike")],["style",t2]],W0=[k0,hf].reduce((r,t)=>(r[t.keyName]=t,r),{}),wu=[df,Yl,Zl,vf,bf,yf].reduce((r,t)=>(r[t.keyName]=t,r),{});class wf extends Wn{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],V0.concat(this.options.matchers??[]).forEach(n=>{let[s,a]=n;this.addMatcher(s,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Tr.blotName])return new Lt().insert(n||"",{[Tr.blotName]:s[Tr.blotName]});if(!e)return new Lt().insert(n||"",s);const a=this.convertHTML(e);return $i(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||s.table)?a.compose(new Lt().retain(a.length()-1).delete(1)):a}normalizeHTML(t){K0(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,s=new WeakMap,[a,o]=this.prepareMatching(n,s);return ec(this.quill.scroll,n,a,o,s)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nt.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,nt.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new Lt().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),nt.sources.SILENT)}}onCaptureCopy(t){var o,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:a}=this.onCopy(n,e);(o=t.clipboardData)==null||o.setData("text/plain",a),(l=t.clipboardData)==null||l.setData("text/html",s),e&&tc({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,c,h,v;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!s){const m=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");m&&(s=this.normalizeURIList(m))}const a=Array.from(((h=t.clipboardData)==null?void 0:h.files)||[]);if(!n&&a.length>0){this.quill.uploader.upload(e,a);return}if(n&&a.length>0){const m=new DOMParser().parseFromString(n,"text/html");if(m.body.childElementCount===1&&((v=m.body.firstElementChild)==null?void 0:v.tagName)==="IMG"){this.quill.uploader.upload(e,a);return}}this.onPaste(e,{html:n,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:s}=e;const a=this.quill.getFormat(t.index),o=this.convert({text:n,html:s},a);G0.log("onPaste",o,{text:n,html:s});const l=new Lt().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,nt.sources.USER),this.quill.setSelection(l.length()-t.length,nt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],s=[];return this.matchers.forEach(a=>{const[o,l]=a;switch(o){case Node.TEXT_NODE:s.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(c=>{if(e.has(c)){const h=e.get(c);h==null||h.push(l)}else e.set(c,[l])});break}}),[n,s]}}At(wf,"DEFAULTS",{matchers:[]});function oa(r,t,e,n){return n.query(t)?r.reduce((s,a)=>{if(!a.insert)return s;if(a.attributes&&a.attributes[t])return s.push(a);const o=e?{[t]:e}:{};return s.insert(a.insert,{...o,...a.attributes})},new Lt):r}function $i(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const s=r.ops[n];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function Rs(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof mn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function J0(r,t){return r.previousElementSibling&&r.nextElementSibling&&!Rs(r.previousElementSibling,t)&&!Rs(r.nextElementSibling,t)}const zi=new WeakMap;function xf(r){return r==null?!1:(zi.has(r)||(r.tagName==="PRE"?zi.set(r,!0):zi.set(r,xf(r.parentNode))),zi.get(r))}function ec(r,t,e,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((a,o)=>o(t,a,r),new Lt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,o)=>{let l=ec(r,o,e,n,s);return o.nodeType===t.ELEMENT_NODE&&(l=e.reduce((c,h)=>h(o,c,r),l),l=(s.get(o)||[]).reduce((c,h)=>h(o,c,r),l)),a.concat(l)},new Lt):new Lt}function Ko(r){return(t,e,n)=>oa(e,r,!0,n)}function Z0(r,t,e){const n=ls.keys(r),s=Gn.keys(r),a=Hs.keys(r),o={};return n.concat(s).concat(a).forEach(l=>{let c=e.query(l,Ct.ATTRIBUTE);c!=null&&(o[c.attrName]=c.value(r),o[c.attrName])||(c=W0[l],c!=null&&(c.attrName===l||c.keyName===l)&&(o[c.attrName]=c.value(r)||void 0),c=wu[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=wu[l],o[c.attrName]=c.value(r)||void 0))}),Object.entries(o).reduce((l,c)=>{let[h,v]=c;return oa(l,h,v,e)},t)}function Y0(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof mn){const s={},a=n.value(r);if(a!=null)return s[n.blotName]=a,new Lt().insert(s,n.formats(r,e))}else if(n.prototype instanceof fi&&!$i(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return oa(t,n.blotName,n.formats(r,e),e);return t}function X0(r,t){return $i(t,`
`)||t.insert(`
`),t}function Q0(r,t,e){const n=e.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return oa(t,"code-block",s,e)}function t2(){return new Lt}function e2(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!$i(t,`
`))return t;let s=-1,a=r.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(s+=1),a=a.parentNode;return s<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:s,...l.attributes||{}}):o,new Lt)}function r2(r,t,e){const n=r;let s=n.tagName==="OL"?"ordered":"bullet";const a=n.getAttribute("data-checked");return a&&(s=a==="true"?"checked":"unchecked"),oa(t,"list",s,e)}function xu(r,t,e){if(!$i(t,`
`)){if(Rs(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(Rs(n,e))return t.insert(`
`);const s=e.query(n);if(s&&s.prototype instanceof kn)return t.insert(`
`);n=n.firstChild}}}return t}function n2(r,t,e){var a;const n={},s=r.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((a=s.fontWeight)!=null&&a.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,l)=>{let[c,h]=l;return oa(o,c,h,e)},t),parseFloat(s.textIndent||0)>0?new Lt().insert("	").concat(t):t}function s2(r,t,e){var s,a;const n=((s=r.parentElement)==null?void 0:s.tagName)==="TABLE"?r.parentElement:(a=r.parentElement)==null?void 0:a.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return oa(t,"table",l,e)}return t}function a2(r,t,e){var s;let n=r.data;if(((s=r.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!xf(r)){if(n.trim().length===0&&n.includes(`
`)&&!J0(r,e))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&Rs(r.parentElement,e)||r.previousSibling instanceof Element&&Rs(r.previousSibling,e))&&(n=n.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&Rs(r.parentElement,e)||r.nextSibling instanceof Element&&Rs(r.nextSibling,e))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class Ef extends Wn{constructor(e,n){super(e,n);At(this,"lastRecorded",0);At(this,"ignoreChange",!1);At(this,"stack",{undo:[],redo:[]});At(this,"currentRange",null);this.quill.on(nt.events.EDITOR_CHANGE,(s,a,o,l)=>{s===nt.events.SELECTION_CHANGE?a&&l!==nt.sources.SILENT&&(this.currentRange=a):s===nt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===nt.sources.USER?this.record(a,o):this.transform(a)),this.currentRange=bl(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const a=this.quill.getContents(),o=s.delta.invert(a);this.stack[n].push({delta:o,range:bl(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,nt.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),a=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),a=l.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Eu(this.stack.undo,e),Eu(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,nt.sources.USER);else{const n=o2(this.quill.scroll,e.delta);this.quill.setSelection(n,nt.sources.USER)}}}At(Ef,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Eu(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const s=r[n];r[n]={delta:e.transform(s.delta,!0),range:s.range&&bl(s.range,e)},e=s.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function i2(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,Ct.BLOCK)!=null):!1}function o2(r,t){const e=t.reduce((s,a)=>s+(a.delete||0),0);let n=t.length()-e;return i2(r,t)&&(n-=1),n}function bl(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class kf extends Wn{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(l.offsetNode,l.offset),s.setEnd(l.offsetNode,l.offset)}const a=s&&t.selection.normalizeNative(s);if(a){const l=t.selection.normalizedToRange(a);(o=n.dataTransfer)!=null&&o.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(s=>{var a;s&&((a=this.options.mimetypes)!=null&&a.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}kf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(s=>{const a=new FileReader;a.onload=()=>{s(a.result)},a.readAsDataURL(n)}));Promise.all(e).then(n=>{const s=n.reduce((a,o)=>a.insert({image:o}),new Lt().retain(r.index).delete(r.length));this.quill.updateContents(s,St.sources.USER),this.quill.setSelection(r.index+n.length,St.sources.SILENT)})}};const l2=["insertText","insertReplacementText"];class c2 extends Wn{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(nt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){tc({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Lt().retain(t.index).insert(e,n),nt.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,nt.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!l2.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=u2(t);if(n==null)return;const s=this.quill.selection.normalizeNative(e),a=s?this.quill.selection.normalizedToRange(s):null;a&&this.replaceText(a,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function u2(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const d2=/Mac/i.test(navigator.platform),f2=100,h2=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||d2&&r.key==="a"&&r.ctrlKey===!0);class p2 extends Wn{constructor(e,n){super(e,n);At(this,"isListening",!1);At(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:a}=n;if(!(s instanceof Un)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&a.key!=="ArrowRight"||!o&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),nt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&h2(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+f2,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof Un)||!s.uiNode)return;const a=document.createRange();a.setStartAfter(s.uiNode),a.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(a)}}nt.register({"blots/block":cr,"blots/block/embed":kn,"blots/break":Vn,"blots/container":aa,"blots/cursor":Ca,"blots/embed":Wl,"blots/inline":cs,"blots/scroll":ga,"blots/text":zn,"modules/clipboard":wf,"modules/history":Ef,"modules/keyboard":wo,"modules/uploader":kf,"modules/input":c2,"modules/uiNode":p2});class v2 extends Gn{add(t,e){let n=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;n=e==="+1"?s+1:s-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const m2=new v2("indent","ql-indent",{scope:Ct.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class _l extends cr{}At(_l,"blotName","blockquote"),At(_l,"tagName","blockquote");class yl extends cr{static formats(t){return this.tagName.indexOf(t.tagName)+1}}At(yl,"blotName","header"),At(yl,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ti extends aa{}Ti.blotName="list-container";Ti.tagName="OL";class Ni extends cr{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){nt.register(Ti)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),s=a=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),a.preventDefault()):o==="unchecked"&&(this.format("list","checked"),a.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Ni.blotName="list";Ni.tagName="LI";Ti.allowedChildren=[Ni];Ni.requiredContainer=Ti;class pi extends cs{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}At(pi,"blotName","bold"),At(pi,"tagName",["STRONG","B"]);class wl extends pi{}At(wl,"blotName","italic"),At(wl,"tagName",["EM","I"]);class Is extends cs{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Af(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}At(Is,"blotName","link"),At(Is,"tagName","A"),At(Is,"SANITIZED_URL","about:blank"),At(Is,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Af(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class xl extends cs{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}At(xl,"blotName","script"),At(xl,"tagName",["SUB","SUP"]);class El extends pi{}At(El,"blotName","strike"),At(El,"tagName",["S","STRIKE"]);class kl extends cs{}At(kl,"blotName","underline"),At(kl,"tagName","U");class Vi extends Wl{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}At(Vi,"blotName","formula"),At(Vi,"className","ql-formula"),At(Vi,"tagName","SPAN");const ku=["alt","height","width"];class Al extends mn{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return ku.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Af(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){ku.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}At(Al,"blotName","image"),At(Al,"tagName","IMG");const Au=["height","width"];class Wi extends kn{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Au.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Is.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Au.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}At(Wi,"blotName","video"),At(Wi,"className","ql-video"),At(Wi,"tagName","IFRAME");const Ya=new Gn("code-token","hljs",{scope:Ct.INLINE});class _s extends cs{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Tr.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),Ya.add(this.domNode,n)}format(t,e){t!==_s.blotName?super.format(t,e):e?Ya.add(this.domNode,e):(Ya.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ya.value(this.domNode)||this.unwrap()}}_s.blotName="code-token";_s.className="ql-token";class En extends Tr{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),_s.blotName,!1),super.replaceWith(t,e)}}class ti extends ia{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===En.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,s){n===En.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,a=En.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((c,h)=>c.concat(lf(h,!1)),new Lt),l=t(s,a);o.diff(l).reduce((c,h)=>{let{retain:v,attributes:m}=h;return v?(m&&Object.keys(m).forEach(p=>{[En.blotName,_s.blotName].includes(p)&&this.formatAt(c,v,p,m[p])}),c+v):c},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?En.formats(n.domNode):"plain"}">
${yo(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=En.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}ti.allowedChildren=[En];En.requiredContainer=ti;En.allowedChildren=[_s,Ca,zn,Vn];const g2=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class $f extends Wn{static register(){nt.register(_s,!0),nt.register(En,!0),nt.register(ti,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:a}=s;return n[a]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(nt.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof ti))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:a}=n;const o=e.ownerDocument.createElement("option");o.textContent=a,o.setAttribute("value",s),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(En.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=En.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(nt.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(nt.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(ti):[t]).forEach(a=>{a.highlight(this.highlightBlot,e)}),this.quill.update(nt.sources.SILENT),n!=null&&this.quill.setSelection(n,nt.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return yo(t).split(`
`).reduce((s,a,o)=>(o!==0&&s.insert(`
`,{[Tr.blotName]:e}),s.insert(a)),new Lt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Tr.className),n.innerHTML=g2(this.options.hljs,e,t),ec(this.quill.scroll,n,[(s,a)=>{const o=Ya.value(s);return o?a.compose(new Lt().retain(a.length(),{[_s.blotName]:o})):a}],[(s,a)=>s.data.split(`
`).reduce((o,l,c)=>(c!==0&&o.insert(`
`,{[Tr.blotName]:e}),o.insert(l)),a)],new WeakMap)}}$f.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ri=class ri extends cr{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",rc()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===ri.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};At(ri,"blotName","table"),At(ri,"tagName","TD");let Bn=ri;class ys extends aa{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),s=e.next.formats();if(n.table!==s.table){const a=this.splitAfter(e);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}At(ys,"blotName","table-row"),At(ys,"tagName","TR");class os extends aa{}At(os,"blotName","table-body"),At(os,"tagName","TBODY");class Ra extends aa{balanceCells(){const t=this.descendants(ys),e=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=Bn.formats(n.children.head.domNode));const a=this.scroll.create(Bn.blotName,s);n.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(os);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(os);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t),a=Bn.formats(n.children.head.domNode),o=this.scroll.create(Bn.blotName,a);n.insertBefore(o,s)})}insertRow(t){const[e]=this.descendant(os);if(e==null||e.children.head==null)return;const n=rc(),s=this.scroll.create(ys.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(Bn.blotName,n);s.appendChild(o)});const a=e.children.at(t);e.insertBefore(s,a)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}At(Ra,"blotName","table-container"),At(Ra,"tagName","TABLE");Ra.allowedChildren=[os];os.requiredContainer=Ra;os.allowedChildren=[ys];ys.requiredContainer=os;ys.allowedChildren=[Bn];Bn.requiredContainer=ys;function rc(){return`row-${Math.random().toString(36).slice(2,6)}`}class b2 extends Wn{static register(){nt.register(Bn),nt.register(ys),nt.register(os),nt.register(Ra)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Ra).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(nt.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(nt.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(nt.sources.USER),this.quill.setSelection(e,nt.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Bn.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const o=a.cellOffset();n.insertColumn(o+t),this.quill.update(nt.sources.USER);let l=s.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,nt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const o=s.rowOffset();n.insertRow(o+t),this.quill.update(nt.sources.USER),t>0?this.quill.setSelection(e,nt.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,nt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(a=>{const o=new Array(e).fill(`
`).join("");return a.insert(o,{table:rc()})},new Lt().retain(n.index));this.quill.updateContents(s,nt.sources.USER),this.quill.setSelection(n.index,nt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(nt.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(nt.events.TEXT_CHANGE,(n,s,a)=>{a===nt.sources.USER&&this.balanceTables()}),!0):!1)})}}const $u=xs("quill:toolbar");class nc extends Wn{constructor(t,e){var n,s;if(super(t,e),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),_2(a,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(a,t.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){$u.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const o=(l=this.options.handlers)==null?void 0:l[a];o&&this.addHandler(a,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(nt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){$u.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,a);else if(this.quill.scroll.query(e).prototype instanceof mn){if(a=prompt(`Enter ${e}`),!a)return;this.quill.updateContents(new Lt().retain(o.index).delete(o.length).insert({[e]:a}),nt.sources.USER)}else this.quill.format(e,a,nt.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,a]=n;if(a.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[s]==null)o=a.querySelector("option[selected]");else if(!Array.isArray(e[s])){let l=e[s];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=a.querySelector(`option[value="${l}"]`)}o==null?(a.value="",a.selectedIndex=-1):o.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const o=e[s],l=o===a.getAttribute("value")||o!=null&&o.toString()===a.getAttribute("value")||o==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const o=e[s]!=null;a.classList.toggle("ql-active",o),a.setAttribute("aria-pressed",o.toString())}})}}nc.DEFAULTS={};function Tu(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function _2(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")Tu(n,s);else{const a=Object.keys(s)[0],o=s[a];Array.isArray(o)?y2(n,a,o):Tu(n,a,o)}}),r.appendChild(n)})}function y2(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(s=>{const a=document.createElement("option");s!==!1?a.setAttribute("value",String(s)):a.setAttribute("selected","selected"),n.appendChild(a)}),r.appendChild(n)}nc.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,Ct.INLINE)!=null&&this.quill.format(e,!1,nt.sources.USER)})}else this.quill.removeFormat(r.index,r.length,nt.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",nt.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,nt.sources.USER),this.quill.format("direction",r,nt.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let s=r==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,nt.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,nt.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,nt.sources.USER):this.quill.format("list","unchecked",nt.sources.USER):this.quill.format("list",r,nt.sources.USER)}}};const w2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',x2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',E2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',k2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',A2='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',$2='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',T2='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',N2='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Nu='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',S2='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',O2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',L2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',C2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',q2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',R2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',I2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',j2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',D2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',P2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',B2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',M2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',U2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',F2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',z2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',H2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',K2='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',G2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',V2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',W2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',J2='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Z2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Y2='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',X2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',vi={align:{"":w2,center:x2,right:E2,justify:k2},background:A2,blockquote:$2,bold:T2,clean:N2,code:Nu,"code-block":Nu,color:S2,direction:{"":O2,rtl:L2},formula:C2,header:{1:q2,2:R2,3:I2,4:j2,5:D2,6:P2},italic:B2,image:M2,indent:{"+1":U2,"-1":F2},link:z2,list:{bullet:H2,check:K2,ordered:G2},script:{sub:V2,super:W2},strike:J2,table:Z2,underline:Y2,video:X2},Q2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Su=0;function Ou(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class xo{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Ou(this.label,"aria-expanded"),Ou(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=Q2,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Su}`,Su+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Tf extends xo{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class Nf extends xo{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const tw=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class Sf{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,tw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let o=0;if(a.right>s.right&&(o=s.right-a.right,this.root.style.left=`${e+o}px`),a.left<s.left&&(o=s.left-a.left,this.root.style.left=`${e+o}px`),a.bottom>s.bottom){const l=a.bottom-a.top,c=t.bottom-t.top+l;this.root.style.top=`${n-c}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const ew=[!1,"center","right","justify"],rw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],nw=[!1,"serif","monospace"],sw=["1","2","3",!1],aw=["small",!1,"large","huge"];class Si extends qa{constructor(t,e){super(t,e);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(s.target)||a.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),e[a]!=null))if(a==="direction")n.innerHTML=e[a][""]+e[a].rtl;else if(typeof e[a]=="string")n.innerHTML=e[a];else{const o=n.value||"";o!=null&&e[a][o]&&(n.innerHTML=e[a][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Va(s,ew),typeof e.align=="object"))return new Nf(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const a=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Va(s,rw,a==="background"?"#ffffff":"#000000"),new Tf(s,e[a])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Va(s,nw):s.classList.contains("ql-header")?Va(s,sw):s.classList.contains("ql-size")&&Va(s,aw)),new xo(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(St.events.EDITOR_CHANGE,n)}}Si.DEFAULTS=Bs({},qa.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Of extends Sf{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,St.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,St.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=iw(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,St.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",St.sources.USER),this.quill.setSelection(n+2,St.sources.USER)}break}}this.textbox.value="",this.hide()}}function iw(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function Va(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),r.appendChild(s)})}const ow=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Lf extends Of{constructor(t,e){super(t,e),this.quill.on(St.events.EDITOR_CHANGE,(n,s,a,o)=>{if(n===St.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===St.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(s.index,s.length);if(l.length===1){const c=this.quill.getBounds(s);c!=null&&this.position(c)}else{const c=l[l.length-1],h=this.quill.getIndex(c),v=Math.min(c.length()-1,s.index+s.length-h),m=this.quill.getBounds(new Qs(h,v));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(St.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}At(Lf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Cf extends Si{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=ow),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Lf(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),vi),this.buildPickers(t.container.querySelectorAll("select"),vi))}}Cf.DEFAULTS=Bs({},Si.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,nt.sources.USER)}}}}});const lw=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class qf extends Of{constructor(){super(...arguments);At(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,St.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(St.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===St.sources.USER){const[a,o]=this.quill.scroll.descendant(Is,e.index);if(a!=null){this.linkRange=new Qs(e.index-o,a.length());const l=Is.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}At(qf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Rf extends Si{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=lw),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),vi),this.buildPickers(t.container.querySelectorAll("select"),vi),this.tooltip=new qf(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}Rf.DEFAULTS=Bs({},Si.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,nt.sources.USER)}}}}});nt.register({"attributors/attribute/direction":hf,"attributors/class/align":uf,"attributors/class/background":$0,"attributors/class/color":A0,"attributors/class/direction":pf,"attributors/class/font":gf,"attributors/class/size":_f,"attributors/style/align":df,"attributors/style/background":Yl,"attributors/style/color":Zl,"attributors/style/direction":vf,"attributors/style/font":bf,"attributors/style/size":yf},!0);nt.register({"formats/align":uf,"formats/direction":pf,"formats/indent":m2,"formats/background":Yl,"formats/color":Zl,"formats/font":gf,"formats/size":_f,"formats/blockquote":_l,"formats/code-block":Tr,"formats/header":yl,"formats/list":Ni,"formats/bold":pi,"formats/code":Xl,"formats/italic":wl,"formats/link":Is,"formats/script":xl,"formats/strike":El,"formats/underline":kl,"formats/formula":Vi,"formats/image":Al,"formats/video":Wi,"modules/syntax":$f,"modules/table":b2,"modules/toolbar":nc,"themes/bubble":Cf,"themes/snow":Rf,"ui/icons":vi,"ui/picker":xo,"ui/icon-picker":Nf,"ui/color-picker":Tf,"ui/tooltip":Sf},!0);var cw=W('<div class="margin svelte-1960fvg"></div> <div class="table-outline main_data svelte-1960fvg"><div class="table-head table-title svelte-1960fvg"><input type="text" id="title" class="svelte-1960fvg"></div> <div class="table-contents-gray svelte-1960fvg"><select class="namewidth svelte-1960fvg"><option>자유</option><option>거래</option><option>공략</option></select></div> <div class="table-contents-white svelte-1960fvg"><div id="editor" class="svelte-1960fvg"></div></div> <div class="form-group svelte-1960fvg"><button class="emphasis-button">작성하기</button> <button class="simple-button">취소하기</button></div></div>',1);function uw(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(Je,"$myaccount",e),a=()=>F(rl,"$modify_postid",e);let o=O(""),l="",c,h=O("free");const v="/"+n();async function m(){const A=document.createElement("input");A.setAttribute("type","file"),A.setAttribute("accept","image/*"),A.click(),A.onchange=async()=>{const C=A.files?A.files[0]:null;if(!C)return alert("파일이 선택되지 않았습니다.");const D=new FileReader;D.onloadend=async()=>{const P=D.result;try{const H=await p(P);if(H){const K=c.getSelection();c.insertEmbed((K==null?void 0:K.index)||0,"image",H)}}catch(H){console.error("이미지 업로드 오류:",H)}},D.readAsDataURL(C)}}async function p(A){const C=await jt("/cloudinary/upload","POST",{image:A});if(!C.ok)throw new Error("이미지 업로드 실패");return(await C.json()).url}async function g(){const A={title:i(o),category:i(h),content:l,nickname:s(),postId:a()};try{(await jt("/board/write","POST",A)).ok&&(alert("글을 성공적으로 작성하였습니다"),b(),Na(`${v}/boardlist`))}catch(C){console.error("네트워크 오류:",C),alert(`네트워크 오류: ${C.message}`)}}async function w(){if(a()!=="none")try{const C=await(await fetch(`/board/post?post_id=${a()}`)).json();_(o,C.title),l=C.content,_(h,C.category)}catch{alert("게시물 로드 중 오류 발생")}}Ze(async()=>{await w(),c=new nt("#editor",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,!1],class:"custom-header"}],["bold","italic","underline"],["image","code-block"]],handlers:{image:m}}}}),l&&c.clipboard.dangerouslyPasteHTML(l),c.on("text-change",()=>{l=c.root.innerHTML})});function b(){rl.set("none")}function E(){b(),Na(`${v}/boardlist`)}pe();var k=cw(),$=f(wt(k),2),T=u($),q=u(T),S=f(T,2),L=u(S);it(()=>{i(h),rs(()=>{})});var M=u(L);M.value=(M.__value="free")==null?"":"free";var B=f(M);B.value=(B.__value="trade")==null?"":"trade";var U=f(B);U.value=(U.__value="setting")==null?"":"setting";var z=f(S,4),y=u(z),N=f(y,2);j(q,()=>i(o),A=>_(o,A)),ns(L,()=>i(h),A=>_(h,A)),Z("click",y,g),Z("click",N,E),I(r,k),Qt()}var dw=W('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),fw=W('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),hw=W('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),pw=W('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),vw=W('<table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table>'),mw=W('<div class="table-outline main_data"><table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table> <div class="toggle-wrapper"><button class="simple-button"> </button></div> <!></div>');function gw(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e);let s=[{season:"2024.10-11 랭킹전",first:"마스터",second:"DTBar",third:"Jay",details:"비고뇌 정식전 : 1위 DTBAR 2위 Jay 3위 IRONKIM<br/>고뇌 정식전 : 1위 마스터 2위 DTBAR 3위 Jay<br/>2:2 정식전 : 1위 오찬물 수수깡수수 2위 DTBAR IRONKIM 3위 퓨리 마스터<br/>조드 정식전 : 1위 봐바 2위 DUKY 3위 Az"},{season:"2024.9 랭킹전",first:"DTbar",second:"Duky",third:"오찬물",details:"고뇌 정식전 : 1위 스티븐 2위 Jay 3위 오찬물<br/>비고뇌 정식전 : 1위 BallistaBB 2위 지존 3위 수수깡수수"},{season:"2024.8 랭킹전",first:"Duky",second:"마스터",third:"옥땅",details:"정식전 : 1위 IRONKIM 2위 배로나 3위 듀키"},{season:"2024.7 랭킹전",first:"Duky",second:"Jay",third:"바아바아",details:"플레이오프 : 1위 Jay 2위 옥례 3위 Duky<br/>3티어 정식전 : 1위 배로나 2위 오찬물 3위 duky<br/>고뇌 정규전 : 1위 바아바아 2위 오찬물 3위 Duky<br/>레어 정규전 : 1위 낑깡 2위 Ari 3위 su"},{season:"2024.6 랭킹전",first:"Head",second:"Jay",third:"Duky",details:"3티어 정식전 : 1위 Duky 2위 Jay 3위 IRONKIM<br/>고뇌 정규전 : 1위 Head 2위 jay 3위 봐바<br/>레어 정규전 : 1위 Jay 2위 지존 3위 스티븐"},{season:"2024.5 랭킹전",first:"Duky",second:"Head",third:"IRONKIM",details:"정식전 : 1위 줍줍 2위 Duky 3위 쭈니바바리안<br/>테마전 : 1위 금복이 2위 goyard 3위 IRONKIM"},{season:"2024.4 랭킹전",first:"Jay",second:"Duky",third:"줍줍",details:"정식전 : 1위 aerts 2위 Head 3위 jay<br/>테마전 : 아리앗옥례 & 오찬물 & Jay"},{season:"2024.3 랭킹전",first:"Duky",second:"BigMara",third:"팍씨",details:"정식전 : 1위 Joral_Sinsa 2위 Jak 3위 바바<br/>테마전 : 1위 Jay 2위 아이언킴 3위 오찬물 <br/> 테마전 : 1위 Jay 2위 아이언킴 3위 오찬물"},{season:"2024.2 랭킹전",first:"barbar",second:"오찬물",third:"Duky",details:"정식전 : 1위 오찬물 2위 BallistaBB 3위 GeonDal<br/>테마전 : 1위 옥례 2위 옥땅 3위 IRONKIM"},{season:"2024.1 랭킹전",first:"오찬물",second:"Duky",third:"Head",details:"정식전 : 1위 Duky 2위 Jay 3위 오찬물"}],a=[{season:"2024.10 랭킹전",first:"우리",second:"스티븐",third:"제트",details:"24. 10. 정규대회 인내전 : 1위 스티븐 2위 Hell 3위 Madon<br/>24. 10. 정규대회 비인내전 : 1위 우리 2위 파괴 3위 LoPala"},{season:"2024.9 랭킹전",first:"스티븐",second:"독재",third:"BallistaBB",details:"24. 9. 정규대회 : 1위 스티븐 2위 독재 3위 Art"},{season:"2024.8 랭킹전",first:"스티븐",second:"Art",third:"허경영",details:"-"},{season:"2024.7 랭킹전",first:"카니아",second:"BallistaBB",third:"Art",details:"-"},{season:"2024.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"kissa",details:"-"},{season:"2024.5 랭킹전",first:"BallistaBB",second:"스티븐",third:"MAX",details:"-"},{season:"2024.2 랭킹전",first:"Jay",second:"제트",third:"MAX",details:"-"},{season:"2024.1 랭킹전",first:"Jay",second:"스티븐",third:"제트",details:"23.12 정기전 : 1위 Robe 2위 스티븐 3위 제트<br>23.11 정기전 : 1위 파괴 2위 스티븐 3위 Robe"}],o=[{season:"2023.12 랭킹전",first:"Duky",second:"Jak",third:"아리",details:"정식전 : 1위 아리 2위 도라라 3위 Duky "},{season:"2023.11 랭킹전",first:"Jak",second:"Duky",third:"오찬물",details:"정식전 : 1위 봐바 2위 도라라 3위 Art_ist <br/> 테마전 : 1위 잼재미 2위 Jak 3위 아리앗옥례"},{season:"2023.10 랭킹전",first:"오찬물",second:"ALO",third:"오찬물",details:"정식전 : 1위 봐바 2위 배로나 3위 잼재미<br/> 테마전 : 아리 & 오찬물 & 아리앗옥례"},{season:"2023.9 랭킹전",first:"오찬물",second:"Jak",third:"바바",details:"정식전 : 1위 오찬물 2위 봐바 3위 IRONKIM"},{season:"2023.8 랭킹전",first:"Duky",second:"Duky",third:"IRONKIM",details:"정식전 : 1위 Jak 2위 BB 3위 도적"},{season:"2023.7 랭킹전",first:"BB(통합우승)",second:"BB(고뇌우승)",third:"BB(비고뇌우승)",details:"정식전 : 1위 Duky 2위 묵선 3위 오찬물"},{season:"시즌 10",first:"ALO",second:"ADOOBA",third:"Duky",details:"정식전 10회 : 1위 도적 2위 ALO 3위 Jak"},{season:"시즌 9",first:"스티븐",second:"ADOOBA",third:"Duky",details:"정식전 9회 : 1위 Duky 2위 ADOOBA 3위 Jak"},{season:"시즌 8",first:"스티븐",second:"Duky",third:"ALO",details:"정식전 8회 : 1위 배로나 2위 Duky 3위 Art_ist<br/>테마전 8회 : 1위 GeonDal 2위 BallistaBB 3위 오찬물"},{season:"시즌 7",first:"봐바",second:"ALO",third:"도라라",details:"정식전 7회 : 1위 PABLO 2위 야토신 3위 DUTY<br/>테마전 7회 : 1위 ADOOBA & 스티븐 & 도라라 2위  3위 "},{season:"시즌 6",first:"PABLO",second:"오찬물",third:"ADOOBA",details:"정식전 6회 : 1위 Joral_Sinsa 2위 GeonDal 3위 RFHH<br/>테마전 6회 : 1위 도적 & Jak 2위  3위 "},{season:"시즌 5",first:"ADOOBA",second:"오찬물",third:"Joral_Sinsa",details:"정식전 5회 : 1위 ALO 2위 RFHH 3위 TOONGTANG<br/>테마전 5회 : 1위 돌아돌아 & 파멸 2위  3위 "},{season:"시즌 4",first:"Joral_Sinsa",second:"오찬물",third:"ADOOBA",details:"정식전 4회 : 1위 파멸 2위 GG 3위 좀건들지마봐<br/>테마전 4회 : 1위 Az 2위 TOONGTANG 3위 행복한우빈이네"},{season:"시즌 3",first:"TOONGTANG",second:"Joral_Sinsa",third:"ALO",details:"정식전 3회 : 1위 Thanos 2위 MikeTyson 3위 Az<br/>테마전 3회 : 1위 GG 2위 돌아돌아 3위 TOONGTANG"},{season:"시즌 2",first:"TOONGTANG",second:"BABBARIAN",third:"Thanos",details:"정식전 2회 : 1위 TOONGTANG 2위 AlwaysReview 3위 Az<br/>테마전 2회 : 1위 BABBARIAN & Thanos 2위  3위 "},{season:"시즌 1",first:"TOONGTANG",second:"Thanos",third:"AlwaysReview",details:"정식전 1회 : 1위 돌아돌아 2위 FBI멀더 3위 BallistaBB<br/>테마전 1회 : 1위 TOONGTANG 2위 BallistaBB 3위 PK"}],l=[{season:"2023.10 랭킹전",first:"스티븐",second:"달빛",third:"스티븐",details:"정기전 : 1위 CASINO 2위 Queen 3위 드루<br/>23.7 정기전 : 1위 Edward 2위 스티븐 3위 모팔모"},{season:"2023.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"yakuza",details:"정기전 : 1위 yakuza 2위 BallistaBB 3위 모팔모"},{season:"2023.5 랭킹전",first:"Robe",second:"달건",third:"Boss",details:"정기전 : 1위 달건 2위 Robe 3위 Joy<br/>테마전 : 1위 Robe 2위 Southbank 3위 Art_ist"}],c=[],h=[],v=O([]),m=O([]);n()==="babapk"?(_(v,s),_(m,o)):n()==="mpk"?(_(v,a),_(m,l)):(_(v,c),_(m,h));let p=O(Array(i(v).length).fill(!1)),g=O(Array(i(m).length).fill(!1)),w=O(!1);function b(U){_(p,i(p).map((z,y)=>y===U?!z:z))}function E(U){_(g,i(g).map((z,y)=>y===U?!z:z))}function k(){_(w,!i(w))}pe();var $=mw(),T=u($),q=f(u(T));Yt(q,5,()=>i(v),ae,(U,z,y)=>{let N=()=>i(z).season,A=()=>i(z).first,C=()=>i(z).second,D=()=>i(z).third,P=()=>i(z).details;var H=fw(),K=wt(H),V=u(K),G=u(V),tt=f(V),st=u(tt),at=f(tt),lt=u(at),J=f(at),ct=u(J),gt=f(K,2);xt(gt,()=>i(p)[y],ft=>{var vt=dw(),et=u(vt),ot=u(et);Xo(ot,P),I(ft,vt)}),it(()=>{Q(G,N()),Q(st,A()),Q(lt,C()),Q(ct,D())}),Z("click",K,()=>b(y)),I(U,H)});var S=f(T,2),L=u(S),M=u(L),B=f(S,2);xt(B,()=>i(w),U=>{var z=vw(),y=f(u(z));Yt(y,5,()=>i(m),ae,(N,A,C)=>{let D=()=>i(A).season,P=()=>i(A).first,H=()=>i(A).second,K=()=>i(A).third,V=()=>i(A).details;var G=pw(),tt=wt(G),st=u(tt),at=u(st),lt=f(st),J=u(lt),ct=f(lt),gt=u(ct),ft=f(ct),vt=u(ft),et=f(tt,2);xt(et,()=>i(g)[C],ot=>{var ut=hw(),ht=u(ut),Et=u(ht);Xo(Et,V),I(ot,ut)}),it(()=>{Q(at,D()),Q(J,P()),Q(gt,H()),Q(vt,K())}),Z("click",tt,()=>E(C)),I(N,G)}),I(U,z)}),it(()=>Q(M,i(w)?"이전 시즌 결과 숨기기":"이전 시즌 결과 보기")),Z("click",L,k),I(r,$),Qt()}var bw=W('<tr class="svelte-o4nmjd"><td class="svelte-o4nmjd"><!></td></tr>'),_w=W('<div class="info-container"><table class="svelte-o4nmjd"><thead><tr class="svelte-o4nmjd"><th class="svelte-o4nmjd"> </th></tr></thead><tbody></tbody></table></div>');function yw(r){const t=le(),e=()=>F(he,"$mode",t);let n=O();const s=[{href:"/mpk/elo",title:"Elo 점수 예상계산기"},{href:"/mpk/simul",title:"시뮬레이터"},{href:"/mpk/ring",title:"링 스탯 측정기"}],a=[{href:"/babapk/pscore",title:"파워점수 계산기"},{href:"/babapk/visio",title:"렙당뚜껑 계산기"},{href:"/babapk/elo",title:"Elo 점수 예상계산기"},{href:"/babapk/simul",title:"시뮬레이터"},{href:"/babapk/ring",title:"링 스탯 측정기"}],o=[{href:"/zpke/pscore",title:"질딘 파워점수 계산기"},{href:"/zpke/elo",title:"Elo 점수 예상계산기"},{href:"/zpke/simul",title:"시뮬레이터"},{href:"/zpke/ring",title:"링 스탯 측정기"}];e()==="babapk"?_(n,a):e()==="mpk"?_(n,s):_(n,o);var l=_w(),c=u(l),h=u(c),v=u(h),m=u(v),p=u(m),g=f(h);Yt(g,5,()=>i(n),ae,(b,E)=>{var k=bw(),$=u(k),T=u($);Cs(T,{get to(){return i(E).href},children:(q,S)=>{var L=hn();it(()=>Q(L,i(E).title)),I(q,L)},$$slots:{default:!0}}),I(b,k)}),it(()=>Q(p,`${e()??""} 계산기 들어가기`)),I(r,l)}var ww=W('<table><thead><tr><th colspan="4">질딘용 파워 점수 계산기</th></tr></thead><tbody><tr><td>방어</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>+ 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>% 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>오버 힘</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>오버 민첩</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 오버 스탯</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>활력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>생명력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>민뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>맥뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>데미지 추가(추뎀)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>증뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 기술 레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>모든 성기사 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>공격 오라 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>방깎</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>강타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>치타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 스탯(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function xw(r,t){Xt(t,!1);const e=O(),n=O(),s=O(),a=O(),o=O(),l=O(),c=O(),h=O(),v=O(),m=O();let p=O(0),g=O(0),w=O(0),b=O(0),E=O(0),k=O(0),$=O(0),T=O(0),q=O(0),S=O(0),L=O(0),M=O(0),B=O(0),U=O(0),z=0,y=O(0),N=O(0),A=O(0),C=O(0),D=O(0),P=O(0),H=O(0),K=O(0),V=O(0),G,tt,st,at,lt,J,ct,gt,ft,vt,et,ot,ut,ht,Et,$t,Nt,It,Bt,se;const Ut=()=>{G=Math.floor((133+i(S)+i(M))*(100+(492+i(B))+z*6+i(V)*17+480+378+23*(i(U)+i(K)+7)-138+(232+i(b)+i(k)))/100),tt=Math.floor((552+i(L)+i(M))*(100+(492+i(B))+z*6+i(V)*17+480+378+23*(i(U)+i(K)+7)-138+(232+i(b)+i(k)))/100),st=Math.floor((148*5+(i(E)+i(k))*5-15+i(g)+2743)*(199+i(w)+170+20+270+z*10+i(V)*5+15*(i(U)+i(K)+7)-15*6)/100),at=Math.floor((3139+i(p)+Math.floor((148+i(E)+i(k))/4))*(860+15*(i(K)+i(U)+z+7)-15*6)/100),lt=Math.round((55+99*2-2+(420+i(D)+i(P)*2)*3-25*3+60+i(T)+740)*(i(y)+100+71+(5+i(U))*3-9)/100)+i(q)+148+(i(k)+i(P)+80+i($))*3,J=i(l)+i(N),ct=i(c)+i(A),gt=i(h)+i(C),ft=0,vt=(gt/100+(100-gt)/100*ft/100)*100,et=(i(e)+i(n))/6/2/2,ot=(G+tt)/6/2/2,ut=lt/2/10*i(c)/100/2,ht=i(o)/2/10*ct/100/2,Et=et*(i(m)/100+1)+ut,$t=ot*(vt/100+1)+ht,Nt=i(s)/(i(s)+at*(100-i(l)/2)/100)*.25,It=st/(st+i(a)*(100-J/2)/100)*.25,Bt=lt/Et*4/25/Nt,se=i(o)/$t*4/25/It,_(H,Math.round((Bt/se*100-100)*100*100)/100)};Ft(()=>{},()=>{_(e,2267)}),Ft(()=>{},()=>{_(n,9411)}),Ft(()=>{},()=>{_(s,23374)}),Ft(()=>{},()=>{_(a,27790)}),Ft(()=>{},()=>{_(o,4346)}),Ft(()=>{},()=>{_(l,0)}),Ft(()=>{},()=>{_(c,25)}),Ft(()=>{},()=>{_(h,52)}),Ft(()=>{},()=>{_(v,0)}),Ft(()=>{},()=>{_(m,52)}),tn();var te=ww(),zt=f(u(te)),de=u(zt),Ht=f(u(de)),ie=u(Ht),fe=f(Ht,2),Mt=u(fe),Jt=f(de),ce=f(u(Jt)),Kt=u(ce),ve=f(ce,2),xe=u(ve),Te=f(Jt),ge=f(u(Te)),Le=u(ge),ke=f(ge,2),Ee=u(ke),me=f(Te),ee=f(u(me)),Ae=u(ee),Ce=f(ee,2),Ne=u(Ce),rt=f(me),dt=f(u(rt)),_t=u(dt),qt=f(dt,2),mt=u(qt),ze=f(rt),er=f(u(ze)),Ve=u(er),Nr=f(er,2),ur=u(Nr),dr=f(ze),fr=f(u(dr)),rr=u(fr),be=f(fr,2),Kr=u(be),Gr=f(dr),Sr=f(u(Gr)),hr=u(Sr),pr=f(Sr,2),$e=u(pr),Vr=f(Gr),Or=f(u(Vr)),vr=u(Or),mr=f(Or,2),Wr=u(mr),qe=f(Vr),Lr=f(u(qe)),gr=u(Lr),Cr=f(Lr,2),Jr=u(Cr),qr=f(qe),Ye=f(u(qr)),br=u(Ye),nr=f(Ye,2),We=u(nr),_r=f(qr),yr=u(_r),Rr=u(yr),Ir=f(yr),Zr=u(Ir);it(()=>Q(Zr,`당신의 아이템 파워 점수는 ${i(H)??""}점 입니다`)),j(ie,()=>i(p),Rt=>_(p,Rt)),j(Mt,()=>i(g),Rt=>_(g,Rt)),j(Kt,()=>i(w),Rt=>_(w,Rt)),j(xe,()=>i(b),Rt=>_(b,Rt)),j(Le,()=>i(E),Rt=>_(E,Rt)),j(Ee,()=>i(k),Rt=>_(k,Rt)),j(Ae,()=>i($),Rt=>_($,Rt)),j(Ne,()=>i(T),Rt=>_(T,Rt)),j(_t,()=>i(q),Rt=>_(q,Rt)),j(mt,()=>i(S),Rt=>_(S,Rt)),j(Ve,()=>i(L),Rt=>_(L,Rt)),j(ur,()=>i(M),Rt=>_(M,Rt)),j(rr,()=>i(B),Rt=>_(B,Rt)),j(Kr,()=>i(U),Rt=>_(U,Rt)),j(hr,()=>i(K),Rt=>_(K,Rt)),j($e,()=>i(V),Rt=>_(V,Rt)),j(vr,()=>i(y),Rt=>_(y,Rt)),j(Wr,()=>i(N),Rt=>_(N,Rt)),j(gr,()=>i(A),Rt=>_(A,Rt)),j(Jr,()=>i(C),Rt=>_(C,Rt)),j(br,()=>i(D),Rt=>_(D,Rt)),j(We,()=>i(P),Rt=>_(P,Rt)),Z("click",Rr,Ut),I(r,te),Qt()}var Ew=W('<table><thead><tr><th colspan="4">바바용 파워 점수 계산기</th></tr></thead><tbody><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>방어</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 어레</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>% 어레</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 힘</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 민첩</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 오버 스탯</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>활력</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>생명력</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>민뎀</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>맥뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>데미지 추가(추뎀)</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>증뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+모든(바바) 스킬</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>전투지시</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>외침</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>철갑피부</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 함성 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 숙련 기술 레벨</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 전투 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>방깎</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>강타</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>치타</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 스탯(노오버)</td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function kw(r,t){Xt(t,!1);const e=O(),n=O(),s=O(),a=O(),o=O(),l=O(),c=O(),h=O(),v=O(),m=O();let p=O(0),g=O(0),w=O(0),b=O(0),E=O(0),k=O(0),$=O(0),T=O(0),q=O(0),S=O(0),L=O(0),M=O(0),B=O(0),U=O(0),z=O(0),y=O(0),N=O(0),A=O(0),C=O(0),D=O(0),P=O(0),H=O(0),K=O(0),V=O(0),G=O(0),tt=O(0),st=O(0),at,lt,J,ct,gt,ft,vt,et,ot,ut,ht,Et,$t,Nt,It,Bt,se,Ut,te,zt;const de=()=>{at=Math.floor((427+i(S)+i(M))*(100+(440+i(B))+(258+6*10+i(U)*10)+(10+i(D)*5+i(C)*5)+(232+i(b)+i(k)))/100),lt=Math.floor((592+i(L)+i(M))*(100+(440+i(B))+(258+6*10+i(U)*10)+(10+i(D)*5+i(C)*5)+(232+i(b)+i(k)))/100),J=Math.floor((222*5+(i(E)+i(k))*5-15+i(g)+3119)*(120+i(w)+248+180+13*(i(U)+6)-13*6+(i(D)+2)*5+i(C)*8)/100),ct=Math.floor((3583+i(p)+Math.floor((222+i(E)+i(k))/4))*(690+20*(i(U)+6)+(i(z)+i(N)+i(C)+i(A))*10)/100),gt=Math.round((55+99*2-2+(306+i(G)+i(tt)*2)*4-25*4+60+i(T)+855)*(i(P)+100+113+(6+i(U)+i(y))*3)/100)+i(q)+148+(i(k)+i(tt)+80+i($))*4,ft=i(l)+i(H),vt=i(c)+i(K),et=i(h)+i(V),ot=i(v)+(i(U)+i(C)>=4?1:0),ut=(et/100+(100-et)/100*ot/100)*100,ht=(i(e)+i(n))/6/2/2,Et=(at+lt)/6/2/2,$t=gt/2/10*i(c)/100/2,Nt=i(o)/2/10*vt/100/2,It=ht*(i(m)/100+1)+$t,Bt=Et*(ut/100+1)+Nt,se=i(s)/(i(s)+ct*(100-i(l)/2)/100)*.25,Ut=J/(J+i(a)*(100-ft/2)/100)*.25,te=gt/It*4/25/se,zt=i(o)/Bt*4/25/Ut,_(st,Math.round((te/zt*100-100)*100*100)/100)};Ft(()=>{},()=>{_(e,4697)}),Ft(()=>{},()=>{_(n,6512)}),Ft(()=>{},()=>{_(s,23514)}),Ft(()=>{},()=>{_(a,29467)}),Ft(()=>{},()=>{_(o,5758)}),Ft(()=>{},()=>{_(l,25)}),Ft(()=>{},()=>{_(c,25)}),Ft(()=>{},()=>{_(h,35)}),Ft(()=>{},()=>{_(v,31)}),Ft(()=>{},()=>{_(m,55.15)}),tn();var Ht=Ew(),ie=f(u(Ht)),fe=u(ie),Mt=u(fe),Jt=u(Mt),ce=f(Mt,2),Kt=u(ce),ve=f(fe),xe=u(ve),Te=u(xe),ge=f(xe,2),Le=u(ge),ke=f(ve),Ee=u(ke),me=u(Ee),ee=f(Ee,2),Ae=u(ee),Ce=f(ke),Ne=u(Ce),rt=u(Ne),dt=f(Ne,2),_t=u(dt),qt=f(Ce),mt=u(qt),ze=u(mt),er=f(mt,2),Ve=u(er),Nr=f(qt),ur=u(Nr),dr=u(ur),fr=f(ur,2),rr=u(fr),be=f(Nr),Kr=u(be),Gr=u(Kr),Sr=f(Kr,2),hr=u(Sr),pr=f(be),$e=u(pr),Vr=u($e),Or=f($e,2),vr=u(Or),mr=f(pr),Wr=u(mr),qe=u(Wr),Lr=f(Wr,2),gr=u(Lr),Cr=f(mr),Jr=u(Cr),qr=u(Jr),Ye=f(Jr,2),br=u(Ye),nr=f(Cr),We=u(nr),_r=u(We),yr=f(We,2),Rr=u(yr),Ir=f(nr),Zr=u(Ir),Rt=u(Zr),jr=f(Zr,2),Dr=u(jr),or=f(Ir),en=u(or),gn=u(en),rn=f(en,2),bn=u(rn),nn=f(or),Pr=u(nn),wr=u(Pr),sn=f(Pr),Yr=u(sn);it(()=>Q(Yr,`당신의 아이템 파워 점수는 ${i(st)??""}점 입니다`)),j(Jt,()=>i(p),Tt=>_(p,Tt)),j(Kt,()=>i(g),Tt=>_(g,Tt)),j(Te,()=>i(w),Tt=>_(w,Tt)),j(Le,()=>i(b),Tt=>_(b,Tt)),j(me,()=>i(E),Tt=>_(E,Tt)),j(Ae,()=>i(k),Tt=>_(k,Tt)),j(rt,()=>i($),Tt=>_($,Tt)),j(_t,()=>i(T),Tt=>_(T,Tt)),j(ze,()=>i(q),Tt=>_(q,Tt)),j(Ve,()=>i(S),Tt=>_(S,Tt)),j(dr,()=>i(L),Tt=>_(L,Tt)),j(rr,()=>i(M),Tt=>_(M,Tt)),j(Gr,()=>i(B),Tt=>_(B,Tt)),j(hr,()=>i(U),Tt=>_(U,Tt)),j(Vr,()=>i(y),Tt=>_(y,Tt)),j(vr,()=>i(z),Tt=>_(z,Tt)),j(qe,()=>i(N),Tt=>_(N,Tt)),j(gr,()=>i(A),Tt=>_(A,Tt)),j(qr,()=>i(C),Tt=>_(C,Tt)),j(br,()=>i(D),Tt=>_(D,Tt)),j(_r,()=>i(P),Tt=>_(P,Tt)),j(Rr,()=>i(H),Tt=>_(H,Tt)),j(Rt,()=>i(K),Tt=>_(K,Tt)),j(Dr,()=>i(V),Tt=>_(V,Tt)),j(gn,()=>i(G),Tt=>_(G,Tt)),j(bn,()=>i(tt),Tt=>_(tt,Tt)),Z("click",wr,de),I(r,Ht),Qt()}var Aw=W(`<table><thead><tr><th colspan="4">BABAPK 렙당뚜껑 계산기</th></tr></thead><tbody><tr><td colspan="4">아이템 기본 스탯</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>방어</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 모든(바바) 스킬</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>% 어레 보너스</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>전투지시</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>외침</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>철갑피부</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 어레</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td></td><td></td></tr><tr><td colspan="4">2 소켓일 시 추가 주얼 스탯(1소켓일 시에는 모두 0 입력)</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>어레</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+방어</td></tr><tr><td colspan="4"><button class="emphasis-button" type="button">가치 계산</button><br> </td></tr><tr><td class="text svelte-synbn7" colspan="4">유니크 뚜껑과 비교<br> 504 방어 슬가 점수 = 100<br> 756 방어 에테 슬가 점수 = 95.54<br> 408 방어 3/3/3 스킬 악마뿔의 날 점수 = 95.77<br> 611 방어 3/3/3 스킬 에테 악마뿔의 날 점수 = 91.47</td></tr><tr><td class="text svelte-synbn7" colspan="4">이 계산기는 발리스타에 의해 만들어졌습니다<br> 99레벨, 으뜸 슬가, 3/20/20 부적, 강철찢개, 버석고뇌 : 100점<br> 만약 점수가 100점을 넘는다면 그만큼 슬가보다 좋은 뚜껑임을 나타냅니다.</td></tr><tr><td class="text svelte-synbn7" colspan="4">어떻게 사용하나요?<br> 뚜껑의 스탯을 입력하세요<br> 만약 1소켓인 경우 주얼 입력을 모두 0으로 하세요. 만약 그렇지 않다면, 지증속
          주얼 2개를 제외한 자신이 사용할 전투주얼 수치를 넣으세요<br> % 상승 어레와 + 상승 어레를 구별해서 넣어주세요</td></tr></tbody></table>`);function $w(r){let t=O(0),e=O(0),n=O(0),s=O(0),a=O(0),o=O(0),l=O(0),c=O(0),h=O(0),v=O(0),m=O(0),p=O(0),g=O(0),w=O(0),b=O(0),E=O(0),k=O(0),$=O(0),T=O(0),q=O(0),S=O(0),L=O(0);function M(){_(L,Math.round((2130+i(o)+i(T)+4*(i(s)+i(a)+i($)+i(k)))*(2.25+(i(e)+i(l))*.03)+468)/(.25*23514/(23514+Math.floor((3134+i(t)+i(S))*(.2*i(e)+7.7+.1*(i(h)+i(c)))*.875))*5604.5/12)/(5758/(.25*Math.floor((4214+i(v)+i(q))*(5.02+i(e)*.13+i(n)*.01))/(Math.floor((i(v)+i(q)+4214)*(5.02+i(e)*.13+i(n)*.01))+29467*.875)*(((219+i(p)+i(g)+i(E)+i(b))/2+400)*(10.7+.1*i(e)+.01*(i(m)+i(w))))/12))*100)}var B=Aw(),U=f(u(B)),z=f(u(U)),y=u(z),N=u(y),A=f(y,2),C=u(A),D=f(z),P=u(D),H=u(P),K=f(P,2),V=u(K),G=f(D),tt=u(G),st=u(tt),at=f(tt,2),lt=u(at),J=f(G),ct=u(J),gt=u(ct),ft=f(ct,2),vt=u(ft),et=f(J),ot=u(et),ut=u(ot),ht=f(ot,2),Et=u(ht),$t=f(et),Nt=u($t),It=u(Nt),Bt=f(Nt,2),se=u(Bt),Ut=f($t),te=u(Ut),zt=u(te),de=f(Ut,2),Ht=u(de),ie=u(Ht),fe=f(Ht,2),Mt=u(fe),Jt=f(de),ce=u(Jt),Kt=u(ce),ve=f(ce,2),xe=u(ve),Te=f(Jt),ge=u(Te),Le=u(ge),ke=f(ge,2),Ee=u(ke),me=f(Te),ee=u(me),Ae=u(ee),Ce=f(ee,2),Ne=u(Ce),rt=f(me),dt=u(rt),_t=u(dt),qt=f(_t,2);it(()=>Q(qt,` 당신의 렙당 뚜껑의 점수는 ${i(L)??""}입니다`)),j(N,()=>i(t),mt=>_(t,mt)),j(C,()=>i(e),mt=>_(e,mt)),j(H,()=>i(n),mt=>_(n,mt)),j(V,()=>i(s),mt=>_(s,mt)),j(st,()=>i(a),mt=>_(a,mt)),j(lt,()=>i(o),mt=>_(o,mt)),j(gt,()=>i(l),mt=>_(l,mt)),j(vt,()=>i(c),mt=>_(c,mt)),j(ut,()=>i(h),mt=>_(h,mt)),j(Et,()=>i(v),mt=>_(v,mt)),j(It,()=>i(m),mt=>_(m,mt)),j(se,()=>i(p),mt=>_(p,mt)),j(zt,()=>i(g),mt=>_(g,mt)),j(ie,()=>i(w),mt=>_(w,mt)),j(Mt,()=>i(b),mt=>_(b,mt)),j(Kt,()=>i(E),mt=>_(E,mt)),j(xe,()=>i(k),mt=>_(k,mt)),j(Le,()=>i($),mt=>_($,mt)),j(Ee,()=>i(T),mt=>_(T,mt)),j(Ae,()=>i(q),mt=>_(q,mt)),j(Ne,()=>i(S),mt=>_(S,mt)),Z("click",_t,M),I(r,B)}var Tw=W('<table><thead><tr><th>링 스탯 측정기</th></tr></thead><tbody><tr><td><select class="input-text short svelte-1d6dr2d"><option>야만용사</option><option>성기사</option><option>드루이드</option><option>아마존</option></select></td></tr><tr><td><label><input class="input-text short svelte-1d6dr2d" type="checkbox"> + 5% 추가어레</label> <input class="input-text short svelte-1d6dr2d" type="number"> 최소 데미지</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 최대 데미지 <input class="input-text short svelte-1d6dr2d" type="number"> 어레</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 힘 <input class="input-text short svelte-1d6dr2d" type="number"> 민첩</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 생명력</td></tr><tr><td><button class="emphasis-button">계산</button><br> <br> 단순히 스탯만을 계산하므로 전체적인 성능과는 차이가 있을 수 있습니다.</td></tr></tbody></table>');function Nw(r,t){Xt(t,!1);const e=O();let n=O(0),s=O(0),a=O(0),o=O(0),l=O(0),c=O(0),h=O(4),v=O(0),m=O(!1);Ft(()=>(i(s),i(a),i(n),i(c),i(l),i(o),i(h),i(m)),()=>{_(e,()=>{let J=i(s)+i(a)+i(n)/5+(i(c)+i(l))*1.5+i(o)/i(h);i(m)&&(J+=38/5),_(v,J)})}),tn();var p=Tw(),g=f(u(p)),w=u(g),b=u(w),E=u(b);it(()=>{i(h),rs(()=>{i(e)})});var k=u(E);k.value=(k.__value="4")==null?"":"4";var $=f(k);$.value=($.__value="3")==null?"":"3";var T=f($);T.value=(T.__value="2")==null?"":"2";var q=f(T);q.value=(q.__value="3")==null?"":"3";var S=f(w),L=u(S),M=u(L),B=u(M),U=f(M,2),z=f(S),y=u(z),N=u(y),A=f(N,2),C=f(z),D=u(C),P=u(D),H=f(P,2),K=f(C),V=u(K),G=u(V),tt=f(K),st=u(tt),at=u(st),lt=f(at,2);it(()=>Q(lt,` 이 링의 전체 스탯은 ${i(v)??""} 스탯 입니다. `)),ns(E,()=>i(h),J=>_(h,J)),Z("change",E,function(...J){var ct;(ct=i(e))==null||ct.apply(this,J)}),vp(B,()=>i(m),J=>_(m,J)),j(U,()=>i(l),J=>_(l,J)),j(N,()=>i(c),J=>_(c,J)),j(A,()=>i(n),J=>_(n,J)),j(P,()=>i(s),J=>_(s,J)),j(H,()=>i(a),J=>_(a,J)),j(G,()=>i(o),J=>_(o,J)),Z("click",at,function(...J){var ct;(ct=i(e))==null||ct.apply(this,J)}),I(r,p),Qt()}var Sw=W(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>내 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 내 스탯으로 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상대 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 상대 스탯으로 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr></tbody></table></div>`);function Ow(r,t){Xt(t,!1);const e=le(),n=()=>F(lt,"$mycharlv",e),s=()=>F(J,"$myhp",e),a=()=>F(gt,"$mymaxdmg",e),o=()=>F(ct,"$mymindmg",e),l=()=>F(ft,"$myar",e),c=()=>F(vt,"$mydf",e),h=()=>F(et,"$myframe",e),v=()=>F(ot,"$mydfoff",e),m=()=>F(ut,"$myreduce",e),p=()=>F(ht,"$mycrush",e),g=()=>F(Et,"$mycs",e),w=()=>F($t,"$myds",e),b=()=>F(Nt,"$mydodge",e),E=()=>F(It,"$myopenwound",e),k=()=>F(Bt,"$mythorns",e),$=()=>F(se,"$myclass",e),T=()=>F(Ut,"$yourcharlv",e),q=()=>F(te,"$yourhp",e),S=()=>F(de,"$yourmaxdmg",e),L=()=>F(zt,"$yourmindmg",e),M=()=>F(Ht,"$yourar",e),B=()=>F(ie,"$yourdf",e),U=()=>F(fe,"$yourframe",e),z=()=>F(Mt,"$yourdfoff",e),y=()=>F(Jt,"$yourreduce",e),N=()=>F(ce,"$yourcrush",e),A=()=>F(Kt,"$yourcs",e),C=()=>F(ve,"$yourds",e),D=()=>F(xe,"$yourdodge",e),P=()=>F(Te,"$youropenwound",e),H=()=>F(ge,"$yourthorns",e),K=()=>F(Le,"$yourclass",e),V=()=>F(ke,"$iterations",e),G=()=>F(Ee,"$win",e),tt=()=>F(me,"$lose",e),st=()=>F(ee,"$draw",e),at=()=>F(Ae,"$winRate",e);let lt=X(99),J=X(0),ct=X(0),gt=X(0),ft=X(0),vt=X(0),et=X(4),ot=X(0),ut=X(0),ht=X(0),Et=X(0),$t=X(0),Nt=X(0),It=X(0),Bt=X(0),se=X(1),Ut=X(99),te=X(0),zt=X(0),de=X(0),Ht=X(0),ie=X(0),fe=X(4),Mt=X(0),Jt=X(50),ce=X(0),Kt=X(0),ve=X(0),xe=X(0),Te=X(0),ge=X(0),Le=X(1),ke=X(2e3),Ee=X(0),me=X(0),ee=X(0),Ae=X(0);const Ce=()=>{const kt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:l(),df:c(),frame:[h()],dfoff:v(),reduce:m(),crush:p(),cs:g(),ds:w(),dodge:b(),openwound:E(),thorns:k(),class:$()},Xe=JSON.stringify(kt),yt=new Blob([Xe],{type:"application/json"}),_e=URL.createObjectURL(yt),ye=document.createElement("a");ye.download="my_stat.json",ye.href=_e,ye.click()},Ne=()=>{const kt={charlv:T(),hp:q(),maxdmg:S(),mindmg:L(),ar:M(),df:B(),frame:[U()],dfoff:z(),reduce:y(),crush:N(),cs:A(),ds:C(),dodge:D(),openwound:P(),thorns:H(),class:K()},Xe=JSON.stringify(kt),yt=new Blob([Xe],{type:"application/json"}),_e=URL.createObjectURL(yt),ye=document.createElement("a");ye.download="opponent_stat.json",ye.href=_e,ye.click()},rt=kt=>{var _e;const Xe=(_e=kt.target.files)==null?void 0:_e[0];if(!Xe)return;const yt=new FileReader;yt.onload=ye=>{var Qe;try{const Dt=JSON.parse((Qe=ye.target)==null?void 0:Qe.result);Object.keys(Dt).forEach(In=>{if(Dt[In]===void 0)throw Error}),lt.set(Dt.charlv),J.set(Dt.hp),gt.set(Dt.maxdmg),ct.set(Dt.mindmg),ft.set(Dt.ar),vt.set(Dt.df),et.set(Dt.frame[0]),ot.set(Dt.dfoff),ut.set(Dt.reduce),ht.set(Dt.crush),Et.set(Dt.cs),$t.set(Dt.ds),Nt.set(Dt.dodge),It.set(Dt.openwound),Bt.set(Dt.thorns),se.set(Dt.class)}catch{alert("Invalid JSON file")}},yt.readAsText(Xe)},dt=kt=>{var _e;const Xe=(_e=kt.target.files)==null?void 0:_e[0];if(!Xe)return;const yt=new FileReader;yt.onload=ye=>{var Qe;try{const Dt=JSON.parse((Qe=ye.target)==null?void 0:Qe.result);Object.keys(Dt).forEach(In=>{if(Dt[In]===void 0)throw Error}),Ut.set(Dt.charlv),te.set(Dt.hp),de.set(Dt.maxdmg),zt.set(Dt.mindmg),Ht.set(Dt.ar),ie.set(Dt.df),fe.set(Dt.frame[0]),Mt.set(Dt.dfoff),Jt.set(Dt.reduce),ce.set(Dt.crush),Kt.set(Dt.cs),ve.set(Dt.ds),xe.set(Dt.dodge),Te.set(Dt.openwound),ge.set(Dt.thorns),Le.set(Dt.class)}catch{alert("Invalid JSON file")}},yt.readAsText(Xe)},_t=async()=>{Ee.set(0),me.set(0),ee.set(0),Ae.set(0);const kt={myhp:s(),yourhp:q(),myframe:[h()],yourframe:[U()],myclass:$(),yourclass:K(),mycharlv:n(),yourcharlv:T(),iterations:V(),myar:l(),yourar:M(),mydf:c(),yourdf:B(),mydfoff:v(),yourdfoff:z(),mydodge:b(),yourdodge:D(),mycrush:p(),yourcrush:N(),myopenwound:E(),youropenwound:P(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:S(),yourmindmg:L(),myreduce:m(),yourreduce:y(),mycs:g(),myds:w(),yourcs:A(),yourds:C(),mythorns:k(),yourthorns:H()};try{const Xe=await jt("/calculate","POST",kt);if(Xe.ok){const yt=await Xe.json();Ee.set(yt.winCount),me.set(yt.loseCount),ee.set(yt.drawCount);const _e=Number(yt.winRate.toFixed(2));Ae.set(_e)}else console.error("Error calculating:",Xe.statusText)}catch(Xe){console.error("Error calculating:",Xe),alert("Calculation failed.")}};pe();var qt=Sw(),mt=f(u(qt),2),ze=u(mt),er=u(ze),Ve=f(u(er)),Nr=u(Ve),ur=f(Ve,2),dr=u(ur),fr=f(er),rr=f(u(fr)),be=u(rr),Kr=f(rr,2),Gr=u(Kr),Sr=f(fr),hr=f(u(Sr)),pr=u(hr),$e=f(hr,2),Vr=u($e),Or=f(Sr),vr=f(u(Or)),mr=u(vr),Wr=f(vr,2),qe=u(Wr),Lr=f(Or),gr=f(u(Lr)),Cr=u(gr),Jr=f(gr,2),qr=u(Jr),Ye=f(Lr),br=f(u(Ye)),nr=u(br),We=f(br,2),_r=u(We),yr=f(Ye),Rr=f(u(yr)),Ir=u(Rr),Zr=f(Rr,2),Rt=u(Zr),jr=f(yr),Dr=f(u(jr)),or=u(Dr),en=f(Dr,2),gn=u(en),rn=f(mt,4),bn=u(rn),nn=u(bn),Pr=f(u(nn)),wr=u(Pr),sn=f(Pr,2),Yr=u(sn),Tt=f(nn),sr=f(u(Tt)),xr=u(sr),Br=f(sr,2),Nn=u(Br),ar=f(Tt),Jn=f(u(ar)),ds=u(Jn),Zn=f(Jn,2),Yn=u(Zn),an=f(ar),Me=f(u(an)),Xn=u(Me),Qn=f(Me,2),on=u(Qn),ln=f(an),Xr=f(u(ln)),ts=u(Xr),Sn=f(Xr,2),On=u(Sn),_n=f(ln),ir=f(u(_n)),Ln=u(ir),yn=f(ir,2),fs=u(yn),Cn=f(_n),d=f(u(Cn)),x=u(d),R=f(d,2),Y=u(R),Pt=f(Cn),Ot=f(u(Pt)),re=u(Ot),Wt=f(Ot,2),Se=u(Wt),ne=f(rn,2),Ue=u(ne),He=u(Ue),Re=f(u(He)),Fe=u(Re),Pe=f(He),Mr=f(u(Pe)),Ur=u(Mr),cn=f(ne,2),Es=u(cn),qn=u(Es),Rn=f(u(qn)),ks=u(Rn),As=f(ks,2),hs=f(As,2),$s=f(hs,2);it(()=>{Q(ks,`승 : ${G()??""}`),Q(As,` 패 : ${tt()??""}`),Q(hs,` 무승부 : ${st()??""}`),Q($s,` 승률 : ${at()??""} %`)}),j(Nr,n,kt=>pt(lt,kt)),j(dr,o,kt=>pt(ct,kt)),j(be,a,kt=>pt(gt,kt)),j(Gr,l,kt=>pt(ft,kt)),j(pr,v,kt=>pt(ot,kt)),j(Vr,c,kt=>pt(vt,kt)),j(mr,s,kt=>pt(J,kt)),j(qe,h,kt=>pt(et,kt)),j(Cr,m,kt=>pt(ut,kt)),j(qr,p,kt=>pt(ht,kt)),j(nr,w,kt=>pt($t,kt)),j(_r,g,kt=>pt(Et,kt)),j(Ir,E,kt=>pt(It,kt)),j(Rt,k,kt=>pt(Bt,kt)),Z("click",or,Ce),Z("change",gn,rt),j(wr,T,kt=>pt(Ut,kt)),j(Yr,L,kt=>pt(zt,kt)),j(xr,S,kt=>pt(de,kt)),j(Nn,M,kt=>pt(Ht,kt)),j(ds,z,kt=>pt(Mt,kt)),j(Yn,B,kt=>pt(ie,kt)),j(Xn,q,kt=>pt(te,kt)),j(on,U,kt=>pt(fe,kt)),j(ts,y,kt=>pt(Jt,kt)),j(On,N,kt=>pt(ce,kt)),j(Ln,C,kt=>pt(ve,kt)),j(fs,A,kt=>pt(Kt,kt)),j(x,P,kt=>pt(Te,kt)),j(Y,H,kt=>pt(ge,kt)),Z("click",re,Ne),Z("change",Se,dt),j(Fe,V,kt=>pt(ke,kt)),Z("click",Ur,_t),I(r,qt),Qt()}var Lw=W('<div class="main-container svelte-h7jwtc"><div class="table-head svelte-h7jwtc">Elo점수 예상 계산기</div> <div class="form-wrapper svelte-h7jwtc"><div class="input-group svelte-h7jwtc"><label for="wScore" class="svelte-h7jwtc">승자 점수</label> <input type="number" id="wScore" class="input-text name svelte-h7jwtc"></div> <div class="input-group svelte-h7jwtc"><label for="lScore" class="svelte-h7jwtc">패자 점수</label> <input type="number" id="lScore" class="input-text name svelte-h7jwtc"></div></div> <div class="result-wrapper svelte-h7jwtc"><button class="emphasis-button">계산</button> <p class="result-text svelte-h7jwtc"> </p></div></div>');function Cw(r,t){Xt(t,!1);const e=O();let n=O(),s=O(),a=O();const o=32,l=400;Ft(()=>(i(n),i(s)),()=>{_(e,()=>{if(i(n)!==void 0&&i(s)!==void 0){const $=1/(1+Math.pow(10,(i(s)-i(n))/l));_(a,Math.round(o*(1-$)))}else _(a,void 0)})}),tn();var c=Lw(),h=f(u(c),2),v=u(h),m=f(u(v),2),p=f(v,2),g=f(u(p),2),w=f(h,2),b=u(w),E=f(b,2),k=u(E);it(()=>Q(k,`예상 득실 점수: ${(i(a)!==void 0?i(a):"값을 입력하세요")??""}`)),j(m,()=>i(n),$=>_(n,$)),j(g,()=>i(s),$=>_(s,$)),Z("click",b,function(...$){var T;(T=i(e))==null||T.apply(this,$)}),I(r,c),Qt()}var qw=W("<option> </option>"),Rw=W('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-18a1swj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="input-text score svelte-18a1swj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br></div>'),Iw=W('<div class="left">권한이 없습니다.</div>'),jw=W('<div class="main_data"><!></div>');function Dw(r,t){Xt(t,!1);const e=le(),n=()=>F(gs,"$nicknames",e),s=()=>F(he,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=O(),l=O();function c(b){_(o,v(b.target.value,n()))}function h(b){_(l,b.target.value)}function v(b,E){return E.includes(b)?b:""}Ze(()=>{Ua(s())});async function m(){const b={player:i(o),playerScore:i(l)};try{(await jt("/admin-score/mpk/submit","POST",b)).status===201&&alert("점수 부여 완료")}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const E=await jt("/admin-score/mpk/reset","DELETE");E&&E.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${E.status}`)}catch{alert("오류 발생")}}pe();var g=jw(),w=u(g);xt(w,()=>a()==="admin_m",b=>{var E=Rw(),k=f(u(E)),$=f(k,2);Yt($,5,n,ae,(L,M)=>{var B=qw(),U={},z=u(B);it(()=>{U!==(U=i(M))&&(B.value=(B.__value=i(M))==null?"":i(M)),Q(z,i(M))}),I(L,B)});var T=f($,2),q=f(T,2),S=f(q,8);j(k,()=>i(o),L=>_(o,L)),Z("blur",k,c),j(T,()=>i(l),L=>_(l,L)),Z("change",T,h),Z("click",q,m),Z("click",S,p),I(b,E)},b=>{var E=Iw();I(b,E)}),I(r,g),Qt()}var Pw=W("<option> </option>"),Bw=W("<option> </option>"),Mw=W('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br> <div class="left">이 선수의 소속 클랜 초기화하기 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <button class="simple-button">클랜초기화하기</button> <br> <br> 클랜 점수 변경/삭제 <select class="input-text name svelte-13bvvkj"><option>클랜을 선택하세요</option><!></select> <input type="number" placeholder="점수" class="input-text score svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <button class="emphasis-button">이 클랜 삭제하기</button></div></div> <br><br> <input type="text" class="input-text name svelte-13bvvkj" placeholder="클랜명 입력"> <button class="simple-button">클랜 추가하기</button><br>',1),Uw=W('<div class="left">권한이 없습니다.</div>'),Fw=W('<div class="main_data"><!></div>');function zw(r,t){Xt(t,!1);const e=le(),n=()=>F(gs,"$nicknames",e),s=()=>F(he,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=O(),l=O();function c(y){_(o,v(y.target.value,n()))}function h(y){_(l,y.target.value)}function v(y,N){return N.includes(y)?y:""}Ze(async()=>{Ua(s()),E()});let m=O(),p=O(),g=O(),w=O(),b=O();async function E(){const y=`/clan/${s()}/list`;try{const N=await jt(y,"GET");N.status===200?_(g,await N.json()):console.error(`Error: Received status ${N.status}`)}catch(N){console.error("Error fetching clan list:",N)}}async function k(){const y={player:i(o),playerScore:i(l)};try{const N=await jt("/admin-score/babapk/submit","POST",y);N&&N.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${N.status}`)}catch{alert("오류 발생")}}async function $(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const N=await jt("/admin-score/babapk/reset","DELETE");N&&N.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${N.status}`)}catch{alert("오류 발생")}}async function T(){const y={player:i(m)};try{const N=await jt(`/clan/${s()}/reset`,"POST",y);alert("해당 선수 클랜 리셋 완료")}catch(N){alert("오류 발생 :"+N)}}async function q(y){const N=`/clan/${s()}/create`,A={name:y};try{const C=await jt(N,"POST",A);C.status===201?alert("클랜 생성에 성공하였습니다"):C.status===400&&alert("클랜 생성에 실패하였습니다")}catch{alert("클랜 생성에 실패하였습니다")}}function S(y){_(m,v(y.target.value,n()))}function L(y){_(w,y.target.value)}async function M(){const y={clan:i(p),clanScore:i(w)};try{(await jt(`/clan/${s()}/score`,"POST",y)).status===201?alert(i(p)+" 클랜 점수 부여 완료"):alert("오류 발생")}catch(N){alert("오류 발생 :"+N)}}async function B(){const y={clan:i(p)};if(confirm(`${i(p)} 클랜을 삭제합니다. 계속하시겠습니까?`))try{const A=await jt(`/clan/${s()}/delete`,"DELETE",y);alert(`${i(p)} 클랜 삭제 완료`),E()}catch(A){alert("오류 발생 :"+A)}}pe();var U=Fw(),z=u(U);xt(z,()=>a()==="admin",y=>{var N=Mw(),A=wt(N),C=f(u(A)),D=f(C,2);Yt(D,5,n,ae,(et,ot)=>{var ut=Pw(),ht={},Et=u(ut);it(()=>{ht!==(ht=i(ot))&&(ut.value=(ut.__value=i(ot))==null?"":i(ot)),Q(Et,i(ot))}),I(et,ut)});var P=f(D,2),H=f(P,2),K=f(H,6),V=f(K,6),G=f(u(V)),tt=f(G,2),st=f(tt,6);it(()=>{i(p),rs(()=>{i(g)})});var at=u(st);at.value=(at.__value="none")==null?"":"none";var lt=f(at);Yt(lt,1,()=>i(g),ae,(et,ot)=>{var ut=Bw(),ht={},Et=u(ut);it(()=>{ht!==(ht=i(ot).name)&&(ut.value=(ut.__value=i(ot).name)==null?"":i(ot).name),Q(Et,i(ot).name)}),I(et,ut)});var J=f(st,2),ct=f(J,2),gt=f(ct,2),ft=f(A,5),vt=f(ft,2);j(C,()=>i(o),et=>_(o,et)),Z("blur",C,c),j(P,()=>i(l),et=>_(l,et)),Z("change",P,h),Z("click",H,k),Z("click",K,$),j(G,()=>i(m),et=>_(m,et)),Z("blur",G,S),Z("click",tt,T),ns(st,()=>i(p),et=>_(p,et)),j(J,()=>i(w),et=>_(w,et)),Z("change",J,L),Z("click",ct,()=>M()),Z("click",gt,()=>B()),j(ft,()=>i(b),et=>_(b,et)),Z("click",vt,()=>q(i(b))),I(y,N)},y=>{var N=Uw();I(y,N)}),I(r,U),Qt()}var Hw=W("<option> </option>"),Kw=W("<option> </option>"),Gw=W(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr></tbody></table></div>`);function Vw(r,t){Xt(t,!1);const e=le(),n=()=>F(ct,"$mycharlv",e),s=()=>F(gt,"$myhp",e),a=()=>F(vt,"$mymaxdmg",e),o=()=>F(ft,"$mymindmg",e),l=()=>F(et,"$myar",e),c=()=>F(ot,"$mydf",e),h=()=>F(ut,"$myframe",e),v=()=>F(ht,"$mydfoff",e),m=()=>F(Et,"$myreduce",e),p=()=>F($t,"$mycrush",e),g=()=>F(Nt,"$mycs",e),w=()=>F(It,"$myds",e),b=()=>F(Bt,"$mydodge",e),E=()=>F(se,"$myopenwound",e),k=()=>F(Ut,"$mythorns",e),$=()=>F(te,"$myclass",e),T=()=>F(de,"$yourcharlv",e),q=()=>F(Ht,"$yourhp",e),S=()=>F(fe,"$yourmaxdmg",e),L=()=>F(ie,"$yourmindmg",e),M=()=>F(Mt,"$yourar",e),B=()=>F(Jt,"$yourdf",e),U=()=>F(ce,"$yourframe",e),z=()=>F(Kt,"$yourdfoff",e),y=()=>F(ve,"$yourreduce",e),N=()=>F(xe,"$yourcrush",e),A=()=>F(Te,"$yourcs",e),C=()=>F(ge,"$yourds",e),D=()=>F(Le,"$yourdodge",e),P=()=>F(ke,"$youropenwound",e),H=()=>F(Ee,"$yourthorns",e),K=()=>F(me,"$yourclass",e),V=()=>F(zt,"$myframelist",e),G=()=>F(ee,"$yourframelist",e),tt=()=>F(Ae,"$iterations",e),st=()=>F(Ce,"$win",e),at=()=>F(Ne,"$lose",e),lt=()=>F(rt,"$draw",e),J=()=>F(dt,"$winRate",e);let ct=X(99),gt=X(0),ft=X(0),vt=X(0),et=X(0),ot=X(0),ut=X([4]),ht=X(0),Et=X(0),$t=X(0),Nt=X(0),It=X(0),Bt=X(0),se=X(0),Ut=X(0),te=X(1),zt=X([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),de=X(99),Ht=X(0),ie=X(0),fe=X(0),Mt=X(0),Jt=X(0),ce=X([4]),Kt=X(0),ve=X(50),xe=X(0),Te=X(0),ge=X(0),Le=X(0),ke=X(0),Ee=X(0),me=X(1),ee=X([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),Ae=X(2e3),Ce=X(0),Ne=X(0),rt=X(0),dt=X(0);const _t=()=>{const bt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:l(),df:c(),frame:h(),dfoff:v(),reduce:m(),crush:p(),cs:g(),ds:w(),dodge:b(),openwound:E(),thorns:k(),class:$()},Ie=JSON.stringify(bt),Be=new Blob([Ie],{type:"application/json"}),lr=URL.createObjectURL(Be),Fr=document.createElement("a");Fr.download="my_stat.json",Fr.href=lr,Fr.click()},qt=()=>{const bt={charlv:T(),hp:q(),maxdmg:S(),mindmg:L(),ar:M(),df:B(),frame:U(),dfoff:z(),reduce:y(),crush:N(),cs:A(),ds:C(),dodge:D(),openwound:P(),thorns:H(),class:K()},Ie=JSON.stringify(bt),Be=new Blob([Ie],{type:"application/json"}),lr=URL.createObjectURL(Be),Fr=document.createElement("a");Fr.download="opponent_stat.json",Fr.href=lr,Fr.click()},mt=bt=>{var lr;const Ie=(lr=bt.target.files)==null?void 0:lr[0];if(!Ie)return;const Be=new FileReader;Be.onload=Fr=>{var Ha;try{const Zt=JSON.parse((Ha=Fr.target)==null?void 0:Ha.result);Object.keys(Zt).forEach(Ks=>{if(Zt[Ks]===void 0)throw Error}),te.set(Zt.class),Ve(),ct.set(Zt.charlv),gt.set(Zt.hp),vt.set(Zt.maxdmg),ft.set(Zt.mindmg),et.set(Zt.ar),ot.set(Zt.df),ht.set(Zt.dfoff),Et.set(Zt.reduce),$t.set(Zt.crush),Nt.set(Zt.cs),It.set(Zt.ds),Bt.set(Zt.dodge),se.set(Zt.openwound),Ut.set(Zt.thorns);const Eo=Zt.frame,Ka=V().find(Ks=>JSON.stringify(Ks.value)===JSON.stringify(Eo));Ka?ut.set(Ka.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Be.readAsText(Ie)},ze=bt=>{var lr;const Ie=(lr=bt.target.files)==null?void 0:lr[0];if(!Ie)return;const Be=new FileReader;Be.onload=Fr=>{var Ha;try{const Zt=JSON.parse((Ha=Fr.target)==null?void 0:Ha.result);Object.keys(Zt).forEach(Ks=>{if(Zt[Ks]===void 0)throw Error}),me.set(Zt.class),Nr(),de.set(Zt.charlv),Ht.set(Zt.hp),fe.set(Zt.maxdmg),ie.set(Zt.mindmg),Mt.set(Zt.ar),Jt.set(Zt.df),Kt.set(Zt.dfoff),ve.set(Zt.reduce),xe.set(Zt.crush),Te.set(Zt.cs),ge.set(Zt.ds),Le.set(Zt.dodge),ke.set(Zt.openwound),Ee.set(Zt.thorns);const Eo=Zt.frame,Ka=G().find(Ks=>JSON.stringify(Ks.value)===JSON.stringify(Eo));Ka?ce.set(Ka.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Be.readAsText(Ie)},er=async()=>{Ce.set(0),Ne.set(0),rt.set(0),dt.set(0);const bt={myhp:s(),yourhp:q(),myframe:h(),yourframe:U(),myclass:$(),yourclass:K(),mycharlv:n(),yourcharlv:T(),iterations:tt(),myar:l(),yourar:M(),mydf:c(),yourdf:B(),mydfoff:v(),yourdfoff:z(),mydodge:b(),yourdodge:D(),mycrush:p(),yourcrush:N(),myopenwound:E(),youropenwound:P(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:S(),yourmindmg:L(),myreduce:m(),yourreduce:y(),mycs:g(),myds:w(),yourcs:A(),yourds:C(),mythorns:k(),yourthorns:H()};try{const Ie=await jt("/calculate","POST",bt);if(Ie.ok){const Be=await Ie.json();Ce.set(Be.winCount),Ne.set(Be.loseCount),rt.set(Be.drawCount);const lr=Number(Be.winRate.toFixed(2));dt.set(lr)}else console.error("Error calculating:",Ie.statusText)}catch(Ie){console.error("Error calculating:",Ie),alert("Calculation failed.")}};function Ve(){$()===1?zt.set([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]):$()===2?zt.set([{name:"9프레임",value:[9]},{name:"10프레임",value:[10]},{name:"11프레임",value:[11]},{name:"12프레임",value:[12]},{name:"13프레임",value:[13]},{name:"14프레임",value:[14]},{name:"15프레임",value:[15]}]):$()===3?zt.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):$()===4&&zt.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function Nr(){K()===1?ee.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):K()===2?ee.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):K()===3?ee.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):K()===4&&ee.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}pe();var ur=Gw(),dr=f(u(ur),2),fr=u(dr),rr=u(fr),be=f(u(rr)),Kr=u(be),Gr=f(be,2),Sr=u(Gr),hr=f(rr),pr=f(u(hr)),$e=u(pr),Vr=f(pr,2),Or=u(Vr),vr=f(hr),mr=f(u(vr)),Wr=u(mr),qe=f(mr,2),Lr=u(qe),gr=f(vr),Cr=f(u(gr)),Jr=u(Cr),qr=f(Cr,2),Ye=u(qr),br=f(gr),nr=f(u(br)),We=u(nr),_r=f(nr,2),yr=u(_r),Rr=f(br),Ir=f(u(Rr)),Zr=u(Ir),Rt=f(Ir,2),jr=u(Rt),Dr=f(Rr),or=f(u(Dr)),en=u(or),gn=f(or,2),rn=u(gn),bn=f(Dr),nn=f(u(bn)),Pr=u(nn);it(()=>{$(),rs(()=>{})});var wr=u(Pr);wr.value=(wr.__value=1)==null?"":1;var sn=f(wr);sn.value=(sn.__value=2)==null?"":2;var Yr=f(sn);Yr.value=(Yr.__value=3)==null?"":3;var Tt=f(Yr);Tt.value=(Tt.__value=4)==null?"":4;var sr=f(nn,2),xr=u(sr);it(()=>{h(),rs(()=>{V()})}),Yt(xr,5,V,bt=>bt.name,(bt,Ie)=>{var Be=Hw(),lr={},Fr=u(Be);it(()=>{lr!==(lr=i(Ie).value)&&(Be.value=(Be.__value=i(Ie).value)==null?"":i(Ie).value),Q(Fr,i(Ie).name)}),I(bt,Be)});var Br=f(bn),Nn=f(u(Br)),ar=u(Nn),Jn=f(Nn,2),ds=u(Jn),Zn=f(dr,4),Yn=u(Zn),an=u(Yn),Me=f(u(an)),Xn=u(Me),Qn=f(Me,2),on=u(Qn),ln=f(an),Xr=f(u(ln)),ts=u(Xr),Sn=f(Xr,2),On=u(Sn),_n=f(ln),ir=f(u(_n)),Ln=u(ir),yn=f(ir,2),fs=u(yn),Cn=f(_n),d=f(u(Cn)),x=u(d),R=f(d,2),Y=u(R),Pt=f(Cn),Ot=f(u(Pt)),re=u(Ot),Wt=f(Ot,2),Se=u(Wt),ne=f(Pt),Ue=f(u(ne)),He=u(Ue),Re=f(Ue,2),Fe=u(Re),Pe=f(ne),Mr=f(u(Pe)),Ur=u(Mr),cn=f(Mr,2),Es=u(cn),qn=f(Pe),Rn=f(u(qn)),ks=u(Rn);it(()=>{K(),rs(()=>{})});var As=u(ks);As.value=(As.__value=1)==null?"":1;var hs=f(As);hs.value=(hs.__value=2)==null?"":2;var $s=f(hs);$s.value=($s.__value=3)==null?"":3;var kt=f($s);kt.value=(kt.__value=4)==null?"":4;var Xe=f(Rn,2),yt=u(Xe);it(()=>{U(),rs(()=>{G()})}),Yt(yt,5,G,bt=>bt.name,(bt,Ie)=>{var Be=Kw(),lr={},Fr=u(Be);it(()=>{lr!==(lr=i(Ie).value)&&(Be.value=(Be.__value=i(Ie).value)==null?"":i(Ie).value),Q(Fr,i(Ie).name)}),I(bt,Be)});var _e=f(qn),ye=f(u(_e)),Qe=u(ye),Dt=f(ye,2),In=u(Dt),Gt=f(Zn,2),za=u(Gt),Ts=u(za),ps=f(u(Ts)),If=u(ps),jf=f(Ts),Df=f(u(jf)),Pf=u(Df),Bf=f(Gt,2),Mf=u(Bf),Uf=u(Mf),Ff=f(u(Uf)),sc=u(Ff),ac=f(sc,2),ic=f(ac,2),zf=f(ic,2);it(()=>{Q(sc,`승 : ${st()??""}`),Q(ac,` 패 : ${at()??""}`),Q(ic,` 무승부 : ${lt()??""}`),Q(zf,` 승률 : ${J()??""} %`)}),j(Kr,n,bt=>pt(ct,bt)),j(Sr,o,bt=>pt(ft,bt)),j($e,a,bt=>pt(vt,bt)),j(Or,l,bt=>pt(et,bt)),j(Wr,v,bt=>pt(ht,bt)),j(Lr,c,bt=>pt(ot,bt)),j(Jr,s,bt=>pt(gt,bt)),j(Ye,b,bt=>pt(Bt,bt)),j(We,m,bt=>pt(Et,bt)),j(yr,p,bt=>pt($t,bt)),j(Zr,w,bt=>pt(It,bt)),j(jr,g,bt=>pt(Nt,bt)),j(en,E,bt=>pt(se,bt)),j(rn,k,bt=>pt(Ut,bt)),ns(Pr,$,bt=>pt(te,bt)),Z("change",Pr,()=>Ve()),ns(xr,h,bt=>pt(ut,bt)),Z("click",ar,_t),Z("change",ds,mt),j(Xn,T,bt=>pt(de,bt)),j(on,L,bt=>pt(ie,bt)),j(ts,S,bt=>pt(fe,bt)),j(On,M,bt=>pt(Mt,bt)),j(Ln,z,bt=>pt(Kt,bt)),j(fs,B,bt=>pt(Jt,bt)),j(x,q,bt=>pt(Ht,bt)),j(Y,D,bt=>pt(Le,bt)),j(re,y,bt=>pt(ve,bt)),j(Se,N,bt=>pt(xe,bt)),j(He,C,bt=>pt(ge,bt)),j(Fe,A,bt=>pt(Te,bt)),j(Ur,P,bt=>pt(ke,bt)),j(Es,H,bt=>pt(Ee,bt)),ns(ks,K,bt=>pt(me,bt)),Z("change",ks,()=>Nr()),ns(yt,U,bt=>pt(ce,bt)),Z("click",Qe,qt),Z("change",In,ze),j(If,tt,bt=>pt(Ae,bt)),Z("click",Pf,er),I(r,ur),Qt()}var Ww=W(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>-</td><td>-</td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>-</td><td>-</td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr></tbody></table></div>`);function Jw(r,t){Xt(t,!1);const e=le(),n=()=>F(ct,"$mycharlv",e),s=()=>F(gt,"$myhp",e),a=()=>F(vt,"$mymaxdmg",e),o=()=>F(ft,"$mymindmg",e),l=()=>F(et,"$myar",e),c=()=>F(ot,"$mydf",e),h=()=>F(ut,"$myframe",e),v=()=>F(ht,"$mydfoff",e),m=()=>F(Et,"$myreduce",e),p=()=>F($t,"$mycrush",e),g=()=>F(Nt,"$mycs",e),w=()=>F(It,"$myds",e),b=()=>F(Bt,"$mydodge",e),E=()=>F(se,"$myopenwound",e),k=()=>F(Ut,"$mythorns",e),$=()=>F(te,"$myclass",e),T=()=>F(de,"$yourcharlv",e),q=()=>F(Ht,"$yourhp",e),S=()=>F(fe,"$yourmaxdmg",e),L=()=>F(ie,"$yourmindmg",e),M=()=>F(Mt,"$yourar",e),B=()=>F(Jt,"$yourdf",e),U=()=>F(ce,"$yourframe",e),z=()=>F(Kt,"$yourdfoff",e),y=()=>F(ve,"$yourreduce",e),N=()=>F(xe,"$yourcrush",e),A=()=>F(Te,"$yourcs",e),C=()=>F(ge,"$yourds",e),D=()=>F(Le,"$yourdodge",e),P=()=>F(ke,"$youropenwound",e),H=()=>F(Ee,"$yourthorns",e),K=()=>F(me,"$yourclass",e),V=()=>F(zt,"$myframelist",e),G=()=>F(ee,"$yourframelist",e),tt=()=>F(Ae,"$iterations",e),st=()=>F(Ce,"$win",e),at=()=>F(Ne,"$lose",e),lt=()=>F(rt,"$draw",e),J=()=>F(dt,"$winRate",e);let ct=X(99),gt=X(0),ft=X(0),vt=X(0),et=X(0),ot=X(0),ut=X([4,4,4,4,8]),ht=X(0),Et=X(0),$t=X(0),Nt=X(0),It=X(0),Bt=X(0),se=X(0),Ut=X(0),te=X(1),zt=X([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),de=X(99),Ht=X(0),ie=X(0),fe=X(0),Mt=X(0),Jt=X(0),ce=X([4]),Kt=X(0),ve=X(50),xe=X(0),Te=X(0),ge=X(0),Le=X(0),ke=X(0),Ee=X(0),me=X(1),ee=X([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),Ae=X(2e3),Ce=X(0),Ne=X(0),rt=X(0),dt=X(0);const _t=()=>{const yt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:l(),df:c(),frame:h(),dfoff:v(),reduce:m(),crush:p(),cs:g(),ds:w(),dodge:b(),openwound:E(),thorns:k(),class:$()},_e=JSON.stringify(yt),ye=new Blob([_e],{type:"application/json"}),Qe=URL.createObjectURL(ye),Dt=document.createElement("a");Dt.download="my_stat.json",Dt.href=Qe,Dt.click()},qt=()=>{const yt={charlv:T(),hp:q(),maxdmg:S(),mindmg:L(),ar:M(),df:B(),frame:U(),dfoff:z(),reduce:y(),crush:N(),cs:A(),ds:C(),dodge:D(),openwound:P(),thorns:H(),class:K()},_e=JSON.stringify(yt),ye=new Blob([_e],{type:"application/json"}),Qe=URL.createObjectURL(ye),Dt=document.createElement("a");Dt.download="opponent_stat.json",Dt.href=Qe,Dt.click()},mt=yt=>{var Qe;const _e=(Qe=yt.target.files)==null?void 0:Qe[0];if(!_e)return;const ye=new FileReader;ye.onload=Dt=>{var In;try{const Gt=JSON.parse((In=Dt.target)==null?void 0:In.result);Object.keys(Gt).forEach(ps=>{if(Gt[ps]===void 0)throw Error}),te.set(Gt.class),Ve(),ct.set(Gt.charlv),gt.set(Gt.hp),vt.set(Gt.maxdmg),ft.set(Gt.mindmg),et.set(Gt.ar),ot.set(Gt.df),ht.set(Gt.dfoff),Et.set(Gt.reduce),$t.set(Gt.crush),Nt.set(Gt.cs),It.set(Gt.ds),Bt.set(Gt.dodge),se.set(Gt.openwound),Ut.set(Gt.thorns);const za=Gt.frame,Ts=V().find(ps=>JSON.stringify(ps.value)===JSON.stringify(za));Ts?ut.set(Ts.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},ye.readAsText(_e)},ze=yt=>{var Qe;const _e=(Qe=yt.target.files)==null?void 0:Qe[0];if(!_e)return;const ye=new FileReader;ye.onload=Dt=>{var In;try{const Gt=JSON.parse((In=Dt.target)==null?void 0:In.result);Object.keys(Gt).forEach(ps=>{if(Gt[ps]===void 0)throw Error}),me.set(Gt.class),Nr(),de.set(Gt.charlv),Ht.set(Gt.hp),fe.set(Gt.maxdmg),ie.set(Gt.mindmg),Mt.set(Gt.ar),Jt.set(Gt.df),Kt.set(Gt.dfoff),ve.set(Gt.reduce),xe.set(Gt.crush),Te.set(Gt.cs),ge.set(Gt.ds),Le.set(Gt.dodge),ke.set(Gt.openwound),Ee.set(Gt.thorns);const za=Gt.frame,Ts=G().find(ps=>JSON.stringify(ps.value)===JSON.stringify(za));Ts?ce.set(Ts.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},ye.readAsText(_e)},er=async()=>{Ce.set(0),Ne.set(0),rt.set(0),dt.set(0);const yt={myhp:s(),yourhp:q(),myframe:h(),yourframe:U(),myclass:$(),yourclass:K(),mycharlv:n(),yourcharlv:T(),iterations:tt(),myar:l(),yourar:M(),mydf:c(),yourdf:B(),mydfoff:v(),yourdfoff:z(),mydodge:b(),yourdodge:D(),mycrush:p(),yourcrush:N(),myopenwound:E(),youropenwound:P(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:S(),yourmindmg:L(),myreduce:m(),yourreduce:y(),mycs:g(),myds:w(),yourcs:A(),yourds:C(),mythorns:k(),yourthorns:H()};try{const _e=await jt("/calculate","POST",yt);if(_e.ok){const ye=await _e.json();Ce.set(ye.winCount),Ne.set(ye.loseCount),rt.set(ye.drawCount);const Qe=Number(ye.winRate.toFixed(2));dt.set(Qe)}else console.error("Error calculating:",_e.statusText)}catch(_e){console.error("Error calculating:",_e),alert("Calculation failed.")}};function Ve(){$()===1?zt.set([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]):$()===2?zt.set([{name:"9프레임",value:[9]},{name:"10프레임",value:[10]},{name:"11프레임",value:[11]},{name:"12프레임",value:[12]},{name:"13프레임",value:[13]},{name:"14프레임",value:[14]},{name:"15프레임",value:[15]}]):$()===3?zt.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):$()===4&&zt.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function Nr(){K()===1?ee.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):K()===2?ee.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):K()===3?ee.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):K()===4&&ee.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}pe();var ur=Ww(),dr=f(u(ur),2),fr=u(dr),rr=u(fr),be=f(u(rr)),Kr=u(be),Gr=f(be,2),Sr=u(Gr),hr=f(rr),pr=f(u(hr)),$e=u(pr),Vr=f(pr,2),Or=u(Vr),vr=f(hr),mr=f(u(vr)),Wr=u(mr),qe=f(mr,2),Lr=u(qe),gr=f(vr),Cr=f(u(gr)),Jr=u(Cr),qr=f(gr),Ye=f(u(qr)),br=u(Ye),nr=f(Ye,2),We=u(nr),_r=f(qr),yr=f(u(_r)),Rr=u(yr),Ir=f(yr,2),Zr=u(Ir),Rt=f(_r),jr=f(u(Rt)),Dr=u(jr),or=f(jr,2),en=u(or),gn=f(Rt),rn=f(u(gn)),bn=u(rn),nn=f(rn,2),Pr=u(nn),wr=f(dr,4),sn=u(wr),Yr=u(sn),Tt=f(u(Yr)),sr=u(Tt),xr=f(Tt,2),Br=u(xr),Nn=f(Yr),ar=f(u(Nn)),Jn=u(ar),ds=f(ar,2),Zn=u(ds),Yn=f(Nn),an=f(u(Yn)),Me=u(an),Xn=f(an,2),Qn=u(Xn),on=f(Yn),ln=f(u(on)),Xr=u(ln),ts=f(on),Sn=f(u(ts)),On=u(Sn),_n=f(Sn,2),ir=u(_n),Ln=f(ts),yn=f(u(Ln)),fs=u(yn),Cn=f(yn,2),d=u(Cn),x=f(Ln),R=f(u(x)),Y=u(R),Pt=f(R,2),Ot=u(Pt),re=f(x),Wt=f(u(re)),Se=u(Wt),ne=f(Wt,2),Ue=u(ne),He=f(wr,2),Re=u(He),Fe=u(Re),Pe=f(u(Fe)),Mr=u(Pe),Ur=f(Fe),cn=f(u(Ur)),Es=u(cn),qn=f(He,2),Rn=u(qn),ks=u(Rn),As=f(u(ks)),hs=u(As),$s=f(hs,2),kt=f($s,2),Xe=f(kt,2);it(()=>{Q(hs,`승 : ${st()??""}`),Q($s,` 패 : ${at()??""}`),Q(kt,` 무승부 : ${lt()??""}`),Q(Xe,` 승률 : ${J()??""} %`)}),j(Kr,n,yt=>pt(ct,yt)),j(Sr,o,yt=>pt(ft,yt)),j($e,a,yt=>pt(vt,yt)),j(Or,l,yt=>pt(et,yt)),j(Wr,v,yt=>pt(ht,yt)),j(Lr,c,yt=>pt(ot,yt)),j(Jr,s,yt=>pt(gt,yt)),j(br,m,yt=>pt(Et,yt)),j(We,p,yt=>pt($t,yt)),j(Rr,w,yt=>pt(It,yt)),j(Zr,g,yt=>pt(Nt,yt)),j(Dr,E,yt=>pt(se,yt)),j(en,k,yt=>pt(Ut,yt)),Z("click",bn,_t),Z("change",Pr,mt),j(sr,T,yt=>pt(de,yt)),j(Br,L,yt=>pt(ie,yt)),j(Jn,S,yt=>pt(fe,yt)),j(Zn,M,yt=>pt(Mt,yt)),j(Me,z,yt=>pt(Kt,yt)),j(Qn,B,yt=>pt(Jt,yt)),j(Xr,q,yt=>pt(Ht,yt)),j(On,y,yt=>pt(ve,yt)),j(ir,N,yt=>pt(xe,yt)),j(fs,C,yt=>pt(ge,yt)),j(d,A,yt=>pt(Te,yt)),j(Y,P,yt=>pt(ke,yt)),j(Ot,H,yt=>pt(Ee,yt)),Z("click",Se,qt),Z("change",Ue,ze),j(Mr,tt,yt=>pt(Ae,yt)),Z("click",Es,er),I(r,ur),Qt()}var Zw=W("<option> </option>"),Yw=W('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-6gm00j" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-6gm00j"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button></div>'),Xw=W('<div class="left">권한이 없습니다.</div>'),Qw=W('<div class="main_data"><!></div>');function tx(r,t){Xt(t,!1);const e=le(),n=()=>F(gs,"$nicknames",e),s=()=>F(he,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=O(),l=O();function c(b){_(o,v(b.target.value,n()))}function h(b){_(l,b.target.value)}function v(b,E){return E.includes(b)?b:""}Ze(async()=>{Ua(s())});async function m(){const b={player:i(o),playerScore:i(l)};try{const E=await jt("/admin-score/zpke/submit","POST",b);E&&E.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${E.status}`)}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const E=await jt("/admin-score/zpke/reset","DELETE");E&&E.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${E.status}`)}catch{alert("오류 발생")}}pe();var g=Qw(),w=u(g);xt(w,()=>a()==="admin_z",b=>{var E=Yw(),k=f(u(E)),$=f(k,2);Yt($,5,n,ae,(L,M)=>{var B=Zw(),U={},z=u(B);it(()=>{U!==(U=i(M))&&(B.value=(B.__value=i(M))==null?"":i(M)),Q(z,i(M))}),I(L,B)});var T=f($,2),q=f(T,2),S=f(q,8);j(k,()=>i(o),L=>_(o,L)),Z("blur",k,c),j(T,()=>i(l),L=>_(l,L)),Z("change",T,h),Z("click",q,m),Z("click",S,p),I(b,E)},b=>{var E=Xw();I(b,E)}),I(r,g),Qt()}var ex=W("<p>로딩 중...</p>"),rx=W("<p> </p>"),nx=W('<button class="simple-button">가입하기</button>'),sx=W('<tr class="svelte-j9la9l"><td colspan="5" class="detail-row svelte-j9la9l"> <br> <br> <!></td></tr>'),ax=W('<tr class="svelte-j9la9l"><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td></tr> <!>',1),ix=W('<table class="rank-table svelte-j9la9l"><thead><tr class="svelte-j9la9l"><th class="svelte-j9la9l">순위</th><th class="svelte-j9la9l">클랜</th><th class="svelte-j9la9l">점수</th><th class="svelte-j9la9l">인원</th></tr></thead><tbody></tbody></table>'),ox=W('<div class="table-outline"><!></div>');function lx(r,t){Xt(t,!1);const e=le(),n=()=>F(he,"$mode",e),s=()=>F(Je,"$myaccount",e);let a=O([]),o=O(!0),l=O(null),c=O([]),h=O("");async function v(){let b,E=1,k=1,$=`/clan/${n()}/list`,T=`/clan/${n()}/myclan`;try{const q=await jt($,"GET");if(!q.ok)throw new Error("연결 에러입니다");_(a,await q.json()),i(a).sort((S,L)=>L.TScore-S.TScore),b=i(a).length||1;for(let S=0;S<i(a).length;S++)S>0&&i(a)[S].TScore===i(a)[S-1].TScore?fn(a,i(a)[S].rank=E):(fn(a,i(a)[S].rank=k),E=k),k++;if(s()){const S=await jt(T,"POST");_(h,await S.json())}}catch(q){_(l,q)}finally{_(o,!1)}}function m(b){fn(c,i(c)[b]=!i(c)[b]),_(c,[...i(c)])}Ze(()=>{const b=Sa.subscribe(E=>{v()});return()=>{b()}});async function p(b){const E={clanname:b},k=`/clan/${n()}/join`;if(confirm(`${b} 클랜에 가입합니다. 계속하시겠습니까?`))try{(await jt(k,"PATCH",E)).status===200?(alert("클랜에 가입하였습니다"),v()):alert("오류 발생")}catch(T){alert("오류 발생 :"+T)}}pe();var g=ox(),w=u(g);xt(w,()=>i(o),b=>{var E=ex();I(b,E)},b=>{var E=Vt(),k=wt(E);xt(k,()=>i(l),$=>{var T=rx(),q=u(T);it(()=>Q(q,`Error: ${i(l).message??""}`)),I($,T)},$=>{var T=ix(),q=f(u(T));Yt(q,5,()=>i(a),ae,(S,L,M)=>{var B=ax(),U=wt(B),z=u(U),y=u(z),N=f(z),A=u(N),C=f(N),D=u(C),P=f(C),H=u(P),K=f(U,2);xt(K,()=>i(c)[M],V=>{var G=sx(),tt=u(G),st=u(tt),at=f(st,2),lt=f(at,2),J=f(lt);xt(J,()=>i(h)==="none",ct=>{var gt=nx();Z("click",gt,()=>p(i(L).name)),I(ct,gt)}),it(()=>{Q(st,`대전점수: ${i(L).BScore??""}`),Q(at,` 대회점수: ${i(L).LScore??""}`),Q(lt,` 클랜원: ${i(L).members??""} `)}),I(V,G)}),it(()=>{Q(y,i(L).rank),Q(A,i(L).name),Q(D,i(L).TScore),Q(H,i(L).members.length)}),Z("click",U,()=>m(M)),I(S,B)}),I($,T)},!0),I(b,E)}),I(r,g),Qt()}var cx=W('<nav><!></nav> <header><!></header> <main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main> <div class="form-container"><!></div> <footer><!></footer>',1);function ux(r){Up(r,{children:(t,e)=>{var n=cx(),s=wt(n),a=u(s);Gp(a,{});var o=f(s,2),l=u(o);Xp(l,{});var c=f(o,2),h=u(c);je(h,{path:"/:type/info",component:ev});var v=f(h,2);je(v,{path:"/",component:qi});var m=f(v,2);je(m,{path:"/babapk",component:qi});var p=f(m,2);je(p,{path:"/mpk",component:qi});var g=f(p,2);je(g,{path:"/zpke",component:qi});var w=f(g,2);je(w,{path:"/:type/rank",component:Sm});var b=f(w,2);je(b,{path:"/:type/record",component:zm});var E=f(b,2);je(E,{path:"/:type/tournament",component:e1});var k=f(E,2);je(k,{path:"/:type/boardlist",component:c1});var $=f(k,2);je($,{path:"/:type/post/:id",component:_1});var T=f($,2);je(T,{path:"/:type/write",component:uw});var q=f(T,2);je(q,{path:"/:type/winners",component:gw});var S=f(q,2);je(S,{path:"/:type/calculator",component:yw});var L=f(S,2);je(L,{path:"/zpke/pscore",component:xw});var M=f(L,2);je(M,{path:"/babapk/pscore",component:kw});var B=f(M,2);je(B,{path:"/babapk/visio",component:$w});var U=f(B,2);je(U,{path:"/:type/ring",component:Nw});var z=f(U,2);je(z,{path:"/babapk/simul",component:Ow});var y=f(z,2);je(y,{path:"/:type/elo",component:Cw});var N=f(y,2);je(N,{path:"/mpk/admin",component:Dw});var A=f(N,2);je(A,{path:"/babapk/admin",component:zw});var C=f(A,2);je(C,{path:"/mpk/simul",component:Vw});var D=f(C,2);je(D,{path:"/zpke/simul",component:Jw});var P=f(D,2);je(P,{path:"/zpke/admin",component:tx});var H=f(P,2);je(H,{path:"/babapk/clan",component:lx});var K=f(c,2),V=u(K);cm(V,{});var G=f(K,2),tt=u(G);Zp(tt,{}),I(t,n)},$$slots:{default:!0}})}Qh(ux,{target:document.getElementById("app")})});export default dx();
