var ah=Object.defineProperty;var ih=(r,t,e)=>t in r?ah(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var oh=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var $t=(r,t,e)=>ih(r,typeof t!="symbol"?t+"":t,e);var Sx=oh((mn,gn)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const Zu=!1;var Eo=Array.isArray,Ul=Array.from,lh=Object.defineProperty,Us=Object.getOwnPropertyDescriptor,Yu=Object.getOwnPropertyDescriptors,ch=Object.prototype,uh=Array.prototype,uo=Object.getPrototypeOf;function Ta(r){return typeof r=="function"}const hn=()=>{};function dh(r){return typeof(r==null?void 0:r.then)=="function"}function fh(r){return r()}function fo(r){for(var t=0;t<r.length;t++)r[t]()}const Nn=2,Xu=4,Oi=8,ko=16,Gn=32,Li=64,ol=128,da=256,ho=512,Br=1024,Ks=2048,Ya=4096,cs=8192,Xa=16384,Qu=32768,Ci=65536,td=1<<17,hh=1<<19,ed=1<<20,xs=Symbol("$state"),rd=Symbol("legacy props"),ph=Symbol("");function nd(r){return r===this.v}function Fl(r,t){return r!=r?t==t:r!==t||r!==null&&typeof r=="object"||typeof r=="function"}function vh(r,t){return r!==t}function zl(r){return!Fl(r,this.v)}function mh(r){throw new Error("effect_in_teardown")}function gh(){throw new Error("effect_in_unowned_derived")}function bh(r){throw new Error("effect_orphan")}function _h(){throw new Error("effect_update_depth_exceeded")}function yh(r){throw new Error("props_invalid_value")}function wh(){throw new Error("state_descriptors_fixed")}function xh(){throw new Error("state_prototype_fixed")}function Eh(){throw new Error("state_unsafe_local_read")}function kh(){throw new Error("state_unsafe_mutation")}let Qa=!1;function $h(){Qa=!0}function Pr(r){return{f:0,v:r,reactions:null,equals:nd,version:0}}function za(r,t=!1){var n;const e=Pr(r);return t||(e.equals=zl),Qa&&de!==null&&de.l!==null&&((n=de.l).s??(n.s=[])).push(e),e}function O(r,t=!1){return Ah(za(r,t))}function Ah(r){return ke!==null&&ke.f&Nn&&(us===null?Wh([r]):us.push(r)),r}function pn(r,t){return b(r,Hn(()=>i(r))),t}function b(r,t){return ke!==null&&ei()&&ke.f&(Nn|ko)&&(us===null||!us.includes(r))&&kh(),Da(r,t)}function Da(r,t){return r.equals(t)||(r.v=t,r.version=kd(),sd(r,Ks),ei()&&le!==null&&le.f&Br&&!(le.f&Gn)&&(Tr!==null&&Tr.includes(r)?(Vn(le,Ks),So(le)):zs===null?Jh([r]):zs.push(r))),t}function sd(r,t){var e=r.reactions;if(e!==null)for(var n=ei(),s=e.length,a=0;a<s;a++){var o=e[a],l=o.f;l&Ks||!n&&o===le||(Vn(o,t),l&(Br|da)&&(l&Nn?sd(o,Ya):So(o)))}}const Hl=1,Kl=2,ad=4,Th=8,Nh=16,Sh=1,Oh=2,id=4,Lh=8,Ch=16,qh=1,Rh=2,Ih=4,Dh=1,jh=2,$r=Symbol();let od=!1;function Na(r,t=null,e){if(typeof r!="object"||r===null||xs in r)return r;const n=uo(r);if(n!==ch&&n!==uh)return r;var s=new Map,a=Eo(r),o=Pr(0);a&&s.set("length",Pr(r.length));var l;return new Proxy(r,{defineProperty(d,h,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&wh();var m=s.get(h);return m===void 0?(m=Pr(v.value),s.set(h,m)):b(m,Na(v.value,l)),!0},deleteProperty(d,h){var v=s.get(h);if(v===void 0)h in d&&s.set(h,Pr($r));else{if(a&&typeof h=="string"){var m=s.get("length"),p=Number(h);Number.isInteger(p)&&p<m.v&&b(m,p)}b(v,$r),Ac(o)}return!0},get(d,h,v){var w;if(h===xs)return r;var m=s.get(h),p=h in d;if(m===void 0&&(!p||(w=Us(d,h))!=null&&w.writable)&&(m=Pr(Na(p?d[h]:$r,l)),s.set(h,m)),m!==void 0){var g=i(m);return g===$r?void 0:g}return Reflect.get(d,h,v)},getOwnPropertyDescriptor(d,h){var v=Reflect.getOwnPropertyDescriptor(d,h);if(v&&"value"in v){var m=s.get(h);m&&(v.value=i(m))}else if(v===void 0){var p=s.get(h),g=p==null?void 0:p.v;if(p!==void 0&&g!==$r)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return v},has(d,h){var g;if(h===xs)return!0;var v=s.get(h),m=v!==void 0&&v.v!==$r||Reflect.has(d,h);if(v!==void 0||le!==null&&(!m||(g=Us(d,h))!=null&&g.writable)){v===void 0&&(v=Pr(m?Na(d[h],l):$r),s.set(h,v));var p=i(v);if(p===$r)return!1}return m},set(d,h,v,m){var T;var p=s.get(h),g=h in d;if(a&&h==="length")for(var w=v;w<p.v;w+=1){var _=s.get(w+"");_!==void 0?b(_,$r):w in d&&(_=Pr($r),s.set(w+"",_))}p===void 0?(!g||(T=Us(d,h))!=null&&T.writable)&&(p=Pr(void 0),b(p,Na(v,l)),s.set(h,p)):(g=p.v!==$r,b(p,Na(v,l)));var x=Reflect.getOwnPropertyDescriptor(d,h);if(x!=null&&x.set&&x.set.call(m,v),!g){if(a&&typeof h=="string"){var k=s.get("length"),A=Number(h);Number.isInteger(A)&&A>=k.v&&b(k,A+1)}Ac(o)}return!0},ownKeys(d){i(o);var h=Reflect.ownKeys(d).filter(p=>{var g=s.get(p);return g===void 0||g.v!==$r});for(var[v,m]of s)m.v!==$r&&!(v in d)&&h.push(v);return h},setPrototypeOf(){xh()}})}function Ac(r,t=1){b(r,r.v+t)}function Tc(r){return r!==null&&typeof r=="object"&&xs in r?r[xs]:r}function Ph(r,t){return Object.is(Tc(r),Tc(t))}var Nc,ld,cd;function Bh(){if(Nc===void 0){Nc=window;var r=Element.prototype,t=Node.prototype;ld=Us(t,"firstChild").get,cd=Us(t,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function $o(r=""){return document.createTextNode(r)}function gi(r){return ld.call(r)}function Ao(r){return cd.call(r)}function u(r,t){return gi(r)}function yt(r,t){{var e=gi(r);return e instanceof Comment&&e.data===""?Ao(e):e}}function c(r,t=1,e=!1){let n=r;for(;t--;)n=Ao(n);return n}function Mh(r){r.textContent=""}function po(r){var t=Nn|Ks;le===null?t|=da:le.f|=ed;var e=ke!==null&&ke.f&Nn?ke:null;const n={children:null,ctx:de,deps:null,equals:nd,f:t,fn:r,reactions:null,v:null,version:0,parent:e??le};return e!==null&&(e.children??(e.children=[])).push(n),n}function Ar(r){const t=po(r);return t.equals=zl,t}function ud(r){var t=r.children;if(t!==null){r.children=null;for(var e=0;e<t.length;e+=1){var n=t[e];n.f&Nn?Gl(n):Vs(n)}}}function Uh(r){for(var t=r.parent;t!==null;){if(!(t.f&Nn))return t;t=t.parent}return null}function dd(r){var t,e=le;Qr(Uh(r));try{ud(r),t=$d(r)}finally{Qr(e)}return t}function fd(r){var t=dd(r),e=(Ia||r.f&da)&&r.deps!==null?Ya:Br;Vn(r,e),r.equals(t)||(r.v=t,r.version=kd())}function Gl(r){ud(r),yi(r,0),Vn(r,Xa),r.v=r.children=r.deps=r.ctx=r.reactions=null}function hd(r){le===null&&ke===null&&bh(),ke!==null&&ke.f&da&&gh(),Wl&&mh()}function Fh(r,t){var e=t.last;e===null?t.last=t.first=r:(e.next=r,r.prev=e,t.last=r)}function ti(r,t,e,n=!0){var s=(r&Li)!==0,a=le,o={ctx:de,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:r|Ks,first:null,fn:t,last:null,next:null,parent:s?null:a,prev:null,teardown:null,transitions:null,version:0};if(e){var l=ja;try{Sc(!0),Di(o),o.f|=Qu}catch(v){throw Vs(o),v}finally{Sc(l)}}else t!==null&&So(o);var d=e&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&ed)===0;if(!d&&!s&&n&&(a!==null&&Fh(o,a),ke!==null&&ke.f&Nn)){var h=ke;(h.children??(h.children=[])).push(o)}return o}function pd(r){const t=ti(Oi,null,!1);return Vn(t,Br),t.teardown=r,t}function ll(r){hd();var t=le!==null&&(le.f&Gn)!==0&&de!==null&&!de.m;if(t){var e=de;(e.e??(e.e=[])).push({fn:r,effect:le,reaction:ke})}else{var n=qi(r);return n}}function zh(r){return hd(),Ri(r)}function Hh(r){const t=ti(Li,r,!0);return()=>{Vs(t)}}function qi(r){return ti(Xu,r,!1)}function zt(r,t,e,n){var s=de,a={effect:null,ran:!1};s.l.r1.push(a),a.effect=Ri(()=>{r(),!a.ran&&(a.ran=!0,b(s.l.r2,!0),Hn(t))})}function tn(){var r=de;Ri(()=>{if(i(r.l.r2)){for(var t of r.l.r1){var e=t.effect;e.f&Br&&Vn(e,Ya),ri(e)&&Di(e),t.ran=!1}r.l.r2.v=!1}})}function Ri(r){return ti(Oi,r,!0)}function ot(r){return fa(r)}function fa(r,t=0){return ti(Oi|ko|t,r,!0)}function Fn(r,t=!0){return ti(Oi|Gn,r,!0,t)}function vd(r){var t=r.teardown;if(t!==null){const e=Wl,n=ke;Oc(!0),Sn(null);try{t.call(null)}finally{Oc(e),Sn(n)}}}function md(r){var t=r.deriveds;if(t!==null){r.deriveds=null;for(var e=0;e<t.length;e+=1)Gl(t[e])}}function gd(r,t=!1){var e=r.first;for(r.first=r.last=null;e!==null;){var n=e.next;Vs(e,t),e=n}}function Kh(r){for(var t=r.first;t!==null;){var e=t.next;t.f&Gn||Vs(t),t=e}}function Vs(r,t=!0){var e=!1;if((t||r.f&hh)&&r.nodes_start!==null){for(var n=r.nodes_start,s=r.nodes_end;n!==null;){var a=n===s?null:Ao(n);n.remove(),n=a}e=!0}gd(r,t&&!e),md(r),yi(r,0),Vn(r,Xa);var o=r.transitions;if(o!==null)for(const d of o)d.stop();vd(r);var l=r.parent;l!==null&&l.first!==null&&bd(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function bd(r){var t=r.parent,e=r.prev,n=r.next;e!==null&&(e.next=n),n!==null&&(n.prev=e),t!==null&&(t.first===r&&(t.first=n),t.last===r&&(t.last=e))}function Fs(r,t){var e=[];Vl(r,e,!0),_d(e,()=>{Vs(r),t&&t()})}function _d(r,t){var e=r.length;if(e>0){var n=()=>--e||t();for(var s of r)s.out(n)}else t()}function Vl(r,t,e){if(!(r.f&cs)){if(r.f^=cs,r.transitions!==null)for(const o of r.transitions)(o.is_global||e)&&t.push(o);for(var n=r.first;n!==null;){var s=n.next,a=(n.f&Ci)!==0||(n.f&Gn)!==0;Vl(n,t,a?e:!1),n=s}}}function sa(r){yd(r,!0)}function yd(r,t){if(r.f&cs){ri(r)&&Di(r),r.f^=cs;for(var e=r.first;e!==null;){var n=e.next,s=(e.f&Ci)!==0||(e.f&Gn)!==0;yd(e,s?t:!1),e=n}if(r.transitions!==null)for(const a of r.transitions)(a.is_global||t)&&a.in()}}let vo=!1,cl=[];function wd(){vo=!1;const r=cl.slice();cl=[],fo(r)}function Ii(r){vo||(vo=!0,queueMicrotask(wd)),cl.push(r)}function Gh(){vo&&wd()}function To(r){throw new Error("lifecycle_outside_component")}const xd=0,Vh=1;let ao=!1,io=xd,bi=!1,_i=null,ja=!1,Wl=!1;function Sc(r){ja=r}function Oc(r){Wl=r}let na=[],Pa=0,ke=null;function Sn(r){ke=r}let le=null;function Qr(r){le=r}let us=null;function Wh(r){us=r}let Tr=null,fn=0,zs=null;function Jh(r){zs=r}let Ed=0,Ia=!1,Is=null,de=null;function Lc(r){de=r}function kd(){return++Ed}function ei(){return!Qa||de!==null&&de.l===null}function ri(r){var o,l;var t=r.f;if(t&Ks)return!0;if(t&Ya){var e=r.deps,n=(t&da)!==0;if(e!==null){var s;if(t&ho){for(s=0;s<e.length;s++)((o=e[s]).reactions??(o.reactions=[])).push(r);r.f^=ho}for(s=0;s<e.length;s++){var a=e[s];if(ri(a)&&fd(a),n&&le!==null&&!Ia&&!((l=a==null?void 0:a.reactions)!=null&&l.includes(r))&&(a.reactions??(a.reactions=[])).push(r),a.version>r.version)return!0}}n||Vn(r,Br)}return!1}function Zh(r,t){for(var e=t;e!==null;){if(e.f&ol)try{e.fn(r);return}catch{e.f^=ol}e=e.parent}throw ao=!1,r}function Yh(r){return(r.f&Xa)===0&&(r.parent===null||(r.parent.f&ol)===0)}function No(r,t,e,n){if(ao){if(e===null&&(ao=!1),Yh(t))throw r;return}e!==null&&(ao=!0);{Zh(r,t);return}}function $d(r){var p;var t=Tr,e=fn,n=zs,s=ke,a=Ia,o=us,l=de,d=r.f;Tr=null,fn=0,zs=null,ke=d&(Gn|Li)?null:r,Ia=!ja&&(d&da)!==0,us=null,de=r.ctx;try{var h=(0,r.fn)(),v=r.deps;if(Tr!==null){var m;if(yi(r,fn),v!==null&&fn>0)for(v.length=fn+Tr.length,m=0;m<Tr.length;m++)v[fn+m]=Tr[m];else r.deps=v=Tr;if(!Ia)for(m=fn;m<v.length;m++)((p=v[m]).reactions??(p.reactions=[])).push(r)}else v!==null&&fn<v.length&&(yi(r,fn),v.length=fn);return h}finally{Tr=t,fn=e,zs=n,ke=s,Ia=a,us=o,de=l}}function Xh(r,t){let e=t.reactions;if(e!==null){var n=e.indexOf(r);if(n!==-1){var s=e.length-1;s===0?e=t.reactions=null:(e[n]=e[s],e.pop())}}e===null&&t.f&Nn&&(Tr===null||!Tr.includes(t))&&(Vn(t,Ya),t.f&(da|ho)||(t.f^=ho),yi(t,0))}function yi(r,t){var e=r.deps;if(e!==null)for(var n=t;n<e.length;n++)Xh(r,e[n])}function Di(r){var t=r.f;if(!(t&Xa)){Vn(r,Br);var e=le,n=de;le=r;try{t&ko?Kh(r):gd(r),md(r),vd(r);var s=$d(r);r.teardown=typeof s=="function"?s:null,r.version=Ed}catch(a){No(a,r,e,n||r.ctx)}finally{le=e}}}function Ad(){if(Pa>1e3){Pa=0;try{_h()}catch(r){if(_i!==null)No(r,_i,null);else throw r}}Pa++}function Td(r){var t=r.length;if(t!==0){Ad();var e=ja;ja=!0;try{for(var n=0;n<t;n++){var s=r[n];s.f&Br||(s.f^=Br);var a=[];Nd(s,a),Qh(a)}}finally{ja=e}}}function Qh(r){var t=r.length;if(t!==0)for(var e=0;e<t;e++){var n=r[e];if(!(n.f&(Xa|cs)))try{ri(n)&&(Di(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?bd(n):n.fn=null))}catch(s){No(s,n,null,n.ctx)}}}function tp(){if(bi=!1,Pa>1001)return;const r=na;na=[],Td(r),bi||(Pa=0,_i=null)}function So(r){io===xd&&(bi||(bi=!0,queueMicrotask(tp))),_i=r;for(var t=r;t.parent!==null;){t=t.parent;var e=t.f;if(e&(Li|Gn)){if(!(e&Br))return;t.f^=Br}}na.push(t)}function Nd(r,t){var e=r.first,n=[];t:for(;e!==null;){var s=e.f,a=(s&Gn)!==0,o=a&&(s&Br)!==0,l=e.next;if(!o&&!(s&cs))if(s&Oi){if(a)e.f^=Br;else try{ri(e)&&Di(e)}catch(m){No(m,e,null,e.ctx)}var d=e.first;if(d!==null){e=d;continue}}else s&Xu&&n.push(e);if(l===null){let m=e.parent;for(;m!==null;){if(r===m)break t;var h=m.next;if(h!==null){e=h;continue t}m=m.parent}}e=l}for(var v=0;v<n.length;v++)d=n[v],t.push(d),Nd(d,t)}function Sd(r){var t=io,e=na;try{Ad();const s=[];io=Vh,na=s,bi=!1,Td(e);var n=r==null?void 0:r();return Gh(),(na.length>0||s.length>0)&&Sd(),Pa=0,_i=null,n}finally{io=t,na=e}}function i(r){var v;var t=r.f,e=(t&Nn)!==0;if(e&&t&Xa){var n=dd(r);return Gl(r),n}if(Is!==null&&Is.add(r),ke!==null){us!==null&&us.includes(r)&&Eh();var s=ke.deps;Tr===null&&s!==null&&s[fn]===r?fn++:Tr===null?Tr=[r]:Tr.push(r),zs!==null&&le!==null&&le.f&Br&&!(le.f&Gn)&&zs.includes(r)&&(Vn(le,Ks),So(le))}else if(e&&r.deps===null)for(var a=r,o=a.parent,l=a;o!==null;)if(o.f&Nn){var d=o;l=d,o=d.parent}else{var h=o;(v=h.deriveds)!=null&&v.includes(l)||(h.deriveds??(h.deriveds=[])).push(l);break}return e&&(a=r,ri(a)&&fd(a)),r.v}function ep(r){var t=Is;Is=new Set;var e=Is,n;try{if(Hn(r),t!==null)for(n of Is)t.add(n)}finally{Is=t}return e}function os(r){var t=ep(()=>Hn(r));for(var e of t)if(e.f&td)for(const n of e.deps||[])n.f&Nn||pn(n,null);else pn(e,null)}function Hn(r){const t=ke;try{return ke=null,r()}finally{ke=t}}const rp=~(Ks|Ya|Br);function Vn(r,t){r.f=r.f&rp|t}function aa(r){return Od().get(r)}function Bo(r,t){return Od().set(r,t),t}function Od(r){return de===null&&To(),de.c??(de.c=new Map(np(de)||void 0))}function np(r){let t=r.p;for(;t!==null;){const e=t.c;if(e!==null)return e;t=t.p}return null}function Cc(r,t=1){var e=i(r),n=t===1?e++:e--;return b(r,e),n}function Xt(r,t=!1,e){de={p:de,c:null,e:null,m:!1,s:r,x:null,l:null},Qa&&!t&&(de.l={s:null,u:null,r1:[],r2:Pr(!1)})}function Qt(r){const t=de;if(t!==null){const o=t.e;if(o!==null){var e=le,n=ke;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Qr(a.effect),Sn(a.reaction),qi(a.fn)}}finally{Qr(e),Sn(n)}}de=t.p,t.m=!0}return{}}function ia(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(xs in r)ul(r);else if(!Array.isArray(r))for(let t in r){const e=r[t];typeof e=="object"&&e&&xs in e&&ul(e)}}}function ul(r,t=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!t.has(r)){t.add(r),r instanceof Date&&r.getTime();for(let n in r)try{ul(r[n],t)}catch{}const e=uo(r);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const n=Yu(e);for(let s in n){const a=n[s].get;if(a)try{a.call(r)}catch{}}}}}function sp(r,t){if(t){const e=document.body;r.autofocus=!0,Ii(()=>{document.activeElement===e&&r.focus()})}}let qc=!1;function ap(){qc||(qc=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function Ld(r){var t=ke,e=le;Sn(null),Qr(null);try{return r()}finally{Sn(t),Qr(e)}}function Jl(r,t,e,n=e){r.addEventListener(t,()=>Ld(e));const s=r.__on_r;s?r.__on_r=()=>{s(),n()}:r.__on_r=n,ap()}const Cd=new Set,dl=new Set;function qd(r,t,e,n){function s(a){if(n.capture||li.call(t,a),!a.cancelBubble)return Ld(()=>e.call(this,a))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Ii(()=>{t.addEventListener(r,s,n)}):t.addEventListener(r,s,n),s}function Q(r,t,e,n,s){var a={capture:n,passive:s},o=qd(r,t,e,a);(t===document.body||t===window||t===document)&&pd(()=>{t.removeEventListener(r,o,a)})}function ip(r){for(var t=0;t<r.length;t++)Cd.add(r[t]);for(var e of dl)e(r)}function li(r){var A;var t=this,e=t.ownerDocument,n=r.type,s=((A=r.composedPath)==null?void 0:A.call(r))||[],a=s[0]||r.target,o=0,l=r.__root;if(l){var d=s.indexOf(l);if(d!==-1&&(t===document||t===window)){r.__root=t;return}var h=s.indexOf(t);if(h===-1)return;d<=h&&(o=d)}if(a=s[o]||r.target,a!==t){lh(r,"currentTarget",{configurable:!0,get(){return a||e}});var v=ke,m=le;Sn(null),Qr(null);try{for(var p,g=[];a!==null;){var w=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+n];if(_!==void 0&&!a.disabled)if(Eo(_)){var[x,...k]=_;x.apply(a,[r,...k])}else _.call(a,r)}catch(T){p?g.push(T):p=T}if(r.cancelBubble||w===t||w===null)break;a=w}if(p){for(let T of g)queueMicrotask(()=>{throw T});throw p}}finally{r.__root=t,delete r.currentTarget,Sn(v),Qr(m)}}}function Rd(r){var t=document.createElement("template");return t.innerHTML=r,t.content}function wi(r,t){var e=le;e.nodes_start===null&&(e.nodes_start=r,e.nodes_end=t)}function V(r,t){var e=(t&Dh)!==0,n=(t&jh)!==0,s,a=!r.startsWith("<!>");return()=>{s===void 0&&(s=Rd(a?r:"<!>"+r),e||(s=gi(s)));var o=n?document.importNode(s,!0):s.cloneNode(!0);if(e){var l=gi(o),d=o.lastChild;wi(l,d)}else wi(o,o);return o}}function vn(r=""){{var t=$o(r+"");return wi(t,t),t}}function Vt(){var r=document.createDocumentFragment(),t=document.createComment(""),e=$o();return r.append(t,e),wi(t,e),r}function I(r,t){r!==null&&r.before(t)}function op(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const lp=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function cp(r){return lp.includes(r)}const up={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function dp(r){return r=r.toLowerCase(),up[r]??r}const fp=["touchstart","touchmove"];function hp(r){return fp.includes(r)}let fl=!0;function G(r,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function pp(r,t){return vp(r,t)}const $a=new Map;function vp(r,{target:t,anchor:e,props:n={},events:s,context:a,intro:o=!0}){Bh();var l=new Set,d=m=>{for(var p=0;p<m.length;p++){var g=m[p];if(!l.has(g)){l.add(g);var w=hp(g);t.addEventListener(g,li,{passive:w});var _=$a.get(g);_===void 0?(document.addEventListener(g,li,{passive:w}),$a.set(g,1)):$a.set(g,_+1)}}};d(Ul(Cd)),dl.add(d);var h=void 0,v=Hh(()=>{var m=e??t.appendChild($o());return Fn(()=>{if(a){Xt({});var p=de;p.c=a}s&&(n.$$events=s),fl=o,h=r(m,n)||{},fl=!0,a&&Qt()}),()=>{var w;for(var p of l){t.removeEventListener(p,li);var g=$a.get(p);--g===0?(document.removeEventListener(p,li),$a.delete(p)):$a.set(p,g)}dl.delete(d),Rc.delete(h),m!==e&&((w=m.parentNode)==null||w.removeChild(m))}});return Rc.set(h,v),h}let Rc=new WeakMap;const Mo=0,Ki=1,Uo=2;function mp(r,t,e,n,s){var a=r,o=ei(),l=de,d=$r,h,v,m,p=(o?Pr:za)(void 0),g=(o?Pr:za)(void 0),w=!1;function _(k,A){w=!0,A&&(Qr(x),Sn(x),Lc(l));try{k===Mo&&e&&(h?sa(h):h=Fn(()=>e(a))),k===Ki&&n&&(v?sa(v):v=Fn(()=>n(a,p))),k===Uo&&s&&(m?sa(m):m=Fn(()=>s(a,g))),k!==Mo&&h&&Fs(h,()=>h=null),k!==Ki&&v&&Fs(v,()=>v=null),k!==Uo&&m&&Fs(m,()=>m=null)}finally{A&&(Lc(null),Sn(null),Qr(null),Sd())}}var x=fa(()=>{if(d!==(d=t())){if(dh(d)){var k=d;w=!1,k.then(A=>{k===d&&(Da(p,A),_(Ki,!0))},A=>{if(k===d)throw Da(g,A),_(Uo,!0),g.v}),Ii(()=>{w||_(Mo,!0)})}else Da(p,d),_(Ki,!1);return()=>d=$r}})}function xt(r,t,e,n=null,s=!1){var a=r,o=null,l=null,d=null,h=s?Ci:0;fa(()=>{d!==(d=!!t())&&(d?(o?sa(o):o=Fn(()=>e(a)),l&&Fs(l,()=>{l=null})):(l?sa(l):n&&(l=Fn(()=>n(a))),o&&Fs(o,()=>{o=null})))},h)}function gp(r,t,e){var n=r,s=$r,a,o=ei()?vh:Fl;fa(()=>{o(s,s=t())&&(a&&Fs(a),a=Fn(()=>e(n)))})}function se(r,t){return t}function bp(r,t,e,n){for(var s=[],a=t.length,o=0;o<a;o++)Vl(t[o].e,s,!0);var l=a>0&&s.length===0&&e!==null;if(l){var d=e.parentNode;Mh(d),d.append(e),n.clear(),Rs(r,t[0].prev,t[a-1].next)}_d(s,()=>{for(var h=0;h<a;h++){var v=t[h];l||(n.delete(v.k),Rs(r,v.prev,v.next)),Vs(v.e,!l)}})}function Yt(r,t,e,n,s,a=null){var o=r,l={flags:t,items:new Map,first:null},d=(t&ad)!==0;if(d){var h=r;o=h.appendChild($o())}var v=null,m=!1;fa(()=>{var p=e(),g=Eo(p)?p:p==null?[]:Ul(p),w=g.length;if(!(m&&w===0)){m=w===0;{var _=ke;_p(g,l,o,s,t,(_.f&cs)!==0,n)}a!==null&&(w===0?v?sa(v):v=Fn(()=>a(o)):v!==null&&Fs(v,()=>{v=null})),e()}})}function _p(r,t,e,n,s,a,o){var C,j,P,H;var l=(s&Th)!==0,d=(s&(Hl|Kl))!==0,h=r.length,v=t.items,m=t.first,p=m,g,w=null,_,x=[],k=[],A,T,q,S;if(l)for(S=0;S<h;S+=1)A=r[S],T=o(A,S),q=v.get(T),q!==void 0&&((C=q.a)==null||C.measure(),(_??(_=new Set)).add(q));for(S=0;S<h;S+=1){if(A=r[S],T=o(A,S),q=v.get(T),q===void 0){var L=p?p.e.nodes_start:e;w=wp(L,t,w,w===null?t.first:w.next,A,T,S,n,s),v.set(T,w),x=[],k=[],p=w.next;continue}if(d&&yp(q,A,S,s),q.e.f&cs&&(sa(q.e),l&&((j=q.a)==null||j.unfix(),(_??(_=new Set)).delete(q))),q!==p){if(g!==void 0&&g.has(q)){if(x.length<k.length){var M=k[0],B;w=M.prev;var U=x[0],z=x[x.length-1];for(B=0;B<x.length;B+=1)Ic(x[B],M,e);for(B=0;B<k.length;B+=1)g.delete(k[B]);Rs(t,U.prev,z.next),Rs(t,w,U),Rs(t,z,M),p=M,w=z,S-=1,x=[],k=[]}else g.delete(q),Ic(q,p,e),Rs(t,q.prev,q.next),Rs(t,q,w===null?t.first:w.next),Rs(t,w,q),w=q;continue}for(x=[],k=[];p!==null&&p.k!==T;)(a||!(p.e.f&cs))&&(g??(g=new Set)).add(p),k.push(p),p=p.next;if(p===null)continue;q=p}x.push(q),w=q,p=q.next}if(p!==null||g!==void 0){for(var y=g===void 0?[]:Ul(g);p!==null;)(a||!(p.e.f&cs))&&y.push(p),p=p.next;var N=y.length;if(N>0){var $=s&ad&&h===0?e:null;if(l){for(S=0;S<N;S+=1)(P=y[S].a)==null||P.measure();for(S=0;S<N;S+=1)(H=y[S].a)==null||H.fix()}bp(t,y,$,v)}}l&&Ii(()=>{var K;if(_!==void 0)for(q of _)(K=q.a)==null||K.apply()}),le.first=t.first&&t.first.e,le.last=w&&w.e}function yp(r,t,e,n){n&Hl&&Da(r.v,t),n&Kl?Da(r.i,e):r.i=e}function wp(r,t,e,n,s,a,o,l,d){var h=(d&Hl)!==0,v=(d&Nh)===0,m=h?v?za(s):Pr(s):s,p=d&Kl?Pr(o):o,g={i:p,v:m,k:a,a:null,e:null,prev:e,next:n};try{return g.e=Fn(()=>l(r,m,p),od),g.e.prev=e&&e.e,g.e.next=n&&n.e,e===null?t.first=g:(e.next=g,e.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function Ic(r,t,e){for(var n=r.next?r.next.e.nodes_start:e,s=t?t.e.nodes_start:e,a=r.e.nodes_start;a!==n;){var o=Ao(a);s.before(a),a=o}}function Rs(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function hl(r,t,e,n,s){var a=r,o="",l;fa(()=>{o!==(o=t()??"")&&(l!==void 0&&(Vs(l),l=void 0),o!==""&&(l=Fn(()=>{var d=o+"",h=Rd(d);wi(gi(h),h.lastChild),a.before(h)})))})}function mo(r,t,e,n,s){var l;var a=(l=t.$$slots)==null?void 0:l[e],o=!1;a===!0&&(a=t.children,o=!0),a===void 0||a(r,o?()=>n:n)}function xp(r,t,e){var n=r,s,a;fa(()=>{s!==(s=t())&&(a&&(Fs(a),a=null),s&&(a=Fn(()=>e(n,s))))},Ci)}function ws(r,t,e,n){var s=r.__attributes??(r.__attributes={});s[t]!==(s[t]=e)&&(t==="style"&&"__styles"in r&&(r.__styles={}),t==="loading"&&(r[ph]=e),e==null?r.removeAttribute(t):typeof e!="string"&&Id(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function Ep(r,t,e,n,s=!1,a=!1,o=!1){var l=t||{},d=r.tagName==="OPTION";for(var h in t)h in e||(e[h]=null);var v=Id(r),m=r.__attributes??(r.__attributes={});for(const k in e){let A=e[k];if(d&&k==="value"&&A==null){r.value=r.__value="",l[k]=A;continue}var p=l[k];if(A!==p){l[k]=A;var g=k[0]+k[1];if(g!=="$$"){if(g==="on"){const T={},q="$$"+k;let S=k.slice(2);var w=cp(S);if(op(S)&&(S=S.slice(0,-7),T.capture=!0),!w&&p){if(A!=null)continue;r.removeEventListener(S,l[q],T),l[q]=null}if(A!=null)if(w)r[`__${S}`]=A,ip([S]);else{let L=function(M){l[k].call(this,M)};var x=L;l[q]=qd(S,r,L,T)}}else if(k==="style"&&A!=null)r.style.cssText=A+"";else if(k==="autofocus")sp(r,!!A);else if(k==="__value"||k==="value"&&A!=null)r.value=r[k]=r.__value=A;else{var _=k;s||(_=dp(_)),A==null&&!a?(m[k]=null,r.removeAttribute(k)):v.includes(_)&&(a||typeof A!="string")?r[_]=A:typeof A!="function"&&ws(r,_,A)}k==="style"&&"__styles"in r&&(r.__styles={})}}}return l}var Dc=new Map;function Id(r){var t=Dc.get(r.nodeName);if(t)return t;Dc.set(r.nodeName,t=[]);for(var e,n=uo(r),s=Element.prototype;s!==n;){e=Yu(n);for(var a in e)e[a].set&&t.push(a);n=uo(n)}return t}function Ve(r,t){var e=r.__className,n=kp(t);(e!==n||od)&&(t==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function kp(r){return r??""}function $p(r,t,e){if(e){if(r.classList.contains(t))return;r.classList.add(t)}else{if(!r.classList.contains(t))return;r.classList.remove(t)}}function Fo(r,t,e,n){var s=r.__styles??(r.__styles={});s[t]!==e&&(s[t]=e,e==null?r.style.removeProperty(t):r.style.setProperty(t,e,""))}const Ap=()=>performance.now(),Ds={tick:r=>requestAnimationFrame(r),now:()=>Ap(),tasks:new Set};function Dd(r){Ds.tasks.forEach(t=>{t.c(r)||(Ds.tasks.delete(t),t.f())}),Ds.tasks.size!==0&&Ds.tick(Dd)}function Tp(r){let t;return Ds.tasks.size===0&&Ds.tick(Dd),{promise:new Promise(e=>{Ds.tasks.add(t={c:r,f:e})}),abort(){Ds.tasks.delete(t)}}}function Gi(r,t){r.dispatchEvent(new CustomEvent(t))}function Np(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function jc(r){const t={},e=r.split(";");for(const n of e){const[s,a]=n.split(":");if(!s||a===void 0)break;const o=Np(s.trim());t[o]=a.trim()}return t}const Sp=r=>r;function Pc(r,t,e,n){var s=(r&qh)!==0,a=(r&Rh)!==0,o=s&&a,l=(r&Ih)!==0,d=o?"both":s?"in":"out",h,v=t.inert,m,p;function g(){var A=ke,T=le;Sn(null),Qr(null);try{return h??(h=e()(t,(n==null?void 0:n())??{},{direction:d}))}finally{Sn(A),Qr(T)}}var w={is_global:l,in(){var A;if(t.inert=v,!s){p==null||p.abort(),(A=p==null?void 0:p.reset)==null||A.call(p);return}a||m==null||m.abort(),Gi(t,"introstart"),m=pl(t,g(),p,1,()=>{Gi(t,"introend"),m==null||m.abort(),m=h=void 0})},out(A){if(!a){A==null||A(),h=void 0;return}t.inert=!0,Gi(t,"outrostart"),p=pl(t,g(),m,0,()=>{Gi(t,"outroend"),A==null||A()})},stop:()=>{m==null||m.abort(),p==null||p.abort()}},_=le;if((_.transitions??(_.transitions=[])).push(w),s&&fl){var x=l;if(!x){for(var k=_.parent;k&&k.f&Ci;)for(;(k=k.parent)&&!(k.f&ko););x=!k||(k.f&Qu)!==0}x&&qi(()=>{Hn(()=>w.in())})}}function pl(r,t,e,n,s){var a=n===1;if(Ta(t)){var o,l=!1;return Ii(()=>{if(!l){var x=t({direction:a?"in":"out"});o=pl(r,x,e,n,s)}}),{abort:()=>{l=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return s(),{abort:hn,deactivate:hn,reset:hn,t:()=>n};const{delay:d=0,css:h,tick:v,easing:m=Sp}=t;var p=[];if(a&&e===void 0&&(v&&v(0,1),h)){var g=jc(h(0,1));p.push(g,g)}var w=()=>1-n,_=r.animate(p,{duration:d});return _.onfinish=()=>{var x=(e==null?void 0:e.t())??1-n;e==null||e.abort();var k=n-x,A=t.duration*Math.abs(k),T=[];if(A>0){if(h)for(var q=Math.ceil(A/16.666666666666668),S=0;S<=q;S+=1){var L=x+k*m(S/q),M=h(L,1-L);T.push(jc(M))}w=()=>{var B=_.currentTime;return x+k*m(B/A)},v&&Tp(()=>{if(_.playState!=="running")return!1;var B=w();return v(B,1-B),!0})}_=r.animate(T,{duration:A,fill:"forwards"}),_.onfinish=()=>{w=()=>n,v==null||v(n,1-n),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=hn)},deactivate:()=>{s=hn},reset:()=>{n===0&&(v==null||v(1,0))},t:()=>w()}}function D(r,t,e=t){var n=ei();Jl(r,"input",()=>{var s=Bc(r)?Mc(r.value):r.value;e(s),n&&s!==(s=t())&&(r.value=s??"")}),Ri(()=>{var s=t();Bc(r)&&s===Mc(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function Op(r,t,e=t){Jl(r,"change",()=>{var n=r.checked;e(n)}),t()==null&&e(!1),Ri(()=>{var n=t();r.checked=!!n})}function Bc(r){var t=r.type;return t==="number"||t==="range"}function Mc(r){return r===""?null:+r}function jd(r,t,e){if(r.multiple)return Cp(r,t);for(var n of r.options){var s=fi(n);if(Ph(s,t)){n.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function Lp(r,t){qi(()=>{var e=new MutationObserver(()=>{var n=r.__value;jd(r,n)});return e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function ls(r,t,e=t){var n=!0;Jl(r,"change",()=>{var s;if(r.multiple)s=[].map.call(r.querySelectorAll(":checked"),fi);else{var a=r.querySelector(":checked");s=a&&fi(a)}e(s)}),qi(()=>{var s=t();if(jd(r,s,n),n&&s===void 0){var a=r.querySelector(":checked");a!==null&&(s=fi(a),e(s))}r.__value=s,n=!1}),Lp(r)}function Cp(r,t){for(var e of r.options)e.selected=~t.indexOf(fi(e))}function fi(r){return"__value"in r?r.__value:r.value}function ve(r=!1){const t=de,e=t.l.u;if(!e)return;let n=()=>ia(t.s);if(r){let s=0,a={};const o=po(()=>{let l=!1;const d=t.s;for(const h in d)d[h]!==a[h]&&(a[h]=d[h],l=!0);return l&&s++,s});n=()=>i(o)}e.b.length&&zh(()=>{Uc(t,n),fo(e.b)}),ll(()=>{const s=Hn(()=>e.m.map(fh));return()=>{for(const a of s)typeof a=="function"&&a()}}),e.a.length&&ll(()=>{Uc(t,n),fo(e.a)})}function Uc(r,t){if(r.l.s)for(const e of r.l.s)i(e);t()}function Zl(r,t,e){if(r==null)return t(void 0),e&&e(void 0),hn;const n=Hn(()=>r.subscribe(t,e));return n.unsubscribe?()=>n.unsubscribe():n}let Vi=!1;function F(r,t,e){const n=e[t]??(e[t]={store:null,source:za(void 0),unsubscribe:hn});if(n.store!==r)if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=hn;else{var s=!0;n.unsubscribe=Zl(r,a=>{s?n.source.v=a:b(n.source,a)}),s=!1}return i(n.source)}function pt(r,t){return r.set(t),t}function ce(){const r={};return pd(()=>{for(var t in r)r[t].unsubscribe()}),r}function qp(r){var t=Vi;try{return Vi=!1,[r(),Vi]}finally{Vi=t}}const Rp={get(r,t){if(!r.exclude.includes(t))return i(r.version),t in r.special?r.special[t]():r.props[t]},set(r,t,e){return t in r.special||(r.special[t]=er({get[t](){return r.props[t]}},t,id)),r.special[t](e),Cc(r.version),!0},getOwnPropertyDescriptor(r,t){if(!r.exclude.includes(t)&&t in r.props)return{enumerable:!0,configurable:!0,value:r.props[t]}},deleteProperty(r,t){return r.exclude.includes(t)||(r.exclude.push(t),Cc(r.version)),!0},has(r,t){return r.exclude.includes(t)?!1:t in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(t=>!r.exclude.includes(t))}};function vl(r,t){return new Proxy({props:r,exclude:t,special:{},version:Pr(0)},Rp)}const Ip={get(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(Ta(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(r,t,e){let n=r.props.length;for(;n--;){let s=r.props[n];Ta(s)&&(s=s());const a=Us(s,t);if(a&&a.set)return a.set(e),!0}return!1},getOwnPropertyDescriptor(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(Ta(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=Us(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(r,t){if(t===xs||t===rd)return!1;for(let e of r.props)if(Ta(e)&&(e=e()),e!=null&&t in e)return!0;return!1},ownKeys(r){const t=[];for(let e of r.props){Ta(e)&&(e=e());for(const n in e)t.includes(n)||t.push(n)}return t}};function Dp(...r){return new Proxy({props:r},Ip)}function Fc(r){for(var t=le,e=le;t!==null&&!(t.f&(Gn|Li));)t=t.parent;try{return Qr(t),r()}finally{Qr(e)}}function er(r,t,e,n){var M;var s=(e&Sh)!==0,a=!Qa||(e&Oh)!==0,o=(e&Lh)!==0,l=(e&Ch)!==0,d=!1,h;o?[h,d]=qp(()=>r[t]):h=r[t];var v=xs in r||rd in r,m=((M=Us(r,t))==null?void 0:M.set)??(v&&o&&t in r?B=>r[t]=B:void 0),p=n,g=!0,w=!1,_=()=>(w=!0,g&&(g=!1,l?p=Hn(n):p=n),p);h===void 0&&n!==void 0&&(m&&a&&yh(),h=_(),m&&m(h));var x;if(a)x=()=>{var B=r[t];return B===void 0?_():(g=!0,w=!1,B)};else{var k=Fc(()=>(s?po:Ar)(()=>r[t]));k.f|=td,x=()=>{var B=i(k);return B!==void 0&&(p=void 0),B===void 0?p:B}}if(!(e&id))return x;if(m){var A=r.$$legacy;return function(B,U){return arguments.length>0?((!a||!U||A||d)&&m(U?x():B),B):x()}}var T=!1,q=!1,S=za(h),L=Fc(()=>po(()=>{var B=x(),U=i(S);return T?(T=!1,q=!0,U):(q=!1,S.v=B)}));return s||(L.equals=zl),function(B,U){if(Is!==null&&(T=q,x(),i(S)),arguments.length>0){const z=U?i(L):a&&o?Na(B):B;return L.equals(z)||(T=!0,b(S,z),w&&p!==void 0&&(p=z),Hn(()=>i(L))),B}return i(L)}}function Xe(r){de===null&&To(),Qa&&de.l!==null?Bp(de).m.push(r):ll(()=>{const t=Hn(r);if(typeof t=="function")return t})}function Pd(r){de===null&&To(),Xe(()=>()=>Hn(r))}function jp(r,t,{bubbles:e=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:n})}function Pp(){const r=de;return r===null&&To(),(t,e,n)=>{var a;const s=(a=r.s.$$events)==null?void 0:a[t];if(s){const o=Eo(s)?s.slice():[s],l=jp(t,e,n);for(const d of o)d.call(r.x,l);return!l.defaultPrevented}return!0}}function Bp(r){var t=r.l;return t.u??(t.u={a:[],b:[],m:[]})}const Mp="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Mp);$h();const go={},bo={},Bd={},Md=()=>aa(go),Ud=/^:(.+)/,zc=4,Up=3,Fp=2,zp=1,Hp=1,xi=r=>r.replace(/(^\/+|\/+$)/g,"").split("/"),zo=r=>r.replace(/(^\/+|\/+$)/g,""),Kp=(r,t)=>{const e=r.default?0:xi(r.path).reduce((n,s)=>(n+=zc,s===""?n+=Hp:Ud.test(s)?n+=Fp:s[0]==="*"?n-=zc+zp:n+=Up,n),0);return{route:r,score:e,index:t}},Gp=r=>r.map(Kp).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),Hc=(r,t)=>{let e,n;const[s]=t.split("?"),a=xi(s),o=a[0]==="",l=Gp(r);for(let d=0,h=l.length;d<h;d++){const v=l[d].route;let m=!1;if(v.default){n={route:v,params:{},uri:t};continue}const p=xi(v.path),g={},w=Math.max(a.length,p.length);let _=0;for(;_<w;_++){const x=p[_],k=a[_];if(x&&x[0]==="*"){const T=x==="*"?"*":x.slice(1);g[T]=a.slice(_).map(decodeURIComponent).join("/");break}if(typeof k>"u"){m=!0;break}const A=Ud.exec(x);if(A&&!o){const T=decodeURIComponent(k);g[A[1]]=T}else if(x!==k){m=!0;break}}if(!m){e={route:v,params:g,uri:"/"+a.slice(0,_).join("/")};break}}return e||n||null},Ho=(r,t)=>r+(t?`?${t}`:""),Vp=(r,t)=>{if(r.startsWith("/"))return r;const[e,n]=r.split("?"),[s]=t.split("?"),a=xi(e),o=xi(s);if(a[0]==="")return Ho(s,n);if(!a[0].startsWith(".")){const h=o.concat(a).join("/");return Ho((s==="/"?"":"/")+h,n)}const l=o.concat(a),d=[];return l.forEach(h=>{h===".."?d.pop():h!=="."&&d.push(h)}),Ho("/"+d.join("/"),n)},Ko=(r,t)=>`${zo(t==="/"?r:`${zo(r)}/${zo(t)}`)}/`,Wp=r=>!r.defaultPrevented&&r.button===0&&!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey),ml=()=>typeof window<"u"&&"document"in window&&"location"in window;var Jp=V("<a><!></a>");function js(r,t){const e=vl(t,["children","$$slots","$$events","$$legacy"]),n=vl(e,["to","replace","state","getProps","preserveScroll"]);Xt(t,!1);const s=ce(),a=()=>F(w,"$base",s),o=()=>F(g,"$location",s),l=O();let d=er(t,"to",8,"#"),h=er(t,"replace",8,!1),v=er(t,"state",24,()=>({})),m=er(t,"getProps",8,()=>({})),p=er(t,"preserveScroll",8,!1);const g=aa(go),{base:w}=aa(bo),{navigate:_}=aa(Bd),x=Pp();let k=O(),A=O(),T=O(),q=O();const S=U=>{if(x("click",U),Wp(U)){U.preventDefault();const z=o().pathname===i(k)||h();_(i(k),{state:v(),replace:z,preserveScroll:p()})}};zt(()=>(ia(d()),a()),()=>{b(k,Vp(d(),a().uri))}),zt(()=>(o(),i(k)),()=>{b(A,o().pathname.startsWith(i(k)))}),zt(()=>(i(k),o()),()=>{b(T,i(k)===o().pathname)}),zt(()=>i(T),()=>{b(l,i(T)?"page":void 0)}),zt(()=>(ia(m()),o(),i(k),i(A),i(T),ia(n)),()=>{b(q,m()({location:o(),href:i(k),isPartiallyCurrent:i(A),isCurrent:i(T),existingProps:n}))}),tn(),ve();var L=Jp();let M;var B=u(L);mo(B,t,"default",{get active(){return!!i(l)}}),ot(()=>M=Ep(L,M,{href:i(k),"aria-current":i(l),...i(q),...n})),Q("click",L,S),I(r,L),Qt()}function Pe(r,t){const e=vl(t,["children","$$slots","$$events","$$legacy"]);Xt(t,!1);const n=ce(),s=()=>F(m,"$activeRoute",n);let a=er(t,"path",8,""),o=er(t,"component",12,null),l=O({}),d=O({});const{registerRoute:h,unregisterRoute:v,activeRoute:m}=aa(bo),p={path:a(),default:a()===""};h(p),Pd(()=>{v(p)}),zt(()=>(s(),ia(e),ml),()=>{if(s()&&s().route===p){b(l,s().params);const{component:_,path:x,...k}=e;b(d,k),_&&(_.toString().startsWith("class ")?o(_):o(_())),ml()&&!s().preserveScroll&&(window==null||window.scrollTo(0,0))}}),tn(),ve();var g=Vt(),w=yt(g);xt(w,()=>s()&&s().route===p,_=>{var x=Vt(),k=yt(x);xt(k,o,A=>{var T=Vt(),q=yt(T);mp(q,o,null,(S,L)=>{var M=Vt(),B=yt(M);xp(B,()=>{var U;return((U=i(L))==null?void 0:U.default)||i(L)},(U,z)=>{z(U,Dp(()=>i(l),()=>i(d)))}),I(S,M)}),I(A,T)},A=>{var T=Vt(),q=yt(T);mo(q,t,"default",{get params(){return i(l)}}),I(A,T)}),I(_,x)}),I(r,g),Qt()}const Aa=[];function Zp(r,t){return{subscribe:tt(r,t).subscribe}}function tt(r,t=hn){let e=null;const n=new Set;function s(l){if(Fl(r,l)&&(r=l,e)){const d=!Aa.length;for(const h of n)h[1](),Aa.push(h,r);if(d){for(let h=0;h<Aa.length;h+=2)Aa[h][0](Aa[h+1]);Aa.length=0}}}function a(l){s(l(r))}function o(l,d=hn){const h=[l,d];return n.add(h),n.size===1&&(e=t(s,a)||hn),l(r),()=>{n.delete(h),n.size===0&&e&&(e(),e=null)}}return{set:s,update:a,subscribe:o}}function Yp(r,t,e){const n=!Array.isArray(r),s=n?[r]:r;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Zp(e,(o,l)=>{let d=!1;const h=[];let v=0,m=hn;const p=()=>{if(v)return;m();const w=t(n?h[0]:h,o,l);a?o(w):m=typeof w=="function"?w:hn},g=s.map((w,_)=>Zl(w,x=>{h[_]=x,v&=~(1<<_),d&&p()},()=>{v|=1<<_}));return d=!0,p(),function(){fo(g),m(),d=!1}})}function Xp(r){let t;return Zl(r,e=>t=e)(),t}const Go=r=>({...r.location,state:r.history.state,key:r.history.state&&r.history.state.key||"initial"}),Qp=r=>{const t=[];let e=Go(r);return{get location(){return e},listen(n){t.push(n);const s=()=>{e=Go(r),n({location:e,action:"POP"})};return r.addEventListener("popstate",s),()=>{r.removeEventListener("popstate",s);const a=t.indexOf(n);t.splice(a,1)}},navigate(n,{state:s,replace:a=!1,preserveScroll:o=!1,blurActiveElement:l=!0}={}){s={...s,key:Date.now()+""};try{a?r.history.replaceState(s,"",n):r.history.pushState(s,"",n)}catch{r.location[a?"replace":"assign"](n)}e=Go(r),t.forEach(d=>d({location:e,action:"PUSH",preserveScroll:o})),l&&document.activeElement.blur()}}},tv=(r="/")=>{let t=0;const e=[{pathname:r,search:""}],n=[];return{get location(){return e[t]},addEventListener(s,a){},removeEventListener(s,a){},history:{get entries(){return e},get index(){return t},get state(){return n[t]},pushState(s,a,o){const[l,d=""]=o.split("?");t++,e.push({pathname:l,search:d}),n.push(s)},replaceState(s,a,o){const[l,d=""]=o.split("?");e[t]={pathname:l,search:d},n[t]=s}}}},Fd=Qp(ml()?window:tv()),{navigate:Ha}=Fd;var ev=V("<div><!></div>");function rv(r,t){Xt(t,!1);const e=ce(),n=()=>F(A,"$base",e),s=()=>F(k,"$location",e),a=()=>F(w,"$routes",e),o=()=>F(_,"$activeRoute",e);let l=er(t,"basepath",8,"/"),d=er(t,"url",8,null),h=er(t,"viewtransition",8,null),v=er(t,"history",8,Fd);const m=(U,z,y)=>{const N=h()(y);return typeof(N==null?void 0:N.fn)=="function"?N.fn(U,N):N};Bo(Bd,v());const p=aa(go),g=aa(bo),w=tt([]),_=tt(null);let x=!1;const k=p||tt(d()?{pathname:d()}:v().location),A=g?g.routerBase:tt({path:l(),uri:l()}),T=Yp([A,_],([U,z])=>{if(!z)return U;const{path:y}=U,{route:N,uri:$}=z;return{path:N.default?y:N.path.replace(/\*.*$/,""),uri:$}}),q=U=>{const{path:z}=n();let{path:y}=U;if(U._path=y,U.path=Ko(z,y),typeof window>"u"){if(x)return;const N=Hc([U],s().pathname);N&&(_.set(N),x=!0)}else w.update(N=>[...N,U])},S=U=>{w.update(z=>z.filter(y=>y!==U))};let L=O(!1);p||(Xe(()=>v().listen(z=>{b(L,z.preserveScroll||!1),k.set(z.location)})),Bo(go,k)),Bo(bo,{activeRoute:_,base:A,routerBase:T,registerRoute:q,unregisterRoute:S}),zt(()=>(n(),Ko),()=>{const{path:U}=n();w.update(z=>z.map(y=>Object.assign(y,{path:Ko(U,y._path)})))}),zt(()=>(a(),s(),i(L)),()=>{const U=Hc(a(),s().pathname);_.set(U&&{...U,preserveScroll:i(L)})}),tn(),ve();var M=Vt(),B=yt(M);xt(B,h,U=>{var z=Vt(),y=yt(z);gp(y,()=>s().pathname,N=>{var $=ev(),C=u($);mo(C,t,"default",{get route(){return o()&&o().uri},get location(){return s()}}),Pc(1,$,()=>m),Pc(2,$,()=>m),I(N,$)}),I(U,z)},U=>{var z=Vt(),y=yt(z);mo(y,t,"default",{get route(){return o()&&o().uri},get location(){return s()}}),I(U,z)}),I(r,M),Qt()}const pe=tt("babapk"),oa=tt("");function nv(r){var n;const e=`; ${document.cookie}`.split(`; ${r}=`);if(e.length===2)return(n=e.pop())==null?void 0:n.split(";").shift()}async function jt(r,t,e=null){const n=Xp(oa)||null,s=nv("csrfToken")||null,a={"Content-Type":"application/json"};n&&(a.d2rpvpjwttoken=n),s&&(a["X-CSRF-Token"]=s);const o={method:t,headers:a,credentials:"include"};e&&(o.body=JSON.stringify(e));try{const l=await fetch(r,o),d=l.headers.get("d2rpvpjwttoken");return typeof d=="string"&&oa.set(d),l}catch(l){throw console.error("Error during fetch:",l),l}}const Ka=tt(""),Je=tt(""),Es=tt([]);async function ni(r){try{const t="/nicknames/"+r,e=await jt(t,"GET");if(e.ok){const n=await e.json();r==="babapk"?Es.set(n):r==="mpk"?Es.set(n.map(s=>s.replace("_m",""))):r==="zpke"&&Es.set(n.map(s=>s.replace("_z","")))}else console.error("닉네임을 가져오는데 실패했습니다.")}catch(t){console.error("닉네임을 가져오는 중 오류가 발생했습니다:",t)}}function Ba(r){const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${r}`);const e={month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",e).format(t)}const Kc=tt(1),Gc=tt("all"),gl=tt("none"),We=tt("none");var sv=V('<button class="emphasis-button inline-block">로그인</button> <!>',1),av=V('<button class="simple-button">나의정보</button>'),iv=V('<div class="menu-container svelte-eqoifg"><div class="menu-logo svelte-eqoifg"><!></div> <div class="menu-items svelte-eqoifg"></div> <button class="hamburger svelte-eqoifg"><span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span></button></div> <div></div> <div class="floating-button"><!></div>',1);function ov(r,t){Xt(t,!1);const e=ce(),n=()=>F(l,"$location",e),s=()=>F(pe,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=er(t,"isOpen",12,!1);const l=Md();let d=O(""),h=O(),v=O("밀리PK"),m=O("/mpk"),p=O(),g=O();const w=()=>{o(!o())};function _(){b(g,[...s()!="zpke"?[{label:"공지사항",href:"/info"}]:[],{label:"랭킹조회",href:"/rank"},{label:"대전기록",href:"/record"},{label:"대회기록",href:"/tournament"},...s()==="babapk"?[{label:"클랜목록",href:"/clan"}]:[],{label:"커뮤니티",href:"/boardlist"},...s()==="zpke"?[]:[{label:"역대우승",href:"/winners"}],{label:"계산하기",href:"/calculator"},...a()==="admin"||a()==="admin_m"||a()==="admin_z"?[{label:"관리설정",href:"/admin"}]:[]]),s()==="mpk"?document.body.style.backgroundColor="#2a1e2e":s()==="zpke"?document.body.style.backgroundColor="#102a2d":document.body.style.backgroundColor="#0d0d0d"}async function x(){try{const C=await(await jt("/auth/check-jwt","POST")).json();C.authenticated?(Je.set(C.username),oa.set(C.token),pe.set(C.mode),Ha("/"+s()),b(p,"/"+s()),_()):(Je.set(""),oa.set(""))}catch{alert("서버 연결에 실패하였습니다")}}Xe(async()=>{await x()}),zt(()=>n(),()=>{b(d,n().pathname)}),zt(()=>(i(d),s()),()=>{i(d).includes("mpk")?(pe.set("mpk"),b(h,"밀리PK"),b(p,"/"+s()),b(m,"/zpke"),b(v,"질딘PK"),_()):i(d).includes("zpke")?(pe.set("zpke"),b(h,"질딘PK"),b(m,"/"),b(p,"/"+s()),b(v,"정통바바"),_()):(pe.set("babapk"),b(h,"정통바바"),b(p,"/"+s()),b(m,"/mpk"),b(v,"밀리PK"),_())}),tn(),ve();var k=iv(),A=yt(k),T=u(A),q=u(T);js(q,{class:"menu-logo-link",get to(){return i(p)},children:($,C)=>{var j=vn("D2RPvP");I($,j)},$$slots:{default:!0}});var S=c(T,2);Yt(S,5,()=>i(g),se,($,C)=>{var j=Ar(()=>i(p)+i(C).href);js($,{class:"link",get to(){return i(j)},$$events:{click:()=>o(!1)},children:(P,H)=>{var K=vn();ot(()=>G(K,i(C).label)),I(P,K)},$$slots:{default:!0}})});var L=c(S,2),M=u(L),B=c(M,2),U=c(B,2),z=c(A,2);Yt(z,5,()=>i(g),se,($,C)=>{var j=Ar(()=>i(p)+i(C).href);js($,{class:"link",get to(){return i(j)},$$events:{click:()=>o(!1)},children:(P,H)=>{var K=vn();ot(()=>G(K,i(C).label)),I(P,K)},$$slots:{default:!0}})});var y=c(z,2),N=u(y);xt(N,()=>a()==="",$=>{var C=sv(),j=yt(C),P=c(j,2);js(P,{class:"simple-button",get to(){return i(m)},children:(H,K)=>{var J=vn();ot(()=>G(J,i(v))),I(H,J)},$$slots:{default:!0}}),Q("click",j,()=>We.set("login")),I($,C)},$=>{var C=av();Q("click",C,()=>We.set("myinfo")),I($,C)}),ot(()=>{Fo(M,"transform",o()?"rotate(45deg)":""),Fo(B,"opacity",o()?"0":"1"),Fo(U,"transform",o()?"rotate(-45deg)":""),Ve(z,`${`mobile-menu ${o()?"open":""}`??""} svelte-eqoifg`)}),Q("click",L,w),I(r,k),Qt()}var lv=V('<a class="svelte-1vl6564"> </a>'),cv=V('<a target="_blank" rel="noopener noreferrer" class="svelte-1vl6564"><img class="social-icon svelte-1vl6564"></a>'),uv=V('<footer class="svelte-1vl6564"><div class="footer-links svelte-1vl6564"></div> <div class="social-links svelte-1vl6564"></div> <div class="copyright svelte-1vl6564"> </div></footer>');function dv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O([]);const a=[{label:"문의하기",href:"https://open.kakao.com/me/balli"},{label:"개인정보 보호정책",href:"/privacy.html"},{label:"이용 약관",href:"/terms.html"}];zt(()=>n(),()=>{n()==="mpk"?b(s,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/4tuTA5Uf",alt:"mpk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/gPUHe6kf",alt:"mpk Kakaotalk"}]):n()==="babapk"?b(s,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/AqvAJJKCag",alt:"babapk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/giHO7Mzg",alt:"babapk Kakaotalk"}]):n()==="zpke"&&b(s,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/4tuTA5Uf",alt:"zpke Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/g3ltefWg",alt:"zpke Kakaotalk"}])}),tn(),ve();var o=uv(),l=u(o);Yt(l,5,()=>a,se,(m,p)=>{var g=lv(),w=u(g);ot(()=>{ws(g,"href",i(p).href),G(w,i(p).label)}),I(m,g)});var d=c(l,2);Yt(d,5,()=>i(s),se,(m,p)=>{var g=cv(),w=u(g);ot(()=>{ws(g,"href",i(p).href),ws(w,"src",i(p).icon),ws(w,"alt",i(p).alt)}),I(m,g)});var h=c(d,2),v=u(h);ot(()=>G(v,`© ${new Date().getFullYear()??""} D2RPvP. All rights reserved.`)),I(r,o),Qt()}var fv=V("<div><h1> </h1></div>");function hv(r,t){Xt(t,!1);const e=ce(),n=()=>F(a,"$location",e),s=()=>F(pe,"$mode",e),a=Md();let o=O(""),l=O(""),d=O("");zt(()=>n(),()=>{b(o,n().pathname)}),zt(()=>i(o),()=>{i(o).includes("rank")?b(d,"랭킹조회"):i(o).includes("info")?b(d,"공지사항"):i(o).includes("record")?b(d,"대전기록"):i(o).includes("tournament")?b(d,"대회기록"):i(o).includes("boardlist")?b(d,"커뮤니티"):i(o).includes("winners")?b(d,"역대우승"):i(o).includes("calculator")?b(d,"계산하기"):i(o).includes("admin")?b(d,"관리설정"):b(d,"")}),zt(()=>s(),()=>{s()==="mpk"?b(l,"밀리PK"):s()==="babapk"?b(l,"정통바바"):s()==="zpke"&&b(l,"질딘PK")}),zt(()=>(i(l),i(d)),()=>{document.title="D2RPvP "+i(l)+" "+i(d)}),tn(),ve();var h=fv();const v=Ar(()=>`header-container ${(i(o).includes("post")||i(o).includes("write")?"hidden":"")??""} svelte-1yjukfn`);var m=u(h),p=u(m);ot(()=>{Ve(h,i(v)),G(p,`${i(l)??""} ${i(d)??""}`)}),I(r,h),Qt()}var pv=V('<tr class="svelte-1vck7sz"><td class="svelte-1vck7sz"><a> </a></td></tr>'),vv=V('<div class="info-container"><table><thead><tr class="svelte-1vck7sz"><th class="svelte-1vck7sz">공지사항 들어가기(구글 문서 링크)</th></tr></thead><tbody></tbody></table></div>');function mv(r){const t=ce(),e=()=>F(pe,"$mode",t);let n=O([]);e()==="mpk"?b(n,[{href:"https://docs.google.com/spreadsheets/d/18jJ3WYsWZEdV8oXeJYt1-aMrACN1IHsFnCV3-gir5pk/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12jpQH4QP7QyPRhLPuXJSuU3lJdA_3SzCE5dBYl2jYZg/",title:"듀얼 규칙 안내"},{href:"https://docs.google.com/document/d/1Wj31FLkeFLZp-N2Bohkj_ZKoUrJU5LXkUABH7x9zxC8/",title:"대회 및 랭킹 시스템 안내"}]):e()==="babapk"?b(n,[{href:"https://docs.google.com/spreadsheets/d/19a-_44yVj04BnlUK6QQY9U3jXtlDAgOmdHCgdis1toI/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12EBBA8c9K-KzaE-cC6QvRb8vOB07V9Mi90D44-dzOPw/",title:"인게임 방 안내"},{href:"https://docs.google.com/document/d/1b-vnUyLaDrSnSMouTOoFAYz5K3lq8hS-kzjh_R-JuD8/",title:"월별 랭킹 시스템 안내(with 클랜전)"},{href:"https://docs.google.com/document/d/1RBDp8SzVp-epjIdekWOWPYt0f6XBpreVbQnPD1qv3-o/",title:"미니대회 운영 안내"},{href:"https://docs.google.com/document/d/1m50GKaWyszyBSslQn3348Fz1CAp55DFbKNwNyj5dLnw/",title:"내부 랭킹전 안내"}]):b(n,[{href:"",title:"질딘PK 공지사항"}]);var s=vv(),a=u(s),o=c(u(a));Yt(o,5,()=>i(n),se,(d,h)=>{var v=pv(),m=u(v),p=u(m),g=u(p);ot(()=>{ws(p,"href",i(h).href),G(g,i(h).title)}),I(d,v)}),I(r,s)}var gv=V('<td class="empty svelte-5k5sfe"></td>'),bv=V('<input class="calendar-input svelte-5k5sfe" type="text"> <button class="emphasis-button small svelte-5k5sfe">저장</button>',1),_v=V('<div class="inside-tooltip pointer svelte-5k5sfe"> </div> <div class="tooltiptext svelte-5k5sfe"> </div>',1),yv=V('<td class="day-cell svelte-5k5sfe" role="button" tabindex="0"><div> </div> <!></td>'),wv=V('<tr class="svelte-5k5sfe"></tr>'),xv=V('<div class="calendar-container"><table class="calendar-table svelte-5k5sfe"><thead><tr class="svelte-5k5sfe"><th class="day-header svelte-5k5sfe">일</th><th class="day-header svelte-5k5sfe">월</th><th class="day-header svelte-5k5sfe">화</th><th class="day-header svelte-5k5sfe">수</th><th class="day-header svelte-5k5sfe">목</th><th class="day-header svelte-5k5sfe">금</th><th class="day-header svelte-5k5sfe">토</th></tr></thead><tbody></tbody></table></div>');function Ev(r,t){Xt(t,!1);const e=ce(),n=()=>F(Je,"$myaccount",e),s=()=>F(pe,"$mode",e),a=O(),o=O(),l=O();let d=er(t,"year",8),h=er(t,"month",8),v=er(t,"date",8),m=er(t,"events",12),p=er(t,"eventname",8),g=er(t,"getCalendartext",8),w=O(null),_=O("");function x(U,z){const y=new Date(U,z,1),N=new Date(U,z+1,0),$=[];let C=new Date(y);for(;C<=N;)$.push(new Date(C)),C.setDate(C.getDate()+1);const j=y.getDay();return{daysInMonth:$,startDayOfWeek:j}}const k=(U,z)=>{(n()==="admin"||n()==="admin_m"||n()==="admin_z")&&(b(w,U.toDateString()),b(_,z||""))},A=async U=>{const z=U.toDateString(),y={year:U.getFullYear(),month:U.getMonth()+1,day:U.getDate(),event:i(_),mode:s()};try{const $=await jt("/calendar/event","POST",y);if($.ok){alert("이벤트 기록을 저장하였습니다"),m({...m(),[z]:i(_)}),b(w,null),b(_,"");const C=d(),j=h();await g()(C,j)}else alert(`오류 발생: ${$.status}`)}catch(N){console.error("Error:",N)}};function T(U,z){const y=[];let N=[],$=0;for(let C=0;C<z;C++)N.push("empty"),$++;if(U.forEach(C=>{$===7&&(y.push(N),N=[],$=0);const j=C.getDate()===v()&&C.getMonth()===h()&&C.getFullYear()===d(),P=C.getDate();N.push({day:C,isToday:j,dayKey:P}),$++}),N.length>0){for(;N.length<7;)N.push("empty");y.push(N)}return y}let q=O(null);function S(U){i(q)===`${U}`?b(q,null):b(q,`${U}`)}zt(()=>(i(a),i(o),ia(d()),ia(h())),()=>{(U=>(b(a,U.daysInMonth),b(o,U.startDayOfWeek)))(x(d(),h()))}),zt(()=>(i(a),i(o)),()=>{b(l,T(i(a),i(o)))}),tn(),ve();var L=xv(),M=u(L),B=c(u(M));Yt(B,5,()=>i(l),se,(U,z)=>{var y=wv();Yt(y,5,()=>i(z),se,(N,$)=>{var C=Vt(),j=yt(C);xt(j,()=>i($)==="empty",P=>{var H=gv();I(P,H)},P=>{var H=yv(),K=u(H),J=u(K);ot(()=>G(J,i($).day.getDate()));var W=c(K,2);xt(W,()=>i(w)===i($).day.toDateString(),et=>{var lt=bv(),ct=yt(lt),nt=c(ct,2);D(ct,()=>i(_),Z=>b(_,Z)),Q("keydown",ct,Z=>{Z.key==="Enter"&&A(i($).day)}),Q("click",nt,()=>A(i($).day)),I(et,lt)},et=>{var lt=_v(),ct=yt(lt),nt=u(ct),Z=c(ct,2),Y=u(Z);ot(()=>{G(nt,p()[i($).dayKey]||""),$p(Z,"visible",i(q)===`${i($).dayKey}`),G(Y,p()[i($).dayKey]||"이벤트 없음")}),Q("click",ct,()=>S(i($).dayKey)),I(et,lt)}),ot(()=>Ve(K,`day-number ${(n()==="admin"||n()==="admin_m"||n()==="admin_z"?"pointer":"")??""} svelte-5k5sfe`)),Q("click",K,()=>k(i($).day,p()[i($).dayKey])),I(P,H)}),I(N,C)}),I(U,y)}),I(r,L),Qt()}var kv=V('<div class="calendar-header svelte-fc2pud"><button class="simple-button">지난달</button> <div class="calendar-header-text svelte-fc2pud"> </div> <button class="simple-button">다음달</button></div> <!>',1);function Wi(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O({});const a=new Date,o=a.getFullYear(),l=a.getMonth(),d=a.getDate();let h=O(o),v=O(l),m=O(d),p={};const g=()=>{let M=i(v)+1,B=i(h);M===12&&(M=0,B+=1),b(v,M),b(h,B),b(m,null),B===a.getFullYear()&&M===a.getMonth()&&b(m,a.getDate()),_(B,M)},w=()=>{let M=i(v)-1,B=i(h);M===-1&&(M=11,B-=1),b(v,M),b(h,B),b(m,null),B===a.getFullYear()&&M===a.getMonth()&&b(m,a.getDate()),_(B,M)};async function _(M,B){try{const U=`/calendar/event?year=${M}&month=${B+1}&mode=${n()}`,z=await jt(U,"GET");if(!z.ok)throw new Error("Network response was not ok");const y=await z.json(),N={};y.forEach($=>{N[$.date]=$.text}),b(s,N)}catch(U){alert("달력 DB 에러"),console.error("Error:",U)}}Xe(()=>{_(a.getFullYear(),a.getMonth())}),ve();var x=kv(),k=yt(x),A=u(k),T=c(A,2),q=u(T),S=c(T,2),L=c(k,2);Ev(L,{get year(){return i(h)},get month(){return i(v)},get date(){return i(m)},events:p,get eventname(){return i(s)},getCalendartext:_}),ot(()=>G(q,`${i(h)??""}년 ${i(v)+1}월`)),Q("click",A,w),Q("click",S,g),I(r,x),Qt()}var $v=V('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">로그인</button></div> <button class="message-button">계정찾기</button> <button class="message-button">회원가입</button>',1);function Av(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O(""),a=O("");async function o(){let x={nickname:i(s),password:i(a)};try{const k="/auth/"+n()+"/login",A=await jt(k,"POST",x);if(A.status===200){const T=await A.json(),q=T.accessToken;q&&oa.set(q),Je.set(T.username),We.set("none")}else alert("로그인 실패")}catch(k){alert(k)}}ve();var l=$v(),d=yt(l),h=u(d),v=c(d,2),m=u(v),p=c(m,2),g=c(p,2),w=c(v,2),_=c(w,2);ot(()=>G(h,`${n()??""} 로그인하기`)),D(m,()=>i(s),x=>b(s,x)),D(p,()=>i(a),x=>b(a,x)),Q("click",g,()=>o()),Q("click",w,()=>We.set("findaccount")),Q("click",_,()=>We.set("register")),I(r,l),Qt()}var Tv=V('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input type="text" placeholder="이메일 입력"> <button class="emphasis-button block">계정찾기</button></div>',1);function Nv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O(!0),a=O(""),o=O("");const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function d(){b(s,l.test(i(o)))}async function h(){const k={findpw_nickname:i(a),findpw_email:i(o)};try{const A="/reset-pw/"+n();(await jt(A,"POST",k)).ok?(alert("이메일을 확인하세요"),We.set("none")):alert("에러 발생")}catch(A){alert(A)}}ve();var v=Tv(),m=yt(v),p=u(m),g=c(m,2),w=u(g),_=c(w,2),x=c(_,2);ot(()=>{G(p,`${n()??""} 계정찾기`),Ve(_,`input-text ${(i(s)?"":"invalid")??""}`)}),D(w,()=>i(a),k=>b(a,k)),D(_,()=>i(o),k=>b(o,k)),Q("input",_,d),Q("click",x,h),I(r,v),Qt()}var Sv=V(`<strong>웹사이트 이용 약관</strong> <p>D2R PvP는 Diablo 2: Resurrected에서 PvP(플레이어 대 플레이어) 매치에
  참여하는 사용자들을 위한 랭킹 시스템을 제공하는 웹사이트입니다.</p> <p>사이트에서 자신의 랭킹을 확인하려면 서버에 계정을 등록하고 매치 결과를
  기록해야 합니다.</p> <p>등록 과정에서 제공된 정보는 사이트 운영을 위해서만 사용되며, 다른
  목적으로는 사용되지 않습니다.</p>`,1);function Ov(r){var t=Sv();I(r,t)}var Lv=V(`<strong>개인정보 처리방침</strong> <p>이 페이지는 서비스를 사용하기로 결정한 경우, 개인 정보의 수집, 사용 및
  공개에 관한 제 정책을 방문자에게 알리기 위해 사용됩니다.</p> <p>서비스를 사용하기로 선택하면, 이 정책과 관련하여 정보 수집 및 사용에
  동의하는 것입니다. 수집된 개인 정보는 서비스 제공 및 개선을 위해
  사용됩니다. 이 개인정보 처리방침에 설명된 경우를 제외하고는 귀하의 정보를
  사용하거나 제3자와 공유하지 않습니다.</p> <p>이 개인정보 처리방침에서 사용되는 용어는 D2R PvP에서 접근할 수 있는 이용
  약관과 동일한 의미를 가지며, 본 개인정보 처리방침에서 달리 정의되지 않는
  한 이용 약관과 동일한 의미를 가집니다.</p> <p><strong>정보 수집 및 사용</strong></p> <p>더 나은 경험을 제공하기 위해, 서비스 사용 중 특정 개인 식별 정보를
  제공해야 할 수 있습니다. 이 정보에는 닉네임, 비밀번호, 이메일, 플레이
  데이터 등이 포함될 수 있습니다. 요청된 정보는 귀하의 장치에 보관되며,
  당사에 의해 수집되지 않습니다.</p> <div><p>이 사이트는 개인 정보를 제3자 서비스 제공자에게 제공하지 않습니다.</p> <p><strong>로그 데이터</strong></p> <p>서비스 사용 시, 오류가 발생할 경우 귀하의 전화에서 로그 데이터라는
    정보를 (제3자 제품을 통해) 수집함을 알려드립니다. 이 로그 데이터에는
    장치의 인터넷 프로토콜(IP) 주소, 장치 이름, 운영 체제 버전, 서비스 사용
    시의 사이트 구성, 사용 날짜 및 시간, 기타 통계 정보가 포함될 수
    있습니다.</p> <p><strong>쿠키</strong></p> <p>쿠키는 일반적으로 익명의 고유 식별자로 사용되는 소량의 데이터가 포함된
    파일입니다. 이러한 파일은 귀하가 방문하는 웹사이트에서 브라우저로
    전송되어 귀하의 장치 내부 메모리에 저장됩니다.</p> <p>이 서비스는 이러한 "쿠키"를 명시적으로 사용하지 않습니다. 그러나
    사이트는 정보 수집 및 서비스 개선을 위해 "쿠키"를 사용하는 제3자 코드 및
    라이브러리를 사용할 수 있습니다. 쿠키 수신 시 이를 허용하거나 거부할 수
    있는 옵션이 있으며, 쿠키가 귀하의 장치로 전송될 때 알림을 받도록 설정할
    수 있습니다. 쿠키를 거부하기로 선택하면 이 서비스의 일부를 사용하지 못할
    수도 있습니다.</p> <p><strong>서비스 제공자</strong></p> <p>당사는 다음과 같은 이유로 제3자 회사 및 개인을 고용할 수 있습니다:</p> <ul><li>당사 서비스를 용이하게 하기 위해;</li> <li>당사를 대신하여 서비스를 제공하기 위해;</li> <li>서비스 관련 서비스를 수행하기 위해; 또는</li> <li>당사 서비스 사용 방식을 분석하는 데 도움을 주기 위해.</li></ul> <p>이 서비스의 사용자에게 제3자가 귀하의 개인 정보에 접근할 수 있음을
    알리고자 합니다. 이는 당사를 대신하여 할당된 작업을 수행하기 위한
    것입니다. 그러나 그들은 정보를 다른 목적으로 사용하거나 공개하지 않을
    의무가 있습니다.</p> <p><strong>보안</strong></p> <p>귀하의 개인 정보를 제공받는 것을 신뢰하며, 이를 보호하기 위해 상업적으로
    합리적인 수단을 사용하고 있습니다. 그러나 인터넷을 통한 전송 방법 또는
    전자 저장 방법은 100% 안전하고 신뢰할 수 없으며, 절대적인 보안을 보장할
    수는 없습니다.</p> <p><strong>다른 사이트로의 링크</strong></p> <p>이 서비스에는 다른 사이트로의 링크가 포함될 수 있습니다. 제3자 링크를
    클릭하면 해당 사이트로 이동됩니다. 이러한 외부 사이트는 당사에서
    운영하지 않음을 유의하시기 바랍니다. 따라서 이러한 웹사이트의 개인정보
    처리방침을 검토할 것을 강력히 권장합니다. 당사는 제3자 사이트나 서비스의
    콘텐츠, 개인정보 처리방침 또는 관행에 대해 책임을 지지 않습니다.</p> <p><strong>어린이 개인정보</strong></p> <div><p>이 서비스는 13세 미만의 어린이를 대상으로 하지 않습니다. 당사는 13세
      미만의 어린이로부터 개인 식별 정보를 고의로 수집하지 않습니다. 만약
      13세 미만의 어린이가 개인 정보를 제공한 것으로 발견될 경우, 이를 즉시
      서버에서 삭제합니다. 부모나 보호자이시고, 자녀가 개인 정보를 제공한
      사실을 알게 된 경우, 저에게 연락해 주시면 필요한 조치를 취하겠습니다.</p></div> <p><strong>개인정보 처리방침의 변경</strong></p> <p>당사는 개인정보 처리방침을 수시로 업데이트할 수 있습니다. 따라서 이
    페이지를 주기적으로 검토하여 변경 사항을 확인할 것을 권장합니다.
    개인정보 처리방침의 변경 사항은 이 페이지에 게시하여 알릴 것입니다.</p> <p>이 정책은 2024-01-17부터 유효합니다.</p> <p><strong>문의하기</strong></p> <p>개인정보 처리방침에 대해 질문이나 제안사항이 있는 경우,
    kor8240@gmail.com으로 주저하지 말고 연락해 주시기 바랍니다.</p> <p>이 개인정보 처리방침 페이지는 <a href="https://privacypolicytemplate.net" target="_blank" rel="noopener noreferrer">privacypolicytemplate.net</a>에서 작성되었으며, <a href="https://app-privacy-policy-generator.nisrulz.com/" target="_blank" rel="noopener noreferrer">사이트 개인정보 처리방침 생성기</a>에서 수정/생성되었습니다.</p></div>`,1);function Cv(r){var t=Lv();I(r,t)}var qv=V('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Rv=V('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Iv=V('<button class="simple-button">이용약관</button> <button class="simple-button">개인정보 정책</button> <input class="input-text" type="text" placeholder="닉네임"> <button class="emphasis-button">닉네임 확인</button>',1),Dv=V('<div class="nickname-input svelte-18sr952"> </div> <input type="text" placeholder="이메일 입력"> <input class="input-text" type="password" placeholder="비밀번호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">회원가입</button>',1),jv=V('<h3 class="message-title"> </h3> <div class="message-body"><!></div>',1);function Pv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O(!0),a=O(""),o=O("");const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let d=O(""),h=O(""),v=O(""),m=O(!1);function p(){b(s,l.test(i(o)))}function g(S){return!S||S.trim()===""?{isValid:!1,message:"닉네임을 입력해주세요."}:/^[a-zA-Z가-힣]{3,20}$/.test(S)?{isValid:!0,message:"닉네임이 유효합니다."}:{isValid:!1,message:"닉네임은 3~20자의 알파벳, 한글만 허용됩니다."}}async function w(){const S=g(i(d));if(!S.isValid){alert(S.message);return}if(i(m))alert("닉네임을 이미 확인하였습니다");else{const L=`/auth/${n()}/check-nickname`,M={nickname:i(d)};try{const B=await jt(L,"POST",M);B.status===200?(alert("해당 닉네임은 사용 가능합니다"),b(m,!0)):B.status===403&&alert("해당 닉네임은 사용이 불가능합니다")}catch(B){console.error("Error occurred while checking nickname:",B),alert(B)}}}async function _(){const S={nickname:i(d),password:i(h),email:i(o)};try{const L=`/auth/${n()}/register`,M=await jt(L,"POST",S);if(!M.ok)throw new Error("회원가입에 실패했습니다.");M.status===201&&(alert("회원가입이 성공적으로 완료되었습니다."),We.set("none"))}catch(L){alert(L)}}ve();var x=jv(),k=yt(x),A=u(k),T=c(k,2),q=u(T);xt(q,()=>i(a)==="terms",S=>{var L=qv(),M=yt(L),B=u(M);Ov(B);var U=c(M,2);Q("click",U,()=>b(a,"")),I(S,L)},S=>{var L=Vt(),M=yt(L);xt(M,()=>i(a)==="privacy",B=>{var U=Rv(),z=yt(U),y=u(z);Cv(y);var N=c(z,2);Q("click",N,()=>b(a,"")),I(B,U)},B=>{var U=Vt(),z=yt(U);xt(z,()=>!i(m),y=>{var N=Iv(),$=yt(N),C=c($,2),j=c(C,2),P=c(j,2);Q("click",$,()=>b(a,"terms")),Q("click",C,()=>b(a,"privacy")),D(j,()=>i(d),H=>b(d,H)),Q("click",P,w),I(y,N)},y=>{var N=Dv(),$=yt(N),C=u($),j=c($,2),P=c(j,2),H=c(P,2),K=c(H,3);ot(()=>{G(C,`닉네임 :${i(d)??""}`),Ve(j,`input-text ${(i(s)?"":"invalid")??""}`)}),D(j,()=>i(o),J=>b(o,J)),Q("input",j,p),D(P,()=>i(h),J=>b(h,J)),D(H,()=>i(v),J=>b(v,J)),Q("click",K,_),I(y,N)}),I(B,U)},!0),I(S,L)}),ot(()=>G(A,`${n()??""} 가입하기`)),I(r,x),Qt()}var Bv=V('<tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 신청</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>도전 취소</button></td></tr> <tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 날짜</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>자동 승리</button></td></tr>',1),Mv=V('<h3 class="message-title">내 정보 확인</h3> <div class="message-body"><table class="info-table svelte-cga3fb"><tbody><tr class="svelte-cga3fb"><td class="svelte-cga3fb">계정</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">로그아웃</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">메일</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">암호</td><td class="svelte-cga3fb">********</td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><!><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대전점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대회점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">승/패</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">탈퇴</td><td class="svelte-cga3fb"></td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">탈퇴</button></td></tr></tbody></table></div>',1);function Uv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Je,"$myaccount",e);let a=O("Loading"),o=O("Loading"),l=O("Loading"),d=O("Loading"),h=O("Loading"),v=O(""),m=O("");async function p(){const st=`/userdata/${n()}/info`;try{const ut=await jt(st,"POST");if(ut.ok){const dt=await ut.json();n()!="babapk"&&(b(v,dt.challenge),b(m,dt.challengeDate)),b(a,dt.email),b(o,dt.bscore),b(l,dt.lscore),b(d,dt.countwin),b(h,dt.countlose)}}catch(ut){console.error("정보를 불러오는 중 오류가 발생하였습니다:",ut),alert("정보를 불러오는 중 오류가 발생하였습니다")}}async function g(){const st={mode:n(),challenge:i(v)};try{(await jt("/userdata/challenge/cancel","DELETE",st)).status===200&&alert("도전 중인 게임 정보를 삭제하였습니다")}catch(ut){console.error("요청에 실패하였습니다",ut),alert("요청에 실패하였습니다")}}async function w(){const st={mode:n(),challenge:i(v)};try{const ut=await jt("/record/challenge/check","POST",st),dt=await ut.json();ut.status===201?alert("도전 기간에 상대가 응답하지 않아 자동 승리로 입력되었습니다"):ut.status===400?alert(dt.message||"도전 중이 아니거나 응답 기간이 끝나지 않았습니다"):alert("알 수 없는 상태 코드: "+ut.status)}catch(ut){console.error("요청에 실패하였습니다:",ut),alert("요청 처리 중 오류가 발생했습니다. 네트워크 상태를 확인해주세요.")}}Xe(()=>{p()});async function _(){try{await jt("/auth/logout","POST"),alert("로그아웃하였습니다"),Ha(n()==="babapk"?"/":"/"+n()),We.set("none"),Je.set(""),oa.set("")}catch(st){alert(st)}}ve();var x=Mv(),k=c(yt(x),2),A=u(k),T=u(A),q=u(T),S=c(u(q)),L=u(S);ot(()=>G(L,s().replace("_m","").replace("_z","")));var M=c(S),B=u(M),U=c(q),z=c(u(U)),y=u(z),N=c(z),$=u(N),C=c(U),j=c(u(C),2),P=u(j),H=c(C);xt(H,()=>n()!="babapk",st=>{var ut=Bv(),dt=yt(ut),ht=c(u(dt)),Et=u(ht);ot(()=>G(Et,i(v)?i(v).replace("_m",""):""));var At=c(ht),Nt=u(At),Dt=c(dt,2),Mt=c(u(Dt)),re=u(Mt),Ft=c(Mt),te=u(Ft);ot(()=>{Ve(Nt,`simple-button ${(i(v)===""?"hidden":null)??""} svelte-cga3fb`),G(re,i(m)||""),Ve(te,`simple-button ${(i(v)===""?"hidden":null)??""} svelte-cga3fb`)}),Q("click",Nt,()=>g()),Q("click",te,()=>w()),I(st,ut)});var K=c(H),J=c(u(K)),W=u(J),et=c(K),lt=c(u(et)),ct=u(lt),nt=c(et),Z=c(u(nt)),Y=u(Z),wt=c(nt),rt=c(u(wt),2),vt=u(rt);ot(()=>{G(y,i(a)),G(W,i(o)),G(ct,i(l)),G(Y,`${i(d)??""}/${i(h)??""}`)}),Q("click",B,()=>_()),Q("click",$,()=>We.set("changeemail")),Q("click",P,()=>We.set("changepw")),Q("click",vt,()=>We.set("deleteaccount")),I(r,x),Qt()}var Fv=V('<h3 class="message-title">이메일 변경</h3> <div class="message-body"><input class="input-text" type="text" placeholder="새 이메일"> <input class="input-text" type="password" placeholder="비밀번호"> <br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function zv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O(""),a=O("");async function o(){const g={nowpw:i(s),newemail:i(a)};try{const w=`/userdata/${n()}/change-email`,_=await jt(w,"POST",g);typeof(await _.json()).message=="string"?(alert("이메일 변경 완료"),We.set("none")):alert(`오류 발생: ${_.status}`)}catch(w){console.error("오류 발생:",w),alert("오류 발생: "+w)}}ve();var l=Fv(),d=c(yt(l),2),h=u(d),v=c(h,2),m=c(v,4),p=c(d,2);D(h,()=>i(a),g=>b(a,g)),D(v,()=>i(s),g=>b(s,g)),Q("click",m,()=>o()),Q("click",p,()=>We.set("myinfo")),I(r,l),Qt()}var Hv=V('<h3 class="message-title">암호 변경</h3> <div class="message-body"><input class="input-text" type="password" placeholder="현재암호"> <input class="input-text" type="password" placeholder="새 암호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function Kv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O(""),a=O(""),o=O("");async function l(){if(i(a)!==i(o)){alert("암호 확인이 일치하지 않습니다. 다시 확인해주세요.");return}const _={nowpw:i(s),newpw:i(a)};try{const x=`/userdata/${n()}/change-pw`,k=await jt(x,"POST",_);typeof(await k.json()).message=="string"?(alert("암호 변경 완료"),We.set("none")):alert(`오류 발생: ${k.status}`)}catch(x){console.error("오류 발생:",x),alert("오류 발생: "+x)}}ve();var d=Hv(),h=c(yt(d),2),v=u(h),m=c(v,2),p=c(m,2),g=c(p,3),w=c(h,2);D(v,()=>i(s),_=>b(s,_)),D(m,()=>i(a),_=>b(a,_)),D(p,()=>i(o),_=>b(o,_)),Q("click",g,()=>l()),Q("click",w,()=>We.set("myinfo")),I(r,d),Qt()}var Gv=V('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">계정삭제</button></div>',1);function Vv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O("");async function a(){const m={nowpw:i(s)};try{const p=`/auth/${n()}/delete`,g=await jt(p,"DELETE",m);g.status===200?(alert("계정 삭제 완료"),We.set("none"),Je.set(""),oa.set("")):alert(`오류 발생: ${g.status}`)}catch(p){console.error("오류 발생:",p),alert("오류 발생: "+p)}}ve();var o=Gv(),l=yt(o);l.textContent=`${(pe?"밀리PK":"정통바바")??""} 계정 삭제`;var d=c(l,2),h=u(d),v=c(h,2);D(h,()=>i(s),m=>b(s,m)),Q("click",v,()=>a()),I(r,o),Qt()}var Wv=V("<option> </option>"),Jv=V('<h3 class="message-title"> </h3> <div class="message-body"><input list="nicknames_list" class="input-text" placeholder="승자를 선택하세요"> <datalist id="nicknames_list"></datalist> <button class="emphasis-button block">보내기</button></div>',1);function Zv(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Es,"$nicknames",e),a=()=>F(Je,"$myaccount",e);let o=O([]),l=O();Xe(()=>{ni(n()),b(o,n()==="babapk"?s().filter(A=>A!==a()):s().filter(A=>A!==a().replace("_m","").replace("_z","")))});function d(A,T){return T.includes(A)?A:null}function h(A){const q=A.target.value;typeof q=="string"&&b(l,d(q,i(o)))}async function v(){let A;n()==="babapk"?A={winner:i(l),mode:n()}:n()==="mpk"?A={winner:i(l)+"_m",mode:n()}:A={winner:i(l)+"_z",mode:n()};try{const T=await jt("/record/submit","POST",A);T.ok?alert("기록 전송 완료"):alert(`오류 발생: ${T.status}`)}catch(T){console.error("오류 발생:",T),alert("오류 발생: "+T)}}ve();var m=Jv(),p=yt(m),g=u(p),w=c(p,2),_=u(w),x=c(_,2);Yt(x,5,()=>i(o),se,(A,T)=>{var q=Wv(),S={},L=u(q);ot(()=>{S!==(S=i(T))&&(q.value=(q.__value=i(T))==null?"":i(T)),G(L,i(T))}),I(A,q)});var k=c(x,2);ot(()=>G(g,`${n()??""} 기록 보내기`)),D(_,()=>i(l),A=>b(l,A)),Q("blur",_,h),Q("click",k,v),I(r,m),Qt()}var Yv=V('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">로딩 중...</td></tr>'),Xv=V('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">기록이 없습니다</td></tr>'),Qv=V('<tr class="svelte-y61ocg"><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"><button class="simple-button svelte-y61ocg">승인</button> <button class="simple-button svelte-y61ocg">삭제</button></td></tr>'),tm=V('<h3 class="message-title"> </h3> <div class="message-body"><table class="temp-table svelte-y61ocg"><thead><tr><th class="record-table-date">날짜</th><th class="record-table-loser">패자</th><th class="record-table-score">점수</th><th class="record-table-ok">승인</th></tr></thead><tbody><!></tbody></table></div>',1);function em(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O(),a=O(!0);async function o(){const _="/record/pending",x={mode:n()};try{const k=await jt(_,"POST",x);if(!k.ok)throw new Error(`오류 발생: ${k.status}`);b(s,await k.json())}catch(k){console.error("데이터 불러오기 오류:",k),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{b(a,!1)}}async function l(_,x){const k=_==="approve"?"/record/approve":"/record/cancel",A={orderNum:x,mode:n()};try{const T=await jt(k,_==="approve"?"POST":"DELETE",A);if(T.ok)alert(`${_==="approve"?"승인":"삭제"} 완료`),o();else throw new Error(`오류 발생: ${T.status}`)}catch(T){console.error(`${_==="approve"?"승인":"삭제"} 오류:`,T),alert(`오류 발생: ${T}`)}}Xe(async()=>{await o()}),ve();var d=tm(),h=yt(d),v=u(h),m=c(h,2),p=u(m),g=c(u(p)),w=u(g);xt(w,()=>i(a),_=>{var x=Yv();I(_,x)},_=>{var x=Vt(),k=yt(x);xt(k,()=>i(s).length===0,A=>{var T=Xv();I(A,T)},A=>{var T=Vt(),q=yt(T);Yt(q,1,()=>i(s),se,(S,L)=>{var M=Qv(),B=u(M),U=u(B);ot(()=>G(U,new Date(i(L).date).toLocaleDateString()));var z=c(B),y=u(z);ot(()=>G(y,n()?i(L).loser.replace("_m",""):i(L).loser));var N=c(z),$=u(N),C=c(N),j=u(C),P=c(j,2);ot(()=>G($,i(L).lScore)),Q("click",j,()=>l("approve",i(L).orderNum)),Q("click",P,()=>l("delete",i(L).orderNum)),I(S,M)}),I(A,T)},!0),I(_,x)}),ot(()=>G(v,`${(n()?"밀리PK":"정통바바")??""} 기록 승인하기`)),I(r,d),Qt()}var rm=V('<select class="optionwidth input-text svelte-anctt3"><option>1인 1팀</option><option>2인 1팀</option><option>3인 1팀</option><option>4인 1팀</option></select>'),nm=V("<option> </option>"),sm=V("<option> </option>"),am=V("<option> </option>"),im=V("<option> </option>"),om=V("<option> </option>"),lm=V("<option> </option>"),cm=V("<option> </option>"),um=V("<option> </option>"),dm=V("<option> </option>"),fm=V("<option> </option>"),hm=V("<option> </option>"),pm=V("<option> </option>"),vm=V('<h3 class="message-title"> </h3> <div class="message-body svelte-anctt3"><input type="text" class="titlewidth input-text svelte-anctt3" placeholder="대회 이름"> <select class="optionwidth input-text svelte-anctt3"><option>2팀(듀얼)</option><option>3-5팀(4강)</option><option>6-11팀(8강)</option><option>12팀 이상(16강)</option><option>정식전</option></select> <!> <br> 우승 <input list="nicknames1" class="namewidth input-text svelte-anctt3" placeholder="선택하세요"> <datalist id="nicknames1"></datalist> <input list="nicknames2" placeholder="선택하세요"> <datalist id="nicknames2"></datalist> <input list="nicknames3" placeholder="선택하세요"> <datalist id="nicknames3"></datalist> <input list="nicknames4" placeholder="선택하세요"> <datalist id="nicknames4"></datalist> <br> <span>2위</span> <input list="nicknames5" placeholder="선택하세요"> <datalist id="nicknames5"></datalist> <input list="nicknames6" placeholder="선택하세요"> <datalist id="nicknames6"></datalist> <input list="nicknames7" placeholder="선택하세요"> <datalist id="nicknames7"></datalist> <input list="nicknames8" placeholder="선택하세요"> <datalist id="nicknames8"></datalist> <br> <span>3위</span> <input list="nicknames9" placeholder="선택하세요"> <datalist id="nicknames9"></datalist> <input list="nicknames10" placeholder="선택하세요"> <datalist id="nicknames10"></datalist> <input list="nicknames11" placeholder="선택하세요"> <datalist id="nicknames11"></datalist> <input list="nicknames12" placeholder="선택하세요"> <datalist id="nicknames12"></datalist> <br> <button class="emphasis-button">대회 기록 전송</button></div>',1);function mm(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Je,"$myaccount",e),a=()=>F(Es,"$nicknames",e),o=O();Xe(async()=>{ni(n())});let l=O(),d=O(),h=O(),v=O(),m=O(),p=O(),g=O(),w=O(),_=O(),x=O(),k=O(),A=O(),T=O(1),q=O(),S=O();function L(at,ft){return ft.includes(at)?at:""}function M(){i(T)<2&&b(d,b(p,b(x,""))),i(T)<3&&b(h,b(g,b(k,""))),i(T)<4&&b(v,b(w,b(A,""))),i(q)<4&&b(m,b(p,b(g,b(w,"")))),i(q)<8&&b(_,b(x,b(k,b(A,""))));const at=[i(l),i(d),i(h),i(v),i(m),i(p),i(g),i(w),i(_),i(x),i(k),i(A)];return new Set(at.filter(Boolean)).size===at.filter(Boolean).length}async function B(){if(!M()){alert("중복 기록된 선수가 있습니다");return}const at={Championship1:i(l),Championship2:i(d),Championship3:i(h),Championship4:i(v),Runner_up1:i(m),Runner_up2:i(p),Runner_up3:i(g),Runner_up4:i(w),Place3rd1:i(_),Place3rd2:i(x),Place3rd3:i(k),Place3rd4:i(A),eventname:i(S),numberteams:i(q),teamSize:i(T),Eventhost:i(o)};try{(await jt(`/event/${n()}/submit`,"POST",at)).status===201&&alert("대회 기록 전송 완료")}catch(ft){console.error("오류 발생:",ft),alert(`오류 발생: ${ft}`)}}function U(at){b(l,L(at.target.value,a()))}function z(at){b(d,L(at.target.value,a()))}function y(at){b(h,L(at.target.value,a()))}function N(at){b(v,L(at.target.value,a()))}function $(at){b(m,L(at.target.value,a()))}function C(at){b(p,L(at.target.value,a()))}function j(at){b(g,L(at.target.value,a()))}function P(at){b(w,L(at.target.value,a()))}function H(at){b(_,L(at.target.value,a()))}function K(at){b(x,L(at.target.value,a()))}function J(at){b(k,L(at.target.value,a()))}function W(at){b(A,L(at.target.value,a()))}function et(at){b(S,at.target.value)}function lt(at){b(q,at.target.value)}function ct(at){b(T,at.target.value)}zt(()=>(n(),s()),()=>{b(o,n()==="babapk"?s():s().replace("_m","").replace("_z",""))}),tn(),ve();var nt=vm(),Z=yt(nt),Y=u(Z),wt=c(Z,2),rt=u(wt),vt=c(rt,2);ot(()=>{i(q),os(()=>{})});var st=u(vt);st.value=(st.__value="2")==null?"":"2";var ut=c(st);ut.value=(ut.__value="4")==null?"":"4";var dt=c(ut);dt.value=(dt.__value="8")==null?"":"8";var ht=c(dt);ht.value=(ht.__value="16")==null?"":"16";var Et=c(ht);Et.value=(Et.__value="24")==null?"":"24";var At=c(vt,2);xt(At,()=>n()!="zpke",at=>{var ft=rm();ot(()=>{i(T),os(()=>{})});var bt=u(ft);bt.value=(bt.__value="1")==null?"":"1";var Lt=c(bt);Lt.value=(Lt.__value="2")==null?"":"2";var mt=c(Lt);mt.value=(mt.__value="3")==null?"":"3";var Ke=c(mt);Ke.value=(Ke.__value="4")==null?"":"4",ls(ft,()=>i(T),rr=>b(T,rr)),Q("change",ft,ct),I(at,ft)});var Nt=c(At,4),Dt=c(Nt,2);Yt(Dt,5,a,se,(at,ft)=>{var bt=nm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var Mt=c(Dt,2),re=c(Mt,2);Yt(re,5,a,se,(at,ft)=>{var bt=sm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var Ft=c(re,2),te=c(Ft,2);Yt(te,5,a,se,(at,ft)=>{var bt=am(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var ne=c(te,2),fe=c(ne,2);Yt(fe,5,a,se,(at,ft)=>{var bt=im(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var Gt=c(fe,4),Wt=c(Gt,2),he=c(Wt,2);Yt(he,5,a,se,(at,ft)=>{var bt=om(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var Ut=c(he,2),Zt=c(Ut,2);Yt(Zt,5,a,se,(at,ft)=>{var bt=lm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var ae=c(Zt,2),Ht=c(ae,2);Yt(Ht,5,a,se,(at,ft)=>{var bt=cm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var ge=c(Ht,2),$e=c(ge,2);Yt($e,5,a,se,(at,ft)=>{var bt=um(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var qe=c($e,4),_e=c(qe,2),Re=c(_e,2);Yt(Re,5,a,se,(at,ft)=>{var bt=dm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var Ae=c(Re,2),Te=c(Ae,2);Yt(Te,5,a,se,(at,ft)=>{var bt=fm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var ye=c(Te,2),me=c(ye,2);Yt(me,5,a,se,(at,ft)=>{var bt=hm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var xe=c(me,2),Ie=c(xe,2);Yt(Ie,5,a,se,(at,ft)=>{var bt=pm(),Lt={},mt=u(bt);ot(()=>{Lt!==(Lt=i(ft))&&(bt.value=(bt.__value=i(ft))==null?"":i(ft)),G(mt,i(ft))}),I(at,bt)});var be=c(Ie,4);ot(()=>{G(Y,`${n()??""} 토너먼트 기록`),Ve(Mt,`namewidth input-text ${(i(T)<2?"hidden":null)??""} svelte-anctt3`),Ve(Ft,`namewidth input-text ${(i(T)<3?"hidden":null)??""} svelte-anctt3`),Ve(ne,`namewidth input-text ${(i(T)<4?"hidden":null)??""} svelte-anctt3`),Ve(Gt,`${(i(q)<4?"hidden":null)??""} svelte-anctt3`),Ve(Wt,`namewidth input-text ${(i(q)<4?"hidden":null)??""} svelte-anctt3`),Ve(Ut,`namewidth input-text ${(i(q)<4||i(T)<2?"hidden":null)??""} svelte-anctt3`),Ve(ae,`namewidth input-text ${(i(q)<4||i(T)<3?"hidden":null)??""} svelte-anctt3`),Ve(ge,`namewidth input-text ${(i(q)<4||i(T)<4?"hidden":null)??""} svelte-anctt3`),Ve(qe,`${(i(q)<8?"hidden":null)??""} svelte-anctt3`),Ve(_e,`namewidth input-text ${(i(q)<8?"hidden":null)??""} svelte-anctt3`),Ve(Ae,`namewidth input-text ${(i(q)<8||i(T)<2?"hidden":null)??""} svelte-anctt3`),Ve(ye,`namewidth input-text ${(i(q)<8||i(T)<3?"hidden":null)??""} svelte-anctt3`),Ve(xe,`namewidth input-text ${(i(q)<8||i(T)<4?"hidden":null)??""} svelte-anctt3`)}),D(rt,()=>i(S),at=>b(S,at)),Q("change",rt,et),ls(vt,()=>i(q),at=>b(q,at)),Q("change",vt,lt),D(Nt,()=>i(l),at=>b(l,at)),Q("blur",Nt,U),D(Mt,()=>i(d),at=>b(d,at)),Q("blur",Mt,z),D(Ft,()=>i(h),at=>b(h,at)),Q("blur",Ft,y),D(ne,()=>i(v),at=>b(v,at)),Q("blur",ne,N),D(Wt,()=>i(m),at=>b(m,at)),Q("blur",Wt,$),D(Ut,()=>i(p),at=>b(p,at)),Q("blur",Ut,C),D(ae,()=>i(g),at=>b(g,at)),Q("blur",ae,j),D(ge,()=>i(w),at=>b(w,at)),Q("blur",ge,P),D(_e,()=>i(_),at=>b(_,at)),Q("blur",_e,H),D(Ae,()=>i(x),at=>b(x,at)),Q("blur",Ae,K),D(ye,()=>i(k),at=>b(k,at)),Q("blur",ye,J),D(xe,()=>i(A),at=>b(A,at)),Q("blur",xe,W),Q("click",be,()=>B()),I(r,nt),Qt()}var gm=V('<tbody><tr><td colspan="3" class="text-center svelte-yaw264">로딩 중...</td></tr></tbody>'),bm=V('<tbody><tr><td colspan="3" class="text-center svelte-yaw264">기록이 없습니다</td></tr></tbody>'),_m=V('<tr><td> </td><td> </td><td><button class="small simple-button svelte-yaw264">경기</button> <button class="small simple-button svelte-yaw264">기권</button></td></tr>'),ym=V("<tbody></tbody>"),wm=V('<h3 class="message-title">도전 승인하기</h3> <div class="message-body"><table class="svelte-yaw264"><thead><tr><th class="record-table-date svelte-yaw264">날짜</th><th class="record-table-loser svelte-yaw264">도전자</th><th class="record-table-score svelte-yaw264">결과</th></tr></thead><!></table></div>',1);function xm(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=O([]),a=O(!0);async function o(){const p=`/rank/challenge/${n()}/show`;try{const g=await jt(p,"POST");if(!g.ok)throw new Error(`오류 발생: ${g.status}`);b(s,await g.json())}catch(g){console.error("데이터 불러오기 오류:",g.message),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{b(a,!1)}}async function l(p,g){const w=p==="win"?"/record/challenge/win":"/record/challenge/lose",_={challenger:g,mode:n()};try{const x=await jt(w,"POST",_);if(x.ok)alert(p==="win"?"도전을 승인하였습니다, 결과는 대전 기록에서 입력해주세요.":"경기를 포기하여 자동 패배처리합니다"),o();else throw new Error(`오류 발생: ${x.status}`)}catch(x){console.error(`${p==="win"?"승인":"삭제"} 오류:`,x.message),alert(`오류 발생: ${x.message}`)}}Xe(()=>{o()}),ve();var d=wm(),h=c(yt(d),2),v=u(h),m=c(u(v));xt(m,()=>i(a),p=>{var g=gm();I(p,g)},p=>{var g=Vt(),w=yt(g);xt(w,()=>i(s).length===0,_=>{var x=bm();I(_,x)},_=>{var x=ym();Yt(x,5,()=>i(s),se,(k,A)=>{var T=_m(),q=u(T),S=u(q);ot(()=>G(S,new Date(i(A).challengeDate).toLocaleDateString()));var L=c(q),M=u(L);ot(()=>G(M,n()?i(A).nickname.replace("_m",""):i(A).nickname));var B=c(L),U=u(B),z=c(U,2);Q("click",U,()=>l("win",i(A).nickname)),Q("click",z,()=>l("lose",i(A).nickname)),I(k,T)}),I(_,x)},!0),I(p,g)}),I(r,d),Qt()}var Em=V('<div class="message-container"><div class="message-box"><button class="close-button">&times;</button> <!></div></div>');function km(r,t){Xt(t,!1);const e=ce(),n=()=>F(Ka,"$key",e),s=()=>F(We,"$form",e);function a(h){h.key==="Escape"&&o()}Xe(()=>{window.addEventListener("keydown",a)}),Pd(()=>{window.removeEventListener("keydown",a)});function o(){Ka.set(n()+1),We.set("none")}ve();var l=Vt(),d=yt(l);xt(d,()=>s()!=="none",h=>{var v=Em(),m=u(v),p=u(m),g=c(p,2);xt(g,()=>s()==="login",w=>{Av(w,{})},w=>{var _=Vt(),x=yt(_);xt(x,()=>s()==="findaccount",k=>{Nv(k,{})},k=>{var A=Vt(),T=yt(A);xt(T,()=>s()==="register",q=>{Pv(q,{})},q=>{var S=Vt(),L=yt(S);xt(L,()=>s()==="myinfo",M=>{Uv(M,{})},M=>{var B=Vt(),U=yt(B);xt(U,()=>s()==="changeemail",z=>{zv(z,{})},z=>{var y=Vt(),N=yt(y);xt(N,()=>s()==="changepw",$=>{Kv($,{})},$=>{var C=Vt(),j=yt(C);xt(j,()=>s()==="deleteaccount",P=>{Vv(P,{})},P=>{var H=Vt(),K=yt(H);xt(K,()=>s()==="recordcreate",J=>{Zv(J,{})},J=>{var W=Vt(),et=yt(W);xt(et,()=>s()==="recordok",lt=>{em(lt,{})},lt=>{var ct=Vt(),nt=yt(ct);xt(nt,()=>s()==="newevent",Z=>{mm(Z,{})},Z=>{var Y=Vt(),wt=yt(Y);xt(wt,()=>s()==="challenge",rt=>{xm(rt,{})},null,!0),I(Z,Y)},!0),I(lt,ct)},!0),I(J,W)},!0),I(P,H)},!0),I($,C)},!0),I(z,y)},!0),I(M,B)},!0),I(q,S)},!0),I(k,A)},!0),I(w,_)}),Q("click",p,()=>o()),I(h,v)}),I(r,l),Qt()}var $m=V("<p>로딩 중...</p>"),Am=V("<p> </p>"),Tm=V('<img class="ranksize svelte-qu26i8" src="/img/diamond.png" alt="1st">'),Nm=V('<img class="ranksize svelte-qu26i8" src="/img/platinum.png" alt="10%">'),Sm=V('<img class="ranksize svelte-qu26i8" src="/img/gold.png" alt="30%">'),Om=V('<img class="ranksize svelte-qu26i8" src="/img/silver.png" alt="60%">'),Lm=V('<img class="ranksize svelte-qu26i8" src="/img/bronze.png" alt="100%">'),Cm=V('<img class="ranksize svelte-qu26i8" src="/img/zpke-challenger.jpg" alt="Top3">'),qm=V('<img class="ranksize svelte-qu26i8" src="/img/zpke-diamond.jpg" alt="25%">'),Rm=V('<img class="ranksize svelte-qu26i8" src="/img/zpke-gold.jpg" alt="50%">'),Im=V('<img class="ranksize svelte-qu26i8" src="/img/zpke-silver.jpg" alt="75%">'),Dm=V('<img class="ranksize svelte-qu26i8" src="/img/zpke-bronze.jpg" alt="100%">'),jm=V('<button class="simple-button">도전하기</button>'),Pm=V('<tr class="svelte-qu26i8"><td colspan="5" class="detail-row svelte-qu26i8"> <br> <br> <br> <br> <br> <!></td></tr>'),Bm=V('<tr class="svelte-qu26i8"><td class="svelte-qu26i8"><!></td><td class="svelte-qu26i8"> </td><td class="svelte-qu26i8"> </td><td class="svelte-qu26i8"> </td></tr> <!>',1),Mm=V('<table class="rank-table svelte-qu26i8"><thead><tr class="svelte-qu26i8"><th class="svelte-qu26i8">등급</th><th class="svelte-qu26i8">닉네임</th><th class="svelte-qu26i8">승률</th><th class="svelte-qu26i8">점수</th></tr></thead><tbody></tbody></table>'),Um=V('<span class="badge">NEW</span>'),Fm=V('<div class="fixed-button-div"><button class="simple-button">도전승인 <!></button></div>'),zm=V('<div class="table-outline"><!></div> <!>',1);function Hm(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Je,"$myaccount",e);let a=O([]),o=O(!0),l=O(null),d=O(null),h=O([]),v=O(!1);async function m(){let T,q=1,S=1,L="/rank/"+n();try{const M=await fetch(L);if(!M.ok)throw new Error("연결 에러입니다");b(a,await M.json()),i(a).sort((B,U)=>U.TScore-B.TScore),T=i(a).length||1;for(let B=0;B<i(a).length;B++)i(a)[B].wins+i(a)[B].loses!==0?(B>0&&i(a)[B].TScore===i(a)[B-1].TScore?pn(a,i(a)[B].rank=q):(pn(a,i(a)[B].rank=S),q=S),S++):pn(a,i(a)[B].rank=T),s()===i(a)[B].nickname&&b(d,i(a)[B].rank)}catch(M){b(l,M)}finally{b(o,!1)}}async function p(T){const q={nickname:T,mode:n()};try{const S=await jt("/rank/challenge","POST",q);S.status===201?alert(`${T.replace("_m","")}님에게 도전을 신청하였습니다`):S.status===400?alert("당신은 이미 도전 신청을 한 상태입니다"):S.status===403?alert(`${T.replace("_m","")}님은 휴가중으로 도전을 받을 수 없는 상태입니다`):S.status===404&&alert("서버 에러입니다")}catch{alert("서버 오류입니다")}}function g(T){pn(h,i(h)[T]=!i(h)[T]),b(h,[...i(h)])}Xe(()=>{const T=Ka.subscribe(q=>{m(),w()});return()=>{T()}});async function w(){const T=`/rank/challenge/${n()}/show`;if(s())try{const q=await jt(T,"POST");if(!q.ok)throw new Error(`오류 발생: ${q.status}`);(await q.json()).length===0?b(v,!1):b(v,!0)}catch(q){console.error("데이터 불러오기 오류:",q.message)}}ve();var _=zm(),x=yt(_),k=u(x);xt(k,()=>i(o),T=>{var q=$m();I(T,q)},T=>{var q=Vt(),S=yt(q);xt(S,()=>i(l),L=>{var M=Am(),B=u(M);ot(()=>G(B,`Error: ${i(l).message??""}`)),I(L,M)},L=>{var M=Mm(),B=c(u(M));Yt(B,5,()=>i(a),se,(U,z,y)=>{var N=Bm(),$=yt(N),C=u($),j=u(C);xt(j,()=>n()!="zpke",ct=>{var nt=Vt(),Z=yt(nt);xt(Z,()=>i(z).rank===1,Y=>{var wt=Tm();I(Y,wt)},Y=>{var wt=Vt(),rt=yt(wt);xt(rt,()=>i(z).rank/i(a).length<=.1,vt=>{var st=Nm();I(vt,st)},vt=>{var st=Vt(),ut=yt(st);xt(ut,()=>i(z).rank/i(a).length<=.2,dt=>{var ht=Sm();I(dt,ht)},dt=>{var ht=Vt(),Et=yt(ht);xt(Et,()=>i(z).rank/i(a).length<=.6,At=>{var Nt=Om();I(At,Nt)},At=>{var Nt=Lm();I(At,Nt)},!0),I(dt,ht)},!0),I(vt,st)},!0),I(Y,wt)}),I(ct,nt)},ct=>{var nt=Vt(),Z=yt(nt);xt(Z,()=>i(z).rank<=3,Y=>{var wt=Cm();I(Y,wt)},Y=>{var wt=Vt(),rt=yt(wt);xt(rt,()=>i(z).rank/i(a).length<=.25,vt=>{var st=qm();I(vt,st)},vt=>{var st=Vt(),ut=yt(st);xt(ut,()=>i(z).rank/i(a).length<=.5,dt=>{var ht=Rm();I(dt,ht)},dt=>{var ht=Vt(),Et=yt(ht);xt(Et,()=>i(z).rank/i(a).length<=.75,At=>{var Nt=Im();I(At,Nt)},At=>{var Nt=Dm();I(At,Nt)},!0),I(dt,ht)},!0),I(vt,st)},!0),I(Y,wt)}),I(ct,nt)});var P=c(C),H=u(P);ot(()=>G(H,i(z).nickname.replace("_m","").replace("_z","")));var K=c(P),J=u(K);ot(()=>G(J,`${(i(z).wins+i(z).losses>0?(Math.round(1e4*(i(z).wins/(i(z).wins+i(z).losses)))/100).toFixed(2):"0.00")??""}%`));var W=c(K),et=u(W);ot(()=>G(et,(Math.round(i(z).TScore*100)/100).toFixed(2)));var lt=c($,2);xt(lt,()=>i(h)[y],ct=>{var nt=Pm(),Z=u(nt),Y=u(Z);ot(()=>G(Y,`대전점수: ${(Math.round(i(z).BScore*100)/100).toFixed(2)??""}`));var wt=c(Y,2),rt=c(wt,2),vt=c(rt,2);ot(()=>G(vt,` Elo: ${(Math.round(i(z).Elo*100)/100).toFixed(2)??""}`));var st=c(vt,2),ut=c(st,3);xt(ut,()=>Number(i(d))>Number(i(z).rank),dt=>{var ht=jm();Q("click",ht,()=>p(i(z).nickname)),I(dt,ht)}),ot(()=>{G(wt,` 대회점수: ${i(z).LScore??""}`),G(rt,` 순위: ${i(z).rank??""}`),G(st,` ${i(z).wins??""} 승 / ${i(z).losses??""} 패`)}),I(ct,nt)}),Q("click",$,()=>g(y)),I(U,N)}),I(L,M)},!0),I(T,q)});var A=c(x,2);xt(A,()=>s()&&(n()==="mpk"&&s()!="admin_m"||n()==="zpke"&&s()!="admin_z"),T=>{var q=Fm(),S=u(q),L=c(u(S));xt(L,()=>i(v),M=>{var B=Um();I(M,B)}),Q("click",S,()=>We.set("challenge")),I(T,q)}),I(r,_),Qt()}var Km=V("<option> </option>"),Gm=V("<p>로딩 중...</p>"),Vm=V("<p></p>"),Wm=V('<th class="svelte-13ak1b3">관리</th>'),Jm=V('<td class="svelte-13ak1b3"><button class="simple-button small svelte-13ak1b3">삭제</button></td>'),Zm=V('<tr class="svelte-13ak1b3"><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><!></tr>'),Ym=V('<button class="simple-button">처음</button> <button class="simple-button">이전</button>',1),Xm=V("<button> </button>"),Qm=V('<button class="simple-button">다음</button> <button class="simple-button">마지막</button>',1),t1=V('<table class="data-table svelte-13ak1b3"><thead><tr class="svelte-13ak1b3"><th class="svelte-13ak1b3">번호</th><th class="svelte-13ak1b3">승자</th><th class="svelte-13ak1b3">패자</th><th class="svelte-13ak1b3">날짜</th><!></tr></thead><tbody></tbody></table> <div class="pagination"><!> <!> <!></div>',1),e1=V('<span class="badge">NEW</span>'),r1=V('<div class="fixed-button-div"><button class="simple-button">기록하기</button> <button class="simple-button">승인하기 <!></button></div>'),n1=V('<div class="filter svelte-13ak1b3"><input list="nicknames_filter" class="input-text" placeholder="필터 선택"> <datalist id="nicknames_filter"><option>모두 보기</option><!></datalist></div> <div class="table-outline"><!> <!></div>',1);function s1(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Es,"$nicknames",e),a=()=>F(Je,"$myaccount",e),o=O(),l=O();let d=[],h=O(!0),v=null,m=O(1);const p=10;let g=O("All"),w=O([]),_=O([]),x=O(!1);async function k(){const J="/record/data?mode="+n();try{await ni(n());const W=await jt(J,"GET");if(!W.ok)throw new Error("연결 에러입니다");d=await W.json(),b(w,T(d)),q()}catch{alert("서버 오류가 발생하여 자료를 불러올 수 없습니다")}finally{b(h,!1)}}Xe(()=>{const J=Ka.subscribe(()=>{k(),U()});return()=>{J()}});function A(J){b(m,J),q()}function T(J){return i(g)==="All"?J:J.filter(W=>W.winner&&W.loser&&(W.winner.replace("_m","").replace("_z","")===i(g)||W.loser.replace("_m","").replace("_z","")===i(g)))}function q(){const J=(i(m)-1)*p,W=J+p;b(_,i(w).slice(J,W))}function S(J){const W=J.target;b(g,M(W.value,s())||"All"),b(m,1),b(w,T(d)),q()}function L(J,W){const lt=[];let ct=Math.max(J-Math.floor(2.5),1),nt=ct+5-1;nt>W&&(nt=W,ct=Math.max(nt-5+1,1));for(let Z=ct;Z<=nt;Z++)lt.push(Z);return lt}function M(J,W){return W.includes(J)?J:"All"}async function B(J){const W={OrderNum:J,mode:n()};try{const et=await jt("/record/delete","DELETE",W);et.status===200?(alert("삭제 완료하였습니다"),k()):alert(`오류 발생: ${et.status}`)}catch(et){alert(`오류 발생: ${et instanceof Error?et.message:"알 수 없는 오류"}`)}}async function U(){const J="/record/pending",W={mode:n()};if(a())try{const et=await jt(J,"POST",W);if(!et.ok)throw new Error(`오류 발생: ${et.status}`);(await et.json()).length===0?b(x,!1):b(x,!0)}catch(et){console.error("데이터 불러오기 오류:",et)}}zt(()=>i(w),()=>{b(o,Math.ceil(i(w).length/p))}),zt(()=>(i(m),i(o)),()=>{b(l,L(i(m),i(o)))}),tn(),ve();var z=n1(),y=yt(z),N=u(y),$=c(N,2),C=u($);C.value=(C.__value="All")==null?"":"All";var j=c(C);Yt(j,1,()=>s().map(J=>J.replace("_m","")),se,(J,W)=>{var et=Km(),lt={},ct=u(et);ot(()=>{lt!==(lt=i(W))&&(et.value=(et.__value=i(W))==null?"":i(W)),G(ct,i(W))}),I(J,et)});var P=c(y,2),H=u(P);xt(H,()=>i(h),J=>{var W=Gm();I(J,W)},J=>{var W=Vt(),et=yt(W);xt(et,()=>v,lt=>{var ct=Vm();ct.textContent="Error: ",I(lt,ct)},lt=>{var ct=t1(),nt=yt(ct),Z=u(nt),Y=u(Z),wt=c(u(Y),4);xt(wt,()=>a()==="admin_m"||a()==="admin"||a()==="admin_z",ht=>{var Et=Wm();I(ht,Et)});var rt=c(Z);Yt(rt,5,()=>i(_),se,(ht,Et)=>{let At=()=>i(Et).orderNum,Nt=()=>i(Et).winner,Dt=()=>i(Et).loser,Mt=()=>i(Et).date;var re=Zm(),Ft=u(re),te=u(Ft),ne=c(Ft),fe=u(ne);ot(()=>G(fe,Nt().replace("_m","").replace("_z","")));var Gt=c(ne),Wt=u(Gt);ot(()=>G(Wt,Dt().replace("_m","").replace("_z","")));var he=c(Gt),Ut=u(he),Zt=c(he);xt(Zt,()=>a()==="admin_m"||a()==="admin"||a()==="admin_z",ae=>{var Ht=Jm(),ge=u(Ht);Q("click",ge,()=>B(At())),I(ae,Ht)}),ot(()=>{G(te,At()),G(Ut,Mt())}),I(ht,re)});var vt=c(nt,2),st=u(vt);xt(st,()=>i(m)>1,ht=>{var Et=Ym(),At=yt(Et),Nt=c(At,2);Q("click",At,()=>A(1)),Q("click",Nt,()=>A(i(m)-1)),I(ht,Et)});var ut=c(st,2);Yt(ut,1,()=>i(l),se,(ht,Et)=>{var At=Xm(),Nt=u(At);ot(()=>{Ve(At,i(Et)===i(m)?"emphasis-button":"simple-button"),G(Nt,i(Et))}),Q("click",At,()=>A(i(Et))),I(ht,At)});var dt=c(ut,2);xt(dt,()=>i(m)<i(o),ht=>{var Et=Qm(),At=yt(Et),Nt=c(At,2);Q("click",At,()=>A(i(m)+1)),Q("click",Nt,()=>A(i(o))),I(ht,Et)}),I(lt,ct)},!0),I(J,W)});var K=c(H,2);xt(K,()=>a()&&a()!="admin_m"&&a()!="admin"&&a()!="admin_z",J=>{var W=r1(),et=u(W),lt=c(et,2),ct=c(u(lt));xt(ct,()=>i(x),nt=>{var Z=e1();I(nt,Z)}),Q("click",et,()=>We.set("recordcreate")),Q("click",lt,()=>We.set("recordok")),I(J,W)}),D(N,()=>i(g),J=>b(g,J)),Q("blur",N,S),I(r,z),Qt()}var a1=V("<p>로딩 중...</p>"),i1=V("<p> </p>"),o1=V('<button class="simple-button small svelte-t27p2x">승인</button> <button class="simple-button small svelte-t27p2x">삭제</button>',1),l1=V('<button class="simple-button small svelte-t27p2x">삭제</button>'),c1=V('<input type="text" class="memo-input svelte-t27p2x"><button class="simple-button">작성</button>',1),u1=V("<span> </span>"),d1=V('<tr class="svelte-t27p2x"><td colspan="4" class="svelte-t27p2x"><div class="details svelte-t27p2x"><strong>토너먼트 정보</strong><br> <br> <br> <br> <br> 메모: <!></div></td></tr>'),f1=V('<tr class="svelte-t27p2x"><td class="svelte-t27p2x"> </td><td class="svelte-t27p2x"><!></td><td class="svelte-t27p2x"> </td><td class="svelte-t27p2x"><!></td></tr> <!>',1),h1=V('<table class="svelte-t27p2x"><thead><tr class="svelte-t27p2x"><th class="svelte-t27p2x">대회명</th><th class="svelte-t27p2x">규모</th><th class="svelte-t27p2x">우승자</th><th class="svelte-t27p2x">승인</th></tr></thead><tbody></tbody></table>'),p1=V('<div class="fixed-button-div"><button class="simple-button">등록하기</button></div>'),v1=V('<div class="table-container"><!></div> <!>',1);function m1(r,t){Xt(t,!1);const e=ce(),n=()=>F(Je,"$myaccount",e),s=()=>F(pe,"$mode",e);let a=O([]),o=O(!0),l=O(null),d=O([]),h=O();function v(S){if(n()==="admin"||n()==="admin_m"||n()==="admin_z"){for(let L=0;L<i(a).length;L++)pn(a,i(a)[L].modify=!1);b(h,i(a)[S].memo),pn(a,i(a)[S].modify=!0)}}async function m(S){const L={eventname:i(a)[S].eventname,memotext:i(h),mode:s()};if(n()==="admin"||n()==="admin_m"||n()==="admin_z")try{(await jt("/event/memo","PATCH",L)).ok&&(alert("메모 수정 완료하였습니다"),_())}catch(M){alert("오류가 발생하였습니다"+M)}finally{pn(a,i(a)[S].modify=!1)}}async function p(S){try{const L=`/event/${s()}/cancel`,M=await jt(L,"DELETE",i(a)[S]);M&&M.ok&&alert("토너먼트 히스토리를 삭제하고 점수를 초기화하였습니다")}catch(L){alert("에러가 발생하였습니다: "+L)}finally{_()}}async function g(S){try{const L=`/event/${s()}/accept`,M=await jt(L,"POST",i(a)[S]);M&&M.status===201&&alert("토너먼트 히스토리를 승인하였습니다")}catch(L){alert("에러가 발생하였습니다: "+L)}finally{_()}}async function w(S){try{const L=`/event/${s()}/delete`,M={eventname:i(a)[S].eventname},B=await jt(L,"DELETE",M);B&&B.status===200&&alert("토너먼트 히스토리를 삭제하였습니다")}catch(L){alert("에러가 발생하였습니다: "+L)}finally{_()}}async function _(){try{const S=await jt(`/event/${s()}/history`,"GET");if(!S.ok)throw new Error("연결 에러입니다");b(a,await S.json()),b(a,i(a).map(L=>({...L,ok:L.accept===1?"대기":L.accept===2?"승인":L.ok,modify:!1}))),b(d,new Array(i(a).length).fill(!1))}catch(S){b(l,S)}finally{b(o,!1)}}Xe(()=>{const S=Ka.subscribe(()=>{_()});return()=>{S()}});function x(S){b(d,[...i(d)]),pn(d,i(d)[S]=!i(d)[S])}ve();var k=v1(),A=yt(k),T=u(A);xt(T,()=>i(o),S=>{var L=a1();I(S,L)},S=>{var L=Vt(),M=yt(L);xt(M,()=>i(l),B=>{var U=i1(),z=u(U);ot(()=>G(z,`Error: ${i(l)??""}`)),I(B,U)},B=>{var U=h1(),z=c(u(U));Yt(z,5,()=>i(a),se,(y,N,$)=>{var C=f1(),j=yt(C),P=u(j),H=u(P),K=c(P),J=u(K);xt(J,()=>i(N).numberteams===24,Z=>{var Y=vn("정식전");I(Z,Y)},Z=>{var Y=vn();ot(()=>G(Y,`${i(N).numberteams??""}x${i(N).teamSize??""}`)),I(Z,Y)});var W=c(K),et=u(W);ot(()=>G(et,i(N).Championship1.replace("_m","").replace("_z","")));var lt=c(W),ct=u(lt);xt(ct,()=>n()==="admin"||n()==="admin_m"||n()==="admin_z",Z=>{var Y=Vt(),wt=yt(Y);xt(wt,()=>i(N).ok==="대기",rt=>{var vt=o1(),st=yt(vt),ut=c(st,2);Q("click",st,()=>g($)),Q("click",ut,()=>w($)),I(rt,vt)},rt=>{var vt=l1();Q("click",vt,()=>p($)),I(rt,vt)}),I(Z,Y)},Z=>{var Y=vn();ot(()=>G(Y,i(N).ok)),I(Z,Y)});var nt=c(j,2);xt(nt,()=>i(d)[$],Z=>{var Y=d1(),wt=u(Y),rt=u(wt),vt=c(u(rt),2);ot(()=>G(vt,` 주최자: ${i(N).Eventhost.replace("_m","").replace("_z","")??""}`));const st=Ar(()=>(i(N).Championship1?i(N).Championship1.replace("_m","").replace("_z",""):"")??""),ut=Ar(()=>(i(N).Championship2?i(N).Championship2.replace("_m","").replace("_z",""):"")??""),dt=Ar(()=>(i(N).Championship3?i(N).Championship3.replace("_m","").replace("_z",""):"")??""),ht=Ar(()=>(i(N).Championship4?i(N).Championship4.replace("_m","").replace("_z",""):"")??"");var Et=c(vt,2);ot(()=>G(Et,` 우승: ${i(st)}
                    ${i(ut)}
                    ${i(dt)}
                    ${i(ht)}`));const At=Ar(()=>(i(N).Runner_up1?i(N).Runner_up1.replace("_m","").replace("_z",""):"")??""),Nt=Ar(()=>(i(N).Runner_up2?i(N).Runner_up2.replace("_m","").replace("_z",""):"")??""),Dt=Ar(()=>(i(N).Runner_up3?i(N).Runner_up3.replace("_m","").replace("_z",""):"")??""),Mt=Ar(()=>(i(N).Runner_up4?i(N).Runner_up4.replace("_m","").replace("_z",""):"")??"");var re=c(Et,2);ot(()=>G(re,` 준우승: ${i(At)}
                    ${i(Nt)}
                    ${i(Dt)}
                    ${i(Mt)}`));const Ft=Ar(()=>(i(N).Place3rd1?i(N).Place3rd1.replace("_m","").replace("_z",""):"")??""),te=Ar(()=>(i(N).Place3rd2?i(N).Place3rd2.replace("_m","").replace("_z",""):"")??""),ne=Ar(()=>(i(N).Place3rd3?i(N).Place3rd3.replace("_m","").replace("_z",""):"")??""),fe=Ar(()=>(i(N).Place3rd4?i(N).Place3rd4.replace("_m","").replace("_z",""):"")??"");var Gt=c(re,2);ot(()=>G(Gt,` 3위: ${i(Ft)}
                    ${i(te)}
                    ${i(ne)}
                    ${i(fe)}`));var Wt=c(Gt,3);xt(Wt,()=>i(N).modify,he=>{var Ut=c1(),Zt=yt(Ut),ae=c(Zt);D(Zt,()=>i(h),Ht=>b(h,Ht)),Q("keydown",Zt,Ht=>{Ht.key==="Enter"&&m($)}),Q("click",ae,()=>m($)),I(he,Ut)},he=>{var Ut=u1(),Zt=u(Ut);ot(()=>{Ve(Ut,`${(n()==="admin"||n()==="admin_m"?"modify":"")??""} svelte-t27p2x`),G(Zt,typeof i(N).memo=="string"?i(N).memo:"기록하기")}),Q("click",Ut,()=>v($)),I(he,Ut)}),I(Z,Y)}),ot(()=>G(H,i(N).eventname)),Q("click",j,()=>x($)),I(y,C)}),I(B,U)},!0),I(S,L)});var q=c(A,2);xt(q,n,S=>{var L=p1(),M=u(L);Q("click",M,()=>We.set("newevent")),I(S,L)}),I(r,k),Qt()}var g1=V('<div class="fixed-button-div"><!></div>'),b1=V('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m">로딩 중...</td></tr>'),_1=V('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),y1=V('<tr class="svelte-1puu09m"><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"> </td><td class="svelte-1puu09m"> </td></tr>'),w1=V('<button class="simple-button">이전</button>'),x1=V('<button class="simple-button">다음</button>'),E1=V('<!> <select class="input-text svelte-1puu09m"><option>모든 글 보기</option><option>자유 글 보기</option><option>거래 글 보기</option><option>공략 글 보기</option></select> <input class="input-text svelte-1puu09m" type="text"> <button class="simple-button small svelte-1puu09m">검색</button> <table class="svelte-1puu09m"><thead><tr class="svelte-1puu09m"><th class="table-head_board_date svelte-1puu09m">날짜</th><th class="table-head_board_title svelte-1puu09m">제목</th><th class="table-head_board_writter svelte-1puu09m">작성자</th><th class="table-head_board_views svelte-1puu09m">조회수</th></tr></thead><tbody><!></tbody></table> <div class="pagination svelte-1puu09m"><!> <!></div>',1);function k1(r,t){Xt(t,!1);const e=ce(),n=()=>F(Gc,"$category",e),s=()=>F(Kc,"$page",e),a=()=>F(pe,"$mode",e),o=()=>F(Je,"$myaccount",e);let l=O(null),d=O(!0),h=O(null),v=O([]);Xe(()=>{w(n())});function m(C){Kc.set(s()+C),w(n())}const p="/"+a();async function g(C){try{const j=`/board/search?data=${C}&find=${i(l)}`,P=await fetch(j);if(!P.ok)throw new Error("Network response was not ok");const H=await P.json();H.length===0?b(v,[{post_id:"-",date:"-",title:"검색 결과가 없습니다",writter:"-",views:0}]):b(v,H.map(K=>({...K,date:Ba(K.date)}))),b(d,!1)}catch(j){console.error("Error:",j),b(h,j instanceof Error?j.message:String(j))}}async function w(C){try{const j=`/board/list?data=${C}&page=${s()}`,P=await jt(j,"GET");if(!P.ok)throw new Error("Network response was not ok");const H=await P.json();b(v,H.map(K=>({...K,date:Ba(K.date)}))),b(d,!1),b(l,"")}catch(j){console.error("Error:",j),b(h,j instanceof Error?j.message:String(j))}}ve();var _=E1(),x=yt(_);xt(x,o,C=>{var j=g1(),P=u(j);js(P,{to:`${p}/write`,class:"simple-button",children:(H,K)=>{var J=vn("작성하기");I(H,J)},$$slots:{default:!0}}),I(C,j)});var k=c(x,2);ot(()=>{n(),os(()=>{})});var A=u(k);A.value=(A.__value="all")==null?"":"all";var T=c(A);T.value=(T.__value="free")==null?"":"free";var q=c(T);q.value=(q.__value="trade")==null?"":"trade";var S=c(q);S.value=(S.__value="setting")==null?"":"setting";var L=c(k,2),M=c(L,2),B=c(M,2),U=c(u(B)),z=u(U);xt(z,()=>i(d),C=>{var j=b1();I(C,j)},C=>{var j=Vt(),P=yt(j);xt(P,()=>i(h),H=>{var K=_1(),J=u(K),W=u(J);ot(()=>G(W,`Error: ${i(h)??""}`)),I(H,K)},H=>{var K=Vt(),J=yt(K);Yt(J,1,()=>i(v),se,(W,et)=>{let lt=()=>i(et).post_id,ct=()=>i(et).date,nt=()=>i(et).title,Z=()=>i(et).writter,Y=()=>i(et).views;var wt=y1(),rt=u(wt),vt=u(rt);xt(vt,()=>ct()===Ba(String(new Date)),Nt=>{var Dt=vn("new");I(Nt,Dt)},Nt=>{var Dt=vn();ot(()=>G(Dt,ct())),I(Nt,Dt)});var st=c(rt),ut=u(st);js(ut,{get to(){return`${p??""}/post/${lt()??""}`},class:"fontBasic",children:(Nt,Dt)=>{var Mt=vn();ot(()=>G(Mt,nt())),I(Nt,Mt)},$$slots:{default:!0}});var dt=c(st),ht=u(dt),Et=c(dt),At=u(Et);ot(()=>{G(ht,Z()),G(At,Y())}),I(W,wt)}),I(H,K)},!0),I(C,j)});var y=c(B,2),N=u(y);xt(N,()=>s()!=1,C=>{var j=w1();Q("click",j,()=>m(-1)),I(C,j)});var $=c(N,2);xt($,()=>i(v).length===20,C=>{var j=x1();Q("click",j,()=>m(1)),I(C,j)}),ls(k,n,C=>pt(Gc,C)),Q("change",k,()=>w(n())),D(L,()=>i(l),C=>b(l,C)),Q("click",M,()=>g(n())),I(r,_),Qt()}var $1=V('<div class="text-center">Loading...</div>'),A1=V('<div class="text-center"> </div>'),T1=V('<button class="simple-button">수정하기</button>'),N1=V('<button class="simple-button">삭제하기</button>'),S1=V('<button class="simple-button small svelte-8hjirj">삭제</button>'),O1=V('<tr class="svelte-8hjirj"><td class="svelte-8hjirj"> </td><td class="commentContent svelte-8hjirj"> </td><td class="svelte-8hjirj"> </td><td class="svelte-8hjirj"><!></td></tr>'),L1=V('<div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-comment table-contents_cell"><input class="input-text svelte-8hjirj" type="text"> <button class="simple-button small svelte-8hjirj">댓글 작성</button></div></div></div>'),C1=V('<div class="table-outline main_data svelte-8hjirj"><div class="table-head table-title fontBasic svelte-8hjirj"> </div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-info-no-line flex"><div class="table-info-writter table-contents_cell svelte-8hjirj"> </div> <div class="table-info-date table-contents_cell svelte-8hjirj"> </div> <div class="table-info-date table-contents_cell svelte-8hjirj"> </div> <div class="table-info-views table-contents_cell svelte-8hjirj"> </div></div></div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-content fontBasic svelte-8hjirj"><!></div></div></div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-button svelte-8hjirj"><!> <!> <!></div></div></div></div> <table class="comment-table svelte-8hjirj"><thead><tr class="svelte-8hjirj"><th class="svelte-8hjirj">작성자</th><th class="svelte-8hjirj">내용</th><th class="svelte-8hjirj">작성일</th><th class="svelte-8hjirj">관리</th></tr></thead><tbody></tbody></table> <!>',1),q1=V('<div class="margin svelte-8hjirj"></div> <!>',1);function R1(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Je,"$myaccount",e),a=O();let o=O(""),l=O({}),d=O(""),h=O([]),v=O("");const m="/"+n();async function p(S){try{console.log(`Fetching post with ID: ${S}`);const L=await fetch(`/board/post?post_id=${S}`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const M=await L.json();console.log("Fetched data:",M),b(l,{...M}),b(a,!1),console.log("Loading state after fetch:",i(a))}catch(L){console.error(`Error fetching post: ${L}`),b(a,!1),b(d,`네트워크 오류: ${L.message}`)}}async function g(S){try{const L=await fetch(`/board/comments?post_id=${S}`);b(h,await L.json())}catch(L){console.error("댓글 가져오기 오류:",L)}}function w(S){const L=S.match(/\/post\/(\d+)$/);return L?L[1]:null}Xe(()=>{const S=w(window.location.pathname);console.log("Extracted ID:",S),b(o,S??""),i(o)?(p(i(o)),g(i(o))):(b(a,!1),b(d,"잘못된 주소입니다"))});async function _(S){const L={post_id:S,content:i(v),writter:s()};try{(await jt("/board/comment/add","POST",L)).ok&&(alert("댓글을 등록하였습니다"),b(v,""),g(S))}catch(M){console.error("댓글 작성 오류:",M)}}async function x(S,L){const M={comment_id:L};try{(await jt("/board/comment/delete","DELETE",M)).ok&&(alert("댓글을 삭제하였습니다"),g(S))}catch(B){console.error("댓글 삭제 오류:",B)}}function k(){pt(gl,i(o)),Ha(`${m}/write`)}async function A(S){const L={post_id:S};try{(await jt("/board/delete","DELETE",L)).ok&&(alert("글을 삭제하였습니다"),Ha(`${m}/boardlist`))}catch(M){console.error("글 삭제 오류:",M)}}zt(()=>{},()=>{b(a,!0)}),tn(),ve();var T=q1(),q=c(yt(T),2);xt(q,()=>i(a),S=>{var L=$1();I(S,L)},S=>{var L=Vt(),M=yt(L);xt(M,()=>i(d),B=>{var U=A1(),z=u(U);ot(()=>G(z,`Error: ${i(d)??""}`)),I(B,U)},B=>{var U=C1(),z=yt(U),y=u(z),N=u(y),$=c(y,2),C=u($),j=u(C),P=u(j),H=c(j,2),K=u(H);ot(()=>G(K,`작성일 : ${(Ba(i(l).createdAt)||"")??""}`));var J=c(H,2),W=u(J);ot(()=>G(W,`수정일 : ${(Ba(i(l).updatedAt)||"")??""}`));var et=c(J,2),lt=u(et),ct=c($,2),nt=u(ct),Z=u(nt),Y=u(Z);hl(Y,()=>i(l).content);var wt=c(ct,2),rt=u(wt),vt=u(rt),st=u(vt);xt(st,()=>i(l).nickname===s(),Nt=>{var Dt=T1();Q("click",Dt,k),I(Nt,Dt)});var ut=c(st,2);xt(ut,()=>s()==="admin"||s()==="admin_m"||i(l).writter===Je,Nt=>{var Dt=N1();Q("click",Dt,()=>A(i(o))),I(Nt,Dt)});var dt=c(ut,2);js(dt,{class:"simple-button",to:`${m}/boardlist`,children:(Nt,Dt)=>{var Mt=vn("목록보기");I(Nt,Mt)},$$slots:{default:!0}});var ht=c(z,2),Et=c(u(ht));Yt(Et,5,()=>i(h),se,(Nt,Dt)=>{let Mt=()=>i(Dt).nickname,re=()=>i(Dt).content,Ft=()=>i(Dt).createdAt,te=()=>i(Dt).commentId;var ne=O1(),fe=u(ne),Gt=u(fe),Wt=c(fe),he=u(Wt),Ut=c(Wt),Zt=u(Ut);ot(()=>G(Zt,Ba(Ft())));var ae=c(Ut),Ht=u(ae);xt(Ht,()=>Mt()===s()||s()==="admin"||s()==="admin_m",ge=>{var $e=S1();Q("click",$e,()=>x(i(o),te())),I(ge,$e)}),ot(()=>{G(Gt,Mt()),G(he,re())}),I(Nt,ne)});var At=c(ht,2);xt(At,s,Nt=>{var Dt=L1(),Mt=u(Dt),re=u(Mt),Ft=u(re),te=c(Ft,2);D(Ft,()=>i(v),ne=>b(v,ne)),Q("click",te,()=>_(i(o))),I(Nt,Dt)}),ot(()=>{G(N,i(l).title||""),G(P,i(l).nickname||""),G(lt,`조회수 : ${(i(l).views||"")??""}`)}),I(B,U)},!0),I(S,L)}),I(r,T),Qt()}var zd=typeof global=="object"&&global&&global.Object===Object&&global,I1=typeof self=="object"&&self&&self.Object===Object&&self,vs=zd||I1||Function("return this")(),Gs=vs.Symbol,Hd=Object.prototype,D1=Hd.hasOwnProperty,j1=Hd.toString,ii=Gs?Gs.toStringTag:void 0;function P1(r){var t=D1.call(r,ii),e=r[ii];try{r[ii]=void 0;var n=!0}catch{}var s=j1.call(r);return n&&(t?r[ii]=e:delete r[ii]),s}var B1=Object.prototype,M1=B1.toString;function U1(r){return M1.call(r)}var F1="[object Null]",z1="[object Undefined]",Vc=Gs?Gs.toStringTag:void 0;function si(r){return r==null?r===void 0?z1:F1:Vc&&Vc in Object(r)?P1(r):U1(r)}function ks(r){return r!=null&&typeof r=="object"}var la=Array.isArray;function Ws(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function Kd(r){return r}var H1="[object AsyncFunction]",K1="[object Function]",G1="[object GeneratorFunction]",V1="[object Proxy]";function Yl(r){if(!Ws(r))return!1;var t=si(r);return t==K1||t==G1||t==H1||t==V1}var Vo=vs["__core-js_shared__"],Wc=function(){var r=/[^.]+$/.exec(Vo&&Vo.keys&&Vo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function W1(r){return!!Wc&&Wc in r}var J1=Function.prototype,Z1=J1.toString;function ha(r){if(r!=null){try{return Z1.call(r)}catch{}try{return r+""}catch{}}return""}var Y1=/[\\^$.*+?()[\]{}|]/g,X1=/^\[object .+?Constructor\]$/,Q1=Function.prototype,tg=Object.prototype,eg=Q1.toString,rg=tg.hasOwnProperty,ng=RegExp("^"+eg.call(rg).replace(Y1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sg(r){if(!Ws(r)||W1(r))return!1;var t=Yl(r)?ng:X1;return t.test(ha(r))}function ag(r,t){return r==null?void 0:r[t]}function pa(r,t){var e=ag(r,t);return sg(e)?e:void 0}var bl=pa(vs,"WeakMap"),Jc=Object.create,ig=function(){function r(){}return function(t){if(!Ws(t))return{};if(Jc)return Jc(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function og(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function Gd(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var lg=800,cg=16,ug=Date.now;function dg(r){var t=0,e=0;return function(){var n=ug(),s=cg-(n-e);if(e=n,s>0){if(++t>=lg)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function fg(r){return function(){return r}}var _o=function(){try{var r=pa(Object,"defineProperty");return r({},"",{}),r}catch{}}(),hg=_o?function(r,t){return _o(r,"toString",{configurable:!0,enumerable:!1,value:fg(t),writable:!0})}:Kd,pg=dg(hg);function vg(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var mg=9007199254740991,gg=/^(?:0|[1-9]\d*)$/;function Vd(r,t){var e=typeof r;return t=t??mg,!!t&&(e=="number"||e!="symbol"&&gg.test(r))&&r>-1&&r%1==0&&r<t}function Xl(r,t,e){t=="__proto__"&&_o?_o(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function ji(r,t){return r===t||r!==r&&t!==t}var bg=Object.prototype,_g=bg.hasOwnProperty;function Wd(r,t,e){var n=r[t];(!(_g.call(r,t)&&ji(n,e))||e===void 0&&!(t in r))&&Xl(r,t,e)}function Pi(r,t,e,n){var s=!e;e||(e={});for(var a=-1,o=t.length;++a<o;){var l=t[a],d=void 0;d===void 0&&(d=r[l]),s?Xl(e,l,d):Wd(e,l,d)}return e}var Zc=Math.max;function yg(r,t,e){return t=Zc(t===void 0?r.length-1:t,0),function(){for(var n=arguments,s=-1,a=Zc(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=e(o),og(r,this,l)}}function wg(r,t){return pg(yg(r,t,Kd),r+"")}var xg=9007199254740991;function Jd(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=xg}function Oo(r){return r!=null&&Jd(r.length)&&!Yl(r)}function Eg(r,t,e){if(!Ws(e))return!1;var n=typeof t;return(n=="number"?Oo(e)&&Vd(t,e.length):n=="string"&&t in e)?ji(e[t],r):!1}function kg(r){return wg(function(t,e){var n=-1,s=e.length,a=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(s--,a):void 0,o&&Eg(e[0],e[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++n<s;){var l=e[n];l&&r(t,l,n,a)}return t})}var $g=Object.prototype;function Ql(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||$g;return r===e}function Ag(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var Tg="[object Arguments]";function Yc(r){return ks(r)&&si(r)==Tg}var Zd=Object.prototype,Ng=Zd.hasOwnProperty,Sg=Zd.propertyIsEnumerable,_l=Yc(function(){return arguments}())?Yc:function(r){return ks(r)&&Ng.call(r,"callee")&&!Sg.call(r,"callee")};function Og(){return!1}var Yd=typeof mn=="object"&&mn&&!mn.nodeType&&mn,Xc=Yd&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,Lg=Xc&&Xc.exports===Yd,Qc=Lg?vs.Buffer:void 0,Cg=Qc?Qc.isBuffer:void 0,Ei=Cg||Og,qg="[object Arguments]",Rg="[object Array]",Ig="[object Boolean]",Dg="[object Date]",jg="[object Error]",Pg="[object Function]",Bg="[object Map]",Mg="[object Number]",Ug="[object Object]",Fg="[object RegExp]",zg="[object Set]",Hg="[object String]",Kg="[object WeakMap]",Gg="[object ArrayBuffer]",Vg="[object DataView]",Wg="[object Float32Array]",Jg="[object Float64Array]",Zg="[object Int8Array]",Yg="[object Int16Array]",Xg="[object Int32Array]",Qg="[object Uint8Array]",tb="[object Uint8ClampedArray]",eb="[object Uint16Array]",rb="[object Uint32Array]",Be={};Be[Wg]=Be[Jg]=Be[Zg]=Be[Yg]=Be[Xg]=Be[Qg]=Be[tb]=Be[eb]=Be[rb]=!0;Be[qg]=Be[Rg]=Be[Gg]=Be[Ig]=Be[Vg]=Be[Dg]=Be[jg]=Be[Pg]=Be[Bg]=Be[Mg]=Be[Ug]=Be[Fg]=Be[zg]=Be[Hg]=Be[Kg]=!1;function nb(r){return ks(r)&&Jd(r.length)&&!!Be[si(r)]}function tc(r){return function(t){return r(t)}}var Xd=typeof mn=="object"&&mn&&!mn.nodeType&&mn,hi=Xd&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,sb=hi&&hi.exports===Xd,Wo=sb&&zd.process,Ga=function(){try{var r=hi&&hi.require&&hi.require("util").types;return r||Wo&&Wo.binding&&Wo.binding("util")}catch{}}(),tu=Ga&&Ga.isTypedArray,ec=tu?tc(tu):nb,ab=Object.prototype,ib=ab.hasOwnProperty;function Qd(r,t){var e=la(r),n=!e&&_l(r),s=!e&&!n&&Ei(r),a=!e&&!n&&!s&&ec(r),o=e||n||s||a,l=o?Ag(r.length,String):[],d=l.length;for(var h in r)(t||ib.call(r,h))&&!(o&&(h=="length"||s&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Vd(h,d)))&&l.push(h);return l}function tf(r,t){return function(e){return r(t(e))}}var ob=tf(Object.keys,Object),lb=Object.prototype,cb=lb.hasOwnProperty;function ub(r){if(!Ql(r))return ob(r);var t=[];for(var e in Object(r))cb.call(r,e)&&e!="constructor"&&t.push(e);return t}function rc(r){return Oo(r)?Qd(r):ub(r)}function db(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var fb=Object.prototype,hb=fb.hasOwnProperty;function pb(r){if(!Ws(r))return db(r);var t=Ql(r),e=[];for(var n in r)n=="constructor"&&(t||!hb.call(r,n))||e.push(n);return e}function Bi(r){return Oo(r)?Qd(r,!0):pb(r)}var ki=pa(Object,"create");function vb(){this.__data__=ki?ki(null):{},this.size=0}function mb(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var gb="__lodash_hash_undefined__",bb=Object.prototype,_b=bb.hasOwnProperty;function yb(r){var t=this.__data__;if(ki){var e=t[r];return e===gb?void 0:e}return _b.call(t,r)?t[r]:void 0}var wb=Object.prototype,xb=wb.hasOwnProperty;function Eb(r){var t=this.__data__;return ki?t[r]!==void 0:xb.call(t,r)}var kb="__lodash_hash_undefined__";function $b(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=ki&&t===void 0?kb:t,this}function ca(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ca.prototype.clear=vb;ca.prototype.delete=mb;ca.prototype.get=yb;ca.prototype.has=Eb;ca.prototype.set=$b;function Ab(){this.__data__=[],this.size=0}function Lo(r,t){for(var e=r.length;e--;)if(ji(r[e][0],t))return e;return-1}var Tb=Array.prototype,Nb=Tb.splice;function Sb(r){var t=this.__data__,e=Lo(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():Nb.call(t,e,1),--this.size,!0}function Ob(r){var t=this.__data__,e=Lo(t,r);return e<0?void 0:t[e][1]}function Lb(r){return Lo(this.__data__,r)>-1}function Cb(r,t){var e=this.__data__,n=Lo(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function Ts(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Ts.prototype.clear=Ab;Ts.prototype.delete=Sb;Ts.prototype.get=Ob;Ts.prototype.has=Lb;Ts.prototype.set=Cb;var $i=pa(vs,"Map");function qb(){this.size=0,this.__data__={hash:new ca,map:new($i||Ts),string:new ca}}function Rb(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function Co(r,t){var e=r.__data__;return Rb(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Ib(r){var t=Co(this,r).delete(r);return this.size-=t?1:0,t}function Db(r){return Co(this,r).get(r)}function jb(r){return Co(this,r).has(r)}function Pb(r,t){var e=Co(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function va(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}va.prototype.clear=qb;va.prototype.delete=Ib;va.prototype.get=Db;va.prototype.has=jb;va.prototype.set=Pb;function ef(r,t){for(var e=-1,n=t.length,s=r.length;++e<n;)r[s+e]=t[e];return r}var nc=tf(Object.getPrototypeOf,Object),Bb="[object Object]",Mb=Function.prototype,Ub=Object.prototype,rf=Mb.toString,Fb=Ub.hasOwnProperty,zb=rf.call(Object);function Hb(r){if(!ks(r)||si(r)!=Bb)return!1;var t=nc(r);if(t===null)return!0;var e=Fb.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&rf.call(e)==zb}function Kb(){this.__data__=new Ts,this.size=0}function Gb(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function Vb(r){return this.__data__.get(r)}function Wb(r){return this.__data__.has(r)}var Jb=200;function Zb(r,t){var e=this.__data__;if(e instanceof Ts){var n=e.__data__;if(!$i||n.length<Jb-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new va(n)}return e.set(r,t),this.size=e.size,this}function ds(r){var t=this.__data__=new Ts(r);this.size=t.size}ds.prototype.clear=Kb;ds.prototype.delete=Gb;ds.prototype.get=Vb;ds.prototype.has=Wb;ds.prototype.set=Zb;function Yb(r,t){return r&&Pi(t,rc(t),r)}function Xb(r,t){return r&&Pi(t,Bi(t),r)}var nf=typeof mn=="object"&&mn&&!mn.nodeType&&mn,eu=nf&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,Qb=eu&&eu.exports===nf,ru=Qb?vs.Buffer:void 0,nu=ru?ru.allocUnsafe:void 0;function sf(r,t){if(t)return r.slice();var e=r.length,n=nu?nu(e):new r.constructor(e);return r.copy(n),n}function t_(r,t){for(var e=-1,n=r==null?0:r.length,s=0,a=[];++e<n;){var o=r[e];t(o,e,r)&&(a[s++]=o)}return a}function af(){return[]}var e_=Object.prototype,r_=e_.propertyIsEnumerable,su=Object.getOwnPropertySymbols,sc=su?function(r){return r==null?[]:(r=Object(r),t_(su(r),function(t){return r_.call(r,t)}))}:af;function n_(r,t){return Pi(r,sc(r),t)}var s_=Object.getOwnPropertySymbols,of=s_?function(r){for(var t=[];r;)ef(t,sc(r)),r=nc(r);return t}:af;function a_(r,t){return Pi(r,of(r),t)}function lf(r,t,e){var n=t(r);return la(r)?n:ef(n,e(r))}function yl(r){return lf(r,rc,sc)}function i_(r){return lf(r,Bi,of)}var wl=pa(vs,"DataView"),xl=pa(vs,"Promise"),El=pa(vs,"Set"),au="[object Map]",o_="[object Object]",iu="[object Promise]",ou="[object Set]",lu="[object WeakMap]",cu="[object DataView]",l_=ha(wl),c_=ha($i),u_=ha(xl),d_=ha(El),f_=ha(bl),Mn=si;(wl&&Mn(new wl(new ArrayBuffer(1)))!=cu||$i&&Mn(new $i)!=au||xl&&Mn(xl.resolve())!=iu||El&&Mn(new El)!=ou||bl&&Mn(new bl)!=lu)&&(Mn=function(r){var t=si(r),e=t==o_?r.constructor:void 0,n=e?ha(e):"";if(n)switch(n){case l_:return cu;case c_:return au;case u_:return iu;case d_:return ou;case f_:return lu}return t});var h_=Object.prototype,p_=h_.hasOwnProperty;function v_(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&p_.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var yo=vs.Uint8Array;function ac(r){var t=new r.constructor(r.byteLength);return new yo(t).set(new yo(r)),t}function m_(r,t){var e=t?ac(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var g_=/\w*$/;function b_(r){var t=new r.constructor(r.source,g_.exec(r));return t.lastIndex=r.lastIndex,t}var uu=Gs?Gs.prototype:void 0,du=uu?uu.valueOf:void 0;function __(r){return du?Object(du.call(r)):{}}function cf(r,t){var e=t?ac(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var y_="[object Boolean]",w_="[object Date]",x_="[object Map]",E_="[object Number]",k_="[object RegExp]",$_="[object Set]",A_="[object String]",T_="[object Symbol]",N_="[object ArrayBuffer]",S_="[object DataView]",O_="[object Float32Array]",L_="[object Float64Array]",C_="[object Int8Array]",q_="[object Int16Array]",R_="[object Int32Array]",I_="[object Uint8Array]",D_="[object Uint8ClampedArray]",j_="[object Uint16Array]",P_="[object Uint32Array]";function B_(r,t,e){var n=r.constructor;switch(t){case N_:return ac(r);case y_:case w_:return new n(+r);case S_:return m_(r,e);case O_:case L_:case C_:case q_:case R_:case I_:case D_:case j_:case P_:return cf(r,e);case x_:return new n;case E_:case A_:return new n(r);case k_:return b_(r);case $_:return new n;case T_:return __(r)}}function uf(r){return typeof r.constructor=="function"&&!Ql(r)?ig(nc(r)):{}}var M_="[object Map]";function U_(r){return ks(r)&&Mn(r)==M_}var fu=Ga&&Ga.isMap,F_=fu?tc(fu):U_,z_="[object Set]";function H_(r){return ks(r)&&Mn(r)==z_}var hu=Ga&&Ga.isSet,K_=hu?tc(hu):H_,G_=1,V_=2,W_=4,df="[object Arguments]",J_="[object Array]",Z_="[object Boolean]",Y_="[object Date]",X_="[object Error]",ff="[object Function]",Q_="[object GeneratorFunction]",ty="[object Map]",ey="[object Number]",hf="[object Object]",ry="[object RegExp]",ny="[object Set]",sy="[object String]",ay="[object Symbol]",iy="[object WeakMap]",oy="[object ArrayBuffer]",ly="[object DataView]",cy="[object Float32Array]",uy="[object Float64Array]",dy="[object Int8Array]",fy="[object Int16Array]",hy="[object Int32Array]",py="[object Uint8Array]",vy="[object Uint8ClampedArray]",my="[object Uint16Array]",gy="[object Uint32Array]",De={};De[df]=De[J_]=De[oy]=De[ly]=De[Z_]=De[Y_]=De[cy]=De[uy]=De[dy]=De[fy]=De[hy]=De[ty]=De[ey]=De[hf]=De[ry]=De[ny]=De[sy]=De[ay]=De[py]=De[vy]=De[my]=De[gy]=!0;De[X_]=De[ff]=De[iy]=!1;function oo(r,t,e,n,s,a){var o,l=t&G_,d=t&V_,h=t&W_;if(o!==void 0)return o;if(!Ws(r))return r;var v=la(r);if(v){if(o=v_(r),!l)return Gd(r,o)}else{var m=Mn(r),p=m==ff||m==Q_;if(Ei(r))return sf(r,l);if(m==hf||m==df||p&&!s){if(o=d||p?{}:uf(r),!l)return d?a_(r,Xb(o,r)):n_(r,Yb(o,r))}else{if(!De[m])return s?r:{};o=B_(r,m,l)}}a||(a=new ds);var g=a.get(r);if(g)return g;a.set(r,o),K_(r)?r.forEach(function(x){o.add(oo(x,t,e,x,r,a))}):F_(r)&&r.forEach(function(x,k){o.set(k,oo(x,t,e,k,r,a))});var w=h?d?i_:yl:d?Bi:rc,_=v?void 0:w(r);return vg(_||r,function(x,k){_&&(k=x,x=r[k]),Wd(o,k,oo(x,t,e,k,r,a))}),o}var by=1,_y=4;function Ma(r){return oo(r,by|_y)}var yy="__lodash_hash_undefined__";function wy(r){return this.__data__.set(r,yy),this}function xy(r){return this.__data__.has(r)}function wo(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new va;++t<e;)this.add(r[t])}wo.prototype.add=wo.prototype.push=wy;wo.prototype.has=xy;function Ey(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function ky(r,t){return r.has(t)}var $y=1,Ay=2;function pf(r,t,e,n,s,a){var o=e&$y,l=r.length,d=t.length;if(l!=d&&!(o&&d>l))return!1;var h=a.get(r),v=a.get(t);if(h&&v)return h==t&&v==r;var m=-1,p=!0,g=e&Ay?new wo:void 0;for(a.set(r,t),a.set(t,r);++m<l;){var w=r[m],_=t[m];if(n)var x=o?n(_,w,m,t,r,a):n(w,_,m,r,t,a);if(x!==void 0){if(x)continue;p=!1;break}if(g){if(!Ey(t,function(k,A){if(!ky(g,A)&&(w===k||s(w,k,e,n,a)))return g.push(A)})){p=!1;break}}else if(!(w===_||s(w,_,e,n,a))){p=!1;break}}return a.delete(r),a.delete(t),p}function Ty(r){var t=-1,e=Array(r.size);return r.forEach(function(n,s){e[++t]=[s,n]}),e}function Ny(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var Sy=1,Oy=2,Ly="[object Boolean]",Cy="[object Date]",qy="[object Error]",Ry="[object Map]",Iy="[object Number]",Dy="[object RegExp]",jy="[object Set]",Py="[object String]",By="[object Symbol]",My="[object ArrayBuffer]",Uy="[object DataView]",pu=Gs?Gs.prototype:void 0,Jo=pu?pu.valueOf:void 0;function Fy(r,t,e,n,s,a,o){switch(e){case Uy:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case My:return!(r.byteLength!=t.byteLength||!a(new yo(r),new yo(t)));case Ly:case Cy:case Iy:return ji(+r,+t);case qy:return r.name==t.name&&r.message==t.message;case Dy:case Py:return r==t+"";case Ry:var l=Ty;case jy:var d=n&Sy;if(l||(l=Ny),r.size!=t.size&&!d)return!1;var h=o.get(r);if(h)return h==t;n|=Oy,o.set(r,t);var v=pf(l(r),l(t),n,s,a,o);return o.delete(r),v;case By:if(Jo)return Jo.call(r)==Jo.call(t)}return!1}var zy=1,Hy=Object.prototype,Ky=Hy.hasOwnProperty;function Gy(r,t,e,n,s,a){var o=e&zy,l=yl(r),d=l.length,h=yl(t),v=h.length;if(d!=v&&!o)return!1;for(var m=d;m--;){var p=l[m];if(!(o?p in t:Ky.call(t,p)))return!1}var g=a.get(r),w=a.get(t);if(g&&w)return g==t&&w==r;var _=!0;a.set(r,t),a.set(t,r);for(var x=o;++m<d;){p=l[m];var k=r[p],A=t[p];if(n)var T=o?n(A,k,p,t,r,a):n(k,A,p,r,t,a);if(!(T===void 0?k===A||s(k,A,e,n,a):T)){_=!1;break}x||(x=p=="constructor")}if(_&&!x){var q=r.constructor,S=t.constructor;q!=S&&"constructor"in r&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof S=="function"&&S instanceof S)&&(_=!1)}return a.delete(r),a.delete(t),_}var Vy=1,vu="[object Arguments]",mu="[object Array]",Ji="[object Object]",Wy=Object.prototype,gu=Wy.hasOwnProperty;function Jy(r,t,e,n,s,a){var o=la(r),l=la(t),d=o?mu:Mn(r),h=l?mu:Mn(t);d=d==vu?Ji:d,h=h==vu?Ji:h;var v=d==Ji,m=h==Ji,p=d==h;if(p&&Ei(r)){if(!Ei(t))return!1;o=!0,v=!1}if(p&&!v)return a||(a=new ds),o||ec(r)?pf(r,t,e,n,s,a):Fy(r,t,d,e,n,s,a);if(!(e&Vy)){var g=v&&gu.call(r,"__wrapped__"),w=m&&gu.call(t,"__wrapped__");if(g||w){var _=g?r.value():r,x=w?t.value():t;return a||(a=new ds),s(_,x,e,n,a)}}return p?(a||(a=new ds),Gy(r,t,e,n,s,a)):!1}function vf(r,t,e,n,s){return r===t?!0:r==null||t==null||!ks(r)&&!ks(t)?r!==r&&t!==t:Jy(r,t,e,n,vf,s)}function Zy(r){return function(t,e,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var d=o[++s];if(e(a[d],d,a)===!1)break}return t}}var Yy=Zy();function kl(r,t,e){(e!==void 0&&!ji(r[t],e)||e===void 0&&!(t in r))&&Xl(r,t,e)}function Xy(r){return ks(r)&&Oo(r)}function $l(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function Qy(r){return Pi(r,Bi(r))}function t0(r,t,e,n,s,a,o){var l=$l(r,e),d=$l(t,e),h=o.get(d);if(h){kl(r,e,h);return}var v=a?a(l,d,e+"",r,t,o):void 0,m=v===void 0;if(m){var p=la(d),g=!p&&Ei(d),w=!p&&!g&&ec(d);v=d,p||g||w?la(l)?v=l:Xy(l)?v=Gd(l):g?(m=!1,v=sf(d,!0)):w?(m=!1,v=cf(d,!0)):v=[]:Hb(d)||_l(d)?(v=l,_l(l)?v=Qy(l):(!Ws(l)||Yl(l))&&(v=uf(d))):m=!1}m&&(o.set(d,v),s(v,d,n,a,o),o.delete(d)),kl(r,e,v)}function mf(r,t,e,n,s){r!==t&&Yy(t,function(a,o){if(s||(s=new ds),Ws(a))t0(r,t,o,e,mf,n,s);else{var l=n?n($l(r,o),a,o+"",r,t,s):void 0;l===void 0&&(l=a),kl(r,o,l)}},Bi)}function ic(r,t){return vf(r,t)}var Hs=kg(function(r,t,e){mf(r,t,e)}),qt=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(qt||{});class hs{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const s=qt.TYPE&qt.ATTRIBUTE;this.scope=n.scope!=null?n.scope&qt.LEVEL|s:qt.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Ua extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const gf=class Al{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const s=this.query(e);if(s==null)throw new Ua(`Unable to create ${e} blot`);const a=s,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(n),l=new a(t,o,n);return Al.blots.set(l.domNode,l),l}find(t,e=!1){return Al.find(t,e)}query(t,e=qt.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&qt.LEVEL&qt.BLOCK?n=this.types.block:t&qt.LEVEL&qt.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&qt.LEVEL&n.scope&&e&qt.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,s="attrName"in e;if(!n&&!s)throw new Ua("Invalid definition");if(n&&e.blotName==="abstract")throw new Ua("Cannot register abstract class");const a=n?e.blotName:s?e.attrName:void 0;return this.types[a]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};gf.blots=new WeakMap;let Va=gf;function bu(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class e0 extends hs{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){bu(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(bu(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const Wn=e0;function Zo(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class r0 extends hs{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Zo(this.keyName)]=e,!0):!1}remove(t){t.style[Zo(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Zo(this.keyName)];return this.canAdd(t,e)?e:""}}const Js=r0;class n0{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Va.find(this.domNode);if(t==null)return;const e=hs.keys(this.domNode),n=Wn.keys(this.domNode),s=Js.keys(this.domNode);e.concat(n).concat(s).forEach(a=>{const o=t.scroll.query(a,qt.ATTRIBUTE);o instanceof hs&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const qo=n0,bf=class{constructor(t,e){this.scroll=t,this.domNode=e,Va.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Ua("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Va.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,s){const a=this.isolate(t,e);if(this.scroll.query(n,qt.BLOT)!=null&&s)a.wrap(n,s);else if(this.scroll.query(n,qt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);a.wrap(o),o.format(n,s)}}insertAt(t,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),a=this.split(t);this.parent.insertBefore(s,a||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Ua(`Cannot wrap ${t}`);return n.appendChild(this),n}};bf.blotName="abstract";let _f=bf;const yf=class extends _f{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};yf.scope=qt.INLINE_BLOT;let s0=yf;const Nr=s0;class a0{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),s=0;for(;n;){if(n===t)return s;s+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let s=n();for(;s;){const a=s.length();if(t<a||e&&t===a&&(s.next==null||s.next.length()!==0))return[s,t];t-=a,s=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[s,a]=this.find(t);let o=t-a;const l=this.iterator(s);let d=l();for(;d&&o<t+e;){const h=d.length();t>o?n(d,t-o,Math.min(e,o+h-t)):n(d,0,Math.min(h,t+e-o)),o+=h,d=l()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let s=n();for(;s;)e=t(e,s),s=n();return e}}function _u(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(qt.INLINE);return Array.from(r.childNodes).forEach(s=>{n.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const wf=class qs extends _f{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,qs.uiClass&&this.uiNode.classList.add(qs.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new a0,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=_u(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Ua)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,s,a)=>{n.deleteAt(s,a)})}descendant(t,e=0){const[n,s]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof qs?n.descendant(t,s):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let s=[],a=n;return this.children.forEachAt(e,n,(o,l,d)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof qs&&(s=s.concat(o.descendants(t,l,a))),a-=d}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===qt.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof qs?e.unwrap():e.remove())})}formatAt(t,e,n,s){this.children.forEachAt(t,e,(a,o,l)=>{a.formatAt(o,l,n,s)})}insertAt(t,e,n){const[s,a]=this.children.find(t);if(s)s.insertAt(a,e,n);else{const o=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,s]=this.children.find(t,e),a=[[this,t]];return n instanceof qs?a.concat(n.path(s,e)):(n!=null&&a.push([n,s]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof qs&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,a,o)=>{const l=s.split(a,e);l!=null&&n.appendChild(l)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],s=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(n.push(...a.addedNodes),s.push(...a.removedNodes))}),s.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(a);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,o)=>a===o?0:a.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let o=null;a.nextSibling!=null&&(o=this.scroll.find(a.nextSibling));const l=_u(a,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};wf.uiClass="";let i0=wf;const zn=i0;function o0(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const Sa=class Oa extends zn{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Oa.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new qo(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof Oa||(n=n.wrap(Oa.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,qt.INLINE);if(n==null)return;n instanceof hs?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.formats()[n]!=null||this.scroll.query(n,qt.ATTRIBUTE)?this.isolate(t,e).format(n,s):super.formatAt(t,e,n,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof Oa&&n.prev===this&&o0(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof Oa&&this.attributes.move(n),n}};Sa.allowedChildren=[Sa,Nr],Sa.blotName="inline",Sa.scope=qt.INLINE_BLOT,Sa.tagName="SPAN";let l0=Sa;const oc=l0,La=class Tl extends zn{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Tl.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new qo(this.domNode)}format(t,e){const n=this.scroll.query(t,qt.BLOCK);n!=null&&(n instanceof hs?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(Tl.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.scroll.query(n,qt.BLOCK)!=null?this.format(n,s):super.formatAt(t,e,n,s)}insertAt(t,e,n){if(n==null||this.scroll.query(e,qt.INLINE)!=null)super.insertAt(t,e,n);else{const s=this.split(t);if(s!=null){const a=this.scroll.create(e,n);s.parent.insertBefore(a,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};La.blotName="block",La.scope=qt.BLOCK_BLOT,La.tagName="P",La.allowedChildren=[oc,La,Nr];let c0=La;const Ai=c0,Nl=class extends zn{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Nl.blotName="container",Nl.scope=qt.BLOCK_BLOT;let u0=Nl;const Ro=u0;class d0 extends Nr{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,s){t===0&&e===this.length()?this.format(n,s):super.formatAt(t,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const bn=d0,f0={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h0=100,Ca=class extends zn{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,f0),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=qt.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,s){this.update(),super.formatAt(t,e,n,s)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const a=(d,h=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(n.has(d.domNode)||n.set(d.domNode,[]),h&&a(d.parent))},o=d=>{n.has(d.domNode)&&(d instanceof zn&&d.children.forEach(o),n.delete(d.domNode),d.optimize(e))};let l=t;for(let d=0;l.length>0;d+=1){if(d>=h0)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(h=>{const v=this.find(h.target,!0);v!=null&&(v.domNode===h.target&&(h.type==="childList"?(a(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(m=>{const p=this.find(m,!1);a(p,!1),p instanceof zn&&p.children.forEach(g=>{a(g,!1)})})):h.type==="attributes"&&a(v.prev)),a(v))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),s=l.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const a=this.find(s.target,!0);return a==null?null:n.has(a.domNode)?(n.get(a.domNode).push(s),null):(n.set(a.domNode,[s]),a)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};Ca.blotName="scroll",Ca.defaultChild=Ai,Ca.allowedChildren=[Ai,Ro],Ca.scope=qt.BLOCK_BLOT,Ca.tagName="DIV";let p0=Ca;const lc=p0,Sl=class xf extends Nr{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof xf&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Sl.blotName="text",Sl.scope=qt.INLINE_BLOT;let v0=Sl;const xo=v0,m0=Object.freeze(Object.defineProperty({__proto__:null,Attributor:hs,AttributorStore:qo,BlockBlot:Ai,ClassAttributor:Wn,ContainerBlot:Ro,EmbedBlot:bn,InlineBlot:oc,LeafBlot:Nr,ParentBlot:zn,Registry:Va,Scope:qt,ScrollBlot:lc,StyleAttributor:Js,TextBlot:xo},Symbol.toStringTag,{value:"Module"}));var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ef(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zi={exports:{}},Yo,yu;function g0(){if(yu)return Yo;yu=1;var r=-1,t=1,e=0;function n(y,N,$,C,j){if(y===N)return y?[[e,y]]:[];if($!=null){var P=U(y,N,$);if(P)return P}var H=l(y,N),K=y.substring(0,H);y=y.substring(H),N=N.substring(H),H=h(y,N);var J=y.substring(y.length-H);y=y.substring(0,y.length-H),N=N.substring(0,N.length-H);var W=s(y,N);return K&&W.unshift([e,K]),J&&W.push([e,J]),A(W,j),C&&m(W),W}function s(y,N){var $;if(!y)return[[t,N]];if(!N)return[[r,y]];var C=y.length>N.length?y:N,j=y.length>N.length?N:y,P=C.indexOf(j);if(P!==-1)return $=[[t,C.substring(0,P)],[e,j],[t,C.substring(P+j.length)]],y.length>N.length&&($[0][0]=$[2][0]=r),$;if(j.length===1)return[[r,y],[t,N]];var H=v(y,N);if(H){var K=H[0],J=H[1],W=H[2],et=H[3],lt=H[4],ct=n(K,W),nt=n(J,et);return ct.concat([[e,lt]],nt)}return a(y,N)}function a(y,N){for(var $=y.length,C=N.length,j=Math.ceil(($+C)/2),P=j,H=2*j,K=new Array(H),J=new Array(H),W=0;W<H;W++)K[W]=-1,J[W]=-1;K[P+1]=0,J[P+1]=0;for(var et=$-C,lt=et%2!==0,ct=0,nt=0,Z=0,Y=0,wt=0;wt<j;wt++){for(var rt=-wt+ct;rt<=wt-nt;rt+=2){var vt=P+rt,st;rt===-wt||rt!==wt&&K[vt-1]<K[vt+1]?st=K[vt+1]:st=K[vt-1]+1;for(var ut=st-rt;st<$&&ut<C&&y.charAt(st)===N.charAt(ut);)st++,ut++;if(K[vt]=st,st>$)nt+=2;else if(ut>C)ct+=2;else if(lt){var dt=P+et-rt;if(dt>=0&&dt<H&&J[dt]!==-1){var ht=$-J[dt];if(st>=ht)return o(y,N,st,ut)}}}for(var Et=-wt+Z;Et<=wt-Y;Et+=2){var dt=P+Et,ht;Et===-wt||Et!==wt&&J[dt-1]<J[dt+1]?ht=J[dt+1]:ht=J[dt-1]+1;for(var At=ht-Et;ht<$&&At<C&&y.charAt($-ht-1)===N.charAt(C-At-1);)ht++,At++;if(J[dt]=ht,ht>$)Y+=2;else if(At>C)Z+=2;else if(!lt){var vt=P+et-Et;if(vt>=0&&vt<H&&K[vt]!==-1){var st=K[vt],ut=P+st-vt;if(ht=$-ht,st>=ht)return o(y,N,st,ut)}}}}return[[r,y],[t,N]]}function o(y,N,$,C){var j=y.substring(0,$),P=N.substring(0,C),H=y.substring($),K=N.substring(C),J=n(j,P),W=n(H,K);return J.concat(W)}function l(y,N){if(!y||!N||y.charAt(0)!==N.charAt(0))return 0;for(var $=0,C=Math.min(y.length,N.length),j=C,P=0;$<j;)y.substring(P,j)==N.substring(P,j)?($=j,P=$):C=j,j=Math.floor((C-$)/2+$);return T(y.charCodeAt(j-1))&&j--,j}function d(y,N){var $=y.length,C=N.length;if($==0||C==0)return 0;$>C?y=y.substring($-C):$<C&&(N=N.substring(0,$));var j=Math.min($,C);if(y==N)return j;for(var P=0,H=1;;){var K=y.substring(j-H),J=N.indexOf(K);if(J==-1)return P;H+=J,(J==0||y.substring(j-H)==N.substring(0,H))&&(P=H,H++)}}function h(y,N){if(!y||!N||y.slice(-1)!==N.slice(-1))return 0;for(var $=0,C=Math.min(y.length,N.length),j=C,P=0;$<j;)y.substring(y.length-j,y.length-P)==N.substring(N.length-j,N.length-P)?($=j,P=$):C=j,j=Math.floor((C-$)/2+$);return q(y.charCodeAt(y.length-j))&&j--,j}function v(y,N){var $=y.length>N.length?y:N,C=y.length>N.length?N:y;if($.length<4||C.length*2<$.length)return null;function j(nt,Z,Y){for(var wt=nt.substring(Y,Y+Math.floor(nt.length/4)),rt=-1,vt="",st,ut,dt,ht;(rt=Z.indexOf(wt,rt+1))!==-1;){var Et=l(nt.substring(Y),Z.substring(rt)),At=h(nt.substring(0,Y),Z.substring(0,rt));vt.length<At+Et&&(vt=Z.substring(rt-At,rt)+Z.substring(rt,rt+Et),st=nt.substring(0,Y-At),ut=nt.substring(Y+Et),dt=Z.substring(0,rt-At),ht=Z.substring(rt+Et))}return vt.length*2>=nt.length?[st,ut,dt,ht,vt]:null}var P=j($,C,Math.ceil($.length/4)),H=j($,C,Math.ceil($.length/2)),K;if(!P&&!H)return null;H?P?K=P[4].length>H[4].length?P:H:K=H:K=P;var J,W,et,lt;y.length>N.length?(J=K[0],W=K[1],et=K[2],lt=K[3]):(et=K[0],lt=K[1],J=K[2],W=K[3]);var ct=K[4];return[J,W,et,lt,ct]}function m(y){for(var N=!1,$=[],C=0,j=null,P=0,H=0,K=0,J=0,W=0;P<y.length;)y[P][0]==e?($[C++]=P,H=J,K=W,J=0,W=0,j=y[P][1]):(y[P][0]==t?J+=y[P][1].length:W+=y[P][1].length,j&&j.length<=Math.max(H,K)&&j.length<=Math.max(J,W)&&(y.splice($[C-1],0,[r,j]),y[$[C-1]+1][0]=t,C--,C--,P=C>0?$[C-1]:-1,H=0,K=0,J=0,W=0,j=null,N=!0)),P++;for(N&&A(y),k(y),P=1;P<y.length;){if(y[P-1][0]==r&&y[P][0]==t){var et=y[P-1][1],lt=y[P][1],ct=d(et,lt),nt=d(lt,et);ct>=nt?(ct>=et.length/2||ct>=lt.length/2)&&(y.splice(P,0,[e,lt.substring(0,ct)]),y[P-1][1]=et.substring(0,et.length-ct),y[P+1][1]=lt.substring(ct),P++):(nt>=et.length/2||nt>=lt.length/2)&&(y.splice(P,0,[e,et.substring(0,nt)]),y[P-1][0]=t,y[P-1][1]=lt.substring(0,lt.length-nt),y[P+1][0]=r,y[P+1][1]=et.substring(nt),P++),P++}P++}}var p=/[^a-zA-Z0-9]/,g=/\s/,w=/[\r\n]/,_=/\n\r?\n$/,x=/^\r?\n\r?\n/;function k(y){function N(nt,Z){if(!nt||!Z)return 6;var Y=nt.charAt(nt.length-1),wt=Z.charAt(0),rt=Y.match(p),vt=wt.match(p),st=rt&&Y.match(g),ut=vt&&wt.match(g),dt=st&&Y.match(w),ht=ut&&wt.match(w),Et=dt&&nt.match(_),At=ht&&Z.match(x);return Et||At?5:dt||ht?4:rt&&!st&&ut?3:st||ut?2:rt||vt?1:0}for(var $=1;$<y.length-1;){if(y[$-1][0]==e&&y[$+1][0]==e){var C=y[$-1][1],j=y[$][1],P=y[$+1][1],H=h(C,j);if(H){var K=j.substring(j.length-H);C=C.substring(0,C.length-H),j=K+j.substring(0,j.length-H),P=K+P}for(var J=C,W=j,et=P,lt=N(C,j)+N(j,P);j.charAt(0)===P.charAt(0);){C+=j.charAt(0),j=j.substring(1)+P.charAt(0),P=P.substring(1);var ct=N(C,j)+N(j,P);ct>=lt&&(lt=ct,J=C,W=j,et=P)}y[$-1][1]!=J&&(J?y[$-1][1]=J:(y.splice($-1,1),$--),y[$][1]=W,et?y[$+1][1]=et:(y.splice($+1,1),$--))}$++}}function A(y,N){y.push([e,""]);for(var $=0,C=0,j=0,P="",H="",K;$<y.length;){if($<y.length-1&&!y[$][1]){y.splice($,1);continue}switch(y[$][0]){case t:j++,H+=y[$][1],$++;break;case r:C++,P+=y[$][1],$++;break;case e:var J=$-j-C-1;if(N){if(J>=0&&L(y[J][1])){var W=y[J][1].slice(-1);if(y[J][1]=y[J][1].slice(0,-1),P=W+P,H=W+H,!y[J][1]){y.splice(J,1),$--;var et=J-1;y[et]&&y[et][0]===t&&(j++,H=y[et][1]+H,et--),y[et]&&y[et][0]===r&&(C++,P=y[et][1]+P,et--),J=et}}if(S(y[$][1])){var W=y[$][1].charAt(0);y[$][1]=y[$][1].slice(1),P+=W,H+=W}}if($<y.length-1&&!y[$][1]){y.splice($,1);break}if(P.length>0||H.length>0){P.length>0&&H.length>0&&(K=l(H,P),K!==0&&(J>=0?y[J][1]+=H.substring(0,K):(y.splice(0,0,[e,H.substring(0,K)]),$++),H=H.substring(K),P=P.substring(K)),K=h(H,P),K!==0&&(y[$][1]=H.substring(H.length-K)+y[$][1],H=H.substring(0,H.length-K),P=P.substring(0,P.length-K)));var lt=j+C;P.length===0&&H.length===0?(y.splice($-lt,lt),$=$-lt):P.length===0?(y.splice($-lt,lt,[t,H]),$=$-lt+1):H.length===0?(y.splice($-lt,lt,[r,P]),$=$-lt+1):(y.splice($-lt,lt,[r,P],[t,H]),$=$-lt+2)}$!==0&&y[$-1][0]===e?(y[$-1][1]+=y[$][1],y.splice($,1)):$++,j=0,C=0,P="",H="";break}}y[y.length-1][1]===""&&y.pop();var ct=!1;for($=1;$<y.length-1;)y[$-1][0]===e&&y[$+1][0]===e&&(y[$][1].substring(y[$][1].length-y[$-1][1].length)===y[$-1][1]?(y[$][1]=y[$-1][1]+y[$][1].substring(0,y[$][1].length-y[$-1][1].length),y[$+1][1]=y[$-1][1]+y[$+1][1],y.splice($-1,1),ct=!0):y[$][1].substring(0,y[$+1][1].length)==y[$+1][1]&&(y[$-1][1]+=y[$+1][1],y[$][1]=y[$][1].substring(y[$+1][1].length)+y[$+1][1],y.splice($+1,1),ct=!0)),$++;ct&&A(y,N)}function T(y){return y>=55296&&y<=56319}function q(y){return y>=56320&&y<=57343}function S(y){return q(y.charCodeAt(0))}function L(y){return T(y.charCodeAt(y.length-1))}function M(y){for(var N=[],$=0;$<y.length;$++)y[$][1].length>0&&N.push(y[$]);return N}function B(y,N,$,C){return L(y)||S(C)?null:M([[e,y],[r,N],[t,$],[e,C]])}function U(y,N,$){var C=typeof $=="number"?{index:$,length:0}:$.oldRange,j=typeof $=="number"?null:$.newRange,P=y.length,H=N.length;if(C.length===0&&(j===null||j.length===0)){var K=C.index,J=y.slice(0,K),W=y.slice(K),et=j?j.index:null;t:{var lt=K+H-P;if(et!==null&&et!==lt||lt<0||lt>H)break t;var ct=N.slice(0,lt),nt=N.slice(lt);if(nt!==W)break t;var Z=Math.min(K,lt),Y=J.slice(0,Z),wt=ct.slice(0,Z);if(Y!==wt)break t;var rt=J.slice(Z),vt=ct.slice(Z);return B(Y,rt,vt,W)}t:{if(et!==null&&et!==K)break t;var st=K,ct=N.slice(0,st),nt=N.slice(st);if(ct!==J)break t;var ut=Math.min(P-st,H-st),dt=W.slice(W.length-ut),ht=nt.slice(nt.length-ut);if(dt!==ht)break t;var rt=W.slice(0,W.length-ut),vt=nt.slice(0,nt.length-ut);return B(J,rt,vt,dt)}}if(C.length>0&&j&&j.length===0)t:{var Y=y.slice(0,C.index),dt=y.slice(C.index+C.length),Z=Y.length,ut=dt.length;if(H<Z+ut)break t;var wt=N.slice(0,Z),ht=N.slice(H-ut);if(Y!==wt||dt!==ht)break t;var rt=y.slice(Z,P-ut),vt=N.slice(Z,H-ut);return B(Y,rt,vt,dt)}return null}function z(y,N,$,C){return n(y,N,$,C,!0)}return z.INSERT=t,z.DELETE=r,z.EQUAL=e,Yo=z,Yo}var ci={exports:{}};ci.exports;var wu;function kf(){return wu||(wu=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=9007199254740991,a="[object Arguments]",o="[object Array]",l="[object Boolean]",d="[object Date]",h="[object Error]",v="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",w="[object Object]",_="[object Promise]",x="[object RegExp]",k="[object Set]",A="[object String]",T="[object Symbol]",q="[object WeakMap]",S="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",z="[object Int16Array]",y="[object Int32Array]",N="[object Uint8Array]",$="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,H=/\w*$/,K=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,W={};W[a]=W[o]=W[S]=W[L]=W[l]=W[d]=W[M]=W[B]=W[U]=W[z]=W[y]=W[p]=W[g]=W[w]=W[x]=W[k]=W[A]=W[T]=W[N]=W[$]=W[C]=W[j]=!0,W[h]=W[v]=W[q]=!1;var et=typeof Ps=="object"&&Ps&&Ps.Object===Object&&Ps,lt=typeof self=="object"&&self&&self.Object===Object&&self,ct=et||lt||Function("return this")(),nt=t&&!t.nodeType&&t,Z=nt&&!0&&r&&!r.nodeType&&r,Y=Z&&Z.exports===nt;function wt(f,E){return f.set(E[0],E[1]),f}function rt(f,E){return f.add(E),f}function vt(f,E){for(var R=-1,X=f?f.length:0;++R<X&&E(f[R],R,f)!==!1;);return f}function st(f,E){for(var R=-1,X=E.length,Pt=f.length;++R<X;)f[Pt+R]=E[R];return f}function ut(f,E,R,X){for(var Pt=-1,Ot=f?f.length:0;++Pt<Ot;)R=E(R,f[Pt],Pt,f);return R}function dt(f,E){for(var R=-1,X=Array(f);++R<f;)X[R]=E(R);return X}function ht(f,E){return f==null?void 0:f[E]}function Et(f){var E=!1;if(f!=null&&typeof f.toString!="function")try{E=!!(f+"")}catch{}return E}function At(f){var E=-1,R=Array(f.size);return f.forEach(function(X,Pt){R[++E]=[Pt,X]}),R}function Nt(f,E){return function(R){return f(E(R))}}function Dt(f){var E=-1,R=Array(f.size);return f.forEach(function(X){R[++E]=X}),R}var Mt=Array.prototype,re=Function.prototype,Ft=Object.prototype,te=ct["__core-js_shared__"],ne=function(){var f=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),fe=re.toString,Gt=Ft.hasOwnProperty,Wt=Ft.toString,he=RegExp("^"+fe.call(Gt).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Y?ct.Buffer:void 0,Zt=ct.Symbol,ae=ct.Uint8Array,Ht=Nt(Object.getPrototypeOf,Object),ge=Object.create,$e=Ft.propertyIsEnumerable,qe=Mt.splice,_e=Object.getOwnPropertySymbols,Re=Ut?Ut.isBuffer:void 0,Ae=Nt(Object.keys,Object),Te=Qe(ct,"DataView"),ye=Qe(ct,"Map"),me=Qe(ct,"Promise"),xe=Qe(ct,"Set"),Ie=Qe(ct,"WeakMap"),be=Qe(Object,"create"),at=Ge(Te),ft=Ge(ye),bt=Ge(me),Lt=Ge(xe),mt=Ge(Ie),Ke=Zt?Zt.prototype:void 0,rr=Ke?Ke.valueOf:void 0;function Ze(f){var E=-1,R=f?f.length:0;for(this.clear();++E<R;){var X=f[E];this.set(X[0],X[1])}}function Mr(){this.__data__=be?be(null):{}}function Or(f){return this.has(f)&&delete this.__data__[f]}function br(f){var E=this.__data__;if(be){var R=E[f];return R===n?void 0:R}return Gt.call(E,f)?E[f]:void 0}function _r(f){var E=this.__data__;return be?E[f]!==void 0:Gt.call(E,f)}function lr(f,E){var R=this.__data__;return R[f]=be&&E===void 0?n:E,this}Ze.prototype.clear=Mr,Ze.prototype.delete=Or,Ze.prototype.get=br,Ze.prototype.has=_r,Ze.prototype.set=lr;function we(f){var E=-1,R=f?f.length:0;for(this.clear();++E<R;){var X=f[E];this.set(X[0],X[1])}}function Lr(){this.__data__=[]}function cr(f){var E=this.__data__,R=sr(E,f);if(R<0)return!1;var X=E.length-1;return R==X?E.pop():qe.call(E,R,1),!0}function yr(f){var E=this.__data__,R=sr(E,f);return R<0?void 0:E[R][1]}function en(f){return sr(this.__data__,f)>-1}function Ur(f,E){var R=this.__data__,X=sr(R,f);return X<0?R.push([f,E]):R[X][1]=E,this}we.prototype.clear=Lr,we.prototype.delete=cr,we.prototype.get=yr,we.prototype.has=en,we.prototype.set=Ur;function Ne(f){var E=-1,R=f?f.length:0;for(this.clear();++E<R;){var X=f[E];this.set(X[0],X[1])}}function ur(){this.__data__={hash:new Ze,map:new(ye||we),string:new Ze}}function wr(f){return Tt(this,f).delete(f)}function rn(f){return Tt(this,f).get(f)}function Fr(f){return Tt(this,f).has(f)}function Cr(f,E){return Tt(this,f).set(f,E),this}Ne.prototype.clear=ur,Ne.prototype.delete=wr,Ne.prototype.get=rn,Ne.prototype.has=Fr,Ne.prototype.set=Cr;function Se(f){this.__data__=new we(f)}function xr(){this.__data__=new we}function nn(f){return this.__data__.delete(f)}function zr(f){return this.__data__.get(f)}function qr(f){return this.__data__.has(f)}function dr(f,E){var R=this.__data__;if(R instanceof we){var X=R.__data__;if(!ye||X.length<e-1)return X.push([f,E]),this;R=this.__data__=new Ne(X)}return R.set(f,E),this}Se.prototype.clear=xr,Se.prototype.delete=nn,Se.prototype.get=zr,Se.prototype.has=qr,Se.prototype.set=dr;function nr(f,E){var R=In(f)||Zr(f)?dt(f.length,String):[],X=R.length,Pt=!!X;for(var Ot in f)Gt.call(f,Ot)&&!(Pt&&(Ot=="length"||Cn(Ot,X)))&&R.push(Ot);return R}function Hr(f,E,R){var X=f[E];(!(Gt.call(f,E)&&ln(X,R))||R===void 0&&!(E in f))&&(f[E]=R)}function sr(f,E){for(var R=f.length;R--;)if(ln(f[R][0],E))return R;return-1}function Me(f,E){return f&&Wr(E,un(E),f)}function fr(f,E,R,X,Pt,Ot,ee){var Jt;if(X&&(Jt=Ot?X(f,Pt,Ot,ee):X(f)),Jt!==void 0)return Jt;if(!vr(f))return f;var Oe=In(f);if(Oe){if(Jt=Yn(f),!E)return Vr(f,Jt)}else{var ie=ir(f),Ue=ie==v||ie==m;if(wn(f))return Dr(f,E);if(ie==w||ie==a||Ue&&!Ot){if(Et(f))return Ot?f:{};if(Jt=pr(Ue?{}:f),!E)return on(f,Me(Jt,f))}else{if(!W[ie])return Ot?f:{};Jt=ms(f,ie,fr,E)}}ee||(ee=new Se);var Ye=ee.get(f);if(Ye)return Ye;if(ee.set(f,Jt),!Oe)var Ce=R?Jr(f):un(f);return vt(Ce||f,function(Fe,je){Ce&&(je=Fe,Fe=f[je]),Hr(Jt,je,fr(Fe,E,R,X,je,f,ee))}),Jt}function Rr(f){return vr(f)?ge(f):{}}function sn(f,E,R){var X=E(f);return In(f)?X:st(X,R(f))}function Ir(f){return Wt.call(f)}function Er(f){if(!vr(f)||Xn(f))return!1;var E=cn(f)||Et(f)?he:K;return E.test(Ge(f))}function It(f){if(!Qn(f))return Ae(f);var E=[];for(var R in Object(f))Gt.call(f,R)&&R!="constructor"&&E.push(R);return E}function Dr(f,E){if(E)return f.slice();var R=new f.constructor(f.length);return f.copy(R),R}function an(f){var E=new f.constructor(f.byteLength);return new ae(E).set(new ae(f)),E}function hr(f,E){var R=E?an(f.buffer):f.buffer;return new f.constructor(R,f.byteOffset,f.byteLength)}function Kr(f,E,R){var X=E?R(At(f),!0):At(f);return ut(X,wt,new f.constructor)}function Gr(f){var E=new f.constructor(f.source,H.exec(f));return E.lastIndex=f.lastIndex,E}function _n(f,E,R){var X=E?R(Dt(f),!0):Dt(f);return ut(X,rt,new f.constructor)}function On(f){return rr?Object(rr.call(f)):{}}function Ln(f,E){var R=E?an(f.buffer):f.buffer;return new f.constructor(R,f.byteOffset,f.length)}function Vr(f,E){var R=-1,X=f.length;for(E||(E=Array(X));++R<X;)E[R]=f[R];return E}function Wr(f,E,R,X){R||(R={});for(var Pt=-1,Ot=E.length;++Pt<Ot;){var ee=E[Pt],Jt=void 0;Hr(R,ee,Jt===void 0?f[ee]:Jt)}return R}function on(f,E){return Wr(f,ar(f),E)}function Jr(f){return sn(f,un,ar)}function Tt(f,E){var R=f.__data__;return qn(E)?R[typeof E=="string"?"string":"hash"]:R.map}function Qe(f,E){var R=ht(f,E);return Er(R)?R:void 0}var ar=_e?Nt(_e,Object):jn,ir=Ir;(Te&&ir(new Te(new ArrayBuffer(1)))!=L||ye&&ir(new ye)!=p||me&&ir(me.resolve())!=_||xe&&ir(new xe)!=k||Ie&&ir(new Ie)!=q)&&(ir=function(f){var E=Wt.call(f),R=E==w?f.constructor:void 0,X=R?Ge(R):void 0;if(X)switch(X){case at:return L;case ft:return p;case bt:return _;case Lt:return k;case mt:return q}return E});function Yn(f){var E=f.length,R=f.constructor(E);return E&&typeof f[0]=="string"&&Gt.call(f,"index")&&(R.index=f.index,R.input=f.input),R}function pr(f){return typeof f.constructor=="function"&&!Qn(f)?Rr(Ht(f)):{}}function ms(f,E,R,X){var Pt=f.constructor;switch(E){case S:return an(f);case l:case d:return new Pt(+f);case L:return hr(f,X);case M:case B:case U:case z:case y:case N:case $:case C:case j:return Ln(f,X);case p:return Kr(f,X,R);case g:case A:return new Pt(f);case x:return Gr(f);case k:return _n(f,X,R);case T:return On(f)}}function Cn(f,E){return E=E??s,!!E&&(typeof f=="number"||J.test(f))&&f>-1&&f%1==0&&f<E}function qn(f){var E=typeof f;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?f!=="__proto__":f===null}function Xn(f){return!!ne&&ne in f}function Qn(f){var E=f&&f.constructor,R=typeof E=="function"&&E.prototype||Ft;return f===R}function Ge(f){if(f!=null){try{return fe.call(f)}catch{}try{return f+""}catch{}}return""}function Rn(f){return fr(f,!0,!0)}function ln(f,E){return f===E||f!==f&&E!==E}function Zr(f){return ts(f)&&Gt.call(f,"callee")&&(!$e.call(f,"callee")||Wt.call(f)==a)}var In=Array.isArray;function yn(f){return f!=null&&Dn(f.length)&&!cn(f)}function ts(f){return es(f)&&yn(f)}var wn=Re||rs;function cn(f){var E=vr(f)?Wt.call(f):"";return E==v||E==m}function Dn(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=s}function vr(f){var E=typeof f;return!!f&&(E=="object"||E=="function")}function es(f){return!!f&&typeof f=="object"}function un(f){return yn(f)?nr(f):It(f)}function jn(){return[]}function rs(){return!1}r.exports=Rn}(ci,ci.exports)),ci.exports}var ui={exports:{}};ui.exports;var xu;function $f(){return xu||(xu=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=1,a=2,o=9007199254740991,l="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",v="[object Boolean]",m="[object Date]",p="[object Error]",g="[object Function]",w="[object GeneratorFunction]",_="[object Map]",x="[object Number]",k="[object Null]",A="[object Object]",T="[object Promise]",q="[object Proxy]",S="[object RegExp]",L="[object Set]",M="[object String]",B="[object Symbol]",U="[object Undefined]",z="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",$="[object Float32Array]",C="[object Float64Array]",j="[object Int8Array]",P="[object Int16Array]",H="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",W="[object Uint16Array]",et="[object Uint32Array]",lt=/[\\^$.*+?()[\]{}|]/g,ct=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,Z={};Z[$]=Z[C]=Z[j]=Z[P]=Z[H]=Z[K]=Z[J]=Z[W]=Z[et]=!0,Z[l]=Z[d]=Z[y]=Z[v]=Z[N]=Z[m]=Z[p]=Z[g]=Z[_]=Z[x]=Z[A]=Z[S]=Z[L]=Z[M]=Z[z]=!1;var Y=typeof Ps=="object"&&Ps&&Ps.Object===Object&&Ps,wt=typeof self=="object"&&self&&self.Object===Object&&self,rt=Y||wt||Function("return this")(),vt=t&&!t.nodeType&&t,st=vt&&!0&&r&&!r.nodeType&&r,ut=st&&st.exports===vt,dt=ut&&Y.process,ht=function(){try{return dt&&dt.binding&&dt.binding("util")}catch{}}(),Et=ht&&ht.isTypedArray;function At(f,E){for(var R=-1,X=f==null?0:f.length,Pt=0,Ot=[];++R<X;){var ee=f[R];E(ee,R,f)&&(Ot[Pt++]=ee)}return Ot}function Nt(f,E){for(var R=-1,X=E.length,Pt=f.length;++R<X;)f[Pt+R]=E[R];return f}function Dt(f,E){for(var R=-1,X=f==null?0:f.length;++R<X;)if(E(f[R],R,f))return!0;return!1}function Mt(f,E){for(var R=-1,X=Array(f);++R<f;)X[R]=E(R);return X}function re(f){return function(E){return f(E)}}function Ft(f,E){return f.has(E)}function te(f,E){return f==null?void 0:f[E]}function ne(f){var E=-1,R=Array(f.size);return f.forEach(function(X,Pt){R[++E]=[Pt,X]}),R}function fe(f,E){return function(R){return f(E(R))}}function Gt(f){var E=-1,R=Array(f.size);return f.forEach(function(X){R[++E]=X}),R}var Wt=Array.prototype,he=Function.prototype,Ut=Object.prototype,Zt=rt["__core-js_shared__"],ae=he.toString,Ht=Ut.hasOwnProperty,ge=function(){var f=/[^.]+$/.exec(Zt&&Zt.keys&&Zt.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),$e=Ut.toString,qe=RegExp("^"+ae.call(Ht).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=ut?rt.Buffer:void 0,Re=rt.Symbol,Ae=rt.Uint8Array,Te=Ut.propertyIsEnumerable,ye=Wt.splice,me=Re?Re.toStringTag:void 0,xe=Object.getOwnPropertySymbols,Ie=_e?_e.isBuffer:void 0,be=fe(Object.keys,Object),at=ar(rt,"DataView"),ft=ar(rt,"Map"),bt=ar(rt,"Promise"),Lt=ar(rt,"Set"),mt=ar(rt,"WeakMap"),Ke=ar(Object,"create"),rr=Ge(at),Ze=Ge(ft),Mr=Ge(bt),Or=Ge(Lt),br=Ge(mt),_r=Re?Re.prototype:void 0,lr=_r?_r.valueOf:void 0;function we(f){var E=-1,R=f==null?0:f.length;for(this.clear();++E<R;){var X=f[E];this.set(X[0],X[1])}}function Lr(){this.__data__=Ke?Ke(null):{},this.size=0}function cr(f){var E=this.has(f)&&delete this.__data__[f];return this.size-=E?1:0,E}function yr(f){var E=this.__data__;if(Ke){var R=E[f];return R===n?void 0:R}return Ht.call(E,f)?E[f]:void 0}function en(f){var E=this.__data__;return Ke?E[f]!==void 0:Ht.call(E,f)}function Ur(f,E){var R=this.__data__;return this.size+=this.has(f)?0:1,R[f]=Ke&&E===void 0?n:E,this}we.prototype.clear=Lr,we.prototype.delete=cr,we.prototype.get=yr,we.prototype.has=en,we.prototype.set=Ur;function Ne(f){var E=-1,R=f==null?0:f.length;for(this.clear();++E<R;){var X=f[E];this.set(X[0],X[1])}}function ur(){this.__data__=[],this.size=0}function wr(f){var E=this.__data__,R=Dr(E,f);if(R<0)return!1;var X=E.length-1;return R==X?E.pop():ye.call(E,R,1),--this.size,!0}function rn(f){var E=this.__data__,R=Dr(E,f);return R<0?void 0:E[R][1]}function Fr(f){return Dr(this.__data__,f)>-1}function Cr(f,E){var R=this.__data__,X=Dr(R,f);return X<0?(++this.size,R.push([f,E])):R[X][1]=E,this}Ne.prototype.clear=ur,Ne.prototype.delete=wr,Ne.prototype.get=rn,Ne.prototype.has=Fr,Ne.prototype.set=Cr;function Se(f){var E=-1,R=f==null?0:f.length;for(this.clear();++E<R;){var X=f[E];this.set(X[0],X[1])}}function xr(){this.size=0,this.__data__={hash:new we,map:new(ft||Ne),string:new we}}function nn(f){var E=Qe(this,f).delete(f);return this.size-=E?1:0,E}function zr(f){return Qe(this,f).get(f)}function qr(f){return Qe(this,f).has(f)}function dr(f,E){var R=Qe(this,f),X=R.size;return R.set(f,E),this.size+=R.size==X?0:1,this}Se.prototype.clear=xr,Se.prototype.delete=nn,Se.prototype.get=zr,Se.prototype.has=qr,Se.prototype.set=dr;function nr(f){var E=-1,R=f==null?0:f.length;for(this.__data__=new Se;++E<R;)this.add(f[E])}function Hr(f){return this.__data__.set(f,n),this}function sr(f){return this.__data__.has(f)}nr.prototype.add=nr.prototype.push=Hr,nr.prototype.has=sr;function Me(f){var E=this.__data__=new Ne(f);this.size=E.size}function fr(){this.__data__=new Ne,this.size=0}function Rr(f){var E=this.__data__,R=E.delete(f);return this.size=E.size,R}function sn(f){return this.__data__.get(f)}function Ir(f){return this.__data__.has(f)}function Er(f,E){var R=this.__data__;if(R instanceof Ne){var X=R.__data__;if(!ft||X.length<e-1)return X.push([f,E]),this.size=++R.size,this;R=this.__data__=new Se(X)}return R.set(f,E),this.size=R.size,this}Me.prototype.clear=fr,Me.prototype.delete=Rr,Me.prototype.get=sn,Me.prototype.has=Ir,Me.prototype.set=Er;function It(f,E){var R=Zr(f),X=!R&&ln(f),Pt=!R&&!X&&yn(f),Ot=!R&&!X&&!Pt&&es(f),ee=R||X||Pt||Ot,Jt=ee?Mt(f.length,String):[],Oe=Jt.length;for(var ie in f)Ht.call(f,ie)&&!(ee&&(ie=="length"||Pt&&(ie=="offset"||ie=="parent")||Ot&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||ms(ie,Oe)))&&Jt.push(ie);return Jt}function Dr(f,E){for(var R=f.length;R--;)if(Rn(f[R][0],E))return R;return-1}function an(f,E,R){var X=E(f);return Zr(f)?X:Nt(X,R(f))}function hr(f){return f==null?f===void 0?U:k:me&&me in Object(f)?ir(f):Qn(f)}function Kr(f){return vr(f)&&hr(f)==l}function Gr(f,E,R,X,Pt){return f===E?!0:f==null||E==null||!vr(f)&&!vr(E)?f!==f&&E!==E:_n(f,E,R,X,Gr,Pt)}function _n(f,E,R,X,Pt,Ot){var ee=Zr(f),Jt=Zr(E),Oe=ee?d:pr(f),ie=Jt?d:pr(E);Oe=Oe==l?A:Oe,ie=ie==l?A:ie;var Ue=Oe==A,Ye=ie==A,Ce=Oe==ie;if(Ce&&yn(f)){if(!yn(E))return!1;ee=!0,Ue=!1}if(Ce&&!Ue)return Ot||(Ot=new Me),ee||es(f)?Wr(f,E,R,X,Pt,Ot):on(f,E,Oe,R,X,Pt,Ot);if(!(R&s)){var Fe=Ue&&Ht.call(f,"__wrapped__"),je=Ye&&Ht.call(E,"__wrapped__");if(Fe||je){var Yr=Fe?f.value():f,kr=je?E.value():E;return Ot||(Ot=new Me),Pt(Yr,kr,R,X,Ot)}}return Ce?(Ot||(Ot=new Me),Jr(f,E,R,X,Pt,Ot)):!1}function On(f){if(!Dn(f)||qn(f))return!1;var E=wn(f)?qe:ct;return E.test(Ge(f))}function Ln(f){return vr(f)&&cn(f.length)&&!!Z[hr(f)]}function Vr(f){if(!Xn(f))return be(f);var E=[];for(var R in Object(f))Ht.call(f,R)&&R!="constructor"&&E.push(R);return E}function Wr(f,E,R,X,Pt,Ot){var ee=R&s,Jt=f.length,Oe=E.length;if(Jt!=Oe&&!(ee&&Oe>Jt))return!1;var ie=Ot.get(f);if(ie&&Ot.get(E))return ie==E;var Ue=-1,Ye=!0,Ce=R&a?new nr:void 0;for(Ot.set(f,E),Ot.set(E,f);++Ue<Jt;){var Fe=f[Ue],je=E[Ue];if(X)var Yr=ee?X(je,Fe,Ue,E,f,Ot):X(Fe,je,Ue,f,E,Ot);if(Yr!==void 0){if(Yr)continue;Ye=!1;break}if(Ce){if(!Dt(E,function(kr,Xr){if(!Ft(Ce,Xr)&&(Fe===kr||Pt(Fe,kr,R,X,Ot)))return Ce.push(Xr)})){Ye=!1;break}}else if(!(Fe===je||Pt(Fe,je,R,X,Ot))){Ye=!1;break}}return Ot.delete(f),Ot.delete(E),Ye}function on(f,E,R,X,Pt,Ot,ee){switch(R){case N:if(f.byteLength!=E.byteLength||f.byteOffset!=E.byteOffset)return!1;f=f.buffer,E=E.buffer;case y:return!(f.byteLength!=E.byteLength||!Ot(new Ae(f),new Ae(E)));case v:case m:case x:return Rn(+f,+E);case p:return f.name==E.name&&f.message==E.message;case S:case M:return f==E+"";case _:var Jt=ne;case L:var Oe=X&s;if(Jt||(Jt=Gt),f.size!=E.size&&!Oe)return!1;var ie=ee.get(f);if(ie)return ie==E;X|=a,ee.set(f,E);var Ue=Wr(Jt(f),Jt(E),X,Pt,Ot,ee);return ee.delete(f),Ue;case B:if(lr)return lr.call(f)==lr.call(E)}return!1}function Jr(f,E,R,X,Pt,Ot){var ee=R&s,Jt=Tt(f),Oe=Jt.length,ie=Tt(E),Ue=ie.length;if(Oe!=Ue&&!ee)return!1;for(var Ye=Oe;Ye--;){var Ce=Jt[Ye];if(!(ee?Ce in E:Ht.call(E,Ce)))return!1}var Fe=Ot.get(f);if(Fe&&Ot.get(E))return Fe==E;var je=!0;Ot.set(f,E),Ot.set(E,f);for(var Yr=ee;++Ye<Oe;){Ce=Jt[Ye];var kr=f[Ce],Xr=E[Ce];if(X)var gs=ee?X(Xr,kr,Ce,E,f,Ot):X(kr,Xr,Ce,f,E,Ot);if(!(gs===void 0?kr===Xr||Pt(kr,Xr,R,X,Ot):gs)){je=!1;break}Yr||(Yr=Ce=="constructor")}if(je&&!Yr){var ns=f.constructor,ss=E.constructor;ns!=ss&&"constructor"in f&&"constructor"in E&&!(typeof ns=="function"&&ns instanceof ns&&typeof ss=="function"&&ss instanceof ss)&&(je=!1)}return Ot.delete(f),Ot.delete(E),je}function Tt(f){return an(f,un,Yn)}function Qe(f,E){var R=f.__data__;return Cn(E)?R[typeof E=="string"?"string":"hash"]:R.map}function ar(f,E){var R=te(f,E);return On(R)?R:void 0}function ir(f){var E=Ht.call(f,me),R=f[me];try{f[me]=void 0;var X=!0}catch{}var Pt=$e.call(f);return X&&(E?f[me]=R:delete f[me]),Pt}var Yn=xe?function(f){return f==null?[]:(f=Object(f),At(xe(f),function(E){return Te.call(f,E)}))}:jn,pr=hr;(at&&pr(new at(new ArrayBuffer(1)))!=N||ft&&pr(new ft)!=_||bt&&pr(bt.resolve())!=T||Lt&&pr(new Lt)!=L||mt&&pr(new mt)!=z)&&(pr=function(f){var E=hr(f),R=E==A?f.constructor:void 0,X=R?Ge(R):"";if(X)switch(X){case rr:return N;case Ze:return _;case Mr:return T;case Or:return L;case br:return z}return E});function ms(f,E){return E=E??o,!!E&&(typeof f=="number"||nt.test(f))&&f>-1&&f%1==0&&f<E}function Cn(f){var E=typeof f;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?f!=="__proto__":f===null}function qn(f){return!!ge&&ge in f}function Xn(f){var E=f&&f.constructor,R=typeof E=="function"&&E.prototype||Ut;return f===R}function Qn(f){return $e.call(f)}function Ge(f){if(f!=null){try{return ae.call(f)}catch{}try{return f+""}catch{}}return""}function Rn(f,E){return f===E||f!==f&&E!==E}var ln=Kr(function(){return arguments}())?Kr:function(f){return vr(f)&&Ht.call(f,"callee")&&!Te.call(f,"callee")},Zr=Array.isArray;function In(f){return f!=null&&cn(f.length)&&!wn(f)}var yn=Ie||rs;function ts(f,E){return Gr(f,E)}function wn(f){if(!Dn(f))return!1;var E=hr(f);return E==g||E==w||E==h||E==q}function cn(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=o}function Dn(f){var E=typeof f;return f!=null&&(E=="object"||E=="function")}function vr(f){return f!=null&&typeof f=="object"}var es=Et?re(Et):Ln;function un(f){return In(f)?It(f):Vr(f)}function jn(){return[]}function rs(){return!1}r.exports=ts}(ui,ui.exports)),ui.exports}var Yi={},Eu;function b0(){if(Eu)return Yi;Eu=1,Object.defineProperty(Yi,"__esModule",{value:!0});const r=kf(),t=$f();var e;return function(n){function s(d={},h={},v=!1){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});let m=r(h);v||(m=Object.keys(m).reduce((p,g)=>(m[g]!=null&&(p[g]=m[g]),p),{}));for(const p in d)d[p]!==void 0&&h[p]===void 0&&(m[p]=d[p]);return Object.keys(m).length>0?m:void 0}n.compose=s;function a(d={},h={}){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});const v=Object.keys(d).concat(Object.keys(h)).reduce((m,p)=>(t(d[p],h[p])||(m[p]=h[p]===void 0?null:h[p]),m),{});return Object.keys(v).length>0?v:void 0}n.diff=a;function o(d={},h={}){d=d||{};const v=Object.keys(h).reduce((m,p)=>(h[p]!==d[p]&&d[p]!==void 0&&(m[p]=h[p]),m),{});return Object.keys(d).reduce((m,p)=>(d[p]!==h[p]&&h[p]===void 0&&(m[p]=null),m),v)}n.invert=o;function l(d,h,v=!1){if(typeof d!="object")return h;if(typeof h!="object")return;if(!v)return h;const m=Object.keys(h).reduce((p,g)=>(d[g]===void 0&&(p[g]=h[g]),p),{});return Object.keys(m).length>0?m:void 0}n.transform=l}(e||(e={})),Yi.default=e,Yi}var Xi={},ku;function Af(){if(ku)return Xi;ku=1,Object.defineProperty(Xi,"__esModule",{value:!0});var r;return function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e}(r||(r={})),Xi.default=r,Xi}var Qi={},$u;function _0(){if($u)return Qi;$u=1,Object.defineProperty(Qi,"__esModule",{value:!0});const r=Af();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const s=this.ops[this.index];if(s){const a=this.offset,o=r.default.length(s);if(n>=o-a?(n=o-a,this.index+=1,this.offset=0):this.offset+=n,typeof s.delete=="number")return{delete:n};{const l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=n:typeof s.retain=="object"&&s.retain!==null?l.retain=s.retain:typeof s.insert=="string"?l.insert=s.insert.substr(a,n):l.insert=s.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,s=this.index,a=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=s,[a].concat(o)}}else return[]}}return Qi.default=t,Qi}var Au;function y0(){return Au||(Au=1,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=g0(),n=kf(),s=$f(),a=b0();t.AttributeMap=a.default;const o=Af();t.Op=o.default;const l=_0();t.OpIterator=l.default;const d="\0",h=(m,p)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(m)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,m[g],p[g]]};class v{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const w={};return typeof p=="string"&&p.length===0?this:(w.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(w.attributes=g),this.push(w))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const w={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(w.attributes=g),this.push(w)}push(p){let g=this.ops.length,w=this.ops[g-1];if(p=n(p),typeof w=="object"){if(typeof p.delete=="number"&&typeof w.delete=="number")return this.ops[g-1]={delete:w.delete+p.delete},this;if(typeof w.delete=="number"&&p.insert!=null&&(g-=1,w=this.ops[g-1],typeof w!="object"))return this.ops.unshift(p),this;if(s(p.attributes,w.attributes)){if(typeof p.insert=="string"&&typeof w.insert=="string")return this.ops[g-1]={insert:w.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof w.retain=="number")return this.ops[g-1]={retain:w.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],w=[];return this.forEach(_=>{(p(_)?g:w).push(_)}),[g,w]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+o.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+o.default.length(g),0)}slice(p=0,g=1/0){const w=[],_=new l.default(this.ops);let x=0;for(;x<g&&_.hasNext();){let k;x<p?k=_.next(p-x):(k=_.next(g-x),w.push(k)),x+=o.default.length(k)}return new v(w)}compose(p){const g=new l.default(this.ops),w=new l.default(p.ops),_=[],x=w.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){let A=x.retain;for(;g.peekType()==="insert"&&g.peekLength()<=A;)A-=g.peekLength(),_.push(g.next());x.retain-A>0&&w.next(x.retain-A)}const k=new v(_);for(;g.hasNext()||w.hasNext();)if(w.peekType()==="insert")k.push(w.next());else if(g.peekType()==="delete")k.push(g.next());else{const A=Math.min(g.peekLength(),w.peekLength()),T=g.next(A),q=w.next(A);if(q.retain){const S={};if(typeof T.retain=="number")S.retain=typeof q.retain=="number"?A:q.retain;else if(typeof q.retain=="number")T.retain==null?S.insert=T.insert:S.retain=T.retain;else{const M=T.retain==null?"insert":"retain",[B,U,z]=h(T[M],q.retain),y=v.getHandler(B);S[M]={[B]:y.compose(U,z,M==="retain")}}const L=a.default.compose(T.attributes,q.attributes,typeof T.retain=="number");if(L&&(S.attributes=L),k.push(S),!w.hasNext()&&s(k.ops[k.ops.length-1],S)){const M=new v(g.rest());return k.concat(M).chop()}}else typeof q.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&k.push(q)}return k.chop()}concat(p){const g=new v(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new v;const w=[this,p].map(T=>T.map(q=>{if(q.insert!=null)return typeof q.insert=="string"?q.insert:d;const S=T===p?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")),_=new v,x=e(w[0],w[1],g,!0),k=new l.default(this.ops),A=new l.default(p.ops);return x.forEach(T=>{let q=T[1].length;for(;q>0;){let S=0;switch(T[0]){case e.INSERT:S=Math.min(A.peekLength(),q),_.push(A.next(S));break;case e.DELETE:S=Math.min(q,k.peekLength()),k.next(S),_.delete(S);break;case e.EQUAL:S=Math.min(k.peekLength(),A.peekLength(),q);const L=k.next(S),M=A.next(S);s(L.insert,M.insert)?_.retain(S,a.default.diff(L.attributes,M.attributes)):_.push(M).delete(S);break}q-=S}}),_.chop()}eachLine(p,g=`
`){const w=new l.default(this.ops);let _=new v,x=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const k=w.peek(),A=o.default.length(k)-w.peekLength(),T=typeof k.insert=="string"?k.insert.indexOf(g,A)-A:-1;if(T<0)_.push(w.next());else if(T>0)_.push(w.next(T));else{if(p(_,w.next(1).attributes||{},x)===!1)return;x+=1,_=new v}}_.length()>0&&p(_,{},x)}invert(p){const g=new v;return this.reduce((w,_)=>{if(_.insert)g.delete(o.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return g.retain(_.retain),w+_.retain;if(_.delete||typeof _.retain=="number"){const x=_.delete||_.retain;return p.slice(w,w+x).forEach(A=>{_.delete?g.push(A):_.retain&&_.attributes&&g.retain(o.default.length(A),a.default.invert(_.attributes,A.attributes))}),w+x}else if(typeof _.retain=="object"&&_.retain!==null){const x=p.slice(w,w+1),k=new l.default(x.ops).next(),[A,T,q]=h(_.retain,k.insert),S=v.getHandler(A);return g.retain({[A]:S.invert(T,q)},a.default.invert(_.attributes,k.attributes)),w+1}}return w},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const w=p,_=new l.default(this.ops),x=new l.default(w.ops),k=new v;for(;_.hasNext()||x.hasNext();)if(_.peekType()==="insert"&&(g||x.peekType()!=="insert"))k.retain(o.default.length(_.next()));else if(x.peekType()==="insert")k.push(x.next());else{const A=Math.min(_.peekLength(),x.peekLength()),T=_.next(A),q=x.next(A);if(T.delete)continue;if(q.delete)k.push(q);else{const S=T.retain,L=q.retain;let M=typeof L=="object"&&L!==null?L:A;if(typeof S=="object"&&S!==null&&typeof L=="object"&&L!==null){const B=Object.keys(S)[0];if(B===Object.keys(L)[0]){const U=v.getHandler(B);U&&(M={[B]:U.transform(S[B],L[B],g)})}}k.retain(M,a.default.transform(T.attributes,q.attributes,g))}}return k.chop()}transformPosition(p,g=!1){g=!!g;const w=new l.default(this.ops);let _=0;for(;w.hasNext()&&_<=p;){const x=w.peekLength(),k=w.peekType();if(w.next(),k==="delete"){p-=Math.min(x,p-_);continue}else k==="insert"&&(_<p||!g)&&(p+=x);_+=x}return p}}v.Op=o.default,v.OpIterator=l.default,v.AttributeMap=a.default,v.handlers={},t.default=v,r.exports=v,r.exports.default=v}(Zi,Zi.exports)),Zi.exports}var Tn=y0();const Ct=Ef(Tn);class Jn extends bn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Jn.blotName="break";Jn.tagName="BR";let Kn=class extends xo{};const w0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Io(r){return r.replace(/[&<>"']/g,t=>w0[t])}const is=class is extends oc{static compare(t,e){const n=is.order.indexOf(t),s=is.order.indexOf(e);return n>=0||s>=0?n-s:t===e?0:t<e?-1:1}formatAt(t,e,n,s){if(is.compare(this.statics.blotName,n)<0&&this.scroll.query(n,qt.BLOT)){const a=this.isolate(t,e);s&&a.wrap(n,s)}else super.formatAt(t,e,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof is&&is.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};$t(is,"allowedChildren",[is,Jn,bn,Kn]),$t(is,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ps=is;const Tu=1;class gr extends Ai{constructor(){super(...arguments);$t(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Tf(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,a){n<=0||(this.scroll.query(s,qt.BLOCK)?e+n===this.length()&&this.format(s,a):super.formatAt(e,Math.min(n,this.length()-e-1),s,a),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const a=n.split(`
`),o=a.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;a.reduce((d,h)=>(l=l.split(d,!0),l.insertAt(0,h),h.length),e+o.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof Jn&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Tu),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-Tu)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const s=super.split(e,n);return this.cache={},s}}gr.blotName="block";gr.tagName="P";gr.defaultChild=Jn;gr.allowedChildren=[Jn,ps,bn,Kn];class An extends bn{attach(){super.attach(),this.attributes=new qo(this.domNode)}delta(){return new Ct().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,qt.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,s){this.format(n,s)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const s=e.split(`
`),a=s.pop(),o=s.map(d=>{const h=this.scroll.create(gr.blotName);return h.insertAt(0,d),h}),l=this.split(t);o.forEach(d=>{this.parent.insertBefore(d,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}An.scope=qt.BLOCK_BLOT;function Tf(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(Nr).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),kn(n,{},t)),new Ct).insert(`
`,kn(r))}function kn(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:kn(r.parent,t,e)}const En=class En extends bn{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(En.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==qt.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=En.CONTENTS.length,n.optimize(),n.formatAt(s,En.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof Kn?this.prev:null,n=e?e.length():0,s=this.next instanceof Kn?this.next:null,a=s?s.text:"",{textNode:o}=this,l=o.data.split(En.CONTENTS).join("");o.data=En.CONTENTS;let d;if(e)d=e,(l||s)&&(e.insertAt(e.length(),l+a),s&&s.remove());else if(s)d=s,s.insertAt(0,l);else{const h=document.createTextNode(l);d=this.scroll.create(h),this.parent.insertBefore(d,this)}if(this.remove(),t){const h=(p,g)=>e&&p===e.domNode?g:p===o?n+g-1:s&&p===s.domNode?n+l.length+g:null,v=h(t.start.node,t.start.offset),m=h(t.end.node,t.end.offset);if(v!==null&&m!==null)return{startNode:d.domNode,startOffset:v,endNode:d.domNode,endOffset:m}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=En.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};$t(En,"blotName","cursor"),$t(En,"className","ql-cursor"),$t(En,"tagName","span"),$t(En,"CONTENTS","\uFEFF");let Wa=En;var Xo={exports:{}},Nu;function x0(){return Nu||(Nu=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(d,h,v){this.fn=d,this.context=h,this.once=v||!1}function a(d,h,v,m,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var g=new s(v,m||d,p),w=e?e+h:h;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],g]:d._events[w].push(g):(d._events[w]=g,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],v,m;if(this._eventsCount===0)return h;for(m in v=this._events)t.call(v,m)&&h.push(e?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(v)):h},l.prototype.listeners=function(h){var v=e?e+h:h,m=this._events[v];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,w=new Array(g);p<g;p++)w[p]=m[p].fn;return w},l.prototype.listenerCount=function(h){var v=e?e+h:h,m=this._events[v];return m?m.fn?1:m.length:0},l.prototype.emit=function(h,v,m,p,g,w){var _=e?e+h:h;if(!this._events[_])return!1;var x=this._events[_],k=arguments.length,A,T;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),k){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,v),!0;case 3:return x.fn.call(x.context,v,m),!0;case 4:return x.fn.call(x.context,v,m,p),!0;case 5:return x.fn.call(x.context,v,m,p,g),!0;case 6:return x.fn.call(x.context,v,m,p,g,w),!0}for(T=1,A=new Array(k-1);T<k;T++)A[T-1]=arguments[T];x.fn.apply(x.context,A)}else{var q=x.length,S;for(T=0;T<q;T++)switch(x[T].once&&this.removeListener(h,x[T].fn,void 0,!0),k){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,v);break;case 3:x[T].fn.call(x[T].context,v,m);break;case 4:x[T].fn.call(x[T].context,v,m,p);break;default:if(!A)for(S=1,A=new Array(k-1);S<k;S++)A[S-1]=arguments[S];x[T].fn.apply(x[T].context,A)}}return!0},l.prototype.on=function(h,v,m){return a(this,h,v,m,!1)},l.prototype.once=function(h,v,m){return a(this,h,v,m,!0)},l.prototype.removeListener=function(h,v,m,p){var g=e?e+h:h;if(!this._events[g])return this;if(!v)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===v&&(!p||w.once)&&(!m||w.context===m)&&o(this,g);else{for(var _=0,x=[],k=w.length;_<k;_++)(w[_].fn!==v||p&&!w[_].once||m&&w[_].context!==m)&&x.push(w[_]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},l.prototype.removeAllListeners=function(h){var v;return h?(v=e?e+h:h,this._events[v]&&o(this,v)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(Xo)),Xo.exports}var E0=x0();const k0=Ef(E0),Ol=new WeakMap,Ll=["error","warn","log","info"];let Cl="warn";function Nf(r){if(Cl&&Ll.indexOf(r)<=Ll.indexOf(Cl)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function Ns(r){return Ll.reduce((t,e)=>(t[e]=Nf.bind(console,e,r),t),{})}Ns.level=r=>{Cl=r};Nf.level=Ns.level;const Qo=Ns("quill:events"),$0=["selectionchange","mousedown","mouseup","click"];$0.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const a=Ol.get(s);a&&a.emitter&&a.emitter.handleDOM(...e)})})});class St extends k0{constructor(){super(),this.domListeners={},this.on("error",Qo.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qo.log.call(Qo,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(a=>{let{node:o,handler:l}=a;(t.target===o||o.contains(t.target))&&l(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}$t(St,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),$t(St,"sources",{API:"api",SILENT:"silent",USER:"user"});const tl=Ns("quill:selection");class ua{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class A0{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ua(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,St.sources.USER),1)}),this.emitter.on(St.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(St.events.SCROLL_UPDATE,(s,a)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?St.sources.SILENT:s)}catch{}})}),this.emitter.on(St.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:a,startOffset:o,endNode:l,endOffset:d}=s.range;this.setNativeRange(a,o,l,d),this.update(St.sources.SILENT)}}),this.update(St.sources.SILENT)}handleComposition(){this.emitter.on(St.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(St.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(St.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,qt.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof Nr){const a=s.split(n.start.offset);s.parent.insertBefore(this.cursor,a)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let s,[a,o]=this.scroll.leaf(t);if(a==null)return null;if(e>0&&o===a.length()){const[v]=this.scroll.leaf(t+1);if(v){const[m]=this.scroll.line(t),[p]=this.scroll.line(t+1);m===p&&(a=v,o=0)}}[s,o]=a.position(o,!0);const l=document.createRange();if(e>0)return l.setStart(s,o),[a,o]=this.scroll.leaf(t+e),a==null?null:([s,o]=a.position(o,!0),l.setEnd(s,o),l.getBoundingClientRect());let d="left",h;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(l.setStart(s,o),l.setEnd(s,o+1)):(l.setStart(s,o-1),l.setEnd(s,o),d="right"),h=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;h=a.domNode.getBoundingClientRect(),o>0&&(d="right")}return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return tl.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&el(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(o=>{const[l,d]=o,h=this.scroll.find(l,!0),v=h.offset(this.scroll);return d===0?v:h instanceof Nr?v+h.index(l,d):v+h.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),a=Math.min(s,...n);return new ua(a,s-a)}normalizeNative(t){if(!el(this.root,t.startContainer)||!t.collapsed&&!el(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:s,offset:a}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>a)s=s.childNodes[a],a=0;else if(s.childNodes.length===a)s=s.lastChild,s instanceof Text?a=s.data.length:s.childNodes.length>0?a=s.childNodes.length:a=s.childNodes.length+1;else break;n.node=s,n.offset=a}),e}rangeToNative(t){const e=this.scroll.length(),n=(s,a)=>{s=Math.min(e-1,s);const[o,l]=this.scroll.leaf(s);return o?o.position(l,a):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(tl.info("setNativeRange",t,e,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||s!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const d=document.createRange();d.setStart(t,e),d.setEnd(n,s),o.removeAllRanges(),o.addRange(d)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;if(typeof e=="string"&&(n=e,e=!1),tl.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St.sources.USER;const e=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!ic(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const a=[St.events.SELECTION_CHANGE,Ma(this.lastRange),Ma(e),t];this.emitter.emit(St.events.EDITOR_CHANGE,...a),t!==St.sources.SILENT&&this.emitter.emit(...a)}}}function el(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const T0=/^[ -~]*$/;class N0{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=Su(t),s=new Ct;return O0(n.ops.slice()).reduce((o,l)=>{const d=Tn.Op.length(l);let h=l.attributes||{},v=!1,m=!1;if(l.insert!=null){if(s.retain(d),typeof l.insert=="string"){const w=l.insert;m=!w.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(An,o)[0]),this.scroll.insertAt(o,w);const[_,x]=this.scroll.line(o);let k=Hs({},kn(_));if(_ instanceof gr){const[A]=_.descendant(Nr,x);A&&(k=Hs(k,kn(A)))}h=Tn.AttributeMap.diff(k,h)||{}}else if(typeof l.insert=="object"){const w=Object.keys(l.insert)[0];if(w==null)return o;const _=this.scroll.query(w,qt.INLINE)!=null;if(_)(e<=o||this.scroll.descendant(An,o)[0])&&(m=!0);else if(o>0){const[x,k]=this.scroll.descendant(Nr,o-1);x instanceof Kn?x.value()[k]!==`
`&&(v=!0):x instanceof bn&&x.statics.scope===qt.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(o,w,l.insert[w]),_){const[x]=this.scroll.descendant(Nr,o);if(x){const k=Hs({},kn(x));h=Tn.AttributeMap.diff(k,h)||{}}}}e+=d}else if(s.push(l),l.retain!==null&&typeof l.retain=="object"){const w=Object.keys(l.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,l.retain[w])}Object.keys(h).forEach(w=>{this.scroll.formatAt(o,d,w,h[w])});const p=v?1:0,g=m?1:0;return e+=p+g,s.retain(p),s.delete(g),o+d+p+g},0),s.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Tn.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new Ct().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(a=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(a,n[a])})}),this.scroll.optimize();const s=new Ct().retain(t).retain(e,Ma(n));return this.update(s)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(a=>{this.scroll.formatAt(t,e,a,n[a])});const s=new Ct().retain(t).retain(e,Ma(n));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new Ct)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];e===0?this.scroll.path(t).forEach(l=>{const[d]=l;d instanceof gr?n.push(d):d instanceof Nr&&s.push(d)}):(n=this.scroll.lines(t,e),s=this.scroll.descendants(Nr,t,e));const[a,o]=[n,s].map(l=>{const d=l.shift();if(d==null)return{};let h=kn(d);for(;Object.keys(h).length>0;){const v=l.shift();if(v==null)return h;h=S0(kn(v),h)}return h});return{...a,...o}}getHTML(t,e){const[n,s]=this.scroll.line(t);if(n){const a=n.length();return n.length()>=s+e&&!(s===0&&e===a)?Ti(n,s,e,!0):Ti(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=Su(e),s=new Ct().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new Ct().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e.length,s,n[s])}),this.update(new Ct().retain(t).insert(e,Ma(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==gr.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Jn}removeFormat(t,e){const n=this.getText(t,e),[s,a]=this.scroll.line(t+e);let o=0,l=new Ct;s!=null&&(o=s.length()-a,l=s.delta().slice(a,a+o-1).insert(`
`));const h=this.getContents(t,e+o).diff(new Ct().insert(n).concat(l)),v=new Ct().retain(t).concat(h);return this.applyDelta(v)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(T0)&&this.scroll.find(e[0].target)){const a=this.scroll.find(e[0].target),o=kn(a),l=a.offset(this.scroll),d=e[0].oldValue.replace(Wa.CONTENTS,""),h=new Ct().insert(d),v=new Ct().insert(a.value()),m=n&&{oldRange:Ou(n.oldRange,-l),newRange:Ou(n.newRange,-l)};t=new Ct().retain(l).concat(h.diff(v,m)).reduce((g,w)=>w.insert?g.insert(w.insert,o):g.push(w),new Ct),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!ic(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function qa(r,t,e){if(r.length===0){const[g]=rl(e.pop());return t<=0?`</li></${g}>`:`</li></${g}>${qa([],t-1,e)}`}const[{child:n,offset:s,length:a,indent:o,type:l},...d]=r,[h,v]=rl(l);if(o>t)return e.push(l),o===t+1?`<${h}><li${v}>${Ti(n,s,a)}${qa(d,o,e)}`:`<${h}><li>${qa(r,t+1,e)}`;const m=e[e.length-1];if(o===t&&l===m)return`</li><li${v}>${Ti(n,s,a)}${qa(d,o,e)}`;const[p]=rl(e.pop());return`</li></${p}>${qa(r,t-1,e)}`}function Ti(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof Kn)return Io(r.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(r instanceof zn){if(r.statics.blotName==="list-container"){const h=[];return r.children.forEachAt(t,e,(v,m,p)=>{const g="formats"in v&&typeof v.formats=="function"?v.formats():{};h.push({child:v,offset:m,length:p,indent:g.indent||0,type:g.list})}),qa(h,-1,[])}const s=[];if(r.children.forEachAt(t,e,(h,v,m)=>{s.push(Ti(h,v,m))}),n||r.statics.blotName==="list")return s.join("");const{outerHTML:a,innerHTML:o}=r.domNode,[l,d]=a.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${d}`:`${l}>${s.join("")}<${d}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function S0(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const s=t[n];return s===r[n]?e[n]=s:Array.isArray(s)?s.indexOf(r[n])<0?e[n]=s.concat([r[n]]):e[n]=s:e[n]=[s,r[n]],e},{})}function rl(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Su(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new Ct)}function Ou(r,t){let{index:e,length:n}=r;return new ua(e+t,n)}function O0(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,a)=>{a&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class Zn{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}$t(Zn,"DEFAULTS",{});const to="\uFEFF";class cc extends bn{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(to),this.rightGuard=document.createTextNode(to),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const s=t.data.split(to).join("");if(t===this.leftGuard)if(this.prev instanceof Kn){const a=this.prev.length();this.prev.insertAt(a,s),e={startNode:this.prev.domNode,startOffset:a+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof Kn?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:s.length}));return t.data=to,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(e.range=s)}})}}class L0{constructor(t,e){$t(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof cc)&&(this.emitter.emit(St.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(St.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(St.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(St.events.COMPOSITION_END,t),this.isComposing=!1}}const vi=class vi{constructor(t,e){$t(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};$t(vi,"DEFAULTS",{modules:{}}),$t(vi,"themes",{default:vi});let Ja=vi;const C0=r=>r.parentElement||r.getRootNode().host||null,q0=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},eo=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},Lu=(r,t,e,n,s,a)=>r<e&&t>n?0:r<e?-(e-r+s):t>n?t-r>n-e?r+s-e:t-n+a:0,R0=(r,t)=>{var a,o,l;const e=r.ownerDocument;let n=t,s=r;for(;s;){const d=s===e.body,h=d?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:q0(s),v=getComputedStyle(s),m=Lu(n.left,n.right,h.left,h.right,eo(v.scrollPaddingLeft),eo(v.scrollPaddingRight)),p=Lu(n.top,n.bottom,h.top,h.bottom,eo(v.scrollPaddingTop),eo(v.scrollPaddingBottom));if(m||p)if(d)(l=e.defaultView)==null||l.scrollBy(m,p);else{const{scrollLeft:g,scrollTop:w}=s;p&&(s.scrollTop+=p),m&&(s.scrollLeft+=m);const _=s.scrollLeft-g,x=s.scrollTop-w;n={left:n.left-_,top:n.top-x,right:n.right-_,bottom:n.bottom-x}}s=d||v.position==="fixed"?null:C0(s)}},I0=100,D0=["block","break","cursor","inline","scroll","text"],j0=(r,t,e)=>{const n=new Va;return D0.forEach(s=>{const a=t.query(s);a&&n.register(a)}),r.forEach(s=>{let a=t.query(s);a||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;a;)if(n.register(a),a="blotName"in a?a.requiredContainer??null:null,o+=1,o>I0){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},Fa=Ns("quill"),ro=new Va;zn.uiClass="ql-ui";const Bn=class Bn{static debug(t){t===!0&&(t="log"),Ns.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ol.get(t)||ro.find(t,e)}static import(t){return this.imports[t]==null&&Fa.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Fa.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&ro.register(e),typeof e.register=="function"&&e.register(ro)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=P0(t,e),this.container=this.options.container,this.container==null){Fa.error("Invalid Quill container",t);return}this.options.debug&&Bn.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ol.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new St;const s=lc.blotName,a=this.options.registry.query(s);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new N0(this.scroll),this.selection=new A0(this.scroll,this.emitter),this.composition=new L0(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(St.events.EDITOR_CHANGE,o=>{o===St.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(St.events.SCROLL_UPDATE,(o,l)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),v=d&&h?{oldRange:d,newRange:h}:void 0;Pn.call(this,()=>this.editor.update(null,l,v),o)}),this.emitter.on(St.events.SCROLL_EMBED_UPDATE,(o,l)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),v=d&&h?{oldRange:d,newRange:h}:void 0;Pn.call(this,()=>{const m=new Ct().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(m,[],v)},Bn.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=ys(t,e,n),Pn.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;return Pn.call(this,()=>{const s=this.getSelection(!0);let a=new Ct;if(s==null)return a;if(this.scroll.query(t,qt.BLOCK))a=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),a;a=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,St.sources.SILENT),a},n)}formatLine(t,e,n,s,a){let o;return[t,e,o,a]=ys(t,e,n,s,a),Pn.call(this,()=>this.editor.formatLine(t,e,o),a,t,0)}formatText(t,e,n,s,a){let o;return[t,e,o,a]=ys(t,e,n,s,a),Pn.call(this,()=>this.editor.formatText(t,e,o),a,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=ys(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=ys(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=ys(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bn.sources.API;return Pn.call(this,()=>this.editor.insertEmbed(t,e,n),s,t)}insertText(t,e,n,s,a){let o;return[t,,o,a]=ys(t,0,n,s,a),Pn.call(this,()=>this.editor.insertText(t,e,o),a,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=ys(t,e,n),Pn.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){R0(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;return Pn.call(this,()=>{t=new Ct(t);const n=this.getLength(),s=this.editor.deleteText(0,n),a=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(a).compose(o)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||Bn.sources.API):([t,e,,n]=ys(t,e,n),this.selection.setRange(new ua(Math.max(0,t),e),n),n!==St.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;const n=new Ct().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;return Pn.call(this,()=>(t=new Ct(t),this.editor.applyDelta(t)),e,!0)}};$t(Bn,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ro,theme:"default"}),$t(Bn,"events",St.events),$t(Bn,"sources",St.sources),$t(Bn,"version","2.0.3"),$t(Bn,"imports",{delta:Ct,parchment:m0,"core/module":Zn,"core/theme":Ja});let it=Bn;function Cu(r){return typeof r=="string"?document.querySelector(r):r}function nl(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,s]=e;return{...t,[n]:s===!0?{}:s}},{})}function qu(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function P0(r,t){const e=Cu(r);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===it.DEFAULTS.theme?Ja:it.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:a,...o}=it.DEFAULTS,{modules:l,...d}=s.DEFAULTS;let h=nl(t.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const v=Hs({},nl(a),nl(l),h),m={...o,...qu(d),...qu(t)};let p=t.registry;return p?t.formats&&Fa.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?j0(t.formats,m.registry,Fa):m.registry,{...m,registry:p,container:e,theme:s,modules:Object.entries(v).reduce((g,w)=>{let[_,x]=w;if(!x)return g;const k=it.import(`modules/${_}`);return k==null?(Fa.error(`Cannot load ${_} module. Are you sure you registered it?`),g):{...g,[_]:Hs({},k.DEFAULTS||{},x)}},{}),bounds:Cu(m.bounds)}}function Pn(r,t,e,n){if(!this.isEnabled()&&t===St.sources.USER&&!this.allowReadOnlyEdits)return new Ct;let s=e==null?null:this.getSelection();const a=this.editor.delta,o=r();if(s!=null&&(e===!0&&(e=s.index),n==null?s=Ru(s,o,t):n!==0&&(s=Ru(s,e,n,t)),this.setSelection(s,St.sources.SILENT)),o.length()>0){const l=[St.events.TEXT_CHANGE,o,a,t];this.emitter.emit(St.events.EDITOR_CHANGE,...l),t!==St.sources.SILENT&&this.emitter.emit(...l)}return o}function ys(r,t,e,n,s){let a={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(s=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(s=n,n=e,e=t,t=0),typeof e=="object"?(a=e,s=n):typeof e=="string"&&(n!=null?a[e]=n:s=e),s=s||St.sources.API,[r,t,a,s]}function Ru(r,t,e,n){const s=typeof e=="number"?e:0;if(r==null)return null;let a,o;return t&&typeof t.transformPosition=="function"?[a,o]=[r.index,r.index+r.length].map(l=>t.transformPosition(l,n!==St.sources.USER)):[a,o]=[r.index,r.index+r.length].map(l=>l<t||l===t&&n===St.sources.USER?l:s>=0?l+s:Math.max(t,l+s)),new ua(a,o-a)}class ma extends Ro{}function Iu(r){return r instanceof gr||r instanceof An}function Du(r){return typeof r.updateContent=="function"}class Ra extends lc{constructor(t,e,n){let{emitter:s}=n;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(St.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(St.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(St.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,s]=this.line(t),[a]=this.line(t+e);if(super.deleteAt(t,e),a!=null&&n!==a&&s>0){if(n instanceof An||a instanceof An){this.optimize();return}const o=a.children.head instanceof Jn?null:a.children.head;n.moveChildren(a,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,qt.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),n):s.insertAt(0,e,n)}else{const s=this.scroll.create(e,n);this.appendChild(s)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===qt.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new Ct().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const a=n.shift();if(a){const d=a.type==="block"&&(a.delta.length()===0||!this.descendant(An,t)[0]&&t<this.length()),h=a.type==="block"?a.delta:new Ct().insert({[a.key]:a.value});sl(this,t,h);const v=a.type==="block"?1:0,m=t+h.length()+v;d&&this.insertAt(m-1,`
`);const p=kn(this.line(t)[0]),g=Tn.AttributeMap.diff(p,a.attributes)||{};Object.keys(g).forEach(w=>{this.formatAt(m-1,1,w,g[w])}),t=m}let[o,l]=this.children.find(t);if(n.length&&(o&&(o=o.split(l),l=0),n.forEach(d=>{if(d.type==="block"){const h=this.createBlock(d.attributes,o||void 0);sl(h,0,d.delta)}else{const h=this.create(d.key,d.value);this.insertBefore(h,o||void 0),Object.keys(d.attributes).forEach(v=>{h.format(v,d.attributes[v])})}})),s.type==="block"&&s.delta.length()){const d=o?o.offset(o.scroll)+l:this.length();sl(this,d,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,s]=e;return n instanceof Nr?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Iu,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,a,o)=>{let l=[],d=o;return s.children.forEachAt(a,o,(h,v,m)=>{Iu(h)?l.push(h):h instanceof Ro&&(l=l.concat(n(h,v,d))),d-=m}),l};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(St.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=St.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const a=this.find(s,!0);return a&&!Du(a)}),t.length>0&&this.emitter.emit(St.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(St.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[s]=this.descendant(a=>a instanceof An,t);s&&s.statics.blotName===e&&Du(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new Ct;return t.forEach(s=>{const a=s==null?void 0:s.insert;if(a)if(typeof a=="string"){const o=a.split(`
`);o.slice(0,-1).forEach(d=>{n.insert(d,s.attributes),e.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new Ct});const l=o[o.length-1];l&&n.insert(l,s.attributes)}else{const o=Object.keys(a)[0];if(!o)return;this.query(o,qt.INLINE)?n.push(s):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new Ct,e.push({type:"blockEmbed",key:o,value:a[o],attributes:s.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const s={};Object.entries(t).forEach(l=>{let[d,h]=l;this.query(d,qt.BLOCK&qt.BLOT)!=null?n=d:s[d]=h});const a=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(a,e||void 0);const o=a.length();return Object.entries(s).forEach(l=>{let[d,h]=l;a.formatAt(0,o,d,h)}),a}}$t(Ra,"blotName","scroll"),$t(Ra,"className","ql-editor"),$t(Ra,"tagName","DIV"),$t(Ra,"defaultChild",gr),$t(Ra,"allowedChildren",[gr,An,ma]);function sl(r,t,e){e.reduce((n,s)=>{const a=Tn.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const l=s.insert;r.insertAt(n,l);const[d]=r.descendant(Nr,n),h=kn(d);o=Tn.AttributeMap.diff(h,o)||{}}else if(typeof s.insert=="object"){const l=Object.keys(s.insert)[0];if(l==null)return n;if(r.insertAt(n,l,s.insert[l]),r.scroll.query(l,qt.INLINE)!=null){const[h]=r.descendant(Nr,n),v=kn(h);o=Tn.AttributeMap.diff(v,o)||{}}}}return Object.keys(o).forEach(l=>{r.formatAt(n,a,l,o[l])}),n+a},t)}const uc={scope:qt.BLOCK,whitelist:["right","center","justify"]},B0=new hs("align","align",uc),Sf=new Wn("align","ql-align",uc),Of=new Js("align","text-align",uc);class Lf extends Js{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const M0=new Wn("color","ql-color",{scope:qt.INLINE}),dc=new Lf("color","color",{scope:qt.INLINE}),U0=new Wn("background","ql-bg",{scope:qt.INLINE}),fc=new Lf("background","background-color",{scope:qt.INLINE});class ga extends ma{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${Io(this.code(t,e))}
</pre>`}}class Sr extends gr{static register(){it.register(ga)}}$t(Sr,"TAB","  ");class hc extends ps{}hc.blotName="code";hc.tagName="CODE";Sr.blotName="code-block";Sr.className="ql-code-block";Sr.tagName="DIV";ga.blotName="code-block-container";ga.className="ql-code-block-container";ga.tagName="DIV";ga.allowedChildren=[Sr];Sr.allowedChildren=[Kn,Jn,Wa];Sr.requiredContainer=ga;const pc={scope:qt.BLOCK,whitelist:["rtl"]},Cf=new hs("direction","dir",pc),qf=new Wn("direction","ql-direction",pc),Rf=new Js("direction","direction",pc),If={scope:qt.INLINE,whitelist:["serif","monospace"]},Df=new Wn("font","ql-font",If);class F0 extends Js{value(t){return super.value(t).replace(/["']/g,"")}}const jf=new F0("font","font-family",If),Pf=new Wn("size","ql-size",{scope:qt.INLINE,whitelist:["small","large","huge"]}),Bf=new Js("size","font-size",{scope:qt.INLINE,whitelist:["10px","18px","32px"]}),z0=Ns("quill:keyboard"),H0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Do extends Zn{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=G0(t);if(s==null){z0.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const l={...s,key:o,...e,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(k=>Do.match(t,k));if(s.length===0)return;const a=it.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,d]=this.quill.getLine(o.index),[h,v]=this.quill.getLeaf(o.index),[m,p]=o.length===0?[h,v]:this.quill.getLeaf(o.index+o.length),g=h instanceof xo?h.value().slice(0,v):"",w=m instanceof xo?m.value().slice(p):"",_={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:d,prefix:g,suffix:w,event:t};s.some(k=>{if(k.collapsed!=null&&k.collapsed!==_.collapsed||k.empty!=null&&k.empty!==_.empty||k.offset!=null&&k.offset!==_.offset)return!1;if(Array.isArray(k.format)){if(k.format.every(A=>_.format[A]==null))return!1}else if(typeof k.format=="object"&&!Object.keys(k.format).every(A=>k.format[A]===!0?_.format[A]!=null:k.format[A]===!1?_.format[A]==null:ic(k.format[A],_.format[A])))return!1;return k.prefix!=null&&!k.prefix.test(_.prefix)||k.suffix!=null&&!k.suffix.test(_.suffix)?!1:k.handler.call(this,o,_,k)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[a]=this.quill.getLine(t.index);let o=new Ct().retain(t.index-n).delete(n);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const h=a.formats(),v=this.quill.getFormat(t.index-1,1);if(s=Tn.AttributeMap.diff(h,v)||{},Object.keys(s).length>0){const m=new Ct().retain(t.index+a.length()-2).retain(1,s);o=o.compose(m)}}}this.quill.updateContents(o,it.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[a]=this.quill.getLine(t.index);let o=new Ct().retain(t.index).delete(n);if(e.offset>=a.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const d=a.formats(),h=this.quill.getFormat(t.index,1);s=Tn.AttributeMap.diff(d,h)||{},Object.keys(s).length>0&&(o=o.retain(l.length()-1).retain(1,s))}}this.quill.updateContents(o,it.sources.USER),this.quill.focus()}handleDeleteRange(t){vc({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((a,o)=>(this.quill.scroll.query(o,qt.BLOCK)&&!Array.isArray(e.format[o])&&(a[o]=e.format[o]),a),{}),s=new Ct().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,it.sources.USER),this.quill.setSelection(t.index+1,it.sources.SILENT),this.quill.focus()}}const K0={bindings:{bold:al("bold"),italic:al("italic"),underline:al("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",it.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",it.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",it.sources.USER):t.format.list!=null&&this.quill.format("list",!1,it.sources.USER)}},"indent code-block":ju(!0),"outdent code-block":ju(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,it.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new Ct().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,it.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,it.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,it.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,it.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},s=new Ct().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,it.sources.USER),this.quill.setSelection(r.index+1,it.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),s=new Ct().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,it.sources.USER),this.quill.setSelection(r.index+1,it.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,s,a]=t.getTable(r),o=V0(e,n,s,a);if(o==null)return;let l=e.offset();if(o<0){const d=new Ct().retain(l).insert(`
`);this.quill.updateContents(d,it.sources.USER),this.quill.setSelection(r.index+1,r.length,it.sources.SILENT)}else if(o>0){l+=e.length();const d=new Ct().retain(l).insert(`
`);this.quill.updateContents(d,it.sources.USER),this.quill.setSelection(l,it.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,s=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,it.sources.USER):this.quill.setSelection(s+n.length(),it.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,s]=this.quill.getLine(r.index);if(s>e)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(r.index," ",it.sources.USER),this.quill.history.cutoff();const o=new Ct().retain(r.index-s).delete(e+1).retain(n.length()-2-s).retain(1,{list:a});return this.quill.updateContents(o,it.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,it.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const a=new Ct().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,it.sources.USER),this.quill.setSelection(r.index-1,it.sources.SILENT),!1}return!0}},"embed left":no("ArrowLeft",!1),"embed left shift":no("ArrowLeft",!0),"embed right":no("ArrowRight",!1),"embed right shift":no("ArrowRight",!0),"table down":Pu(!1),"table up":Pu(!0)}};Do.DEFAULTS=K0;function ju(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const s=this.quill.scroll.query("code-block"),{TAB:a}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,a,it.sources.USER),this.quill.setSelection(t.index+a.length,it.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:d}=t;o.forEach((h,v)=>{r?(h.insertAt(0,a),v===0?l+=a.length:d+=a.length):h.domNode.textContent.startsWith(a)&&(h.deleteAt(0,a.length),v===0?l-=a.length:d-=a.length)}),this.quill.update(it.sources.USER),this.quill.setSelection(l,d,it.sources.SILENT)}}}function no(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;r==="ArrowRight"&&(s+=n.length+1);const[a]=this.quill.getLeaf(s);return a instanceof bn?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,it.sources.USER):this.quill.setSelection(n.index-1,it.sources.USER):t?this.quill.setSelection(n.index,n.length+1,it.sources.USER):this.quill.setSelection(n.index+n.length+1,it.sources.USER),!1):!0}}}function al(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],it.sources.USER)}}}function Pu(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",s=e.line,a=s.parent[n];if(a!=null){if(a.statics.blotName==="table-row"){let o=a.children.head,l=s;for(;l.prev!=null;)l=l.prev,o=o.next;const d=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(d,0,it.sources.USER)}}else{const o=s.table()[n];o!=null&&(r?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,it.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,it.sources.USER))}return!1}}}function G0(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=Ma(r);else return null;return r.shortKey&&(r[H0]=r.shortKey,delete r.shortKey),r}function vc(r){let{quill:t,range:e}=r;const n=t.getLines(e);let s={};if(n.length>1){const a=n[0].formats(),o=n[n.length-1].formats();s=Tn.AttributeMap.diff(o,a)||{}}t.deleteText(e,it.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,it.sources.USER),t.setSelection(e.index,it.sources.SILENT)}function V0(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const W0=/font-weight:\s*normal/,J0=["P","OL","UL"],Bu=r=>r&&J0.includes(r.tagName),Z0=r=>{Array.from(r.querySelectorAll("br")).filter(t=>Bu(t.previousElementSibling)&&Bu(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},Y0=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(W0)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function X0(r){r.querySelector('[id^="docs-internal-guid-"]')&&(Y0(r),Z0(r))}const Q0=/\bmso-list:[^;]*ignore/i,t2=/\bmso-list:[^;]*\bl(\d+)/i,e2=/\bmso-list:[^;]*\blevel(\d+)/i,r2=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(t2);if(!n)return null;const s=Number(n[1]),a=e==null?void 0:e.match(e2),o=a?Number(a[1]):1,l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=t.match(l),h=d&&d[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:h,element:r}},n2=r=>{var o,l;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(d=>{(d.getAttribute("style")||"").match(Q0)?e.push(d):n.push(d)}),e.forEach(d=>{var h;return(h=d.parentNode)==null?void 0:h.removeChild(d)});const s=r.documentElement.innerHTML,a=n.map(d=>r2(d,s)).filter(d=>d);for(;a.length;){const d=[];let h=a.shift();for(;h;)d.push(h),h=a.length&&((o=a[0])==null?void 0:o.element)===h.element.nextElementSibling&&a[0].id===h.id?a.shift():null;const v=document.createElement("ul");d.forEach(g=>{const w=document.createElement("li");w.setAttribute("data-list",g.type),g.indent>1&&w.setAttribute("class",`ql-indent-${g.indent-1}`),w.innerHTML=g.element.innerHTML,v.appendChild(w)});const m=(l=d[0])==null?void 0:l.element,{parentNode:p}=m??{};m&&(p==null||p.replaceChild(v,m)),d.slice(1).forEach(g=>{let{element:w}=g;p==null||p.removeChild(w)})}};function s2(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&n2(r)}const a2=[s2,X0],i2=r=>{r.documentElement&&a2.forEach(t=>{t(r)})},o2=Ns("quill:clipboard"),l2=[[Node.TEXT_NODE,y2],[Node.TEXT_NODE,Uu],["br",h2],[Node.ELEMENT_NODE,Uu],[Node.ELEMENT_NODE,f2],[Node.ELEMENT_NODE,d2],[Node.ELEMENT_NODE,b2],["li",m2],["ol, ul",g2],["pre",p2],["tr",_2],["b",il("bold")],["i",il("italic")],["strike",il("strike")],["style",v2]],c2=[B0,Cf].reduce((r,t)=>(r[t.keyName]=t,r),{}),Mu=[Of,fc,dc,Rf,jf,Bf].reduce((r,t)=>(r[t.keyName]=t,r),{});class Mf extends Zn{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],l2.concat(this.options.matchers??[]).forEach(n=>{let[s,a]=n;this.addMatcher(s,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Sr.blotName])return new Ct().insert(n||"",{[Sr.blotName]:s[Sr.blotName]});if(!e)return new Ct().insert(n||"",s);const a=this.convertHTML(e);return Mi(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||s.table)?a.compose(new Ct().retain(a.length()-1).delete(1)):a}normalizeHTML(t){i2(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,s=new WeakMap,[a,o]=this.prepareMatching(n,s);return mc(this.quill.scroll,n,a,o,s)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:it.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,it.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new Ct().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),it.sources.SILENT)}}onCaptureCopy(t){var o,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:a}=this.onCopy(n,e);(o=t.clipboardData)==null||o.setData("text/plain",a),(l=t.clipboardData)==null||l.setData("text/html",s),e&&vc({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,d,h,v;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!s){const m=(d=t.clipboardData)==null?void 0:d.getData("text/uri-list");m&&(s=this.normalizeURIList(m))}const a=Array.from(((h=t.clipboardData)==null?void 0:h.files)||[]);if(!n&&a.length>0){this.quill.uploader.upload(e,a);return}if(n&&a.length>0){const m=new DOMParser().parseFromString(n,"text/html");if(m.body.childElementCount===1&&((v=m.body.firstElementChild)==null?void 0:v.tagName)==="IMG"){this.quill.uploader.upload(e,a);return}}this.onPaste(e,{html:n,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:s}=e;const a=this.quill.getFormat(t.index),o=this.convert({text:n,html:s},a);o2.log("onPaste",o,{text:n,html:s});const l=new Ct().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,it.sources.USER),this.quill.setSelection(l.length()-t.length,it.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],s=[];return this.matchers.forEach(a=>{const[o,l]=a;switch(o){case Node.TEXT_NODE:s.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(d=>{if(e.has(d)){const h=e.get(d);h==null||h.push(l)}else e.set(d,[l])});break}}),[n,s]}}$t(Mf,"DEFAULTS",{matchers:[]});function ba(r,t,e,n){return n.query(t)?r.reduce((s,a)=>{if(!a.insert)return s;if(a.attributes&&a.attributes[t])return s.push(a);const o=e?{[t]:e}:{};return s.insert(a.insert,{...o,...a.attributes})},new Ct):r}function Mi(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const s=r.ops[n];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function Bs(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof bn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function u2(r,t){return r.previousElementSibling&&r.nextElementSibling&&!Bs(r.previousElementSibling,t)&&!Bs(r.nextElementSibling,t)}const so=new WeakMap;function Uf(r){return r==null?!1:(so.has(r)||(r.tagName==="PRE"?so.set(r,!0):so.set(r,Uf(r.parentNode))),so.get(r))}function mc(r,t,e,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((a,o)=>o(t,a,r),new Ct):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,o)=>{let l=mc(r,o,e,n,s);return o.nodeType===t.ELEMENT_NODE&&(l=e.reduce((d,h)=>h(o,d,r),l),l=(s.get(o)||[]).reduce((d,h)=>h(o,d,r),l)),a.concat(l)},new Ct):new Ct}function il(r){return(t,e,n)=>ba(e,r,!0,n)}function d2(r,t,e){const n=hs.keys(r),s=Wn.keys(r),a=Js.keys(r),o={};return n.concat(s).concat(a).forEach(l=>{let d=e.query(l,qt.ATTRIBUTE);d!=null&&(o[d.attrName]=d.value(r),o[d.attrName])||(d=c2[l],d!=null&&(d.attrName===l||d.keyName===l)&&(o[d.attrName]=d.value(r)||void 0),d=Mu[l],d!=null&&(d.attrName===l||d.keyName===l)&&(d=Mu[l],o[d.attrName]=d.value(r)||void 0))}),Object.entries(o).reduce((l,d)=>{let[h,v]=d;return ba(l,h,v,e)},t)}function f2(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof bn){const s={},a=n.value(r);if(a!=null)return s[n.blotName]=a,new Ct().insert(s,n.formats(r,e))}else if(n.prototype instanceof Ai&&!Mi(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return ba(t,n.blotName,n.formats(r,e),e);return t}function h2(r,t){return Mi(t,`
`)||t.insert(`
`),t}function p2(r,t,e){const n=e.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return ba(t,"code-block",s,e)}function v2(){return new Ct}function m2(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!Mi(t,`
`))return t;let s=-1,a=r.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(s+=1),a=a.parentNode;return s<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:s,...l.attributes||{}}):o,new Ct)}function g2(r,t,e){const n=r;let s=n.tagName==="OL"?"ordered":"bullet";const a=n.getAttribute("data-checked");return a&&(s=a==="true"?"checked":"unchecked"),ba(t,"list",s,e)}function Uu(r,t,e){if(!Mi(t,`
`)){if(Bs(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(Bs(n,e))return t.insert(`
`);const s=e.query(n);if(s&&s.prototype instanceof An)return t.insert(`
`);n=n.firstChild}}}return t}function b2(r,t,e){var a;const n={},s=r.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((a=s.fontWeight)!=null&&a.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,l)=>{let[d,h]=l;return ba(o,d,h,e)},t),parseFloat(s.textIndent||0)>0?new Ct().insert("	").concat(t):t}function _2(r,t,e){var s,a;const n=((s=r.parentElement)==null?void 0:s.tagName)==="TABLE"?r.parentElement:(a=r.parentElement)==null?void 0:a.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return ba(t,"table",l,e)}return t}function y2(r,t,e){var s;let n=r.data;if(((s=r.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!Uf(r)){if(n.trim().length===0&&n.includes(`
`)&&!u2(r,e))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&Bs(r.parentElement,e)||r.previousSibling instanceof Element&&Bs(r.previousSibling,e))&&(n=n.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&Bs(r.parentElement,e)||r.nextSibling instanceof Element&&Bs(r.nextSibling,e))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class Ff extends Zn{constructor(e,n){super(e,n);$t(this,"lastRecorded",0);$t(this,"ignoreChange",!1);$t(this,"stack",{undo:[],redo:[]});$t(this,"currentRange",null);this.quill.on(it.events.EDITOR_CHANGE,(s,a,o,l)=>{s===it.events.SELECTION_CHANGE?a&&l!==it.sources.SILENT&&(this.currentRange=a):s===it.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===it.sources.USER?this.record(a,o):this.transform(a)),this.currentRange=ql(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const a=this.quill.getContents(),o=s.delta.invert(a);this.stack[n].push({delta:o,range:ql(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,it.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),a=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),a=l.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Fu(this.stack.undo,e),Fu(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,it.sources.USER);else{const n=x2(this.quill.scroll,e.delta);this.quill.setSelection(n,it.sources.USER)}}}$t(Ff,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Fu(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const s=r[n];r[n]={delta:e.transform(s.delta,!0),range:s.range&&ql(s.range,e)},e=s.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function w2(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,qt.BLOCK)!=null):!1}function x2(r,t){const e=t.reduce((s,a)=>s+(a.delete||0),0);let n=t.length()-e;return w2(r,t)&&(n-=1),n}function ql(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class zf extends Zn{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(l.offsetNode,l.offset),s.setEnd(l.offsetNode,l.offset)}const a=s&&t.selection.normalizeNative(s);if(a){const l=t.selection.normalizedToRange(a);(o=n.dataTransfer)!=null&&o.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(s=>{var a;s&&((a=this.options.mimetypes)!=null&&a.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}zf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(s=>{const a=new FileReader;a.onload=()=>{s(a.result)},a.readAsDataURL(n)}));Promise.all(e).then(n=>{const s=n.reduce((a,o)=>a.insert({image:o}),new Ct().retain(r.index).delete(r.length));this.quill.updateContents(s,St.sources.USER),this.quill.setSelection(r.index+n.length,St.sources.SILENT)})}};const E2=["insertText","insertReplacementText"];class k2 extends Zn{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(it.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){vc({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Ct().retain(t.index).insert(e,n),it.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,it.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!E2.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=$2(t);if(n==null)return;const s=this.quill.selection.normalizeNative(e),a=s?this.quill.selection.normalizedToRange(s):null;a&&this.replaceText(a,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function $2(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const A2=/Mac/i.test(navigator.platform),T2=100,N2=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||A2&&r.key==="a"&&r.ctrlKey===!0);class S2 extends Zn{constructor(e,n){super(e,n);$t(this,"isListening",!1);$t(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:a}=n;if(!(s instanceof zn)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&a.key!=="ArrowRight"||!o&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),it.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&N2(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+T2,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof zn)||!s.uiNode)return;const a=document.createRange();a.setStartAfter(s.uiNode),a.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(a)}}it.register({"blots/block":gr,"blots/block/embed":An,"blots/break":Jn,"blots/container":ma,"blots/cursor":Wa,"blots/embed":cc,"blots/inline":ps,"blots/scroll":Ra,"blots/text":Kn,"modules/clipboard":Mf,"modules/history":Ff,"modules/keyboard":Do,"modules/uploader":zf,"modules/input":k2,"modules/uiNode":S2});class O2 extends Wn{add(t,e){let n=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;n=e==="+1"?s+1:s-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const L2=new O2("indent","ql-indent",{scope:qt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Rl extends gr{}$t(Rl,"blotName","blockquote"),$t(Rl,"tagName","blockquote");class Il extends gr{static formats(t){return this.tagName.indexOf(t.tagName)+1}}$t(Il,"blotName","header"),$t(Il,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ui extends ma{}Ui.blotName="list-container";Ui.tagName="OL";class Fi extends gr{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){it.register(Ui)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),s=a=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),a.preventDefault()):o==="unchecked"&&(this.format("list","checked"),a.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Fi.blotName="list";Fi.tagName="LI";Ui.allowedChildren=[Fi];Fi.requiredContainer=Ui;class Ni extends ps{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}$t(Ni,"blotName","bold"),$t(Ni,"tagName",["STRONG","B"]);class Dl extends Ni{}$t(Dl,"blotName","italic"),$t(Dl,"tagName",["EM","I"]);class Ms extends ps{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Hf(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}$t(Ms,"blotName","link"),$t(Ms,"tagName","A"),$t(Ms,"SANITIZED_URL","about:blank"),$t(Ms,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Hf(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class jl extends ps{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}$t(jl,"blotName","script"),$t(jl,"tagName",["SUB","SUP"]);class Pl extends Ni{}$t(Pl,"blotName","strike"),$t(Pl,"tagName",["S","STRIKE"]);class Bl extends ps{}$t(Bl,"blotName","underline"),$t(Bl,"tagName","U");class lo extends cc{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}$t(lo,"blotName","formula"),$t(lo,"className","ql-formula"),$t(lo,"tagName","SPAN");const zu=["alt","height","width"];class Ml extends bn{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return zu.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Hf(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){zu.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}$t(Ml,"blotName","image"),$t(Ml,"tagName","IMG");const Hu=["height","width"];class co extends An{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Hu.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Ms.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Hu.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}$t(co,"blotName","video"),$t(co,"className","ql-video"),$t(co,"tagName","IFRAME");const di=new Wn("code-token","hljs",{scope:qt.INLINE});class $s extends ps{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Sr.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),di.add(this.domNode,n)}format(t,e){t!==$s.blotName?super.format(t,e):e?di.add(this.domNode,e):(di.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),di.value(this.domNode)||this.unwrap()}}$s.blotName="code-token";$s.className="ql-token";class $n extends Sr{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),$s.blotName,!1),super.replaceWith(t,e)}}class pi extends ga{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===$n.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,s){n===$n.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,a=$n.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((d,h)=>d.concat(Tf(h,!1)),new Ct),l=t(s,a);o.diff(l).reduce((d,h)=>{let{retain:v,attributes:m}=h;return v?(m&&Object.keys(m).forEach(p=>{[$n.blotName,$s.blotName].includes(p)&&this.formatAt(d,v,p,m[p])}),d+v):d},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?$n.formats(n.domNode):"plain"}">
${Io(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=$n.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}pi.allowedChildren=[$n];$n.requiredContainer=pi;$n.allowedChildren=[$s,Wa,Kn,Jn];const C2=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class Kf extends Zn{static register(){it.register($s,!0),it.register($n,!0),it.register(pi,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:a}=s;return n[a]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(it.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof pi))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:a}=n;const o=e.ownerDocument.createElement("option");o.textContent=a,o.setAttribute("value",s),e.appendChild(o)}),e.addEventListener("change",()=>{t.format($n.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=$n.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(it.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(it.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(pi):[t]).forEach(a=>{a.highlight(this.highlightBlot,e)}),this.quill.update(it.sources.SILENT),n!=null&&this.quill.setSelection(n,it.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return Io(t).split(`
`).reduce((s,a,o)=>(o!==0&&s.insert(`
`,{[Sr.blotName]:e}),s.insert(a)),new Ct);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Sr.className),n.innerHTML=C2(this.options.hljs,e,t),mc(this.quill.scroll,n,[(s,a)=>{const o=di.value(s);return o?a.compose(new Ct().retain(a.length(),{[$s.blotName]:o})):a}],[(s,a)=>s.data.split(`
`).reduce((o,l,d)=>(d!==0&&o.insert(`
`,{[Sr.blotName]:e}),o.insert(l)),a)],new WeakMap)}}Kf.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const mi=class mi extends gr{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",gc()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===mi.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};$t(mi,"blotName","table"),$t(mi,"tagName","TD");let Un=mi;class As extends ma{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),s=e.next.formats();if(n.table!==s.table){const a=this.splitAfter(e);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}$t(As,"blotName","table-row"),$t(As,"tagName","TR");class fs extends ma{}$t(fs,"blotName","table-body"),$t(fs,"tagName","TBODY");class Za extends ma{balanceCells(){const t=this.descendants(As),e=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=Un.formats(n.children.head.domNode));const a=this.scroll.create(Un.blotName,s);n.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(fs);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(fs);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t),a=Un.formats(n.children.head.domNode),o=this.scroll.create(Un.blotName,a);n.insertBefore(o,s)})}insertRow(t){const[e]=this.descendant(fs);if(e==null||e.children.head==null)return;const n=gc(),s=this.scroll.create(As.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(Un.blotName,n);s.appendChild(o)});const a=e.children.at(t);e.insertBefore(s,a)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}$t(Za,"blotName","table-container"),$t(Za,"tagName","TABLE");Za.allowedChildren=[fs];fs.requiredContainer=Za;fs.allowedChildren=[As];As.requiredContainer=fs;As.allowedChildren=[Un];Un.requiredContainer=As;function gc(){return`row-${Math.random().toString(36).slice(2,6)}`}class q2 extends Zn{static register(){it.register(Un),it.register(As),it.register(fs),it.register(Za)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Za).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(it.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(it.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(it.sources.USER),this.quill.setSelection(e,it.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Un.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const o=a.cellOffset();n.insertColumn(o+t),this.quill.update(it.sources.USER);let l=s.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,it.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const o=s.rowOffset();n.insertRow(o+t),this.quill.update(it.sources.USER),t>0?this.quill.setSelection(e,it.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,it.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(a=>{const o=new Array(e).fill(`
`).join("");return a.insert(o,{table:gc()})},new Ct().retain(n.index));this.quill.updateContents(s,it.sources.USER),this.quill.setSelection(n.index,it.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(it.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(it.events.TEXT_CHANGE,(n,s,a)=>{a===it.sources.USER&&this.balanceTables()}),!0):!1)})}}const Ku=Ns("quill:toolbar");class bc extends Zn{constructor(t,e){var n,s;if(super(t,e),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),R2(a,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(a,t.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Ku.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const o=(l=this.options.handlers)==null?void 0:l[a];o&&this.addHandler(a,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(it.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Ku.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,a);else if(this.quill.scroll.query(e).prototype instanceof bn){if(a=prompt(`Enter ${e}`),!a)return;this.quill.updateContents(new Ct().retain(o.index).delete(o.length).insert({[e]:a}),it.sources.USER)}else this.quill.format(e,a,it.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,a]=n;if(a.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[s]==null)o=a.querySelector("option[selected]");else if(!Array.isArray(e[s])){let l=e[s];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=a.querySelector(`option[value="${l}"]`)}o==null?(a.value="",a.selectedIndex=-1):o.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const o=e[s],l=o===a.getAttribute("value")||o!=null&&o.toString()===a.getAttribute("value")||o==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const o=e[s]!=null;a.classList.toggle("ql-active",o),a.setAttribute("aria-pressed",o.toString())}})}}bc.DEFAULTS={};function Gu(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function R2(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")Gu(n,s);else{const a=Object.keys(s)[0],o=s[a];Array.isArray(o)?I2(n,a,o):Gu(n,a,o)}}),r.appendChild(n)})}function I2(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(s=>{const a=document.createElement("option");s!==!1?a.setAttribute("value",String(s)):a.setAttribute("selected","selected"),n.appendChild(a)}),r.appendChild(n)}bc.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,qt.INLINE)!=null&&this.quill.format(e,!1,it.sources.USER)})}else this.quill.removeFormat(r.index,r.length,it.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",it.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,it.sources.USER),this.quill.format("direction",r,it.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let s=r==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,it.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,it.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,it.sources.USER):this.quill.format("list","unchecked",it.sources.USER):this.quill.format("list",r,it.sources.USER)}}};const D2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',j2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',P2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',B2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',M2='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',U2='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',F2='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',z2='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Vu='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',H2='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',K2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',G2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',V2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',W2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',J2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Z2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Y2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',X2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Q2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',tw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',ew='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',rw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',nw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',sw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',aw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',iw='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ow='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',lw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',cw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',uw='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',dw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',fw='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',hw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Si={align:{"":D2,center:j2,right:P2,justify:B2},background:M2,blockquote:U2,bold:F2,clean:z2,code:Vu,"code-block":Vu,color:H2,direction:{"":K2,rtl:G2},formula:V2,header:{1:W2,2:J2,3:Z2,4:Y2,5:X2,6:Q2},italic:tw,image:ew,indent:{"+1":rw,"-1":nw},link:sw,list:{bullet:aw,check:iw,ordered:ow},script:{sub:lw,super:cw},strike:uw,table:dw,underline:fw,video:hw},pw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Wu=0;function Ju(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class jo{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Ju(this.label,"aria-expanded"),Ju(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=pw,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Wu}`,Wu+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Gf extends jo{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class Vf extends jo{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const vw=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class Wf{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,vw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let o=0;if(a.right>s.right&&(o=s.right-a.right,this.root.style.left=`${e+o}px`),a.left<s.left&&(o=s.left-a.left,this.root.style.left=`${e+o}px`),a.bottom>s.bottom){const l=a.bottom-a.top,d=t.bottom-t.top+l;this.root.style.top=`${n-d}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const mw=[!1,"center","right","justify"],gw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],bw=[!1,"serif","monospace"],_w=["1","2","3",!1],yw=["small",!1,"large","huge"];class zi extends Ja{constructor(t,e){super(t,e);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(s.target)||a.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),e[a]!=null))if(a==="direction")n.innerHTML=e[a][""]+e[a].rtl;else if(typeof e[a]=="string")n.innerHTML=e[a];else{const o=n.value||"";o!=null&&e[a][o]&&(n.innerHTML=e[a][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&oi(s,mw),typeof e.align=="object"))return new Vf(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const a=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&oi(s,gw,a==="background"?"#ffffff":"#000000"),new Gf(s,e[a])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?oi(s,bw):s.classList.contains("ql-header")?oi(s,_w):s.classList.contains("ql-size")&&oi(s,yw)),new jo(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(St.events.EDITOR_CHANGE,n)}}zi.DEFAULTS=Hs({},Ja.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Jf extends Wf{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,St.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,St.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=ww(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,St.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",St.sources.USER),this.quill.setSelection(n+2,St.sources.USER)}break}}this.textbox.value="",this.hide()}}function ww(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function oi(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),r.appendChild(s)})}const xw=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Zf extends Jf{constructor(t,e){super(t,e),this.quill.on(St.events.EDITOR_CHANGE,(n,s,a,o)=>{if(n===St.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===St.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(s.index,s.length);if(l.length===1){const d=this.quill.getBounds(s);d!=null&&this.position(d)}else{const d=l[l.length-1],h=this.quill.getIndex(d),v=Math.min(d.length()-1,s.index+s.length-h),m=this.quill.getBounds(new ua(h,v));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(St.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}$t(Zf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Yf extends zi{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=xw),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Zf(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Si),this.buildPickers(t.container.querySelectorAll("select"),Si))}}Yf.DEFAULTS=Hs({},zi.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,it.sources.USER)}}}}});const Ew=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Xf extends Jf{constructor(){super(...arguments);$t(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,St.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(St.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===St.sources.USER){const[a,o]=this.quill.scroll.descendant(Ms,e.index);if(a!=null){this.linkRange=new ua(e.index-o,a.length());const l=Ms.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}$t(Xf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Qf extends zi{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Ew),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Si),this.buildPickers(t.container.querySelectorAll("select"),Si),this.tooltip=new Xf(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}Qf.DEFAULTS=Hs({},zi.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,it.sources.USER)}}}}});it.register({"attributors/attribute/direction":Cf,"attributors/class/align":Sf,"attributors/class/background":U0,"attributors/class/color":M0,"attributors/class/direction":qf,"attributors/class/font":Df,"attributors/class/size":Pf,"attributors/style/align":Of,"attributors/style/background":fc,"attributors/style/color":dc,"attributors/style/direction":Rf,"attributors/style/font":jf,"attributors/style/size":Bf},!0);it.register({"formats/align":Sf,"formats/direction":qf,"formats/indent":L2,"formats/background":fc,"formats/color":dc,"formats/font":Df,"formats/size":Pf,"formats/blockquote":Rl,"formats/code-block":Sr,"formats/header":Il,"formats/list":Fi,"formats/bold":Ni,"formats/code":hc,"formats/italic":Dl,"formats/link":Ms,"formats/script":jl,"formats/strike":Pl,"formats/underline":Bl,"formats/formula":lo,"formats/image":Ml,"formats/video":co,"modules/syntax":Kf,"modules/table":q2,"modules/toolbar":bc,"themes/bubble":Yf,"themes/snow":Qf,"ui/icons":Si,"ui/picker":jo,"ui/icon-picker":Vf,"ui/color-picker":Gf,"ui/tooltip":Wf},!0);var kw=V('<div class="margin svelte-1960fvg"></div> <div class="table-outline main_data svelte-1960fvg"><div class="table-head table-title svelte-1960fvg"><input type="text" id="title" class="svelte-1960fvg"></div> <div class="table-contents-gray svelte-1960fvg"><select class="namewidth svelte-1960fvg"><option>자유</option><option>거래</option><option>공략</option></select></div> <div class="table-contents-white svelte-1960fvg"><div id="editor" class="svelte-1960fvg"></div></div> <div class="form-group svelte-1960fvg"><button class="emphasis-button">작성하기</button> <button class="simple-button">취소하기</button></div></div>',1);function $w(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Je,"$myaccount",e),a=()=>F(gl,"$modify_postid",e);let o=O(""),l="",d,h=O("free");const v="/"+n();async function m(){const $=document.createElement("input");$.setAttribute("type","file"),$.setAttribute("accept","image/*"),$.click(),$.onchange=async()=>{const C=$.files?$.files[0]:null;if(!C)return alert("파일이 선택되지 않았습니다.");const j=new FileReader;j.onloadend=async()=>{const P=j.result;try{const H=await p(P);if(H){const K=d.getSelection();d.insertEmbed((K==null?void 0:K.index)||0,"image",H)}}catch(H){console.error("이미지 업로드 오류:",H)}},j.readAsDataURL(C)}}async function p($){const C=await jt("/cloudinary/upload","POST",{image:$});if(!C.ok)throw new Error("이미지 업로드 실패");return(await C.json()).url}async function g(){const $={title:i(o),category:i(h),content:l,nickname:s(),postId:a()};try{(await jt("/board/write","POST",$)).ok&&(alert("글을 성공적으로 작성하였습니다"),_(),Ha(`${v}/boardlist`))}catch(C){console.error("네트워크 오류:",C),alert(`네트워크 오류: ${C.message}`)}}async function w(){if(a()!=="none")try{const C=await(await fetch(`/board/post?post_id=${a()}`)).json();b(o,C.title),l=C.content,b(h,C.category)}catch{alert("게시물 로드 중 오류 발생")}}Xe(async()=>{await w(),d=new it("#editor",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,!1],class:"custom-header"}],["bold","italic","underline"],["image","code-block"]],handlers:{image:m}}}}),l&&d.clipboard.dangerouslyPasteHTML(l),d.on("text-change",()=>{l=d.root.innerHTML})});function _(){gl.set("none")}function x(){_(),Ha(`${v}/boardlist`)}ve();var k=kw(),A=c(yt(k),2),T=u(A),q=u(T),S=c(T,2),L=u(S);ot(()=>{i(h),os(()=>{})});var M=u(L);M.value=(M.__value="free")==null?"":"free";var B=c(M);B.value=(B.__value="trade")==null?"":"trade";var U=c(B);U.value=(U.__value="setting")==null?"":"setting";var z=c(S,4),y=u(z),N=c(y,2);D(q,()=>i(o),$=>b(o,$)),ls(L,()=>i(h),$=>b(h,$)),Q("click",y,g),Q("click",N,x),I(r,k),Qt()}var Aw=V('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),Tw=V('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),Nw=V('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),Sw=V('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),Ow=V('<table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table>'),Lw=V('<div class="table-outline main_data"><table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table> <div class="toggle-wrapper"><button class="simple-button"> </button></div> <!></div>');function Cw(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e);let s=[{season:"2024.10-11 랭킹전",first:"마스터",second:"DTBar",third:"Jay",details:"비고뇌 정식전 : 1위 DTBAR 2위 Jay 3위 IRONKIM<br/>고뇌 정식전 : 1위 마스터 2위 DTBAR 3위 Jay<br/>2:2 정식전 : 1위 오찬물 수수깡수수 2위 DTBAR IRONKIM 3위 퓨리 마스터<br/>조드 정식전 : 1위 봐바 2위 DUKY 3위 Az"},{season:"2024.9 랭킹전",first:"DTbar",second:"Duky",third:"오찬물",details:"고뇌 정식전 : 1위 스티븐 2위 Jay 3위 오찬물<br/>비고뇌 정식전 : 1위 BallistaBB 2위 지존 3위 수수깡수수"},{season:"2024.8 랭킹전",first:"Duky",second:"마스터",third:"옥땅",details:"정식전 : 1위 IRONKIM 2위 배로나 3위 듀키"},{season:"2024.7 랭킹전",first:"Duky",second:"Jay",third:"바아바아",details:"플레이오프 : 1위 Jay 2위 옥례 3위 Duky<br/>3티어 정식전 : 1위 배로나 2위 오찬물 3위 duky<br/>고뇌 정규전 : 1위 바아바아 2위 오찬물 3위 Duky<br/>레어 정규전 : 1위 낑깡 2위 Ari 3위 su"},{season:"2024.6 랭킹전",first:"Head",second:"Jay",third:"Duky",details:"3티어 정식전 : 1위 Duky 2위 Jay 3위 IRONKIM<br/>고뇌 정규전 : 1위 Head 2위 jay 3위 봐바<br/>레어 정규전 : 1위 Jay 2위 지존 3위 스티븐"},{season:"2024.5 랭킹전",first:"Duky",second:"Head",third:"IRONKIM",details:"정식전 : 1위 줍줍 2위 Duky 3위 쭈니바바리안<br/>테마전 : 1위 금복이 2위 goyard 3위 IRONKIM"},{season:"2024.4 랭킹전",first:"Jay",second:"Duky",third:"줍줍",details:"정식전 : 1위 aerts 2위 Head 3위 jay<br/>테마전 : 아리앗옥례 & 오찬물 & Jay"},{season:"2024.3 랭킹전",first:"Duky",second:"BigMara",third:"팍씨",details:"정식전 : 1위 Joral_Sinsa 2위 Jak 3위 바바<br/>테마전 : 1위 Jay 2위 아이언킴 3위 오찬물 <br/> 테마전 : 1위 Jay 2위 아이언킴 3위 오찬물"},{season:"2024.2 랭킹전",first:"barbar",second:"오찬물",third:"Duky",details:"정식전 : 1위 오찬물 2위 BallistaBB 3위 GeonDal<br/>테마전 : 1위 옥례 2위 옥땅 3위 IRONKIM"},{season:"2024.1 랭킹전",first:"오찬물",second:"Duky",third:"Head",details:"정식전 : 1위 Duky 2위 Jay 3위 오찬물"}],a=[{season:"2024.11-12 랭킹전",first:"제트",second:"우리",third:"Hyeonmin",details:"정규대회 자유전 : 1위 Hyeonmin 2위 Mopalmo 3위 우리<br/>정규대회 FP2전 : 1위 BallistaBB 2위 Hyeonmin 3위 우리"},{season:"2024.10 랭킹전",first:"우리",second:"스티븐",third:"제트",details:"24. 10. 정규대회 인내전 : 1위 스티븐 2위 Hell 3위 Madon<br/>24. 10. 정규대회 비인내전 : 1위 우리 2위 파괴 3위 LoPala"},{season:"2024.9 랭킹전",first:"스티븐",second:"독재",third:"BallistaBB",details:"24. 9. 정규대회 : 1위 스티븐 2위 독재 3위 Art"},{season:"2024.8 랭킹전",first:"스티븐",second:"Art",third:"허경영",details:"-"},{season:"2024.7 랭킹전",first:"카니아",second:"BallistaBB",third:"Art",details:"-"},{season:"2024.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"kissa",details:"-"},{season:"2024.5 랭킹전",first:"BallistaBB",second:"스티븐",third:"MAX",details:"-"},{season:"2024.2 랭킹전",first:"Jay",second:"제트",third:"MAX",details:"-"},{season:"2024.1 랭킹전",first:"Jay",second:"스티븐",third:"제트",details:"23.12 정기전 : 1위 Robe 2위 스티븐 3위 제트<br>23.11 정기전 : 1위 파괴 2위 스티븐 3위 Robe"}],o=[{season:"2023.12 랭킹전",first:"Duky",second:"Jak",third:"아리",details:"정식전 : 1위 아리 2위 도라라 3위 Duky "},{season:"2023.11 랭킹전",first:"Jak",second:"Duky",third:"오찬물",details:"정식전 : 1위 봐바 2위 도라라 3위 Art_ist <br/> 테마전 : 1위 잼재미 2위 Jak 3위 아리앗옥례"},{season:"2023.10 랭킹전",first:"오찬물",second:"ALO",third:"오찬물",details:"정식전 : 1위 봐바 2위 배로나 3위 잼재미<br/> 테마전 : 아리 & 오찬물 & 아리앗옥례"},{season:"2023.9 랭킹전",first:"오찬물",second:"Jak",third:"바바",details:"정식전 : 1위 오찬물 2위 봐바 3위 IRONKIM"},{season:"2023.8 랭킹전",first:"Duky",second:"Duky",third:"IRONKIM",details:"정식전 : 1위 Jak 2위 BB 3위 도적"},{season:"2023.7 랭킹전",first:"BB(통합우승)",second:"BB(고뇌우승)",third:"BB(비고뇌우승)",details:"정식전 : 1위 Duky 2위 묵선 3위 오찬물"},{season:"시즌 10",first:"ALO",second:"ADOOBA",third:"Duky",details:"정식전 10회 : 1위 도적 2위 ALO 3위 Jak"},{season:"시즌 9",first:"스티븐",second:"ADOOBA",third:"Duky",details:"정식전 9회 : 1위 Duky 2위 ADOOBA 3위 Jak"},{season:"시즌 8",first:"스티븐",second:"Duky",third:"ALO",details:"정식전 8회 : 1위 배로나 2위 Duky 3위 Art_ist<br/>테마전 8회 : 1위 GeonDal 2위 BallistaBB 3위 오찬물"},{season:"시즌 7",first:"봐바",second:"ALO",third:"도라라",details:"정식전 7회 : 1위 PABLO 2위 야토신 3위 DUTY<br/>테마전 7회 : 1위 ADOOBA & 스티븐 & 도라라 2위  3위 "},{season:"시즌 6",first:"PABLO",second:"오찬물",third:"ADOOBA",details:"정식전 6회 : 1위 Joral_Sinsa 2위 GeonDal 3위 RFHH<br/>테마전 6회 : 1위 도적 & Jak 2위  3위 "},{season:"시즌 5",first:"ADOOBA",second:"오찬물",third:"Joral_Sinsa",details:"정식전 5회 : 1위 ALO 2위 RFHH 3위 TOONGTANG<br/>테마전 5회 : 1위 돌아돌아 & 파멸 2위  3위 "},{season:"시즌 4",first:"Joral_Sinsa",second:"오찬물",third:"ADOOBA",details:"정식전 4회 : 1위 파멸 2위 GG 3위 좀건들지마봐<br/>테마전 4회 : 1위 Az 2위 TOONGTANG 3위 행복한우빈이네"},{season:"시즌 3",first:"TOONGTANG",second:"Joral_Sinsa",third:"ALO",details:"정식전 3회 : 1위 Thanos 2위 MikeTyson 3위 Az<br/>테마전 3회 : 1위 GG 2위 돌아돌아 3위 TOONGTANG"},{season:"시즌 2",first:"TOONGTANG",second:"BABBARIAN",third:"Thanos",details:"정식전 2회 : 1위 TOONGTANG 2위 AlwaysReview 3위 Az<br/>테마전 2회 : 1위 BABBARIAN & Thanos 2위  3위 "},{season:"시즌 1",first:"TOONGTANG",second:"Thanos",third:"AlwaysReview",details:"정식전 1회 : 1위 돌아돌아 2위 FBI멀더 3위 BallistaBB<br/>테마전 1회 : 1위 TOONGTANG 2위 BallistaBB 3위 PK"}],l=[{season:"2023.10 랭킹전",first:"스티븐",second:"달빛",third:"스티븐",details:"정기전 : 1위 CASINO 2위 Queen 3위 드루<br/>23.7 정기전 : 1위 Edward 2위 스티븐 3위 모팔모"},{season:"2023.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"yakuza",details:"정기전 : 1위 yakuza 2위 BallistaBB 3위 모팔모"},{season:"2023.5 랭킹전",first:"Robe",second:"달건",third:"Boss",details:"정기전 : 1위 달건 2위 Robe 3위 Joy<br/>테마전 : 1위 Robe 2위 Southbank 3위 Art_ist"}],d=[],h=[],v=O([]),m=O([]);n()==="babapk"?(b(v,s),b(m,o)):n()==="mpk"?(b(v,a),b(m,l)):(b(v,d),b(m,h));let p=O(Array(i(v).length).fill(!1)),g=O(Array(i(m).length).fill(!1)),w=O(!1);function _(U){b(p,i(p).map((z,y)=>y===U?!z:z))}function x(U){b(g,i(g).map((z,y)=>y===U?!z:z))}function k(){b(w,!i(w))}ve();var A=Lw(),T=u(A),q=c(u(T));Yt(q,5,()=>i(v),se,(U,z,y)=>{let N=()=>i(z).season,$=()=>i(z).first,C=()=>i(z).second,j=()=>i(z).third,P=()=>i(z).details;var H=Tw(),K=yt(H),J=u(K),W=u(J),et=c(J),lt=u(et),ct=c(et),nt=u(ct),Z=c(ct),Y=u(Z),wt=c(K,2);xt(wt,()=>i(p)[y],rt=>{var vt=Aw(),st=u(vt),ut=u(st);hl(ut,P),I(rt,vt)}),ot(()=>{G(W,N()),G(lt,$()),G(nt,C()),G(Y,j())}),Q("click",K,()=>_(y)),I(U,H)});var S=c(T,2),L=u(S),M=u(L),B=c(S,2);xt(B,()=>i(w),U=>{var z=Ow(),y=c(u(z));Yt(y,5,()=>i(m),se,(N,$,C)=>{let j=()=>i($).season,P=()=>i($).first,H=()=>i($).second,K=()=>i($).third,J=()=>i($).details;var W=Sw(),et=yt(W),lt=u(et),ct=u(lt),nt=c(lt),Z=u(nt),Y=c(nt),wt=u(Y),rt=c(Y),vt=u(rt),st=c(et,2);xt(st,()=>i(g)[C],ut=>{var dt=Nw(),ht=u(dt),Et=u(ht);hl(Et,J),I(ut,dt)}),ot(()=>{G(ct,j()),G(Z,P()),G(wt,H()),G(vt,K())}),Q("click",et,()=>x(C)),I(N,W)}),I(U,z)}),ot(()=>G(M,i(w)?"이전 시즌 결과 숨기기":"이전 시즌 결과 보기")),Q("click",L,k),I(r,A),Qt()}var qw=V('<tr class="svelte-o4nmjd"><td class="svelte-o4nmjd"><!></td></tr>'),Rw=V('<div class="info-container"><table class="svelte-o4nmjd"><thead><tr class="svelte-o4nmjd"><th class="svelte-o4nmjd"> </th></tr></thead><tbody></tbody></table></div>');function Iw(r){const t=ce(),e=()=>F(pe,"$mode",t);let n=O();const s=[{href:"/mpk/elo",title:"Elo 점수 예상계산기"},{href:"/mpk/simul",title:"시뮬레이터"},{href:"/mpk/ring",title:"링 스탯 측정기"}],a=[{href:"/babapk/pscore",title:"파워점수 계산기"},{href:"/babapk/visio",title:"렙당뚜껑 계산기"},{href:"/babapk/elo",title:"Elo 점수 예상계산기"},{href:"/babapk/simul",title:"시뮬레이터"},{href:"/babapk/ring",title:"링 스탯 측정기"}],o=[{href:"/zpke/pscore",title:"질딘 파워점수 계산기"},{href:"/zpke/elo",title:"Elo 점수 예상계산기"},{href:"/zpke/simul",title:"시뮬레이터"},{href:"/zpke/ring",title:"링 스탯 측정기"}];e()==="babapk"?b(n,a):e()==="mpk"?b(n,s):b(n,o);var l=Rw(),d=u(l),h=u(d),v=u(h),m=u(v),p=u(m),g=c(h);Yt(g,5,()=>i(n),se,(_,x)=>{var k=qw(),A=u(k),T=u(A);js(T,{get to(){return i(x).href},children:(q,S)=>{var L=vn();ot(()=>G(L,i(x).title)),I(q,L)},$$slots:{default:!0}}),I(_,k)}),ot(()=>G(p,`${e()??""} 계산기 들어가기`)),I(r,l)}var Dw=V('<table><thead><tr><th colspan="4">질딘용 파워 점수 계산기</th></tr></thead><tbody><tr><td>방어</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>+ 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>% 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>오버 힘</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>오버 민첩</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 오버 스탯</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>활력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>생명력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>민뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>맥뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>데미지 추가(추뎀)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>증뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 기술 레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>모든 성기사 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>공격 오라 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>방깎</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>강타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>치타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 스탯(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function jw(r,t){Xt(t,!1);const e=O(),n=O(),s=O(),a=O(),o=O(),l=O(),d=O(),h=O(),v=O(),m=O();let p=O(0),g=O(0),w=O(0),_=O(0),x=O(0),k=O(0),A=O(0),T=O(0),q=O(0),S=O(0),L=O(0),M=O(0),B=O(0),U=O(0),z=0,y=O(0),N=O(0),$=O(0),C=O(0),j=O(0),P=O(0),H=O(0),K=O(0),J=O(0),W,et,lt,ct,nt,Z,Y,wt,rt,vt,st,ut,dt,ht,Et,At,Nt,Dt,Mt,re;const Ft=()=>{W=Math.floor((133+i(S)+i(M))*(100+(492+i(B))+z*6+i(J)*17+480+378+23*(i(U)+i(K)+7)-138+(232+i(_)+i(k)))/100),et=Math.floor((552+i(L)+i(M))*(100+(492+i(B))+z*6+i(J)*17+480+378+23*(i(U)+i(K)+7)-138+(232+i(_)+i(k)))/100),lt=Math.floor((148*5+(i(x)+i(k))*5-15+i(g)+2743)*(199+i(w)+170+20+270+z*10+i(J)*5+15*(i(U)+i(K)+7)-15*6)/100),ct=Math.floor((3139+i(p)+Math.floor((148+i(x)+i(k))/4))*(860+15*(i(K)+i(U)+z+7)-15*6)/100),nt=Math.round((55+99*2-2+(420+i(j)+i(P)*2)*3-25*3+60+i(T)+740)*(i(y)+100+71+(5+i(U))*3-9)/100)+i(q)+148+(i(k)+i(P)+80+i(A))*3,Z=i(l)+i(N),Y=i(d)+i($),wt=i(h)+i(C),rt=0,vt=(wt/100+(100-wt)/100*rt/100)*100,st=(i(e)+i(n))/6/2/2,ut=(W+et)/6/2/2,dt=nt/2/10*i(d)/100/2,ht=i(o)/2/10*Y/100/2,Et=st*(i(m)/100+1)+dt,At=ut*(vt/100+1)+ht,Nt=i(s)/(i(s)+ct*(100-i(l)/2)/100)*.25,Dt=lt/(lt+i(a)*(100-Z/2)/100)*.25,Mt=nt/Et*4/25/Nt,re=i(o)/At*4/25/Dt,b(H,Math.round((Mt/re*100-100)*100*100)/100)};zt(()=>{},()=>{b(e,2267)}),zt(()=>{},()=>{b(n,9411)}),zt(()=>{},()=>{b(s,23374)}),zt(()=>{},()=>{b(a,27790)}),zt(()=>{},()=>{b(o,4346)}),zt(()=>{},()=>{b(l,0)}),zt(()=>{},()=>{b(d,25)}),zt(()=>{},()=>{b(h,52)}),zt(()=>{},()=>{b(v,0)}),zt(()=>{},()=>{b(m,52)}),tn();var te=Dw(),ne=c(u(te)),fe=u(ne),Gt=c(u(fe)),Wt=u(Gt),he=c(Gt,2),Ut=u(he),Zt=c(fe),ae=c(u(Zt)),Ht=u(ae),ge=c(ae,2),$e=u(ge),qe=c(Zt),_e=c(u(qe)),Re=u(_e),Ae=c(_e,2),Te=u(Ae),ye=c(qe),me=c(u(ye)),xe=u(me),Ie=c(me,2),be=u(Ie),at=c(ye),ft=c(u(at)),bt=u(ft),Lt=c(ft,2),mt=u(Lt),Ke=c(at),rr=c(u(Ke)),Ze=u(rr),Mr=c(rr,2),Or=u(Mr),br=c(Ke),_r=c(u(br)),lr=u(_r),we=c(_r,2),Lr=u(we),cr=c(br),yr=c(u(cr)),en=u(yr),Ur=c(yr,2),Ne=u(Ur),ur=c(cr),wr=c(u(ur)),rn=u(wr),Fr=c(wr,2),Cr=u(Fr),Se=c(ur),xr=c(u(Se)),nn=u(xr),zr=c(xr,2),qr=u(zr),dr=c(Se),nr=c(u(dr)),Hr=u(nr),sr=c(nr,2),Me=u(sr),fr=c(dr),Rr=u(fr),sn=u(Rr),Ir=c(Rr),Er=u(Ir);ot(()=>G(Er,`당신의 아이템 파워 점수는 ${i(H)??""}점 입니다`)),D(Wt,()=>i(p),It=>b(p,It)),D(Ut,()=>i(g),It=>b(g,It)),D(Ht,()=>i(w),It=>b(w,It)),D($e,()=>i(_),It=>b(_,It)),D(Re,()=>i(x),It=>b(x,It)),D(Te,()=>i(k),It=>b(k,It)),D(xe,()=>i(A),It=>b(A,It)),D(be,()=>i(T),It=>b(T,It)),D(bt,()=>i(q),It=>b(q,It)),D(mt,()=>i(S),It=>b(S,It)),D(Ze,()=>i(L),It=>b(L,It)),D(Or,()=>i(M),It=>b(M,It)),D(lr,()=>i(B),It=>b(B,It)),D(Lr,()=>i(U),It=>b(U,It)),D(en,()=>i(K),It=>b(K,It)),D(Ne,()=>i(J),It=>b(J,It)),D(rn,()=>i(y),It=>b(y,It)),D(Cr,()=>i(N),It=>b(N,It)),D(nn,()=>i($),It=>b($,It)),D(qr,()=>i(C),It=>b(C,It)),D(Hr,()=>i(j),It=>b(j,It)),D(Me,()=>i(P),It=>b(P,It)),Q("click",sn,Ft),I(r,te),Qt()}var Pw=V('<table><thead><tr><th colspan="4">바바용 파워 점수 계산기</th></tr></thead><tbody><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>방어</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 어레</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>% 어레</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 힘</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 민첩</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 오버 스탯</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>활력</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>생명력</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>민뎀</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>맥뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>데미지 추가(추뎀)</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>증뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+모든(바바) 스킬</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>전투지시</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>외침</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>철갑피부</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 함성 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 숙련 기술 레벨</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 전투 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>방깎</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>강타</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>치타</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 스탯(노오버)</td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function Bw(r,t){Xt(t,!1);const e=O(),n=O(),s=O(),a=O(),o=O(),l=O(),d=O(),h=O(),v=O(),m=O();let p=O(0),g=O(0),w=O(0),_=O(0),x=O(0),k=O(0),A=O(0),T=O(0),q=O(0),S=O(0),L=O(0),M=O(0),B=O(0),U=O(0),z=O(0),y=O(0),N=O(0),$=O(0),C=O(0),j=O(0),P=O(0),H=O(0),K=O(0),J=O(0),W=O(0),et=O(0),lt=O(0),ct,nt,Z,Y,wt,rt,vt,st,ut,dt,ht,Et,At,Nt,Dt,Mt,re,Ft,te,ne;const fe=()=>{ct=Math.floor((427+i(S)+i(M))*(100+(440+i(B))+(258+6*10+i(U)*10)+(10+i(j)*5+i(C)*5)+(232+i(_)+i(k)))/100),nt=Math.floor((592+i(L)+i(M))*(100+(440+i(B))+(258+6*10+i(U)*10)+(10+i(j)*5+i(C)*5)+(232+i(_)+i(k)))/100),Z=Math.floor((222*5+(i(x)+i(k))*5-15+i(g)+3119)*(120+i(w)+248+180+13*(i(U)+6)-13*6+(i(j)+2)*5+i(C)*8)/100),Y=Math.floor((3583+i(p)+Math.floor((222+i(x)+i(k))/4))*(690+20*(i(U)+6)+(i(z)+i(N)+i(C)+i($))*10)/100),wt=Math.round((55+99*2-2+(306+i(W)+i(et)*2)*4-25*4+60+i(T)+855)*(i(P)+100+113+(6+i(U)+i(y))*3)/100)+i(q)+148+(i(k)+i(et)+80+i(A))*4,rt=i(l)+i(H),vt=i(d)+i(K),st=i(h)+i(J),ut=i(v)+(i(U)+i(C)>=4?1:0),dt=(st/100+(100-st)/100*ut/100)*100,ht=(i(e)+i(n))/6/2/2,Et=(ct+nt)/6/2/2,At=wt/2/10*i(d)/100/2,Nt=i(o)/2/10*vt/100/2,Dt=ht*(i(m)/100+1)+At,Mt=Et*(dt/100+1)+Nt,re=i(s)/(i(s)+Y*(100-i(l)/2)/100)*.25,Ft=Z/(Z+i(a)*(100-rt/2)/100)*.25,te=wt/Dt*4/25/re,ne=i(o)/Mt*4/25/Ft,b(lt,Math.round((te/ne*100-100)*100*100)/100)};zt(()=>{},()=>{b(e,4697)}),zt(()=>{},()=>{b(n,6512)}),zt(()=>{},()=>{b(s,23514)}),zt(()=>{},()=>{b(a,29467)}),zt(()=>{},()=>{b(o,5758)}),zt(()=>{},()=>{b(l,25)}),zt(()=>{},()=>{b(d,25)}),zt(()=>{},()=>{b(h,35)}),zt(()=>{},()=>{b(v,31)}),zt(()=>{},()=>{b(m,55.15)}),tn();var Gt=Pw(),Wt=c(u(Gt)),he=u(Wt),Ut=u(he),Zt=u(Ut),ae=c(Ut,2),Ht=u(ae),ge=c(he),$e=u(ge),qe=u($e),_e=c($e,2),Re=u(_e),Ae=c(ge),Te=u(Ae),ye=u(Te),me=c(Te,2),xe=u(me),Ie=c(Ae),be=u(Ie),at=u(be),ft=c(be,2),bt=u(ft),Lt=c(Ie),mt=u(Lt),Ke=u(mt),rr=c(mt,2),Ze=u(rr),Mr=c(Lt),Or=u(Mr),br=u(Or),_r=c(Or,2),lr=u(_r),we=c(Mr),Lr=u(we),cr=u(Lr),yr=c(Lr,2),en=u(yr),Ur=c(we),Ne=u(Ur),ur=u(Ne),wr=c(Ne,2),rn=u(wr),Fr=c(Ur),Cr=u(Fr),Se=u(Cr),xr=c(Cr,2),nn=u(xr),zr=c(Fr),qr=u(zr),dr=u(qr),nr=c(qr,2),Hr=u(nr),sr=c(zr),Me=u(sr),fr=u(Me),Rr=c(Me,2),sn=u(Rr),Ir=c(sr),Er=u(Ir),It=u(Er),Dr=c(Er,2),an=u(Dr),hr=c(Ir),Kr=u(hr),Gr=u(Kr),_n=c(Kr,2),On=u(_n),Ln=c(hr),Vr=u(Ln),Wr=u(Vr),on=c(Vr),Jr=u(on);ot(()=>G(Jr,`당신의 아이템 파워 점수는 ${i(lt)??""}점 입니다`)),D(Zt,()=>i(p),Tt=>b(p,Tt)),D(Ht,()=>i(g),Tt=>b(g,Tt)),D(qe,()=>i(w),Tt=>b(w,Tt)),D(Re,()=>i(_),Tt=>b(_,Tt)),D(ye,()=>i(x),Tt=>b(x,Tt)),D(xe,()=>i(k),Tt=>b(k,Tt)),D(at,()=>i(A),Tt=>b(A,Tt)),D(bt,()=>i(T),Tt=>b(T,Tt)),D(Ke,()=>i(q),Tt=>b(q,Tt)),D(Ze,()=>i(S),Tt=>b(S,Tt)),D(br,()=>i(L),Tt=>b(L,Tt)),D(lr,()=>i(M),Tt=>b(M,Tt)),D(cr,()=>i(B),Tt=>b(B,Tt)),D(en,()=>i(U),Tt=>b(U,Tt)),D(ur,()=>i(y),Tt=>b(y,Tt)),D(rn,()=>i(z),Tt=>b(z,Tt)),D(Se,()=>i(N),Tt=>b(N,Tt)),D(nn,()=>i($),Tt=>b($,Tt)),D(dr,()=>i(C),Tt=>b(C,Tt)),D(Hr,()=>i(j),Tt=>b(j,Tt)),D(fr,()=>i(P),Tt=>b(P,Tt)),D(sn,()=>i(H),Tt=>b(H,Tt)),D(It,()=>i(K),Tt=>b(K,Tt)),D(an,()=>i(J),Tt=>b(J,Tt)),D(Gr,()=>i(W),Tt=>b(W,Tt)),D(On,()=>i(et),Tt=>b(et,Tt)),Q("click",Wr,fe),I(r,Gt),Qt()}var Mw=V(`<table><thead><tr><th colspan="4">BABAPK 렙당뚜껑 계산기</th></tr></thead><tbody><tr><td colspan="4">아이템 기본 스탯</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>방어</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 모든(바바) 스킬</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>% 어레 보너스</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>전투지시</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>외침</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>철갑피부</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 어레</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td></td><td></td></tr><tr><td colspan="4">2 소켓일 시 추가 주얼 스탯(1소켓일 시에는 모두 0 입력)</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>어레</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+방어</td></tr><tr><td colspan="4"><button class="emphasis-button" type="button">가치 계산</button><br> </td></tr><tr><td class="text svelte-synbn7" colspan="4">유니크 뚜껑과 비교<br> 504 방어 슬가 점수 = 100<br> 756 방어 에테 슬가 점수 = 95.54<br> 408 방어 3/3/3 스킬 악마뿔의 날 점수 = 95.77<br> 611 방어 3/3/3 스킬 에테 악마뿔의 날 점수 = 91.47</td></tr><tr><td class="text svelte-synbn7" colspan="4">이 계산기는 발리스타에 의해 만들어졌습니다<br> 99레벨, 으뜸 슬가, 3/20/20 부적, 강철찢개, 버석고뇌 : 100점<br> 만약 점수가 100점을 넘는다면 그만큼 슬가보다 좋은 뚜껑임을 나타냅니다.</td></tr><tr><td class="text svelte-synbn7" colspan="4">어떻게 사용하나요?<br> 뚜껑의 스탯을 입력하세요<br> 만약 1소켓인 경우 주얼 입력을 모두 0으로 하세요. 만약 그렇지 않다면, 지증속
          주얼 2개를 제외한 자신이 사용할 전투주얼 수치를 넣으세요<br> % 상승 어레와 + 상승 어레를 구별해서 넣어주세요</td></tr></tbody></table>`);function Uw(r){let t=O(0),e=O(0),n=O(0),s=O(0),a=O(0),o=O(0),l=O(0),d=O(0),h=O(0),v=O(0),m=O(0),p=O(0),g=O(0),w=O(0),_=O(0),x=O(0),k=O(0),A=O(0),T=O(0),q=O(0),S=O(0),L=O(0);function M(){b(L,Math.round((2130+i(o)+i(T)+4*(i(s)+i(a)+i(A)+i(k)))*(2.25+(i(e)+i(l))*.03)+468)/(.25*23514/(23514+Math.floor((3134+i(t)+i(S))*(.2*i(e)+7.7+.1*(i(h)+i(d)))*.875))*5604.5/12)/(5758/(.25*Math.floor((4214+i(v)+i(q))*(5.02+i(e)*.13+i(n)*.01))/(Math.floor((i(v)+i(q)+4214)*(5.02+i(e)*.13+i(n)*.01))+29467*.875)*(((219+i(p)+i(g)+i(x)+i(_))/2+400)*(10.7+.1*i(e)+.01*(i(m)+i(w))))/12))*100)}var B=Mw(),U=c(u(B)),z=c(u(U)),y=u(z),N=u(y),$=c(y,2),C=u($),j=c(z),P=u(j),H=u(P),K=c(P,2),J=u(K),W=c(j),et=u(W),lt=u(et),ct=c(et,2),nt=u(ct),Z=c(W),Y=u(Z),wt=u(Y),rt=c(Y,2),vt=u(rt),st=c(Z),ut=u(st),dt=u(ut),ht=c(ut,2),Et=u(ht),At=c(st),Nt=u(At),Dt=u(Nt),Mt=c(Nt,2),re=u(Mt),Ft=c(At),te=u(Ft),ne=u(te),fe=c(Ft,2),Gt=u(fe),Wt=u(Gt),he=c(Gt,2),Ut=u(he),Zt=c(fe),ae=u(Zt),Ht=u(ae),ge=c(ae,2),$e=u(ge),qe=c(Zt),_e=u(qe),Re=u(_e),Ae=c(_e,2),Te=u(Ae),ye=c(qe),me=u(ye),xe=u(me),Ie=c(me,2),be=u(Ie),at=c(ye),ft=u(at),bt=u(ft),Lt=c(bt,2);ot(()=>G(Lt,` 당신의 렙당 뚜껑의 점수는 ${i(L)??""}입니다`)),D(N,()=>i(t),mt=>b(t,mt)),D(C,()=>i(e),mt=>b(e,mt)),D(H,()=>i(n),mt=>b(n,mt)),D(J,()=>i(s),mt=>b(s,mt)),D(lt,()=>i(a),mt=>b(a,mt)),D(nt,()=>i(o),mt=>b(o,mt)),D(wt,()=>i(l),mt=>b(l,mt)),D(vt,()=>i(d),mt=>b(d,mt)),D(dt,()=>i(h),mt=>b(h,mt)),D(Et,()=>i(v),mt=>b(v,mt)),D(Dt,()=>i(m),mt=>b(m,mt)),D(re,()=>i(p),mt=>b(p,mt)),D(ne,()=>i(g),mt=>b(g,mt)),D(Wt,()=>i(w),mt=>b(w,mt)),D(Ut,()=>i(_),mt=>b(_,mt)),D(Ht,()=>i(x),mt=>b(x,mt)),D($e,()=>i(k),mt=>b(k,mt)),D(Re,()=>i(A),mt=>b(A,mt)),D(Te,()=>i(T),mt=>b(T,mt)),D(xe,()=>i(q),mt=>b(q,mt)),D(be,()=>i(S),mt=>b(S,mt)),Q("click",bt,M),I(r,B)}var Fw=V('<table><thead><tr><th>링 스탯 측정기</th></tr></thead><tbody><tr><td><select class="input-text short svelte-1d6dr2d"><option>야만용사</option><option>성기사</option><option>드루이드</option><option>아마존</option></select></td></tr><tr><td><label><input class="input-text short svelte-1d6dr2d" type="checkbox"> + 5% 추가어레</label> <input class="input-text short svelte-1d6dr2d" type="number"> 최소 데미지</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 최대 데미지 <input class="input-text short svelte-1d6dr2d" type="number"> 어레</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 힘 <input class="input-text short svelte-1d6dr2d" type="number"> 민첩</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 생명력</td></tr><tr><td><button class="emphasis-button">계산</button><br> <br> 단순히 스탯만을 계산하므로 전체적인 성능과는 차이가 있을 수 있습니다.</td></tr></tbody></table>');function zw(r,t){Xt(t,!1);const e=O();let n=O(0),s=O(0),a=O(0),o=O(0),l=O(0),d=O(0),h=O(4),v=O(0),m=O(!1);zt(()=>(i(s),i(a),i(n),i(d),i(l),i(o),i(h),i(m)),()=>{b(e,()=>{let Z=i(s)+i(a)+i(n)/5+(i(d)+i(l))*1.5+i(o)/i(h);i(m)&&(Z+=38/5),b(v,Z)})}),tn();var p=Fw(),g=c(u(p)),w=u(g),_=u(w),x=u(_);ot(()=>{i(h),os(()=>{i(e)})});var k=u(x);k.value=(k.__value="4")==null?"":"4";var A=c(k);A.value=(A.__value="3")==null?"":"3";var T=c(A);T.value=(T.__value="2")==null?"":"2";var q=c(T);q.value=(q.__value="3")==null?"":"3";var S=c(w),L=u(S),M=u(L),B=u(M),U=c(M,2),z=c(S),y=u(z),N=u(y),$=c(N,2),C=c(z),j=u(C),P=u(j),H=c(P,2),K=c(C),J=u(K),W=u(J),et=c(K),lt=u(et),ct=u(lt),nt=c(ct,2);ot(()=>G(nt,` 이 링의 전체 스탯은 ${i(v)??""} 스탯 입니다. `)),ls(x,()=>i(h),Z=>b(h,Z)),Q("change",x,function(...Z){var Y;(Y=i(e))==null||Y.apply(this,Z)}),Op(B,()=>i(m),Z=>b(m,Z)),D(U,()=>i(l),Z=>b(l,Z)),D(N,()=>i(d),Z=>b(d,Z)),D($,()=>i(n),Z=>b(n,Z)),D(P,()=>i(s),Z=>b(s,Z)),D(H,()=>i(a),Z=>b(a,Z)),D(W,()=>i(o),Z=>b(o,Z)),Q("click",ct,function(...Z){var Y;(Y=i(e))==null||Y.apply(this,Z)}),I(r,p),Qt()}var Hw=V('<tr><td>프레임 단위 시뮬레이션 결과 검증</td><td><input class="input-text short svelte-b8vo4p" type="number" min="0"></td></tr> <tr><td> <br> <br> <br> <br> <br> <br></td><td> <br> <br> <br> <br> <br> <br></td></tr>',1),Kw=V(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>내 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 내 스탯으로 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상대 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 상대 스탯으로 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr><!></tbody></table></div>`);function Gw(r,t){Xt(t,!1);const e=ce(),n=()=>F(wt,"$mycharlv",e),s=()=>F(rt,"$myhp",e),a=()=>F(st,"$mymaxdmg",e),o=()=>F(vt,"$mymindmg",e),l=()=>F(ut,"$myar",e),d=()=>F(dt,"$mydf",e),h=()=>F(ht,"$myframe",e),v=()=>F(Et,"$mydfoff",e),m=()=>F(At,"$myreduce",e),p=()=>F(Nt,"$mycrush",e),g=()=>F(Dt,"$mycs",e),w=()=>F(Mt,"$myds",e),_=()=>F(re,"$mydodge",e),x=()=>F(Ft,"$myopenwound",e),k=()=>F(te,"$mythorns",e),A=()=>F(ne,"$myclass",e),T=()=>F(fe,"$yourcharlv",e),q=()=>F(Gt,"$yourhp",e),S=()=>F(he,"$yourmaxdmg",e),L=()=>F(Wt,"$yourmindmg",e),M=()=>F(Ut,"$yourar",e),B=()=>F(Zt,"$yourdf",e),U=()=>F(ae,"$yourframe",e),z=()=>F(Ht,"$yourdfoff",e),y=()=>F(ge,"$yourreduce",e),N=()=>F($e,"$yourcrush",e),$=()=>F(qe,"$yourcs",e),C=()=>F(_e,"$yourds",e),j=()=>F(Re,"$yourdodge",e),P=()=>F(Ae,"$youropenwound",e),H=()=>F(Te,"$yourthorns",e),K=()=>F(ye,"$yourclass",e),J=()=>F(me,"$iterations",e),W=()=>F(xe,"$win",e),et=()=>F(Ie,"$lose",e),lt=()=>F(be,"$draw",e),ct=()=>F(at,"$winRate",e);let nt=O(0),Z=O(0),Y=O([]),wt=tt(99),rt=tt(0),vt=tt(0),st=tt(0),ut=tt(0),dt=tt(0),ht=tt(4),Et=tt(0),At=tt(0),Nt=tt(0),Dt=tt(0),Mt=tt(0),re=tt(0),Ft=tt(0),te=tt(0),ne=tt(1),fe=tt(99),Gt=tt(0),Wt=tt(0),he=tt(0),Ut=tt(0),Zt=tt(0),ae=tt(4),Ht=tt(0),ge=tt(50),$e=tt(0),qe=tt(0),_e=tt(0),Re=tt(0),Ae=tt(0),Te=tt(0),ye=tt(1),me=tt(2e3),xe=tt(0),Ie=tt(0),be=tt(0),at=tt(0);const ft=()=>{const kt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:l(),df:d(),frame:[h()],dfoff:v(),reduce:m(),crush:p(),cs:g(),ds:w(),dodge:_(),openwound:x(),thorns:k(),class:A()},ze=JSON.stringify(kt),gt=new Blob([ze],{type:"application/json"}),ue=URL.createObjectURL(gt),oe=document.createElement("a");oe.download="my_stat.json",oe.href=ue,oe.click()},bt=()=>{const kt={charlv:T(),hp:q(),maxdmg:S(),mindmg:L(),ar:M(),df:B(),frame:[U()],dfoff:z(),reduce:y(),crush:N(),cs:$(),ds:C(),dodge:j(),openwound:P(),thorns:H(),class:K()},ze=JSON.stringify(kt),gt=new Blob([ze],{type:"application/json"}),ue=URL.createObjectURL(gt),oe=document.createElement("a");oe.download="opponent_stat.json",oe.href=ue,oe.click()},Lt=kt=>{var ue;const ze=(ue=kt.target.files)==null?void 0:ue[0];if(!ze)return;const gt=new FileReader;gt.onload=oe=>{var He;try{const Rt=JSON.parse((He=oe.target)==null?void 0:He.result);Object.keys(Rt).forEach(mr=>{if(Rt[mr]===void 0)throw Error}),wt.set(Rt.charlv),rt.set(Rt.hp),st.set(Rt.maxdmg),vt.set(Rt.mindmg),ut.set(Rt.ar),dt.set(Rt.df),ht.set(Rt.frame[0]),Et.set(Rt.dfoff),At.set(Rt.reduce),Nt.set(Rt.crush),Dt.set(Rt.cs),Mt.set(Rt.ds),re.set(Rt.dodge),Ft.set(Rt.openwound),te.set(Rt.thorns),ne.set(Rt.class)}catch{alert("Invalid JSON file")}},gt.readAsText(ze)},mt=kt=>{var ue;const ze=(ue=kt.target.files)==null?void 0:ue[0];if(!ze)return;const gt=new FileReader;gt.onload=oe=>{var He;try{const Rt=JSON.parse((He=oe.target)==null?void 0:He.result);Object.keys(Rt).forEach(mr=>{if(Rt[mr]===void 0)throw Error}),fe.set(Rt.charlv),Gt.set(Rt.hp),he.set(Rt.maxdmg),Wt.set(Rt.mindmg),Ut.set(Rt.ar),Zt.set(Rt.df),ae.set(Rt.frame[0]),Ht.set(Rt.dfoff),ge.set(Rt.reduce),$e.set(Rt.crush),qe.set(Rt.cs),_e.set(Rt.ds),Re.set(Rt.dodge),Ae.set(Rt.openwound),Te.set(Rt.thorns),ye.set(Rt.class)}catch{alert("Invalid JSON file")}},gt.readAsText(ze)},Ke=async()=>{xe.set(0),Ie.set(0),be.set(0),at.set(0);const kt={myhp:s(),yourhp:q(),myframe:[h()],yourframe:[U()],myclass:A(),yourclass:K(),mycharlv:n(),yourcharlv:T(),iterations:J(),myar:l(),yourar:M(),mydf:d(),yourdf:B(),mydfoff:v(),yourdfoff:z(),mydodge:_(),yourdodge:j(),mycrush:p(),yourcrush:N(),myopenwound:x(),youropenwound:P(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:S(),yourmindmg:L(),myreduce:m(),yourreduce:y(),mycs:g(),myds:w(),yourcs:$(),yourds:C(),mythorns:k(),yourthorns:H()};try{const ze=await jt("/calculate","POST",kt);if(ze.ok){const gt=await ze.json();xe.set(gt[0].winCount),Ie.set(gt[0].loseCount),be.set(gt[0].drawCount);const ue=Number(gt[0].winRate.toFixed(2));at.set(ue),b(Z,gt[1].length),b(Y,gt[1])}else console.error("Error calculating:",ze.statusText)}catch(ze){console.error("Error calculating:",ze),alert("Calculation failed.")}};ve();var rr=Kw(),Ze=c(u(rr),2),Mr=u(Ze),Or=u(Mr),br=c(u(Or)),_r=u(br),lr=c(br,2),we=u(lr),Lr=c(Or),cr=c(u(Lr)),yr=u(cr),en=c(cr,2),Ur=u(en),Ne=c(Lr),ur=c(u(Ne)),wr=u(ur),rn=c(ur,2),Fr=u(rn),Cr=c(Ne),Se=c(u(Cr)),xr=u(Se),nn=c(Se,2),zr=u(nn),qr=c(Cr),dr=c(u(qr)),nr=u(dr),Hr=c(dr,2),sr=u(Hr),Me=c(qr),fr=c(u(Me)),Rr=u(fr),sn=c(fr,2),Ir=u(sn),Er=c(Me),It=c(u(Er)),Dr=u(It),an=c(It,2),hr=u(an),Kr=c(Er),Gr=c(u(Kr)),_n=u(Gr),On=c(Gr,2),Ln=u(On),Vr=c(Ze,4),Wr=u(Vr),on=u(Wr),Jr=c(u(on)),Tt=u(Jr),Qe=c(Jr,2),ar=u(Qe),ir=c(on),Yn=c(u(ir)),pr=u(Yn),ms=c(Yn,2),Cn=u(ms),qn=c(ir),Xn=c(u(qn)),Qn=u(Xn),Ge=c(Xn,2),Rn=u(Ge),ln=c(qn),Zr=c(u(ln)),In=u(Zr),yn=c(Zr,2),ts=u(yn),wn=c(ln),cn=c(u(wn)),Dn=u(cn),vr=c(cn,2),es=u(vr),un=c(wn),jn=c(u(un)),rs=u(jn),f=c(jn,2),E=u(f),R=c(un),X=c(u(R)),Pt=u(X),Ot=c(X,2),ee=u(Ot),Jt=c(R),Oe=c(u(Jt)),ie=u(Oe),Ue=c(Oe,2),Ye=u(Ue),Ce=c(Vr,2),Fe=u(Ce),je=u(Fe),Yr=c(u(je)),kr=u(Yr),Xr=c(je),gs=c(u(Xr)),ns=u(gs),ss=c(Ce,2),ai=u(ss),Zs=u(ai),_a=c(u(Zs)),bs=u(_a),Ss=c(bs,2),_s=c(Ss,2),Os=c(_s,2),Ys=c(Zs,3);xt(Ys,()=>i(Y).length>0,kt=>{var ze=Hw(),gt=yt(ze),ue=c(u(gt)),oe=u(ue),He=c(gt,2),Rt=u(He),mr=u(Rt),Bt=c(mr,2),xn=c(Bt,2),dn=c(xn,2),jr=c(dn,2),ya=c(jr,2),wa=c(Rt),xa=u(wa),Ea=c(xa,2),Xs=c(Ea,2),Ls=c(Xs,2),Qs=c(Ls,2),ta=c(Qs,2);ot(()=>{ws(oe,"max",i(Z)),G(mr,`내 체력 : ${i(Y)[i(nt)].myLife??""}`),G(Bt,` ${(i(Y)[i(nt)].myTriedAttack?"공격시도":null)??""} `),G(xn,` ${(i(Y)[i(nt)].myAttackSuccess?`공격성공 : ${i(Y)[i(nt)].myAttackSuccess}`:null)??""} `),G(dn,` ${(i(Y)[i(nt)].myCrushSuccess?"강타발동":null)??""} `),G(jr,` ${(i(Y)[i(nt)].myDeadlySuccess?"치타발동":null)??""} `),G(ya,` ${(i(Y)[i(nt)].myOpenedWoundSuccess?"상악발동":null)??""} `),G(xa,`상대 체력 : ${i(Y)[i(nt)].yourLife??""}`),G(Ea,` ${(i(Y)[i(nt)].yourTriedAttack?"공격시도":null)??""} `),G(Xs,` ${(i(Y)[i(nt)].yourAttackSuccess?`공격성공: ${i(Y)[i(nt)].yourAttackSuccess}`:null)??""} `),G(Ls,` ${(i(Y)[i(nt)].yourCrushSuccess?"강타발동":null)??""} `),G(Qs,` ${(i(Y)[i(nt)].yourDeadlySuccess?"치타발동":null)??""} `),G(ta,` ${(i(Y)[i(nt)].yourOpenedWoundSuccess?"상악발동":null)??""} `)}),D(oe,()=>i(nt),ea=>b(nt,ea)),I(kt,ze)}),ot(()=>{G(bs,`승 : ${W()??""}`),G(Ss,` 패 : ${et()??""}`),G(_s,` 무승부 : ${lt()??""}`),G(Os,` 승률 : ${ct()??""} %`)}),D(_r,n,kt=>pt(wt,kt)),D(we,o,kt=>pt(vt,kt)),D(yr,a,kt=>pt(st,kt)),D(Ur,l,kt=>pt(ut,kt)),D(wr,v,kt=>pt(Et,kt)),D(Fr,d,kt=>pt(dt,kt)),D(xr,s,kt=>pt(rt,kt)),D(zr,h,kt=>pt(ht,kt)),D(nr,m,kt=>pt(At,kt)),D(sr,p,kt=>pt(Nt,kt)),D(Rr,w,kt=>pt(Mt,kt)),D(Ir,g,kt=>pt(Dt,kt)),D(Dr,x,kt=>pt(Ft,kt)),D(hr,k,kt=>pt(te,kt)),Q("click",_n,ft),Q("change",Ln,Lt),D(Tt,T,kt=>pt(fe,kt)),D(ar,L,kt=>pt(Wt,kt)),D(pr,S,kt=>pt(he,kt)),D(Cn,M,kt=>pt(Ut,kt)),D(Qn,z,kt=>pt(Ht,kt)),D(Rn,B,kt=>pt(Zt,kt)),D(In,q,kt=>pt(Gt,kt)),D(ts,U,kt=>pt(ae,kt)),D(Dn,y,kt=>pt(ge,kt)),D(es,N,kt=>pt($e,kt)),D(rs,C,kt=>pt(_e,kt)),D(E,$,kt=>pt(qe,kt)),D(Pt,P,kt=>pt(Ae,kt)),D(ee,H,kt=>pt(Te,kt)),Q("click",ie,bt),Q("change",Ye,mt),D(kr,J,kt=>pt(me,kt)),Q("click",ns,Ke),I(r,rr),Qt()}var Vw=V('<div class="main-container svelte-h7jwtc"><div class="table-head svelte-h7jwtc">Elo점수 예상 계산기</div> <div class="form-wrapper svelte-h7jwtc"><div class="input-group svelte-h7jwtc"><label for="wScore" class="svelte-h7jwtc">승자 점수</label> <input type="number" id="wScore" class="input-text name svelte-h7jwtc"></div> <div class="input-group svelte-h7jwtc"><label for="lScore" class="svelte-h7jwtc">패자 점수</label> <input type="number" id="lScore" class="input-text name svelte-h7jwtc"></div></div> <div class="result-wrapper svelte-h7jwtc"><button class="emphasis-button">계산</button> <p class="result-text svelte-h7jwtc"> </p></div></div>');function Ww(r,t){Xt(t,!1);const e=O();let n=O(),s=O(),a=O();const o=32,l=400;zt(()=>(i(n),i(s)),()=>{b(e,()=>{if(i(n)!==void 0&&i(s)!==void 0){const A=1/(1+Math.pow(10,(i(s)-i(n))/l));b(a,Math.round(o*(1-A)))}else b(a,void 0)})}),tn();var d=Vw(),h=c(u(d),2),v=u(h),m=c(u(v),2),p=c(v,2),g=c(u(p),2),w=c(h,2),_=u(w),x=c(_,2),k=u(x);ot(()=>G(k,`예상 득실 점수: ${(i(a)!==void 0?i(a):"값을 입력하세요")??""}`)),D(m,()=>i(n),A=>b(n,A)),D(g,()=>i(s),A=>b(s,A)),Q("click",_,function(...A){var T;(T=i(e))==null||T.apply(this,A)}),I(r,d),Qt()}var Jw=V("<option> </option>"),Zw=V('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-18a1swj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="input-text score svelte-18a1swj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br></div>'),Yw=V('<div class="left">권한이 없습니다.</div>'),Xw=V('<div class="main_data"><!></div>');function Qw(r,t){Xt(t,!1);const e=ce(),n=()=>F(Es,"$nicknames",e),s=()=>F(pe,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=O(),l=O();function d(_){b(o,v(_.target.value,n()))}function h(_){b(l,_.target.value)}function v(_,x){return x.includes(_)?_:""}Xe(()=>{ni(s())});async function m(){const _={player:i(o),playerScore:i(l)};try{(await jt("/admin-score/mpk/submit","POST",_)).status===201&&alert("점수 부여 완료")}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const x=await jt("/admin-score/mpk/reset","DELETE");x&&x.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${x.status}`)}catch{alert("오류 발생")}}ve();var g=Xw(),w=u(g);xt(w,()=>a()==="admin_m",_=>{var x=Zw(),k=c(u(x)),A=c(k,2);Yt(A,5,n,se,(L,M)=>{var B=Jw(),U={},z=u(B);ot(()=>{U!==(U=i(M))&&(B.value=(B.__value=i(M))==null?"":i(M)),G(z,i(M))}),I(L,B)});var T=c(A,2),q=c(T,2),S=c(q,8);D(k,()=>i(o),L=>b(o,L)),Q("blur",k,d),D(T,()=>i(l),L=>b(l,L)),Q("change",T,h),Q("click",q,m),Q("click",S,p),I(_,x)},_=>{var x=Yw();I(_,x)}),I(r,g),Qt()}var tx=V("<option> </option>"),ex=V("<option> </option>"),rx=V('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br> <div class="left">이 선수의 소속 클랜 초기화하기 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <button class="simple-button">클랜초기화하기</button> <br> <br> 클랜 점수 변경/삭제 <select class="input-text name svelte-13bvvkj"><option>클랜을 선택하세요</option><!></select> <input type="number" placeholder="점수" class="input-text score svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <button class="emphasis-button">이 클랜 삭제하기</button></div></div> <br><br> <input type="text" class="input-text name svelte-13bvvkj" placeholder="클랜명 입력"> <button class="simple-button">클랜 추가하기</button><br>',1),nx=V('<div class="left">권한이 없습니다.</div>'),sx=V('<div class="main_data"><!></div>');function ax(r,t){Xt(t,!1);const e=ce(),n=()=>F(Es,"$nicknames",e),s=()=>F(pe,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=O(),l=O();function d(y){b(o,v(y.target.value,n()))}function h(y){b(l,y.target.value)}function v(y,N){return N.includes(y)?y:""}Xe(async()=>{ni(s()),x()});let m=O(),p=O(),g=O(),w=O(),_=O();async function x(){const y=`/clan/${s()}/list`;try{const N=await jt(y,"GET");N.status===200?b(g,await N.json()):console.error(`Error: Received status ${N.status}`)}catch(N){console.error("Error fetching clan list:",N)}}async function k(){const y={player:i(o),playerScore:i(l)};try{const N=await jt("/admin-score/babapk/submit","POST",y);N&&N.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${N.status}`)}catch{alert("오류 발생")}}async function A(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const N=await jt("/admin-score/babapk/reset","DELETE");N&&N.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${N.status}`)}catch{alert("오류 발생")}}async function T(){const y={player:i(m)};try{const N=await jt(`/clan/${s()}/reset`,"POST",y);alert("해당 선수 클랜 리셋 완료")}catch(N){alert("오류 발생 :"+N)}}async function q(y){const N=`/clan/${s()}/create`,$={name:y};try{const C=await jt(N,"POST",$);C.status===201?alert("클랜 생성에 성공하였습니다"):C.status===400&&alert("클랜 생성에 실패하였습니다")}catch{alert("클랜 생성에 실패하였습니다")}}function S(y){b(m,v(y.target.value,n()))}function L(y){b(w,y.target.value)}async function M(){const y={clan:i(p),clanScore:i(w)};try{(await jt(`/clan/${s()}/score`,"POST",y)).status===201?alert(i(p)+" 클랜 점수 부여 완료"):alert("오류 발생")}catch(N){alert("오류 발생 :"+N)}}async function B(){const y={clan:i(p)};if(confirm(`${i(p)} 클랜을 삭제합니다. 계속하시겠습니까?`))try{const $=await jt(`/clan/${s()}/delete`,"DELETE",y);alert(`${i(p)} 클랜 삭제 완료`),x()}catch($){alert("오류 발생 :"+$)}}ve();var U=sx(),z=u(U);xt(z,()=>a()==="admin",y=>{var N=rx(),$=yt(N),C=c(u($)),j=c(C,2);Yt(j,5,n,se,(st,ut)=>{var dt=tx(),ht={},Et=u(dt);ot(()=>{ht!==(ht=i(ut))&&(dt.value=(dt.__value=i(ut))==null?"":i(ut)),G(Et,i(ut))}),I(st,dt)});var P=c(j,2),H=c(P,2),K=c(H,6),J=c(K,6),W=c(u(J)),et=c(W,2),lt=c(et,6);ot(()=>{i(p),os(()=>{i(g)})});var ct=u(lt);ct.value=(ct.__value="none")==null?"":"none";var nt=c(ct);Yt(nt,1,()=>i(g),se,(st,ut)=>{var dt=ex(),ht={},Et=u(dt);ot(()=>{ht!==(ht=i(ut).name)&&(dt.value=(dt.__value=i(ut).name)==null?"":i(ut).name),G(Et,i(ut).name)}),I(st,dt)});var Z=c(lt,2),Y=c(Z,2),wt=c(Y,2),rt=c($,5),vt=c(rt,2);D(C,()=>i(o),st=>b(o,st)),Q("blur",C,d),D(P,()=>i(l),st=>b(l,st)),Q("change",P,h),Q("click",H,k),Q("click",K,A),D(W,()=>i(m),st=>b(m,st)),Q("blur",W,S),Q("click",et,T),ls(lt,()=>i(p),st=>b(p,st)),D(Z,()=>i(w),st=>b(w,st)),Q("change",Z,L),Q("click",Y,()=>M()),Q("click",wt,()=>B()),D(rt,()=>i(_),st=>b(_,st)),Q("click",vt,()=>q(i(_))),I(y,N)},y=>{var N=nx();I(y,N)}),I(r,U),Qt()}var ix=V("<option> </option>"),ox=V("<option> </option>"),lx=V('<tr><td>프레임 단위 시뮬레이션 결과 검증</td><td><input class="input-text short svelte-b8vo4p" type="number" min="0"></td></tr> <tr><td> <br> <br> <br> <br> <br> <br></td><td> <br> <br> <br> <br> <br> <br></td></tr>',1),cx=V(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr><!></tbody></table></div>`);function ux(r,t){Xt(t,!1);const e=ce(),n=()=>F(vt,"$mycharlv",e),s=()=>F(st,"$myhp",e),a=()=>F(dt,"$mymaxdmg",e),o=()=>F(ut,"$mymindmg",e),l=()=>F(ht,"$myar",e),d=()=>F(Et,"$mydf",e),h=()=>F(At,"$myframe",e),v=()=>F(Nt,"$mydfoff",e),m=()=>F(Dt,"$myreduce",e),p=()=>F(Mt,"$mycrush",e),g=()=>F(re,"$mycs",e),w=()=>F(Ft,"$myds",e),_=()=>F(te,"$mydodge",e),x=()=>F(ne,"$myopenwound",e),k=()=>F(fe,"$mythorns",e),A=()=>F(Gt,"$myclass",e),T=()=>F(he,"$yourcharlv",e),q=()=>F(Ut,"$yourhp",e),S=()=>F(ae,"$yourmaxdmg",e),L=()=>F(Zt,"$yourmindmg",e),M=()=>F(Ht,"$yourar",e),B=()=>F(ge,"$yourdf",e),U=()=>F($e,"$yourframe",e),z=()=>F(qe,"$yourdfoff",e),y=()=>F(_e,"$yourreduce",e),N=()=>F(Re,"$yourcrush",e),$=()=>F(Ae,"$yourcs",e),C=()=>F(Te,"$yourds",e),j=()=>F(ye,"$yourdodge",e),P=()=>F(me,"$youropenwound",e),H=()=>F(xe,"$yourthorns",e),K=()=>F(Ie,"$yourclass",e),J=()=>F(Wt,"$myframelist",e),W=()=>F(be,"$yourframelist",e),et=()=>F(at,"$iterations",e),lt=()=>F(ft,"$win",e),ct=()=>F(bt,"$lose",e),nt=()=>F(Lt,"$draw",e),Z=()=>F(mt,"$winRate",e);let Y=O(0),wt=O(0),rt=O([]),vt=tt(99),st=tt(0),ut=tt(0),dt=tt(0),ht=tt(0),Et=tt(0),At=tt([4]),Nt=tt(0),Dt=tt(0),Mt=tt(0),re=tt(0),Ft=tt(0),te=tt(0),ne=tt(0),fe=tt(0),Gt=tt(1),Wt=tt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),he=tt(99),Ut=tt(0),Zt=tt(0),ae=tt(0),Ht=tt(0),ge=tt(0),$e=tt([4]),qe=tt(0),_e=tt(50),Re=tt(0),Ae=tt(0),Te=tt(0),ye=tt(0),me=tt(0),xe=tt(0),Ie=tt(1),be=tt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),at=tt(2e3),ft=tt(0),bt=tt(0),Lt=tt(0),mt=tt(0);const Ke=()=>{const _t={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:l(),df:d(),frame:h(),dfoff:v(),reduce:m(),crush:p(),cs:g(),ds:w(),dodge:_(),openwound:x(),thorns:k(),class:A()},Le=JSON.stringify(_t),Ee=new Blob([Le],{type:"application/json"}),tr=URL.createObjectURL(Ee),or=document.createElement("a");or.download="my_stat.json",or.href=tr,or.click()},rr=()=>{const _t={charlv:T(),hp:q(),maxdmg:S(),mindmg:L(),ar:M(),df:B(),frame:U(),dfoff:z(),reduce:y(),crush:N(),cs:$(),ds:C(),dodge:j(),openwound:P(),thorns:H(),class:K()},Le=JSON.stringify(_t),Ee=new Blob([Le],{type:"application/json"}),tr=URL.createObjectURL(Ee),or=document.createElement("a");or.download="opponent_stat.json",or.href=tr,or.click()},Ze=_t=>{var tr;const Le=(tr=_t.target.files)==null?void 0:tr[0];if(!Le)return;const Ee=new FileReader;Ee.onload=or=>{var ra;try{const Kt=JSON.parse((ra=or.target)==null?void 0:ra.result);Object.keys(Kt).forEach(as=>{if(Kt[as]===void 0)throw Error}),Gt.set(Kt.class),br(),vt.set(Kt.charlv),st.set(Kt.hp),dt.set(Kt.maxdmg),ut.set(Kt.mindmg),ht.set(Kt.ar),Et.set(Kt.df),Nt.set(Kt.dfoff),Dt.set(Kt.reduce),Mt.set(Kt.crush),re.set(Kt.cs),Ft.set(Kt.ds),te.set(Kt.dodge),ne.set(Kt.openwound),fe.set(Kt.thorns);const ka=Kt.frame,Cs=J().find(as=>JSON.stringify(as.value)===JSON.stringify(ka));Cs?At.set(Cs.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Ee.readAsText(Le)},Mr=_t=>{var tr;const Le=(tr=_t.target.files)==null?void 0:tr[0];if(!Le)return;const Ee=new FileReader;Ee.onload=or=>{var ra;try{const Kt=JSON.parse((ra=or.target)==null?void 0:ra.result);Object.keys(Kt).forEach(as=>{if(Kt[as]===void 0)throw Error}),Ie.set(Kt.class),_r(),he.set(Kt.charlv),Ut.set(Kt.hp),ae.set(Kt.maxdmg),Zt.set(Kt.mindmg),Ht.set(Kt.ar),ge.set(Kt.df),qe.set(Kt.dfoff),_e.set(Kt.reduce),Re.set(Kt.crush),Ae.set(Kt.cs),Te.set(Kt.ds),ye.set(Kt.dodge),me.set(Kt.openwound),xe.set(Kt.thorns);const ka=Kt.frame,Cs=W().find(as=>JSON.stringify(as.value)===JSON.stringify(ka));Cs?$e.set(Cs.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Ee.readAsText(Le)},Or=async()=>{ft.set(0),bt.set(0),Lt.set(0),mt.set(0);const _t={myhp:s(),yourhp:q(),myframe:h(),yourframe:U(),myclass:A(),yourclass:K(),mycharlv:n(),yourcharlv:T(),iterations:et(),myar:l(),yourar:M(),mydf:d(),yourdf:B(),mydfoff:v(),yourdfoff:z(),mydodge:_(),yourdodge:j(),mycrush:p(),yourcrush:N(),myopenwound:x(),youropenwound:P(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:S(),yourmindmg:L(),myreduce:m(),yourreduce:y(),mycs:g(),myds:w(),yourcs:$(),yourds:C(),mythorns:k(),yourthorns:H()};try{const Le=await jt("/calculate","POST",_t);if(Le.ok){const Ee=await Le.json();ft.set(Ee[0].winCount),bt.set(Ee[0].loseCount),Lt.set(Ee[0].drawCount);const tr=Number(Ee[0].winRate.toFixed(2));mt.set(tr),b(wt,Ee[1].length),b(rt,Ee[1])}else console.error("Error calculating:",Le.statusText)}catch(Le){console.error("Error calculating:",Le),alert("Calculation failed.")}};function br(){A()===1?Wt.set([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]):A()===2?Wt.set([{name:"9프레임",value:[9]},{name:"10프레임",value:[10]},{name:"11프레임",value:[11]},{name:"12프레임",value:[12]},{name:"13프레임",value:[13]},{name:"14프레임",value:[14]},{name:"15프레임",value:[15]}]):A()===3?Wt.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):A()===4&&Wt.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function _r(){K()===1?be.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):K()===2?be.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):K()===3?be.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):K()===4&&be.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}ve();var lr=cx(),we=c(u(lr),2),Lr=u(we),cr=u(Lr),yr=c(u(cr)),en=u(yr),Ur=c(yr,2),Ne=u(Ur),ur=c(cr),wr=c(u(ur)),rn=u(wr),Fr=c(wr,2),Cr=u(Fr),Se=c(ur),xr=c(u(Se)),nn=u(xr),zr=c(xr,2),qr=u(zr),dr=c(Se),nr=c(u(dr)),Hr=u(nr),sr=c(nr,2),Me=u(sr),fr=c(dr),Rr=c(u(fr)),sn=u(Rr),Ir=c(Rr,2),Er=u(Ir),It=c(fr),Dr=c(u(It)),an=u(Dr),hr=c(Dr,2),Kr=u(hr),Gr=c(It),_n=c(u(Gr)),On=u(_n),Ln=c(_n,2),Vr=u(Ln),Wr=c(Gr),on=c(u(Wr)),Jr=u(on);ot(()=>{A(),os(()=>{})});var Tt=u(Jr);Tt.value=(Tt.__value=1)==null?"":1;var Qe=c(Tt);Qe.value=(Qe.__value=2)==null?"":2;var ar=c(Qe);ar.value=(ar.__value=3)==null?"":3;var ir=c(ar);ir.value=(ir.__value=4)==null?"":4;var Yn=c(on,2),pr=u(Yn);ot(()=>{h(),os(()=>{J()})}),Yt(pr,5,J,_t=>_t.name,(_t,Le)=>{var Ee=ix(),tr={},or=u(Ee);ot(()=>{tr!==(tr=i(Le).value)&&(Ee.value=(Ee.__value=i(Le).value)==null?"":i(Le).value),G(or,i(Le).name)}),I(_t,Ee)});var ms=c(Wr),Cn=c(u(ms)),qn=u(Cn),Xn=c(Cn,2),Qn=u(Xn),Ge=c(we,4),Rn=u(Ge),ln=u(Rn),Zr=c(u(ln)),In=u(Zr),yn=c(Zr,2),ts=u(yn),wn=c(ln),cn=c(u(wn)),Dn=u(cn),vr=c(cn,2),es=u(vr),un=c(wn),jn=c(u(un)),rs=u(jn),f=c(jn,2),E=u(f),R=c(un),X=c(u(R)),Pt=u(X),Ot=c(X,2),ee=u(Ot),Jt=c(R),Oe=c(u(Jt)),ie=u(Oe),Ue=c(Oe,2),Ye=u(Ue),Ce=c(Jt),Fe=c(u(Ce)),je=u(Fe),Yr=c(Fe,2),kr=u(Yr),Xr=c(Ce),gs=c(u(Xr)),ns=u(gs),ss=c(gs,2),ai=u(ss),Zs=c(Xr),_a=c(u(Zs)),bs=u(_a);ot(()=>{K(),os(()=>{})});var Ss=u(bs);Ss.value=(Ss.__value=1)==null?"":1;var _s=c(Ss);_s.value=(_s.__value=2)==null?"":2;var Os=c(_s);Os.value=(Os.__value=3)==null?"":3;var Ys=c(Os);Ys.value=(Ys.__value=4)==null?"":4;var kt=c(_a,2),ze=u(kt);ot(()=>{U(),os(()=>{W()})}),Yt(ze,5,W,_t=>_t.name,(_t,Le)=>{var Ee=ox(),tr={},or=u(Ee);ot(()=>{tr!==(tr=i(Le).value)&&(Ee.value=(Ee.__value=i(Le).value)==null?"":i(Le).value),G(or,i(Le).name)}),I(_t,Ee)});var gt=c(Zs),ue=c(u(gt)),oe=u(ue),He=c(ue,2),Rt=u(He),mr=c(Ge,2),Bt=u(mr),xn=u(Bt),dn=c(u(xn)),jr=u(dn),ya=c(xn),wa=c(u(ya)),xa=u(wa),Ea=c(mr,2),Xs=u(Ea),Ls=u(Xs),Qs=c(u(Ls)),ta=u(Qs),ea=c(ta,2),Hi=c(ea,2),Po=c(Hi,2),th=c(Ls,3);xt(th,()=>i(rt).length>0,_t=>{var Le=lx(),Ee=yt(Le),tr=c(u(Ee)),or=u(tr),ra=c(Ee,2),Kt=u(ra),ka=u(Kt),Cs=c(ka,2),as=c(Cs,2),_c=c(as,2),yc=c(_c,2),eh=c(yc,2),rh=c(Kt),wc=u(rh),xc=c(wc,2),Ec=c(xc,2),kc=c(Ec,2),$c=c(kc,2),nh=c($c,2);ot(()=>{ws(or,"max",i(wt)),G(ka,`내 체력 : ${i(rt)[i(Y)].myLife??""}`),G(Cs,` ${(i(rt)[i(Y)].myTriedAttack?"공격시도":null)??""} `),G(as,` ${(i(rt)[i(Y)].myAttackSuccess?`공격성공 : ${i(rt)[i(Y)].myAttackSuccess}`:null)??""} `),G(_c,` ${(i(rt)[i(Y)].myCrushSuccess?"강타발동":null)??""} `),G(yc,` ${(i(rt)[i(Y)].myDeadlySuccess?"치타발동":null)??""} `),G(eh,` ${(i(rt)[i(Y)].myOpenedWoundSuccess?"상악발동":null)??""} `),G(wc,`상대 체력 : ${i(rt)[i(Y)].yourLife??""}`),G(xc,` ${(i(rt)[i(Y)].yourTriedAttack?"공격시도":null)??""} `),G(Ec,` ${(i(rt)[i(Y)].yourAttackSuccess?`공격성공: ${i(rt)[i(Y)].yourAttackSuccess}`:null)??""} `),G(kc,` ${(i(rt)[i(Y)].yourCrushSuccess?"강타발동":null)??""} `),G($c,` ${(i(rt)[i(Y)].yourDeadlySuccess?"치타발동":null)??""} `),G(nh,` ${(i(rt)[i(Y)].yourOpenedWoundSuccess?"상악발동":null)??""} `)}),D(or,()=>i(Y),sh=>b(Y,sh)),I(_t,Le)}),ot(()=>{G(ta,`승 : ${lt()??""}`),G(ea,` 패 : ${ct()??""}`),G(Hi,` 무승부 : ${nt()??""}`),G(Po,` 승률 : ${Z()??""} %`)}),D(en,n,_t=>pt(vt,_t)),D(Ne,o,_t=>pt(ut,_t)),D(rn,a,_t=>pt(dt,_t)),D(Cr,l,_t=>pt(ht,_t)),D(nn,v,_t=>pt(Nt,_t)),D(qr,d,_t=>pt(Et,_t)),D(Hr,s,_t=>pt(st,_t)),D(Me,_,_t=>pt(te,_t)),D(sn,m,_t=>pt(Dt,_t)),D(Er,p,_t=>pt(Mt,_t)),D(an,w,_t=>pt(Ft,_t)),D(Kr,g,_t=>pt(re,_t)),D(On,x,_t=>pt(ne,_t)),D(Vr,k,_t=>pt(fe,_t)),ls(Jr,A,_t=>pt(Gt,_t)),Q("change",Jr,()=>br()),ls(pr,h,_t=>pt(At,_t)),Q("click",qn,Ke),Q("change",Qn,Ze),D(In,T,_t=>pt(he,_t)),D(ts,L,_t=>pt(Zt,_t)),D(Dn,S,_t=>pt(ae,_t)),D(es,M,_t=>pt(Ht,_t)),D(rs,z,_t=>pt(qe,_t)),D(E,B,_t=>pt(ge,_t)),D(Pt,q,_t=>pt(Ut,_t)),D(ee,j,_t=>pt(ye,_t)),D(ie,y,_t=>pt(_e,_t)),D(Ye,N,_t=>pt(Re,_t)),D(je,C,_t=>pt(Te,_t)),D(kr,$,_t=>pt(Ae,_t)),D(ns,P,_t=>pt(me,_t)),D(ai,H,_t=>pt(xe,_t)),ls(bs,K,_t=>pt(Ie,_t)),Q("change",bs,()=>_r()),ls(ze,U,_t=>pt($e,_t)),Q("click",oe,rr),Q("change",Rt,Mr),D(jr,et,_t=>pt(at,_t)),Q("click",xa,Or),I(r,lr),Qt()}var dx=V('<tr><td>프레임 단위 시뮬레이션 결과 검증</td><td><input class="input-text short svelte-b8vo4p" type="number" min="0"></td></tr> <tr><td> <br> <br> <br> <br> <br> <br></td><td> <br> <br> <br> <br> <br> <br></td></tr>',1),fx=V(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>-</td><td>-</td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>-</td><td>-</td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr><!></tbody></table></div>`);function hx(r,t){Xt(t,!1);const e=ce(),n=()=>F(vt,"$mycharlv",e),s=()=>F(st,"$myhp",e),a=()=>F(dt,"$mymaxdmg",e),o=()=>F(ut,"$mymindmg",e),l=()=>F(ht,"$myar",e),d=()=>F(Et,"$mydf",e),h=()=>F(At,"$myframe",e),v=()=>F(Nt,"$mydfoff",e),m=()=>F(Dt,"$myreduce",e),p=()=>F(Mt,"$mycrush",e),g=()=>F(re,"$mycs",e),w=()=>F(Ft,"$myds",e),_=()=>F(te,"$mydodge",e),x=()=>F(ne,"$myopenwound",e),k=()=>F(fe,"$mythorns",e),A=()=>F(Gt,"$myclass",e),T=()=>F(he,"$yourcharlv",e),q=()=>F(Ut,"$yourhp",e),S=()=>F(ae,"$yourmaxdmg",e),L=()=>F(Zt,"$yourmindmg",e),M=()=>F(Ht,"$yourar",e),B=()=>F(ge,"$yourdf",e),U=()=>F($e,"$yourframe",e),z=()=>F(qe,"$yourdfoff",e),y=()=>F(_e,"$yourreduce",e),N=()=>F(Re,"$yourcrush",e),$=()=>F(Ae,"$yourcs",e),C=()=>F(Te,"$yourds",e),j=()=>F(ye,"$yourdodge",e),P=()=>F(me,"$youropenwound",e),H=()=>F(xe,"$yourthorns",e),K=()=>F(Ie,"$yourclass",e),J=()=>F(Wt,"$myframelist",e),W=()=>F(be,"$yourframelist",e),et=()=>F(at,"$iterations",e),lt=()=>F(ft,"$win",e),ct=()=>F(bt,"$lose",e),nt=()=>F(Lt,"$draw",e),Z=()=>F(mt,"$winRate",e);let Y=O(0),wt=O(0),rt=O([]),vt=tt(99),st=tt(0),ut=tt(0),dt=tt(0),ht=tt(0),Et=tt(0),At=tt([4,4,4,4,8]),Nt=tt(0),Dt=tt(0),Mt=tt(0),re=tt(0),Ft=tt(0),te=tt(0),ne=tt(0),fe=tt(0),Gt=tt(1),Wt=tt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),he=tt(99),Ut=tt(0),Zt=tt(0),ae=tt(0),Ht=tt(0),ge=tt(0),$e=tt([4]),qe=tt(0),_e=tt(50),Re=tt(0),Ae=tt(0),Te=tt(0),ye=tt(0),me=tt(0),xe=tt(0),Ie=tt(1),be=tt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),at=tt(2e3),ft=tt(0),bt=tt(0),Lt=tt(0),mt=tt(0);const Ke=()=>{const gt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:l(),df:d(),frame:h(),dfoff:v(),reduce:m(),crush:p(),cs:g(),ds:w(),dodge:_(),openwound:x(),thorns:k(),class:A()},ue=JSON.stringify(gt),oe=new Blob([ue],{type:"application/json"}),He=URL.createObjectURL(oe),Rt=document.createElement("a");Rt.download="my_stat.json",Rt.href=He,Rt.click()},rr=()=>{const gt={charlv:T(),hp:q(),maxdmg:S(),mindmg:L(),ar:M(),df:B(),frame:U(),dfoff:z(),reduce:y(),crush:N(),cs:$(),ds:C(),dodge:j(),openwound:P(),thorns:H(),class:K()},ue=JSON.stringify(gt),oe=new Blob([ue],{type:"application/json"}),He=URL.createObjectURL(oe),Rt=document.createElement("a");Rt.download="opponent_stat.json",Rt.href=He,Rt.click()},Ze=gt=>{var He;const ue=(He=gt.target.files)==null?void 0:He[0];if(!ue)return;const oe=new FileReader;oe.onload=Rt=>{var mr;try{const Bt=JSON.parse((mr=Rt.target)==null?void 0:mr.result);Object.keys(Bt).forEach(jr=>{if(Bt[jr]===void 0)throw Error}),Gt.set(Bt.class),br(),vt.set(Bt.charlv),st.set(Bt.hp),dt.set(Bt.maxdmg),ut.set(Bt.mindmg),ht.set(Bt.ar),Et.set(Bt.df),Nt.set(Bt.dfoff),Dt.set(Bt.reduce),Mt.set(Bt.crush),re.set(Bt.cs),Ft.set(Bt.ds),te.set(Bt.dodge),ne.set(Bt.openwound),fe.set(Bt.thorns);const xn=Bt.frame,dn=J().find(jr=>JSON.stringify(jr.value)===JSON.stringify(xn));dn?At.set(dn.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},oe.readAsText(ue)},Mr=gt=>{var He;const ue=(He=gt.target.files)==null?void 0:He[0];if(!ue)return;const oe=new FileReader;oe.onload=Rt=>{var mr;try{const Bt=JSON.parse((mr=Rt.target)==null?void 0:mr.result);Object.keys(Bt).forEach(jr=>{if(Bt[jr]===void 0)throw Error}),Ie.set(Bt.class),_r(),he.set(Bt.charlv),Ut.set(Bt.hp),ae.set(Bt.maxdmg),Zt.set(Bt.mindmg),Ht.set(Bt.ar),ge.set(Bt.df),qe.set(Bt.dfoff),_e.set(Bt.reduce),Re.set(Bt.crush),Ae.set(Bt.cs),Te.set(Bt.ds),ye.set(Bt.dodge),me.set(Bt.openwound),xe.set(Bt.thorns);const xn=Bt.frame,dn=W().find(jr=>JSON.stringify(jr.value)===JSON.stringify(xn));dn?$e.set(dn.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},oe.readAsText(ue)},Or=async()=>{ft.set(0),bt.set(0),Lt.set(0),mt.set(0);const gt={myhp:s(),yourhp:q(),myframe:h(),yourframe:U(),myclass:A(),yourclass:K(),mycharlv:n(),yourcharlv:T(),iterations:et(),myar:l(),yourar:M(),mydf:d(),yourdf:B(),mydfoff:v(),yourdfoff:z(),mydodge:_(),yourdodge:j(),mycrush:p(),yourcrush:N(),myopenwound:x(),youropenwound:P(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:S(),yourmindmg:L(),myreduce:m(),yourreduce:y(),mycs:g(),myds:w(),yourcs:$(),yourds:C(),mythorns:k(),yourthorns:H()};try{const ue=await jt("/calculate","POST",gt);if(ue.ok){const oe=await ue.json();ft.set(oe[0].winCount),bt.set(oe[0].loseCount),Lt.set(oe[0].drawCount);const He=Number(oe[0].winRate.toFixed(2));mt.set(He),b(wt,oe[1].length),b(rt,oe[1])}else console.error("Error calculating:",ue.statusText)}catch(ue){console.error("Error calculating:",ue),alert("Calculation failed.")}};function br(){A()===1?Wt.set([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]):A()===2?Wt.set([{name:"9프레임",value:[9]},{name:"10프레임",value:[10]},{name:"11프레임",value:[11]},{name:"12프레임",value:[12]},{name:"13프레임",value:[13]},{name:"14프레임",value:[14]},{name:"15프레임",value:[15]}]):A()===3?Wt.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):A()===4&&Wt.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function _r(){K()===1?be.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):K()===2?be.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):K()===3?be.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):K()===4&&be.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}ve();var lr=fx(),we=c(u(lr),2),Lr=u(we),cr=u(Lr),yr=c(u(cr)),en=u(yr),Ur=c(yr,2),Ne=u(Ur),ur=c(cr),wr=c(u(ur)),rn=u(wr),Fr=c(wr,2),Cr=u(Fr),Se=c(ur),xr=c(u(Se)),nn=u(xr),zr=c(xr,2),qr=u(zr),dr=c(Se),nr=c(u(dr)),Hr=u(nr),sr=c(dr),Me=c(u(sr)),fr=u(Me),Rr=c(Me,2),sn=u(Rr),Ir=c(sr),Er=c(u(Ir)),It=u(Er),Dr=c(Er,2),an=u(Dr),hr=c(Ir),Kr=c(u(hr)),Gr=u(Kr),_n=c(Kr,2),On=u(_n),Ln=c(hr),Vr=c(u(Ln)),Wr=u(Vr),on=c(Vr,2),Jr=u(on),Tt=c(we,4),Qe=u(Tt),ar=u(Qe),ir=c(u(ar)),Yn=u(ir),pr=c(ir,2),ms=u(pr),Cn=c(ar),qn=c(u(Cn)),Xn=u(qn),Qn=c(qn,2),Ge=u(Qn),Rn=c(Cn),ln=c(u(Rn)),Zr=u(ln),In=c(ln,2),yn=u(In),ts=c(Rn),wn=c(u(ts)),cn=u(wn),Dn=c(ts),vr=c(u(Dn)),es=u(vr),un=c(vr,2),jn=u(un),rs=c(Dn),f=c(u(rs)),E=u(f),R=c(f,2),X=u(R),Pt=c(rs),Ot=c(u(Pt)),ee=u(Ot),Jt=c(Ot,2),Oe=u(Jt),ie=c(Pt),Ue=c(u(ie)),Ye=u(Ue),Ce=c(Ue,2),Fe=u(Ce),je=c(Tt,2),Yr=u(je),kr=u(Yr),Xr=c(u(kr)),gs=u(Xr),ns=c(kr),ss=c(u(ns)),ai=u(ss),Zs=c(je,2),_a=u(Zs),bs=u(_a),Ss=c(u(bs)),_s=u(Ss),Os=c(_s,2),Ys=c(Os,2),kt=c(Ys,2),ze=c(bs,3);xt(ze,()=>i(rt).length>0,gt=>{var ue=dx(),oe=yt(ue),He=c(u(oe)),Rt=u(He),mr=c(oe,2),Bt=u(mr),xn=u(Bt),dn=c(xn,2),jr=c(dn,2),ya=c(jr,2),wa=c(ya,2),xa=c(wa,2),Ea=c(Bt),Xs=u(Ea),Ls=c(Xs,2),Qs=c(Ls,2),ta=c(Qs,2),ea=c(ta,2),Hi=c(ea,2);ot(()=>{ws(Rt,"max",i(wt)),G(xn,`내 체력 : ${i(rt)[i(Y)].myLife??""}`),G(dn,` ${(i(rt)[i(Y)].myTriedAttack?"공격시도":null)??""} `),G(jr,` ${(i(rt)[i(Y)].myAttackSuccess?`공격성공 : ${i(rt)[i(Y)].myAttackSuccess}`:null)??""} `),G(ya,` ${(i(rt)[i(Y)].myCrushSuccess?"강타발동":null)??""} `),G(wa,` ${(i(rt)[i(Y)].myDeadlySuccess?"치타발동":null)??""} `),G(xa,` ${(i(rt)[i(Y)].myOpenedWoundSuccess?"상악발동":null)??""} `),G(Xs,`상대 체력 : ${i(rt)[i(Y)].yourLife??""}`),G(Ls,` ${(i(rt)[i(Y)].yourTriedAttack?"공격시도":null)??""} `),G(Qs,` ${(i(rt)[i(Y)].yourAttackSuccess?`공격성공: ${i(rt)[i(Y)].yourAttackSuccess}`:null)??""} `),G(ta,` ${(i(rt)[i(Y)].yourCrushSuccess?"강타발동":null)??""} `),G(ea,` ${(i(rt)[i(Y)].yourDeadlySuccess?"치타발동":null)??""} `),G(Hi,` ${(i(rt)[i(Y)].yourOpenedWoundSuccess?"상악발동":null)??""} `)}),D(Rt,()=>i(Y),Po=>b(Y,Po)),I(gt,ue)}),ot(()=>{G(_s,`승 : ${lt()??""}`),G(Os,` 패 : ${ct()??""}`),G(Ys,` 무승부 : ${nt()??""}`),G(kt,` 승률 : ${Z()??""} %`)}),D(en,n,gt=>pt(vt,gt)),D(Ne,o,gt=>pt(ut,gt)),D(rn,a,gt=>pt(dt,gt)),D(Cr,l,gt=>pt(ht,gt)),D(nn,v,gt=>pt(Nt,gt)),D(qr,d,gt=>pt(Et,gt)),D(Hr,s,gt=>pt(st,gt)),D(fr,m,gt=>pt(Dt,gt)),D(sn,p,gt=>pt(Mt,gt)),D(It,w,gt=>pt(Ft,gt)),D(an,g,gt=>pt(re,gt)),D(Gr,x,gt=>pt(ne,gt)),D(On,k,gt=>pt(fe,gt)),Q("click",Wr,Ke),Q("change",Jr,Ze),D(Yn,T,gt=>pt(he,gt)),D(ms,L,gt=>pt(Zt,gt)),D(Xn,S,gt=>pt(ae,gt)),D(Ge,M,gt=>pt(Ht,gt)),D(Zr,z,gt=>pt(qe,gt)),D(yn,B,gt=>pt(ge,gt)),D(cn,q,gt=>pt(Ut,gt)),D(es,y,gt=>pt(_e,gt)),D(jn,N,gt=>pt(Re,gt)),D(E,C,gt=>pt(Te,gt)),D(X,$,gt=>pt(Ae,gt)),D(ee,P,gt=>pt(me,gt)),D(Oe,H,gt=>pt(xe,gt)),Q("click",Ye,rr),Q("change",Fe,Mr),D(gs,et,gt=>pt(at,gt)),Q("click",ai,Or),I(r,lr),Qt()}var px=V("<option> </option>"),vx=V('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-6gm00j" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-6gm00j"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button></div>'),mx=V('<div class="left">권한이 없습니다.</div>'),gx=V('<div class="main_data"><!></div>');function bx(r,t){Xt(t,!1);const e=ce(),n=()=>F(Es,"$nicknames",e),s=()=>F(pe,"$mode",e),a=()=>F(Je,"$myaccount",e);let o=O(),l=O();function d(_){b(o,v(_.target.value,n()))}function h(_){b(l,_.target.value)}function v(_,x){return x.includes(_)?_:""}Xe(async()=>{ni(s())});async function m(){const _={player:i(o),playerScore:i(l)};try{const x=await jt("/admin-score/zpke/submit","POST",_);x&&x.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${x.status}`)}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const x=await jt("/admin-score/zpke/reset","DELETE");x&&x.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${x.status}`)}catch{alert("오류 발생")}}ve();var g=gx(),w=u(g);xt(w,()=>a()==="admin_z",_=>{var x=vx(),k=c(u(x)),A=c(k,2);Yt(A,5,n,se,(L,M)=>{var B=px(),U={},z=u(B);ot(()=>{U!==(U=i(M))&&(B.value=(B.__value=i(M))==null?"":i(M)),G(z,i(M))}),I(L,B)});var T=c(A,2),q=c(T,2),S=c(q,8);D(k,()=>i(o),L=>b(o,L)),Q("blur",k,d),D(T,()=>i(l),L=>b(l,L)),Q("change",T,h),Q("click",q,m),Q("click",S,p),I(_,x)},_=>{var x=mx();I(_,x)}),I(r,g),Qt()}var _x=V("<p>로딩 중...</p>"),yx=V("<p> </p>"),wx=V('<button class="simple-button">가입하기</button>'),xx=V('<tr class="svelte-j9la9l"><td colspan="5" class="detail-row svelte-j9la9l"> <br> <br> <!></td></tr>'),Ex=V('<tr class="svelte-j9la9l"><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td></tr> <!>',1),kx=V('<table class="rank-table svelte-j9la9l"><thead><tr class="svelte-j9la9l"><th class="svelte-j9la9l">순위</th><th class="svelte-j9la9l">클랜</th><th class="svelte-j9la9l">점수</th><th class="svelte-j9la9l">인원</th></tr></thead><tbody></tbody></table>'),$x=V('<div class="table-outline"><!></div>');function Ax(r,t){Xt(t,!1);const e=ce(),n=()=>F(pe,"$mode",e),s=()=>F(Je,"$myaccount",e);let a=O([]),o=O(!0),l=O(null),d=O([]),h=O("");async function v(){let _,x=1,k=1,A=`/clan/${n()}/list`,T=`/clan/${n()}/myclan`;try{const q=await jt(A,"GET");if(!q.ok)throw new Error("연결 에러입니다");b(a,await q.json()),i(a).sort((S,L)=>L.TScore-S.TScore),_=i(a).length||1;for(let S=0;S<i(a).length;S++)S>0&&i(a)[S].TScore===i(a)[S-1].TScore?pn(a,i(a)[S].rank=x):(pn(a,i(a)[S].rank=k),x=k),k++;if(s()){const S=await jt(T,"POST");b(h,await S.json())}}catch(q){b(l,q)}finally{b(o,!1)}}function m(_){pn(d,i(d)[_]=!i(d)[_]),b(d,[...i(d)])}Xe(()=>{const _=Ka.subscribe(x=>{v()});return()=>{_()}});async function p(_){const x={clanname:_},k=`/clan/${n()}/join`;if(confirm(`${_} 클랜에 가입합니다. 계속하시겠습니까?`))try{(await jt(k,"PATCH",x)).status===200?(alert("클랜에 가입하였습니다"),v()):alert("오류 발생")}catch(T){alert("오류 발생 :"+T)}}ve();var g=$x(),w=u(g);xt(w,()=>i(o),_=>{var x=_x();I(_,x)},_=>{var x=Vt(),k=yt(x);xt(k,()=>i(l),A=>{var T=yx(),q=u(T);ot(()=>G(q,`Error: ${i(l).message??""}`)),I(A,T)},A=>{var T=kx(),q=c(u(T));Yt(q,5,()=>i(a),se,(S,L,M)=>{var B=Ex(),U=yt(B),z=u(U),y=u(z),N=c(z),$=u(N),C=c(N),j=u(C);ot(()=>G(j,i(L).TScore.toFixed(2)));var P=c(C),H=u(P),K=c(U,2);xt(K,()=>i(d)[M],J=>{var W=xx(),et=u(W),lt=u(et);ot(()=>G(lt,`대전점수: ${i(L).BScore.toFixed(2)??""}`));var ct=c(lt,2),nt=c(ct,2),Z=c(nt);xt(Z,()=>i(h)==="none",Y=>{var wt=wx();Q("click",wt,()=>p(i(L).name)),I(Y,wt)}),ot(()=>{G(ct,` 대회점수: ${i(L).LScore??""}`),G(nt,` 클랜원: ${i(L).members??""} `)}),I(J,W)}),ot(()=>{G(y,i(L).rank),G($,i(L).name),G(H,i(L).members.length)}),Q("click",U,()=>m(M)),I(S,B)}),I(A,T)},!0),I(_,x)}),I(r,g),Qt()}var Tx=V('<nav><!></nav> <header><!></header> <main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main> <div class="form-container"><!></div> <footer><!></footer>',1);function Nx(r){rv(r,{children:(t,e)=>{var n=Tx(),s=yt(n),a=u(s);ov(a,{});var o=c(s,2),l=u(o);hv(l,{});var d=c(o,2),h=u(d);Pe(h,{path:"/:type/info",component:mv});var v=c(h,2);Pe(v,{path:"/",component:Wi});var m=c(v,2);Pe(m,{path:"/babapk",component:Wi});var p=c(m,2);Pe(p,{path:"/mpk",component:Wi});var g=c(p,2);Pe(g,{path:"/zpke",component:Wi});var w=c(g,2);Pe(w,{path:"/:type/rank",component:Hm});var _=c(w,2);Pe(_,{path:"/:type/record",component:s1});var x=c(_,2);Pe(x,{path:"/:type/tournament",component:m1});var k=c(x,2);Pe(k,{path:"/:type/boardlist",component:k1});var A=c(k,2);Pe(A,{path:"/:type/post/:id",component:R1});var T=c(A,2);Pe(T,{path:"/:type/write",component:$w});var q=c(T,2);Pe(q,{path:"/:type/winners",component:Cw});var S=c(q,2);Pe(S,{path:"/:type/calculator",component:Iw});var L=c(S,2);Pe(L,{path:"/zpke/pscore",component:jw});var M=c(L,2);Pe(M,{path:"/babapk/pscore",component:Bw});var B=c(M,2);Pe(B,{path:"/babapk/visio",component:Uw});var U=c(B,2);Pe(U,{path:"/:type/ring",component:zw});var z=c(U,2);Pe(z,{path:"/babapk/simul",component:Gw});var y=c(z,2);Pe(y,{path:"/:type/elo",component:Ww});var N=c(y,2);Pe(N,{path:"/mpk/admin",component:Qw});var $=c(N,2);Pe($,{path:"/babapk/admin",component:ax});var C=c($,2);Pe(C,{path:"/mpk/simul",component:ux});var j=c(C,2);Pe(j,{path:"/zpke/simul",component:hx});var P=c(j,2);Pe(P,{path:"/zpke/admin",component:bx});var H=c(P,2);Pe(H,{path:"/babapk/clan",component:Ax});var K=c(d,2),J=u(K);km(J,{});var W=c(K,2),et=u(W);dv(et,{}),I(t,n)},$$slots:{default:!0}})}pp(Nx,{target:document.getElementById("app")})});export default Sx();
