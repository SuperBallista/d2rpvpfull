var ch=Object.defineProperty;var uh=(n,t,e)=>t in n?ch(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var fh=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var rt=(n,t,e)=>uh(n,typeof t!="symbol"?t+"":t,e);var v2=fh(($e,Ie)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();const ru=!1;var Ji=Array.isArray,Yo=Array.from,hh=Object.defineProperty,Xn=Object.getOwnPropertyDescriptor,su=Object.getOwnPropertyDescriptors,dh=Object.prototype,ph=Array.prototype,Pi=Object.getPrototypeOf;function Dr(n){return typeof n=="function"}const qe=()=>{};function gh(n){return typeof(n==null?void 0:n.then)=="function"}function vh(n){return n()}function Bi(n){for(var t=0;t<n.length;t++)n[t]()}const ze=2,iu=4,Vs=8,Xi=16,en=32,Ws=64,vo=128,wr=256,Mi=512,xe=1024,nr=2048,os=4096,yn=8192,ls=16384,au=32768,Zs=65536,ou=1<<17,lu=1<<19,cu=1<<20,Pn=Symbol("$state"),uu=Symbol("legacy props"),mh=Symbol("");function fu(n){return n===this.v}function Jo(n,t){return n!=n?t==t:n!==t||n!==null&&typeof n=="object"||typeof n=="function"}function bh(n,t){return n!==t}function Xo(n){return!Jo(n,this.v)}function _h(n){throw new Error("effect_in_teardown")}function yh(){throw new Error("effect_in_unowned_derived")}function wh(n){throw new Error("effect_orphan")}function Eh(){throw new Error("effect_update_depth_exceeded")}function xh(n){throw new Error("props_invalid_value")}function Ah(){throw new Error("state_descriptors_fixed")}function Th(){throw new Error("state_prototype_fixed")}function Nh(){throw new Error("state_unsafe_local_read")}function kh(){throw new Error("state_unsafe_mutation")}let cs=!1;function Sh(){cs=!0}function Ee(n){return{f:0,v:n,reactions:null,equals:fu,version:0}}function Qr(n,t=!1){var r;const e=Ee(n);return t||(e.equals=Xo),cs&&Nt!==null&&Nt.l!==null&&((r=Nt.l).s??(r.s=[])).push(e),e}function Z(n,t=!1){return Oh(Qr(n,t))}function Oh(n){return Dt!==null&&Dt.f&ze&&(wn===null?Jh([n]):wn.push(n)),n}function hr(n,t){return L(n,Qe(()=>u(n))),t}function L(n,t){return Dt!==null&&fs()&&Dt.f&(ze|Xi)&&(wn===null||!wn.includes(n))&&kh(),Gr(n,t)}function Gr(n,t){return n.equals(t)||(n.v=t,n.version=qu(),hu(n,nr),fs()&&Tt!==null&&Tt.f&xe&&!(Tt.f&en)&&(pe!==null&&pe.includes(n)?(nn(Tt,nr),ra(Tt)):tr===null?Xh([n]):tr.push(n))),t}function hu(n,t){var e=n.reactions;if(e!==null)for(var r=fs(),s=e.length,i=0;i<s;i++){var a=e[i],o=a.f;o&nr||!r&&a===Tt||(nn(a,t),o&(xe|wr)&&(o&ze?hu(a,os):ra(a)))}}const Qo=1,tl=2,du=4,Lh=8,Ch=16,qh=1,$h=2,pu=4,Ih=8,Rh=16,Dh=1,Ph=2,Bh=4,Mh=1,jh=2,de=Symbol();let gu=!1;function Pr(n,t=null,e){if(typeof n!="object"||n===null||Pn in n)return n;const r=Pi(n);if(r!==dh&&r!==ph)return n;var s=new Map,i=Ji(n),a=Ee(0);i&&s.set("length",Ee(n.length));var o;return new Proxy(n,{defineProperty(c,f,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ah();var p=s.get(f);return p===void 0?(p=Ee(d.value),s.set(f,p)):L(p,Pr(d.value,o)),!0},deleteProperty(c,f){var d=s.get(f);if(d===void 0)f in c&&s.set(f,Ee(de));else{if(i&&typeof f=="string"){var p=s.get("length"),h=Number(f);Number.isInteger(h)&&h<p.v&&L(p,h)}L(d,de),ql(a)}return!0},get(c,f,d){var m;if(f===Pn)return n;var p=s.get(f),h=f in c;if(p===void 0&&(!h||(m=Xn(c,f))!=null&&m.writable)&&(p=Ee(Pr(h?c[f]:de,o)),s.set(f,p)),p!==void 0){var g=u(p);return g===de?void 0:g}return Reflect.get(c,f,d)},getOwnPropertyDescriptor(c,f){var d=Reflect.getOwnPropertyDescriptor(c,f);if(d&&"value"in d){var p=s.get(f);p&&(d.value=u(p))}else if(d===void 0){var h=s.get(f),g=h==null?void 0:h.v;if(h!==void 0&&g!==de)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(c,f){var g;if(f===Pn)return!0;var d=s.get(f),p=d!==void 0&&d.v!==de||Reflect.has(c,f);if(d!==void 0||Tt!==null&&(!p||(g=Xn(c,f))!=null&&g.writable)){d===void 0&&(d=Ee(p?Pr(c[f],o):de),s.set(f,d));var h=u(d);if(h===de)return!1}return p},set(c,f,d,p){var x;var h=s.get(f),g=f in c;if(i&&f==="length")for(var m=d;m<h.v;m+=1){var y=s.get(m+"");y!==void 0?L(y,de):m in c&&(y=Ee(de),s.set(m+"",y))}h===void 0?(!g||(x=Xn(c,f))!=null&&x.writable)&&(h=Ee(void 0),L(h,Pr(d,o)),s.set(f,h)):(g=h.v!==de,L(h,Pr(d,o)));var w=Reflect.getOwnPropertyDescriptor(c,f);if(w!=null&&w.set&&w.set.call(p,d),!g){if(i&&typeof f=="string"){var _=s.get("length"),E=Number(f);Number.isInteger(E)&&E>=_.v&&L(_,E+1)}ql(a)}return!0},ownKeys(c){u(a);var f=Reflect.ownKeys(c).filter(h=>{var g=s.get(h);return g===void 0||g.v!==de});for(var[d,p]of s)p.v!==de&&!(d in c)&&f.push(d);return f},setPrototypeOf(){Th()}})}function ql(n,t=1){L(n,n.v+t)}function $l(n){return n!==null&&typeof n=="object"&&Pn in n?n[Pn]:n}function Uh(n,t){return Object.is($l(n),$l(t))}var Il,el,vu,mu;function Fh(){if(Il===void 0){Il=window,el=document;var n=Element.prototype,t=Node.prototype;vu=Xn(t,"firstChild").get,mu=Xn(t,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function Ys(n=""){return document.createTextNode(n)}function qs(n){return vu.call(n)}function Qi(n){return mu.call(n)}function S(n,t){return qs(n)}function ot(n,t){{var e=qs(n);return e instanceof Comment&&e.data===""?Qi(e):e}}function k(n,t=1,e=!1){let r=n;for(;t--;)r=Qi(r);return r}function Hh(n){n.textContent=""}function ji(n){var t=ze|nr;Tt===null?t|=wr:Tt.f|=cu;var e=Dt!==null&&Dt.f&ze?Dt:null;const r={children:null,ctx:Nt,deps:null,equals:fu,f:t,fn:n,reactions:null,v:null,version:0,parent:e??Tt};return e!==null&&(e.children??(e.children=[])).push(r),r}function re(n){const t=ji(n);return t.equals=Xo,t}function bu(n){var t=n.children;if(t!==null){n.children=null;for(var e=0;e<t.length;e+=1){var r=t[e];r.f&ze?nl(r):ir(r)}}}function zh(n){for(var t=n.parent;t!==null;){if(!(t.f&ze))return t;t=t.parent}return null}function _u(n){var t,e=Tt;Le(zh(n));try{bu(n),t=$u(n)}finally{Le(e)}return t}function yu(n){var t=_u(n),e=(zr||n.f&wr)&&n.deps!==null?os:xe;nn(n,e),n.equals(t)||(n.v=t,n.version=qu())}function nl(n){bu(n),Rs(n,0),nn(n,ls),n.v=n.children=n.deps=n.ctx=n.reactions=null}function wu(n){Tt===null&&Dt===null&&wh(),Dt!==null&&Dt.f&wr&&yh(),sl&&_h()}function Kh(n,t){var e=t.last;e===null?t.last=t.first=n:(e.next=n,n.prev=e,t.last=n)}function us(n,t,e,r=!0){var s=(n&Ws)!==0,i=Tt,a={ctx:Nt,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:n|nr,first:null,fn:t,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,version:0};if(e){var o=Vr;try{Rl(!0),Qs(a),a.f|=au}catch(d){throw ir(a),d}finally{Rl(o)}}else t!==null&&ra(a);var c=e&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&cu)===0;if(!c&&!s&&r&&(i!==null&&Kh(a,i),Dt!==null&&Dt.f&ze)){var f=Dt;(f.children??(f.children=[])).push(a)}return a}function Eu(n){const t=us(Vs,null,!1);return nn(t,xe),t.teardown=n,t}function mo(n){wu();var t=Tt!==null&&(Tt.f&en)!==0&&Nt!==null&&!Nt.m;if(t){var e=Nt;(e.e??(e.e=[])).push({fn:n,effect:Tt,reaction:Dt})}else{var r=Js(n);return r}}function Gh(n){return wu(),ta(n)}function Vh(n){const t=us(Ws,n,!0);return()=>{ir(t)}}function Js(n){return us(iu,n,!1)}function Vt(n,t,e,r){var s=Nt,i={effect:null,ran:!1};s.l.r1.push(i),i.effect=ta(()=>{n(),!i.ran&&(i.ran=!0,L(s.l.r2,!0),Qe(t))})}function Nn(){var n=Nt;ta(()=>{if(u(n.l.r2)){for(var t of n.l.r1){var e=t.effect;e.f&xe&&nn(e,os),hs(e)&&Qs(e),t.ran=!1}n.l.r2.v=!1}})}function ta(n){return us(Vs,n,!0)}function et(n){return sr(n)}function sr(n,t=0){return us(Vs|Xi|t,n,!0)}function Je(n,t=!0){return us(Vs|en,n,!0,t)}function xu(n){var t=n.teardown;if(t!==null){const e=sl,r=Dt;Dl(!0),Ke(null);try{t.call(null)}finally{Dl(e),Ke(r)}}}function Au(n){var t=n.deriveds;if(t!==null){n.deriveds=null;for(var e=0;e<t.length;e+=1)nl(t[e])}}function Tu(n,t=!1){var e=n.first;for(n.first=n.last=null;e!==null;){var r=e.next;ir(e,t),e=r}}function Wh(n){for(var t=n.first;t!==null;){var e=t.next;t.f&en||ir(t),t=e}}function ir(n,t=!0){var e=!1;if((t||n.f&lu)&&n.nodes_start!==null){for(var r=n.nodes_start,s=n.nodes_end;r!==null;){var i=r===s?null:Qi(r);r.remove(),r=i}e=!0}Tu(n,t&&!e),Au(n),Rs(n,0),nn(n,ls);var a=n.transitions;if(a!==null)for(const c of a)c.stop();xu(n);var o=n.parent;o!==null&&o.first!==null&&Nu(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function Nu(n){var t=n.parent,e=n.prev,r=n.next;e!==null&&(e.next=r),r!==null&&(r.prev=e),t!==null&&(t.first===n&&(t.first=r),t.last===n&&(t.last=e))}function Qn(n,t){var e=[];rl(n,e,!0),ku(e,()=>{ir(n),t&&t()})}function ku(n,t){var e=n.length;if(e>0){var r=()=>--e||t();for(var s of n)s.out(r)}else t()}function rl(n,t,e){if(!(n.f&yn)){if(n.f^=yn,n.transitions!==null)for(const a of n.transitions)(a.is_global||e)&&t.push(a);for(var r=n.first;r!==null;){var s=r.next,i=(r.f&Zs)!==0||(r.f&en)!==0;rl(r,t,i?e:!1),r=s}}}function gr(n){Su(n,!0)}function Su(n,t){if(n.f&yn){hs(n)&&Qs(n),n.f^=yn;for(var e=n.first;e!==null;){var r=e.next,s=(e.f&Zs)!==0||(e.f&en)!==0;Su(e,s?t:!1),e=r}if(n.transitions!==null)for(const i of n.transitions)(i.is_global||t)&&i.in()}}let Ui=!1,bo=[];function Ou(){Ui=!1;const n=bo.slice();bo=[],Bi(n)}function Xs(n){Ui||(Ui=!0,queueMicrotask(Ou)),bo.push(n)}function Zh(){Ui&&Ou()}function ea(n){throw new Error("lifecycle_outside_component")}const Lu=0,Yh=1;let qi=!1,$i=Lu,$s=!1,Is=null,Vr=!1,sl=!1;function Rl(n){Vr=n}function Dl(n){sl=n}let dr=[],Wr=0,Dt=null;function Ke(n){Dt=n}let Tt=null;function Le(n){Tt=n}let wn=null;function Jh(n){wn=n}let pe=null,Ce=0,tr=null;function Xh(n){tr=n}let Cu=0,zr=!1,Vn=null,Nt=null;function Pl(n){Nt=n}function qu(){return++Cu}function fs(){return!cs||Nt!==null&&Nt.l===null}function hs(n){var a,o;var t=n.f;if(t&nr)return!0;if(t&os){var e=n.deps,r=(t&wr)!==0;if(e!==null){var s;if(t&Mi){for(s=0;s<e.length;s++)((a=e[s]).reactions??(a.reactions=[])).push(n);n.f^=Mi}for(s=0;s<e.length;s++){var i=e[s];if(hs(i)&&yu(i),r&&Tt!==null&&!zr&&!((o=i==null?void 0:i.reactions)!=null&&o.includes(n))&&(i.reactions??(i.reactions=[])).push(n),i.version>n.version)return!0}}r||nn(n,xe)}return!1}function Qh(n,t){for(var e=t;e!==null;){if(e.f&vo)try{e.fn(n);return}catch{e.f^=vo}e=e.parent}throw qi=!1,n}function td(n){return(n.f&ls)===0&&(n.parent===null||(n.parent.f&vo)===0)}function na(n,t,e,r){if(qi){if(e===null&&(qi=!1),td(t))throw n;return}e!==null&&(qi=!0);{Qh(n,t);return}}function $u(n){var h;var t=pe,e=Ce,r=tr,s=Dt,i=zr,a=wn,o=Nt,c=n.f;pe=null,Ce=0,tr=null,Dt=c&(en|Ws)?null:n,zr=!Vr&&(c&wr)!==0,wn=null,Nt=n.ctx;try{var f=(0,n.fn)(),d=n.deps;if(pe!==null){var p;if(Rs(n,Ce),d!==null&&Ce>0)for(d.length=Ce+pe.length,p=0;p<pe.length;p++)d[Ce+p]=pe[p];else n.deps=d=pe;if(!zr)for(p=Ce;p<d.length;p++)((h=d[p]).reactions??(h.reactions=[])).push(n)}else d!==null&&Ce<d.length&&(Rs(n,Ce),d.length=Ce);return f}finally{pe=t,Ce=e,tr=r,Dt=s,zr=i,wn=a,Nt=o}}function ed(n,t){let e=t.reactions;if(e!==null){var r=e.indexOf(n);if(r!==-1){var s=e.length-1;s===0?e=t.reactions=null:(e[r]=e[s],e.pop())}}e===null&&t.f&ze&&(pe===null||!pe.includes(t))&&(nn(t,os),t.f&(wr|Mi)||(t.f^=Mi),Rs(t,0))}function Rs(n,t){var e=n.deps;if(e!==null)for(var r=t;r<e.length;r++)ed(n,e[r])}function Qs(n){var t=n.f;if(!(t&ls)){nn(n,xe);var e=Tt,r=Nt;Tt=n;try{t&Xi?Wh(n):Tu(n),Au(n),xu(n);var s=$u(n);n.teardown=typeof s=="function"?s:null,n.version=Cu}catch(i){na(i,n,e,r||n.ctx)}finally{Tt=e}}}function Iu(){if(Wr>1e3){Wr=0;try{Eh()}catch(n){if(Is!==null)na(n,Is,null);else throw n}}Wr++}function Ru(n){var t=n.length;if(t!==0){Iu();var e=Vr;Vr=!0;try{for(var r=0;r<t;r++){var s=n[r];s.f&xe||(s.f^=xe);var i=[];Du(s,i),nd(i)}}finally{Vr=e}}}function nd(n){var t=n.length;if(t!==0)for(var e=0;e<t;e++){var r=n[e];if(!(r.f&(ls|yn)))try{hs(r)&&(Qs(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Nu(r):r.fn=null))}catch(s){na(s,r,null,r.ctx)}}}function rd(){if($s=!1,Wr>1001)return;const n=dr;dr=[],Ru(n),$s||(Wr=0,Is=null)}function ra(n){$i===Lu&&($s||($s=!0,queueMicrotask(rd))),Is=n;for(var t=n;t.parent!==null;){t=t.parent;var e=t.f;if(e&(Ws|en)){if(!(e&xe))return;t.f^=xe}}dr.push(t)}function Du(n,t){var e=n.first,r=[];t:for(;e!==null;){var s=e.f,i=(s&en)!==0,a=i&&(s&xe)!==0,o=e.next;if(!a&&!(s&yn))if(s&Vs){if(i)e.f^=xe;else try{hs(e)&&Qs(e)}catch(p){na(p,e,null,e.ctx)}var c=e.first;if(c!==null){e=c;continue}}else s&iu&&r.push(e);if(o===null){let p=e.parent;for(;p!==null;){if(n===p)break t;var f=p.next;if(f!==null){e=f;continue t}p=p.parent}}e=o}for(var d=0;d<r.length;d++)c=r[d],t.push(c),Du(c,t)}function Pu(n){var t=$i,e=dr;try{Iu();const s=[];$i=Yh,dr=s,$s=!1,Ru(e);var r=n==null?void 0:n();return Zh(),(dr.length>0||s.length>0)&&Pu(),Wr=0,Is=null,r}finally{$i=t,dr=e}}function u(n){var d;var t=n.f,e=(t&ze)!==0;if(e&&t&ls){var r=_u(n);return nl(n),r}if(Vn!==null&&Vn.add(n),Dt!==null){wn!==null&&wn.includes(n)&&Nh();var s=Dt.deps;pe===null&&s!==null&&s[Ce]===n?Ce++:pe===null?pe=[n]:pe.push(n),tr!==null&&Tt!==null&&Tt.f&xe&&!(Tt.f&en)&&tr.includes(n)&&(nn(Tt,nr),ra(Tt))}else if(e&&n.deps===null)for(var i=n,a=i.parent,o=i;a!==null;)if(a.f&ze){var c=a;o=c,a=c.parent}else{var f=a;(d=f.deriveds)!=null&&d.includes(o)||(f.deriveds??(f.deriveds=[])).push(o);break}return e&&(i=n,hs(i)&&yu(i)),n.v}function sd(n){var t=Vn;Vn=new Set;var e=Vn,r;try{if(Qe(n),t!==null)for(r of Vn)t.add(r)}finally{Vn=t}return e}function Fi(n){var t=sd(()=>Qe(n));for(var e of t)if(e.f&ou)for(const r of e.deps||[])r.f&ze||hr(r,null);else hr(e,null)}function Qe(n){const t=Dt;try{return Dt=null,n()}finally{Dt=t}}const id=~(nr|os|xe);function nn(n,t){n.f=n.f&id|t}function vr(n){return Bu().get(n)}function Va(n,t){return Bu().set(n,t),t}function Bu(n){return Nt===null&&ea(),Nt.c??(Nt.c=new Map(ad(Nt)||void 0))}function ad(n){let t=n.p;for(;t!==null;){const e=t.c;if(e!==null)return e;t=t.p}return null}function Bl(n,t=1){var e=u(n),r=t===1?e++:e--;return L(n,e),r}function Mt(n,t=!1,e){Nt={p:Nt,c:null,e:null,m:!1,s:n,x:null,l:null},cs&&!t&&(Nt.l={s:null,u:null,r1:[],r2:Ee(!1)})}function jt(n){const t=Nt;if(t!==null){const a=t.e;if(a!==null){var e=Tt,r=Dt;t.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];Le(i.effect),Ke(i.reaction),Js(i.fn)}}finally{Le(e),Ke(r)}}Nt=t.p,t.m=!0}return{}}function mr(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Pn in n)_o(n);else if(!Array.isArray(n))for(let t in n){const e=n[t];typeof e=="object"&&e&&Pn in e&&_o(e)}}}function _o(n,t=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!t.has(n)){t.add(n),n instanceof Date&&n.getTime();for(let r in n)try{_o(n[r],t)}catch{}const e=Pi(n);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const r=su(e);for(let s in r){const i=r[s].get;if(i)try{i.call(n)}catch{}}}}}function od(n,t){if(t){const e=document.body;n.autofocus=!0,Xs(()=>{document.activeElement===e&&n.focus()})}}let Ml=!1;function ld(){Ml||(Ml=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var t;if(!n.defaultPrevented)for(const e of n.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function Mu(n){var t=Dt,e=Tt;Ke(null),Le(null);try{return n()}finally{Ke(t),Le(e)}}function ju(n,t,e,r=e){n.addEventListener(t,()=>Mu(e));const s=n.__on_r;s?n.__on_r=()=>{s(),r()}:n.__on_r=r,ld()}const Uu=new Set,yo=new Set;function Fu(n,t,e,r){function s(i){if(r.capture||xs.call(t,i),!i.cancelBubble)return Mu(()=>e.call(this,i))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?Xs(()=>{t.addEventListener(n,s,r)}):t.addEventListener(n,s,r),s}function tt(n,t,e,r,s){var i={capture:r,passive:s},a=Fu(n,t,e,i);(t===document.body||t===window||t===document)&&Eu(()=>{t.removeEventListener(n,a,i)})}function cd(n){for(var t=0;t<n.length;t++)Uu.add(n[t]);for(var e of yo)e(n)}function xs(n){var E;var t=this,e=t.ownerDocument,r=n.type,s=((E=n.composedPath)==null?void 0:E.call(n))||[],i=s[0]||n.target,a=0,o=n.__root;if(o){var c=s.indexOf(o);if(c!==-1&&(t===document||t===window)){n.__root=t;return}var f=s.indexOf(t);if(f===-1)return;c<=f&&(a=c)}if(i=s[a]||n.target,i!==t){hh(n,"currentTarget",{configurable:!0,get(){return i||e}});var d=Dt,p=Tt;Ke(null),Le(null);try{for(var h,g=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];if(y!==void 0&&!i.disabled)if(Ji(y)){var[w,..._]=y;w.apply(i,[n,..._])}else y.call(i,n)}catch(x){h?g.push(x):h=x}if(n.cancelBubble||m===t||m===null)break;i=m}if(h){for(let x of g)queueMicrotask(()=>{throw x});throw h}}finally{n.__root=t,delete n.currentTarget,Ke(d),Le(p)}}}function Hu(n){var t;t=document.head.appendChild(Ys());try{sr(()=>n(t),lu)}finally{}}function zu(n){var t=document.createElement("template");return t.innerHTML=n,t.content}function Ds(n,t){var e=Tt;e.nodes_start===null&&(e.nodes_start=n,e.nodes_end=t)}function K(n,t){var e=(t&Mh)!==0,r=(t&jh)!==0,s,i=!n.startsWith("<!>");return()=>{s===void 0&&(s=zu(i?n:"<!>"+n),e||(s=qs(s)));var a=r?document.importNode(s,!0):s.cloneNode(!0);if(e){var o=qs(a),c=a.lastChild;Ds(o,c)}else Ds(a,a);return a}}function Fe(n=""){{var t=Ys(n+"");return Ds(t,t),t}}function Ot(){var n=document.createDocumentFragment(),t=document.createComment(""),e=Ys();return n.append(t,e),Ds(t,e),n}function D(n,t){n!==null&&n.before(t)}function ud(n){return n.endsWith("capture")&&n!=="gotpointercapture"&&n!=="lostpointercapture"}const fd=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function hd(n){return fd.includes(n)}const dd={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function pd(n){return n=n.toLowerCase(),dd[n]??n}const gd=["touchstart","touchmove"];function vd(n){return gd.includes(n)}let wo=!0;function X(n,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=e,n.nodeValue=e==null?"":e+"")}function md(n,t){return bd(n,t)}const Ir=new Map;function bd(n,{target:t,anchor:e,props:r={},events:s,context:i,intro:a=!0}){Fh();var o=new Set,c=p=>{for(var h=0;h<p.length;h++){var g=p[h];if(!o.has(g)){o.add(g);var m=vd(g);t.addEventListener(g,xs,{passive:m});var y=Ir.get(g);y===void 0?(document.addEventListener(g,xs,{passive:m}),Ir.set(g,1)):Ir.set(g,y+1)}}};c(Yo(Uu)),yo.add(c);var f=void 0,d=Vh(()=>{var p=e??t.appendChild(Ys());return Je(()=>{if(i){Mt({});var h=Nt;h.c=i}s&&(r.$$events=s),wo=a,f=n(p,r)||{},wo=!0,i&&jt()}),()=>{var m;for(var h of o){t.removeEventListener(h,xs);var g=Ir.get(h);--g===0?(document.removeEventListener(h,xs),Ir.delete(h)):Ir.set(h,g)}yo.delete(c),jl.delete(f),p!==e&&((m=p.parentNode)==null||m.removeChild(p))}});return jl.set(f,d),f}let jl=new WeakMap;const Wa=0,_i=1,Za=2;function _d(n,t,e,r,s){var i=n,a=fs(),o=Nt,c=de,f,d,p,h=(a?Ee:Qr)(void 0),g=(a?Ee:Qr)(void 0),m=!1;function y(_,E){m=!0,E&&(Le(w),Ke(w),Pl(o));try{_===Wa&&e&&(f?gr(f):f=Je(()=>e(i))),_===_i&&r&&(d?gr(d):d=Je(()=>r(i,h))),_===Za&&s&&(p?gr(p):p=Je(()=>s(i,g))),_!==Wa&&f&&Qn(f,()=>f=null),_!==_i&&d&&Qn(d,()=>d=null),_!==Za&&p&&Qn(p,()=>p=null)}finally{E&&(Pl(null),Ke(null),Le(null),Pu())}}var w=sr(()=>{if(c!==(c=t())){if(gh(c)){var _=c;m=!1,_.then(E=>{_===c&&(Gr(h,E),y(_i,!0))},E=>{if(_===c)throw Gr(g,E),y(Za,!0),g.v}),Xs(()=>{m||y(Wa,!0)})}else Gr(h,c),y(_i,!1);return()=>c=de}})}function dt(n,t,e,r=null,s=!1){var i=n,a=null,o=null,c=null,f=s?Zs:0;sr(()=>{c!==(c=!!t())&&(c?(a?gr(a):a=Je(()=>e(i)),o&&Qn(o,()=>{o=null})):(o?gr(o):r&&(o=Je(()=>r(i))),a&&Qn(a,()=>{a=null})))},f)}function yd(n,t,e){var r=n,s=de,i,a=fs()?bh:Jo;sr(()=>{a(s,s=t())&&(i&&Qn(i),i=Je(()=>e(r)))})}function It(n,t){return t}function wd(n,t,e,r){for(var s=[],i=t.length,a=0;a<i;a++)rl(t[a].e,s,!0);var o=i>0&&s.length===0&&e!==null;if(o){var c=e.parentNode;Hh(c),c.append(e),r.clear(),Gn(n,t[0].prev,t[i-1].next)}ku(s,()=>{for(var f=0;f<i;f++){var d=t[f];o||(r.delete(d.k),Gn(n,d.prev,d.next)),ir(d.e,!o)}})}function Rt(n,t,e,r,s,i=null){var a=n,o={flags:t,items:new Map,first:null},c=(t&du)!==0;if(c){var f=n;a=f.appendChild(Ys())}var d=null,p=!1;sr(()=>{var h=e(),g=Ji(h)?h:h==null?[]:Yo(h),m=g.length;if(!(p&&m===0)){p=m===0;{var y=Dt;Ed(g,o,a,s,t,(y.f&yn)!==0,r)}i!==null&&(m===0?d?gr(d):d=Je(()=>i(a)):d!==null&&Qn(d,()=>{d=null})),e()}})}function Ed(n,t,e,r,s,i,a){var I,$,P,q;var o=(s&Lh)!==0,c=(s&(Qo|tl))!==0,f=n.length,d=t.items,p=t.first,h=p,g,m=null,y,w=[],_=[],E,x,O,T;if(o)for(T=0;T<f;T+=1)E=n[T],x=a(E,T),O=d.get(x),O!==void 0&&((I=O.a)==null||I.measure(),(y??(y=new Set)).add(O));for(T=0;T<f;T+=1){if(E=n[T],x=a(E,T),O=d.get(x),O===void 0){var M=h?h.e.nodes_start:e;m=Ad(M,t,m,m===null?t.first:m.next,E,x,T,r,s),d.set(x,m),w=[],_=[],h=m.next;continue}if(c&&xd(O,E,T,s),O.e.f&yn&&(gr(O.e),o&&(($=O.a)==null||$.unfix(),(y??(y=new Set)).delete(O))),O!==h){if(g!==void 0&&g.has(O)){if(w.length<_.length){var j=_[0],R;m=j.prev;var z=w[0],W=w[w.length-1];for(R=0;R<w.length;R+=1)Ul(w[R],j,e);for(R=0;R<_.length;R+=1)g.delete(_[R]);Gn(t,z.prev,W.next),Gn(t,m,z),Gn(t,W,j),h=j,m=W,T-=1,w=[],_=[]}else g.delete(O),Ul(O,h,e),Gn(t,O.prev,O.next),Gn(t,O,m===null?t.first:m.next),Gn(t,m,O),m=O;continue}for(w=[],_=[];h!==null&&h.k!==x;)(i||!(h.e.f&yn))&&(g??(g=new Set)).add(h),_.push(h),h=h.next;if(h===null)continue;O=h}w.push(O),m=O,h=O.next}if(h!==null||g!==void 0){for(var b=g===void 0?[]:Yo(g);h!==null;)(i||!(h.e.f&yn))&&b.push(h),h=h.next;var C=b.length;if(C>0){var A=s&du&&f===0?e:null;if(o){for(T=0;T<C;T+=1)(P=b[T].a)==null||P.measure();for(T=0;T<C;T+=1)(q=b[T].a)==null||q.fix()}wd(t,b,A,d)}}o&&Xs(()=>{var B;if(y!==void 0)for(O of y)(B=O.a)==null||B.apply()}),Tt.first=t.first&&t.first.e,Tt.last=m&&m.e}function xd(n,t,e,r){r&Qo&&Gr(n.v,t),r&tl?Gr(n.i,e):n.i=e}function Ad(n,t,e,r,s,i,a,o,c){var f=(c&Qo)!==0,d=(c&Ch)===0,p=f?d?Qr(s):Ee(s):s,h=c&tl?Ee(a):a,g={i:h,v:p,k:i,a:null,e:null,prev:e,next:r};try{return g.e=Je(()=>o(n,p,h),gu),g.e.prev=e&&e.e,g.e.next=r&&r.e,e===null?t.first=g:(e.next=g,e.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Ul(n,t,e){for(var r=n.next?n.next.e.nodes_start:e,s=t?t.e.nodes_start:e,i=n.e.nodes_start;i!==r;){var a=Qi(i);s.before(i),i=a}}function Gn(n,t,e){t===null?n.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function Eo(n,t,e,r,s){var i=n,a="",o;sr(()=>{a!==(a=t()??"")&&(o!==void 0&&(ir(o),o=void 0),a!==""&&(o=Je(()=>{var c=a+"",f=zu(c);Ds(qs(f),f.lastChild),i.before(f)})))})}function Hi(n,t,e,r,s){var o;var i=(o=t.$$slots)==null?void 0:o[e],a=!1;i===!0&&(i=t.children,a=!0),i===void 0||i(n,a?()=>r:r)}function Td(n,t,e){var r=n,s,i;sr(()=>{s!==(s=t())&&(i&&(Qn(i),i=null),s&&(i=Je(()=>e(r,s))))},Zs)}function Kr(n,t,e,r){var s=n.__attributes??(n.__attributes={});s[t]!==(s[t]=e)&&(t==="style"&&"__styles"in n&&(n.__styles={}),t==="loading"&&(n[mh]=e),e==null?n.removeAttribute(t):typeof e!="string"&&Ku(n).includes(t)?n[t]=e:n.setAttribute(t,e))}function Nd(n,t,e,r,s=!1,i=!1,a=!1){var o=t||{},c=n.tagName==="OPTION";for(var f in t)f in e||(e[f]=null);var d=Ku(n),p=n.__attributes??(n.__attributes={});for(const _ in e){let E=e[_];if(c&&_==="value"&&E==null){n.value=n.__value="",o[_]=E;continue}var h=o[_];if(E!==h){o[_]=E;var g=_[0]+_[1];if(g!=="$$"){if(g==="on"){const x={},O="$$"+_;let T=_.slice(2);var m=hd(T);if(ud(T)&&(T=T.slice(0,-7),x.capture=!0),!m&&h){if(E!=null)continue;n.removeEventListener(T,o[O],x),o[O]=null}if(E!=null)if(m)n[`__${T}`]=E,cd([T]);else{let M=function(j){o[_].call(this,j)};var w=M;o[O]=Fu(T,n,M,x)}}else if(_==="style"&&E!=null)n.style.cssText=E+"";else if(_==="autofocus")od(n,!!E);else if(_==="__value"||_==="value"&&E!=null)n.value=n[_]=n.__value=E;else{var y=_;s||(y=pd(y)),E==null&&!i?(p[_]=null,n.removeAttribute(_)):d.includes(y)&&(i||typeof E!="string")?n[y]=E:typeof E!="function"&&Kr(n,y,E)}_==="style"&&"__styles"in n&&(n.__styles={})}}}return o}var Fl=new Map;function Ku(n){var t=Fl.get(n.nodeName);if(t)return t;Fl.set(n.nodeName,t=[]);for(var e,r=Pi(n),s=Element.prototype;s!==r;){e=su(r);for(var i in e)e[i].set&&t.push(i);r=Pi(r)}return t}function ne(n,t){var e=n.__className,r=kd(t);(e!==r||gu)&&(t==null?n.removeAttribute("class"):n.className=r,n.__className=r)}function kd(n){return n??""}function Sd(n,t,e){if(e){if(n.classList.contains(t))return;n.classList.add(t)}else{if(!n.classList.contains(t))return;n.classList.remove(t)}}function Ya(n,t,e,r){var s=n.__styles??(n.__styles={});s[t]!==e&&(s[t]=e,e==null?n.style.removeProperty(t):n.style.setProperty(t,e,""))}const Od=()=>performance.now(),Wn={tick:n=>requestAnimationFrame(n),now:()=>Od(),tasks:new Set};function Gu(n){Wn.tasks.forEach(t=>{t.c(n)||(Wn.tasks.delete(t),t.f())}),Wn.tasks.size!==0&&Wn.tick(Gu)}function Ld(n){let t;return Wn.tasks.size===0&&Wn.tick(Gu),{promise:new Promise(e=>{Wn.tasks.add(t={c:n,f:e})}),abort(){Wn.tasks.delete(t)}}}function yi(n,t){n.dispatchEvent(new CustomEvent(t))}function Cd(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function Hl(n){const t={},e=n.split(";");for(const r of e){const[s,i]=r.split(":");if(!s||i===void 0)break;const a=Cd(s.trim());t[a]=i.trim()}return t}const qd=n=>n;function zl(n,t,e,r){var s=(n&Dh)!==0,i=(n&Ph)!==0,a=s&&i,o=(n&Bh)!==0,c=a?"both":s?"in":"out",f,d=t.inert,p,h;function g(){var E=Dt,x=Tt;Ke(null),Le(null);try{return f??(f=e()(t,(r==null?void 0:r())??{},{direction:c}))}finally{Ke(E),Le(x)}}var m={is_global:o,in(){var E;if(t.inert=d,!s){h==null||h.abort(),(E=h==null?void 0:h.reset)==null||E.call(h);return}i||p==null||p.abort(),yi(t,"introstart"),p=xo(t,g(),h,1,()=>{yi(t,"introend"),p==null||p.abort(),p=f=void 0})},out(E){if(!i){E==null||E(),f=void 0;return}t.inert=!0,yi(t,"outrostart"),h=xo(t,g(),p,0,()=>{yi(t,"outroend"),E==null||E()})},stop:()=>{p==null||p.abort(),h==null||h.abort()}},y=Tt;if((y.transitions??(y.transitions=[])).push(m),s&&wo){var w=o;if(!w){for(var _=y.parent;_&&_.f&Zs;)for(;(_=_.parent)&&!(_.f&Xi););w=!_||(_.f&au)!==0}w&&Js(()=>{Qe(()=>m.in())})}}function xo(n,t,e,r,s){var i=r===1;if(Dr(t)){var a,o=!1;return Xs(()=>{if(!o){var w=t({direction:i?"in":"out"});a=xo(n,w,e,r,s)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return s(),{abort:qe,deactivate:qe,reset:qe,t:()=>r};const{delay:c=0,css:f,tick:d,easing:p=qd}=t;var h=[];if(i&&e===void 0&&(d&&d(0,1),f)){var g=Hl(f(0,1));h.push(g,g)}var m=()=>1-r,y=n.animate(h,{duration:c});return y.onfinish=()=>{var w=(e==null?void 0:e.t())??1-r;e==null||e.abort();var _=r-w,E=t.duration*Math.abs(_),x=[];if(E>0){if(f)for(var O=Math.ceil(E/16.666666666666668),T=0;T<=O;T+=1){var M=w+_*p(T/O),j=f(M,1-M);x.push(Hl(j))}m=()=>{var R=y.currentTime;return w+_*p(R/E)},d&&Ld(()=>{if(y.playState!=="running")return!1;var R=m();return d(R,1-R),!0})}y=n.animate(x,{duration:E,fill:"forwards"}),y.onfinish=()=>{m=()=>r,d==null||d(r,1-r),s()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=qe)},deactivate:()=>{s=qe},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>m()}}function Ct(n,t,e=t){var r=fs();ju(n,"input",()=>{var s=Kl(n)?Gl(n.value):n.value;e(s),r&&s!==(s=t())&&(n.value=s??"")}),ta(()=>{var s=t();Kl(n)&&s===Gl(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function Kl(n){var t=n.type;return t==="number"||t==="range"}function Gl(n){return n===""?null:+n}function Vu(n,t,e){if(n.multiple)return Id(n,t);for(var r of n.options){var s=ks(r);if(Uh(s,t)){r.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function $d(n,t){Js(()=>{var e=new MutationObserver(()=>{var r=n.__value;Vu(n,r)});return e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function zi(n,t,e=t){var r=!0;ju(n,"change",()=>{var s;if(n.multiple)s=[].map.call(n.querySelectorAll(":checked"),ks);else{var i=n.querySelector(":checked");s=i&&ks(i)}e(s)}),Js(()=>{var s=t();if(Vu(n,s,r),r&&s===void 0){var i=n.querySelector(":checked");i!==null&&(s=ks(i),e(s))}n.__value=s,r=!1}),$d(n)}function Id(n,t){for(var e of n.options)e.selected=~t.indexOf(ks(e))}function ks(n){return"__value"in n?n.__value:n.value}function Ft(n=!1){const t=Nt,e=t.l.u;if(!e)return;let r=()=>mr(t.s);if(n){let s=0,i={};const a=ji(()=>{let o=!1;const c=t.s;for(const f in c)c[f]!==i[f]&&(i[f]=c[f],o=!0);return o&&s++,s});r=()=>u(a)}e.b.length&&Gh(()=>{Vl(t,r),Bi(e.b)}),mo(()=>{const s=Qe(()=>e.m.map(vh));return()=>{for(const i of s)typeof i=="function"&&i()}}),e.a.length&&mo(()=>{Vl(t,r),Bi(e.a)})}function Vl(n,t){if(n.l.s)for(const e of n.l.s)u(e);t()}function il(n,t,e){if(n==null)return t(void 0),e&&e(void 0),qe;const r=Qe(()=>n.subscribe(t,e));return r.unsubscribe?()=>r.unsubscribe():r}let wi=!1;function _t(n,t,e){const r=e[t]??(e[t]={store:null,source:Qr(void 0),unsubscribe:qe});if(r.store!==n)if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=qe;else{var s=!0;r.unsubscribe=il(n,i=>{s?r.source.v=i:L(r.source,i)}),s=!1}return u(r.source)}function Wu(n,t){return n.set(t),t}function Ht(){const n={};return Eu(()=>{for(var t in n)n[t].unsubscribe()}),n}function Rd(n){var t=wi;try{return wi=!1,[n(),wi]}finally{wi=t}}const Dd={get(n,t){if(!n.exclude.includes(t))return u(n.version),t in n.special?n.special[t]():n.props[t]},set(n,t,e){return t in n.special||(n.special[t]=te({get[t](){return n.props[t]}},t,pu)),n.special[t](e),Bl(n.version),!0},getOwnPropertyDescriptor(n,t){if(!n.exclude.includes(t)&&t in n.props)return{enumerable:!0,configurable:!0,value:n.props[t]}},deleteProperty(n,t){return n.exclude.includes(t)||(n.exclude.push(t),Bl(n.version)),!0},has(n,t){return n.exclude.includes(t)?!1:t in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(t=>!n.exclude.includes(t))}};function Ao(n,t){return new Proxy({props:n,exclude:t,special:{},version:Ee(0)},Dd)}const Pd={get(n,t){let e=n.props.length;for(;e--;){let r=n.props[e];if(Dr(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(n,t,e){let r=n.props.length;for(;r--;){let s=n.props[r];Dr(s)&&(s=s());const i=Xn(s,t);if(i&&i.set)return i.set(e),!0}return!1},getOwnPropertyDescriptor(n,t){let e=n.props.length;for(;e--;){let r=n.props[e];if(Dr(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const s=Xn(r,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(n,t){if(t===Pn||t===uu)return!1;for(let e of n.props)if(Dr(e)&&(e=e()),e!=null&&t in e)return!0;return!1},ownKeys(n){const t=[];for(let e of n.props){Dr(e)&&(e=e());for(const r in e)t.includes(r)||t.push(r)}return t}};function Bd(...n){return new Proxy({props:n},Pd)}function Wl(n){for(var t=Tt,e=Tt;t!==null&&!(t.f&(en|Ws));)t=t.parent;try{return Le(t),n()}finally{Le(e)}}function te(n,t,e,r){var j;var s=(e&qh)!==0,i=!cs||(e&$h)!==0,a=(e&Ih)!==0,o=(e&Rh)!==0,c=!1,f;a?[f,c]=Rd(()=>n[t]):f=n[t];var d=Pn in n||uu in n,p=((j=Xn(n,t))==null?void 0:j.set)??(d&&a&&t in n?R=>n[t]=R:void 0),h=r,g=!0,m=!1,y=()=>(m=!0,g&&(g=!1,o?h=Qe(r):h=r),h);f===void 0&&r!==void 0&&(p&&i&&xh(),f=y(),p&&p(f));var w;if(i)w=()=>{var R=n[t];return R===void 0?y():(g=!0,m=!1,R)};else{var _=Wl(()=>(s?ji:re)(()=>n[t]));_.f|=ou,w=()=>{var R=u(_);return R!==void 0&&(h=void 0),R===void 0?h:R}}if(!(e&pu))return w;if(p){var E=n.$$legacy;return function(R,z){return arguments.length>0?((!i||!z||E||c)&&p(z?w():R),R):w()}}var x=!1,O=!1,T=Qr(f),M=Wl(()=>ji(()=>{var R=w(),z=u(T);return x?(x=!1,O=!0,z):(O=!1,T.v=R)}));return s||(M.equals=Xo),function(R,z){if(Vn!==null&&(x=O,w(),u(T)),arguments.length>0){const W=z?u(M):i&&a?Pr(R):R;return M.equals(W)||(x=!0,L(T,W),m&&h!==void 0&&(h=W),Qe(()=>u(M))),R}return u(M)}}function Ae(n){Nt===null&&ea(),cs&&Nt.l!==null?Ud(Nt).m.push(n):mo(()=>{const t=Qe(n);if(typeof t=="function")return t})}function al(n){Nt===null&&ea(),Ae(()=>()=>Qe(n))}function Md(n,t,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:r})}function jd(){const n=Nt;return n===null&&ea(),(t,e,r)=>{var i;const s=(i=n.s.$$events)==null?void 0:i[t];if(s){const a=Ji(s)?s.slice():[s],o=Md(t,e,r);for(const c of a)c.call(n.x,o);return!o.defaultPrevented}return!0}}function Ud(n){var t=n.l;return t.u??(t.u={a:[],b:[],m:[]})}const Fd="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fd);Sh();const Ki={},Gi={},Zu={},ol=()=>vr(Ki),Yu=/^:(.+)/,Zl=4,Hd=3,zd=2,Kd=1,Gd=1,Ps=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),Ja=n=>n.replace(/(^\/+|\/+$)/g,""),Vd=(n,t)=>{const e=n.default?0:Ps(n.path).reduce((r,s)=>(r+=Zl,s===""?r+=Gd:Yu.test(s)?r+=zd:s[0]==="*"?r-=Zl+Kd:r+=Hd,r),0);return{route:n,score:e,index:t}},Wd=n=>n.map(Vd).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),Yl=(n,t)=>{let e,r;const[s]=t.split("?"),i=Ps(s),a=i[0]==="",o=Wd(n);for(let c=0,f=o.length;c<f;c++){const d=o[c].route;let p=!1;if(d.default){r={route:d,params:{},uri:t};continue}const h=Ps(d.path),g={},m=Math.max(i.length,h.length);let y=0;for(;y<m;y++){const w=h[y],_=i[y];if(w&&w[0]==="*"){const x=w==="*"?"*":w.slice(1);g[x]=i.slice(y).map(decodeURIComponent).join("/");break}if(typeof _>"u"){p=!0;break}const E=Yu.exec(w);if(E&&!a){const x=decodeURIComponent(_);g[E[1]]=x}else if(w!==_){p=!0;break}}if(!p){e={route:d,params:g,uri:"/"+i.slice(0,y).join("/")};break}}return e||r||null},Xa=(n,t)=>n+(t?`?${t}`:""),Zd=(n,t)=>{if(n.startsWith("/"))return n;const[e,r]=n.split("?"),[s]=t.split("?"),i=Ps(e),a=Ps(s);if(i[0]==="")return Xa(s,r);if(!i[0].startsWith(".")){const f=a.concat(i).join("/");return Xa((s==="/"?"":"/")+f,r)}const o=a.concat(i),c=[];return o.forEach(f=>{f===".."?c.pop():f!=="."&&c.push(f)}),Xa("/"+c.join("/"),r)},Qa=(n,t)=>`${Ja(t==="/"?n:`${Ja(n)}/${Ja(t)}`)}/`,Yd=n=>!n.defaultPrevented&&n.button===0&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey),To=()=>typeof window<"u"&&"document"in window&&"location"in window;var Jd=K("<a><!></a>");function pr(n,t){const e=Ao(t,["children","$$slots","$$events","$$legacy"]),r=Ao(e,["to","replace","state","getProps","preserveScroll"]);Mt(t,!1);const s=Ht(),i=()=>_t(m,"$base",s),a=()=>_t(g,"$location",s),o=Z();let c=te(t,"to",8,"#"),f=te(t,"replace",8,!1),d=te(t,"state",24,()=>({})),p=te(t,"getProps",8,()=>({})),h=te(t,"preserveScroll",8,!1);const g=vr(Ki),{base:m}=vr(Gi),{navigate:y}=vr(Zu),w=jd();let _=Z(),E=Z(),x=Z(),O=Z();const T=z=>{if(w("click",z),Yd(z)){z.preventDefault();const W=a().pathname===u(_)||f();y(u(_),{state:d(),replace:W,preserveScroll:h()})}};Vt(()=>(mr(c()),i()),()=>{L(_,Zd(c(),i().uri))}),Vt(()=>(a(),u(_)),()=>{L(E,a().pathname.startsWith(u(_)))}),Vt(()=>(u(_),a()),()=>{L(x,u(_)===a().pathname)}),Vt(()=>u(x),()=>{L(o,u(x)?"page":void 0)}),Vt(()=>(mr(p()),a(),u(_),u(E),u(x),mr(r)),()=>{L(O,p()({location:a(),href:u(_),isPartiallyCurrent:u(E),isCurrent:u(x),existingProps:r}))}),Nn(),Ft();var M=Jd();let j;var R=S(M);Hi(R,t,"default",{get active(){return!!u(o)}}),et(()=>j=Nd(M,j,{href:u(_),"aria-current":u(o),...u(O),...r})),tt("click",M,T),D(n,M),jt()}function bn(n,t){const e=Ao(t,["children","$$slots","$$events","$$legacy"]);Mt(t,!1);const r=Ht(),s=()=>_t(p,"$activeRoute",r);let i=te(t,"path",8,""),a=te(t,"component",12,null),o=Z({}),c=Z({});const{registerRoute:f,unregisterRoute:d,activeRoute:p}=vr(Gi),h={path:i(),default:i()===""};f(h),al(()=>{d(h)}),Vt(()=>(s(),mr(e),To),()=>{if(s()&&s().route===h){L(o,s().params);const{component:y,path:w,..._}=e;L(c,_),y&&(y.toString().startsWith("class ")?a(y):a(y())),To()&&!s().preserveScroll&&(window==null||window.scrollTo(0,0))}}),Nn(),Ft();var g=Ot(),m=ot(g);dt(m,()=>s()&&s().route===h,y=>{var w=Ot(),_=ot(w);dt(_,a,E=>{var x=Ot(),O=ot(x);_d(O,a,null,(T,M)=>{var j=Ot(),R=ot(j);Td(R,()=>{var z;return((z=u(M))==null?void 0:z.default)||u(M)},(z,W)=>{W(z,Bd(()=>u(o),()=>u(c)))}),D(T,j)}),D(E,x)},E=>{var x=Ot(),O=ot(x);Hi(O,t,"default",{get params(){return u(o)}}),D(E,x)}),D(y,w)}),D(n,g),jt()}const Rr=[];function Xd(n,t){return{subscribe:Oe(n,t).subscribe}}function Oe(n,t=qe){let e=null;const r=new Set;function s(o){if(Jo(n,o)&&(n=o,e)){const c=!Rr.length;for(const f of r)f[1](),Rr.push(f,n);if(c){for(let f=0;f<Rr.length;f+=2)Rr[f][0](Rr[f+1]);Rr.length=0}}}function i(o){s(o(n))}function a(o,c=qe){const f=[o,c];return r.add(f),r.size===1&&(e=t(s,i)||qe),o(n),()=>{r.delete(f),r.size===0&&e&&(e(),e=null)}}return{set:s,update:i,subscribe:a}}function Qd(n,t,e){const r=!Array.isArray(n),s=r?[n]:n;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return Xd(e,(a,o)=>{let c=!1;const f=[];let d=0,p=qe;const h=()=>{if(d)return;p();const m=t(r?f[0]:f,a,o);i?a(m):p=typeof m=="function"?m:qe},g=s.map((m,y)=>il(m,w=>{f[y]=w,d&=~(1<<y),c&&h()},()=>{d|=1<<y}));return c=!0,h(),function(){Bi(g),p(),c=!1}})}function tp(n){let t;return il(n,e=>t=e)(),t}const to=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),ep=n=>{const t=[];let e=to(n);return{get location(){return e},listen(r){t.push(r);const s=()=>{e=to(n),r({location:e,action:"POP"})};return n.addEventListener("popstate",s),()=>{n.removeEventListener("popstate",s);const i=t.indexOf(r);t.splice(i,1)}},navigate(r,{state:s,replace:i=!1,preserveScroll:a=!1,blurActiveElement:o=!0}={}){s={...s,key:Date.now()+""};try{i?n.history.replaceState(s,"",r):n.history.pushState(s,"",r)}catch{n.location[i?"replace":"assign"](r)}e=to(n),t.forEach(c=>c({location:e,action:"PUSH",preserveScroll:a})),o&&document.activeElement.blur()}}},np=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],r=[];return{get location(){return e[t]},addEventListener(s,i){},removeEventListener(s,i){},history:{get entries(){return e},get index(){return t},get state(){return r[t]},pushState(s,i,a){const[o,c=""]=a.split("?");t++,e.push({pathname:o,search:c}),r.push(s)},replaceState(s,i,a){const[o,c=""]=a.split("?");e[t]={pathname:o,search:c},r[t]=s}}}},Ju=ep(To()?window:np()),{navigate:ts}=Ju;var rp=K("<div><!></div>");function sp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(E,"$base",e),s=()=>_t(_,"$location",e),i=()=>_t(m,"$routes",e),a=()=>_t(y,"$activeRoute",e);let o=te(t,"basepath",8,"/"),c=te(t,"url",8,null),f=te(t,"viewtransition",8,null),d=te(t,"history",8,Ju);const p=(z,W,b)=>{const C=f()(b);return typeof(C==null?void 0:C.fn)=="function"?C.fn(z,C):C};Va(Zu,d());const h=vr(Ki),g=vr(Gi),m=Oe([]),y=Oe(null);let w=!1;const _=h||Oe(c()?{pathname:c()}:d().location),E=g?g.routerBase:Oe({path:o(),uri:o()}),x=Qd([E,y],([z,W])=>{if(!W)return z;const{path:b}=z,{route:C,uri:A}=W;return{path:C.default?b:C.path.replace(/\*.*$/,""),uri:A}}),O=z=>{const{path:W}=r();let{path:b}=z;if(z._path=b,z.path=Qa(W,b),typeof window>"u"){if(w)return;const C=Yl([z],s().pathname);C&&(y.set(C),w=!0)}else m.update(C=>[...C,z])},T=z=>{m.update(W=>W.filter(b=>b!==z))};let M=Z(!1);h||(Ae(()=>d().listen(W=>{L(M,W.preserveScroll||!1),_.set(W.location)})),Va(Ki,_)),Va(Gi,{activeRoute:y,base:E,routerBase:x,registerRoute:O,unregisterRoute:T}),Vt(()=>(r(),Qa),()=>{const{path:z}=r();m.update(W=>W.map(b=>Object.assign(b,{path:Qa(z,b._path)})))}),Vt(()=>(i(),s(),u(M)),()=>{const z=Yl(i(),s().pathname);y.set(z&&{...z,preserveScroll:u(M)})}),Nn(),Ft();var j=Ot(),R=ot(j);dt(R,f,z=>{var W=Ot(),b=ot(W);yd(b,()=>s().pathname,C=>{var A=rp(),I=S(A);Hi(I,t,"default",{get route(){return a()&&a().uri},get location(){return s()}}),zl(1,A,()=>p),zl(2,A,()=>p),D(C,A)}),D(z,W)},z=>{var W=Ot(),b=ot(W);Hi(b,t,"default",{get route(){return a()&&a().uri},get location(){return s()}}),D(z,W)}),D(n,j),jt()}const Kt=Oe(!1),es=Oe("");function ip(n){var r;const e=`; ${document.cookie}`.split(`; ${n}=`);if(e.length===2)return(r=e.pop())==null?void 0:r.split(";").shift()}async function Gt(n,t,e=null){const r=tp(es)||null,s=ip("csrfToken")||null,i={"Content-Type":"application/json"};r&&(i.d2rpvpjwtToken=r),s&&(i["X-CSRF-Token"]=s);const a={method:t,headers:i,credentials:"include"};e&&(a.body=JSON.stringify(e));try{const o=await fetch(n,a);if(o.status!=200&&o.status!=201&&o.status!=204)throw new Error(`Request failed with status ${o.status}`);return o}catch(o){throw console.error("Error during fetch:",o),o}}const Bs=Oe(""),ve=Oe(""),Ms=Oe([]);async function ll(n){try{const e=await fetch(n?"/nicknames/m-user":"/nicknames/b-user");if(e.ok){const r=await e.json();n?Ms.set(r.map(s=>s.replace("_m",""))):Ms.set(r)}else console.error("닉네임을 가져오는데 실패했습니다.")}catch(t){console.error("닉네임을 가져오는 중 오류가 발생했습니다:",t)}}function Zr(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${n}`);const e={month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",e).format(t)}const Jl=Oe(1),Xl=Oe("all"),No=Oe("none"),Zt=Oe("none");var ap=K('<button class="emphasis-button inline-block">로그인</button> <!>',1),op=K('<button class="simple-button">나의정보</button>'),lp=K('<div class="menu-container svelte-eqoifg"><div class="menu-logo svelte-eqoifg"><!></div> <div class="menu-items svelte-eqoifg"></div> <button class="hamburger svelte-eqoifg"><span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span></button></div> <div></div> <div class="floating-button"><!></div>',1);function cp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(f,"$location",e),s=()=>_t(ve,"$myaccount",e),i=()=>_t(Kt,"$mode",e),a=Z(),o=Z();let c=te(t,"isOpen",12,!1);const f=ol();let d=Z("");const p=()=>{c(!c())};async function h(){try{const b=await(await Gt("/auth/check-jwt","POST")).json();b.authenticated?(ve.set(b.username),es.set(b.token),Kt.set(b.mode),ts(b.mode?"/mpk":"/")):(ve.set(""),es.set(""))}catch{alert("서버 연결에 실패하였습니다")}}Ae(async()=>{await h()}),Vt(()=>r(),()=>{L(d,r().pathname)}),Vt(()=>s(),()=>{L(a,[{label:"공지사항",href:"/info"},{label:"랭킹조회",href:"/rank"},{label:"대전기록",href:"/record"},{label:"대회기록",href:"/tournament"},{label:"커뮤니티",href:"/boardlist"},{label:"역대우승",href:"/winners"},{label:"계산하기",href:"/calculator"},...s()==="admin"||s()==="admin_m"?[{label:"관리설정",href:"/admin"}]:[]])}),Vt(()=>u(d),()=>{Kt.set(u(d).includes("mpk"))}),Vt(()=>i(),()=>{L(o,i()?"/mpk":"/babapk")}),Nn(),Ft();var g=lp(),m=ot(g),y=S(m),w=S(y),_=re(()=>u(o)==="/mpk"?"/mpk":"/");pr(w,{class:"menu-logo-link",get to(){return u(_)},children:(W,b)=>{var C=Fe("D2RPvP");D(W,C)},$$slots:{default:!0}});var E=k(y,2);Rt(E,5,()=>u(a),It,(W,b)=>{var C=re(()=>u(o)+u(b).href);pr(W,{class:"link",get to(){return u(C)},$$events:{click:()=>c(!1)},children:(A,I)=>{var $=Fe();et(()=>X($,u(b).label)),D(A,$)},$$slots:{default:!0}})});var x=k(E,2),O=S(x),T=k(O,2),M=k(T,2),j=k(m,2);Rt(j,5,()=>u(a),It,(W,b)=>{var C=re(()=>u(o)+u(b).href);pr(W,{class:"link",get to(){return u(C)},$$events:{click:()=>c(!1)},children:(A,I)=>{var $=Fe();et(()=>X($,u(b).label)),D(A,$)},$$slots:{default:!0}})});var R=k(j,2),z=S(R);dt(z,()=>s()==="",W=>{var b=ap(),C=ot(b),A=k(C,2),I=re(()=>i()?"/":"/mpk");pr(A,{class:"simple-button",get to(){return u(I)},children:($,P)=>{var q=Fe();et(()=>X(q,i()?"정통바바":"밀리PK")),D($,q)},$$slots:{default:!0}}),tt("click",C,()=>Zt.set("login")),D(W,b)},W=>{var b=op();tt("click",b,()=>Zt.set("myinfo")),D(W,b)}),et(()=>{Ya(O,"transform",c()?"rotate(45deg)":""),Ya(T,"opacity",c()?"0":"1"),Ya(M,"transform",c()?"rotate(-45deg)":""),ne(j,`${`mobile-menu ${c()?"open":""}`??""} svelte-eqoifg`)}),tt("click",x,p),D(n,g),jt()}var up=K('<a class="svelte-1vl6564"> </a>'),fp=K('<a target="_blank" rel="noopener noreferrer" class="svelte-1vl6564"><img class="social-icon svelte-1vl6564"></a>'),hp=K('<footer class="svelte-1vl6564"><div class="footer-links svelte-1vl6564"></div> <div class="social-links svelte-1vl6564"></div> <div class="copyright svelte-1vl6564"> </div></footer>');function dp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(s,"$location",e),s=ol();let i=Z("");const a=[{label:"문의하기",href:"https://open.kakao.com/me/balli"},{label:"개인정보 보호정책",href:"/privacy.html"},{label:"이용 약관",href:"/terms.html"}],o=u(i).includes("mpk")?[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/QFKDTKqbmy",alt:"mpk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/gPUHe6kf",alt:"mpk Kakaotalk"}]:[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/AqvAJJKCag",alt:"babapk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/giHO7Mzg",alt:"babapk Kakaotalk"}];Vt(()=>r(),()=>{L(i,r().pathname)}),Nn(),Ft();var c=hp(),f=S(c);Rt(f,5,()=>a,It,(g,m)=>{var y=up(),w=S(y);et(()=>{Kr(y,"href",u(m).href),X(w,u(m).label)}),D(g,y)});var d=k(f,2);Rt(d,5,()=>o,It,(g,m)=>{var y=fp(),w=S(y);et(()=>{Kr(y,"href",u(m).href),Kr(w,"src",u(m).icon),Kr(w,"alt",u(m).alt)}),D(g,y)});var p=k(d,2),h=S(p);et(()=>X(h,`© ${new Date().getFullYear()??""} D2RPvP. All rights reserved.`)),D(n,c),jt()}var pp=K("<div><h1> </h1></div>");function gp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(i,"$location",e),s=()=>_t(Kt,"$mode",e),i=ol();let a=Z(""),o=Z(""),c=Z("");Vt(()=>r(),()=>{L(a,r().pathname)}),Vt(()=>u(a),()=>{u(a).includes("rank")?L(c,"랭킹조회"):u(a).includes("info")?L(c,"공지사항"):u(a).includes("record")?L(c,"대전기록"):u(a).includes("tournament")?L(c,"대회기록"):u(a).includes("boardlist")?L(c,"커뮤니티"):u(a).includes("winners")?L(c,"역대우승"):u(a).includes("calculator")?L(c,"계산하기"):u(a).includes("admin")?L(c,"관리설정"):L(c,"")}),Vt(()=>s(),()=>{s()?L(o,"밀리PK"):s()?L(o,""):L(o,"정통바바")}),Vt(()=>(u(o),u(c)),()=>{document.title="D2RPvP "+u(o)+" "+u(c)}),Nn(),Ft();var f=pp();const d=re(()=>`header-container ${(u(a).includes("post")||u(a).includes("write")?"hidden":"")??""} svelte-1yjukfn`);var p=S(f),h=S(p);et(()=>{ne(f,u(d)),X(h,`${u(o)??""} ${u(c)??""}`)}),D(n,f),jt()}var vp=K('<tr><td class="svelte-tuiyqw"><a> </a></td></tr>'),mp=K('<div class="info-container"><table class="svelte-tuiyqw"><thead><tr><th class="svelte-tuiyqw">공지사항 들어가기(구글 문서 링크)</th></tr></thead><tbody></tbody></table></div>');function bp(n){const t=Ht(),r=_t(Kt,"$mode",t)?[{href:"https://docs.google.com/spreadsheets/d/18jJ3WYsWZEdV8oXeJYt1-aMrACN1IHsFnCV3-gir5pk/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12jpQH4QP7QyPRhLPuXJSuU3lJdA_3SzCE5dBYl2jYZg/",title:"듀얼 규칙 안내"},{href:"https://docs.google.com/document/d/1Wj31FLkeFLZp-N2Bohkj_ZKoUrJU5LXkUABH7x9zxC8/",title:"대회 및 랭킹 시스템 안내"}]:[{href:"https://docs.google.com/spreadsheets/d/19a-_44yVj04BnlUK6QQY9U3jXtlDAgOmdHCgdis1toI/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12EBBA8c9K-KzaE-cC6QvRb8vOB07V9Mi90D44-dzOPw/",title:"인게임 방 안내"},{href:"https://docs.google.com/document/d/1b-vnUyLaDrSnSMouTOoFAYz5K3lq8hS-kzjh_R-JuD8/",title:"월별 랭킹 시스템 안내"},{href:"https://docs.google.com/document/d/1RBDp8SzVp-epjIdekWOWPYt0f6XBpreVbQnPD1qv3-o/",title:"미니대회 운영 안내"},{href:"https://docs.google.com/document/d/1m50GKaWyszyBSslQn3348Fz1CAp55DFbKNwNyj5dLnw/",title:"내부 랭킹전 안내"},{href:"https://docs.google.com/document/d/1_4E8_YqotTmRaVcbthmYuCnQbLKTwhSRPJ8rGk_Nybc/",title:"무기의 분류 안내"}];var s=mp(),i=S(s),a=k(S(i));Rt(a,5,()=>r,It,(c,f)=>{var d=vp(),p=S(d),h=S(p),g=S(h);et(()=>{Kr(h,"href",u(f).href),X(g,u(f).title)}),D(c,d)}),D(n,s)}var _p=K('<td class="empty svelte-1cc40xl"></td>'),yp=K('<td class="day-cell svelte-1cc40xl" role="button" tabindex="0"><div class="day-number"> </div> <div class="inside-tooltip svelte-1cc40xl"> </div> <div class="tooltiptext svelte-1cc40xl"> </div></td>'),wp=K("<tr></tr>"),Ep=K('<div class="calendar-container"><table class="calendar-table svelte-1cc40xl"><thead><tr><th class="day-header svelte-1cc40xl">일</th><th class="day-header svelte-1cc40xl">월</th><th class="day-header svelte-1cc40xl">화</th><th class="day-header svelte-1cc40xl">수</th><th class="day-header svelte-1cc40xl">목</th><th class="day-header svelte-1cc40xl">금</th><th class="day-header svelte-1cc40xl">토</th></tr></thead><tbody></tbody></table></div>');function xp(n,t){Mt(t,!1),Ht();const e=Z(),r=Z(),s=Z();let i=te(t,"year",8),a=te(t,"month",8),o=te(t,"date",8);te(t,"events",12);let c=te(t,"eventname",8);te(t,"getCalendartext",8);function f(w,_){const E=new Date(w,_,1),x=new Date(w,_+1,0),O=[];let T=new Date(E);for(;T<=x;)O.push(new Date(T)),T.setDate(T.getDate()+1);const M=E.getDay();return{daysInMonth:O,startDayOfWeek:M}}function d(w,_){const E=[];let x=[],O=0;for(let T=0;T<_;T++)x.push("empty"),O++;if(w.forEach(T=>{O===7&&(E.push(x),x=[],O=0);const M=T.getDate()===o()&&T.getMonth()===a()&&T.getFullYear()===i(),j=T.getDate();x.push({day:T,isToday:M,dayKey:j}),O++}),x.length>0){for(;x.length<7;)x.push("empty");E.push(x)}return E}let p=Z(null);function h(w){u(p)===`${w}`?L(p,null):L(p,`${w}`)}Vt(()=>(u(e),u(r),mr(i()),mr(a())),()=>{(w=>(L(e,w.daysInMonth),L(r,w.startDayOfWeek)))(f(i(),a()))}),Vt(()=>(u(e),u(r)),()=>{L(s,d(u(e),u(r)))}),Nn(),Ft();var g=Ep(),m=S(g),y=k(S(m));Rt(y,5,()=>u(s),It,(w,_)=>{var E=wp();Rt(E,5,()=>u(_),It,(x,O)=>{var T=Ot(),M=ot(T);dt(M,()=>u(O)==="empty",j=>{var R=_p();D(j,R)},j=>{var R=yp(),z=S(R),W=S(z);et(()=>X(W,u(O).day.getDate()));var b=k(z,2),C=S(b),A=k(b,2),I=S(A);et(()=>{X(C,c()[u(O).dayKey]||""),Sd(A,"visible",u(p)===`${u(O).dayKey}`),X(I,c()[u(O).dayKey]||"이벤트 없음")}),tt("click",R,()=>h(u(O).dayKey)),D(j,R)}),D(x,T)}),D(w,E)}),D(n,g),jt()}var Ap=K('<div class="calendar-header svelte-fc2pud"><button class="simple-button">지난달</button> <div class="calendar-header-text svelte-fc2pud"> </div> <button class="simple-button">다음달</button></div> <!>',1);function Ql(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z({});const i=new Date,a=i.getFullYear(),o=i.getMonth(),c=i.getDate();let f=Z(a),d=Z(o),p=Z(c),h={};const g=()=>{let j=u(d)+1,R=u(f);j===12&&(j=0,R+=1),L(d,j),L(f,R),L(p,null),R===i.getFullYear()&&j===i.getMonth()&&L(p,i.getDate()),y(R,j)},m=()=>{let j=u(d)-1,R=u(f);j===-1&&(j=11,R-=1),L(d,j),L(f,R),L(p,null),R===i.getFullYear()&&j===i.getMonth()&&L(p,i.getDate()),y(R,j)};async function y(j,R){try{const z=`/calendar/event?year=${j}&month=${R+1}&isM=${r()}`,W=await fetch(z,{method:"GET",headers:{"Content-Type":"application/json"}});if(!W.ok)throw new Error("Network response was not ok");const b=await W.json(),C={};b.forEach(A=>{C[A.date]=A.text}),L(s,C)}catch(z){alert("달력 DB 에러"),console.error("Error:",z)}}Ae(()=>{y(i.getFullYear(),i.getMonth())}),Ft();var w=Ap(),_=ot(w),E=S(_),x=k(E,2),O=S(x),T=k(x,2),M=k(_,2);xp(M,{get year(){return u(f)},get month(){return u(d)},get date(){return u(p)},events:h,get eventname(){return u(s)},getCalendartext:y}),et(()=>X(O,`${u(f)??""}년 ${u(d)+1}월`)),tt("click",E,m),tt("click",T,g),D(n,w),jt()}var Tp=K('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">로그인</button></div> <button class="message-button">계정찾기</button> <button class="message-button">회원가입</button>',1);function Np(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z(""),i=Z("");async function a(){let w={nickname:u(s),password:u(i)};try{const _=r()?"/auth/m-user/login":"/auth/b-user/login",E=await Gt(_,"POST",w);if(E.status===200){const x=await E.json(),O=x.accessToken;O&&es.set(O),ve.set(x.username),Zt.set("none")}else alert("로그인 실패")}catch(_){alert(_)}}Ft();var o=Tp(),c=ot(o),f=S(c),d=k(c,2),p=S(d),h=k(p,2),g=k(h,2),m=k(d,2),y=k(m,2);et(()=>X(f,`${(r()?"밀리PK":"정통바바")??""} 로그인하기`)),Ct(p,()=>u(s),w=>L(s,w)),Ct(h,()=>u(i),w=>L(i,w)),tt("click",g,()=>a()),tt("click",m,()=>Zt.set("findaccount")),tt("click",y,()=>Zt.set("register")),D(n,o),jt()}var kp=K('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input type="text" placeholder="이메일 입력"> <button class="emphasis-button block">계정찾기</button></div>',1);function Sp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z(!0),i=Z(""),a=Z("");const o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function c(){L(s,o.test(u(a)))}async function f(){const w={findpw_nickname:u(i),findpw_email:u(a)};try{const _=r()?"/reset-pw/m-user":"/reset-pw/b-user";(await Gt(_,"POST",w)).ok?(alert("이메일을 확인하세요"),Zt.set("none")):alert("에러 발생")}catch(_){alert(_)}}Ft();var d=kp(),p=ot(d);p.textContent=`${(Kt?"밀리PK":"정통바바")??""} 계정찾기`;var h=k(p,2),g=S(h),m=k(g,2),y=k(m,2);et(()=>ne(m,`input-text ${(u(s)?"":"invalid")??""}`)),Ct(g,()=>u(i),w=>L(i,w)),Ct(m,()=>u(a),w=>L(a,w)),tt("input",m,c),tt("click",y,f),D(n,d),jt()}var Op=K(`<strong>웹사이트 이용 약관</strong> <p>D2R PvP는 Diablo 2: Resurrected에서 PvP(플레이어 대 플레이어) 매치에
  참여하는 사용자들을 위한 랭킹 시스템을 제공하는 웹사이트입니다.</p> <p>사이트에서 자신의 랭킹을 확인하려면 서버에 계정을 등록하고 매치 결과를
  기록해야 합니다.</p> <p>등록 과정에서 제공된 정보는 사이트 운영을 위해서만 사용되며, 다른
  목적으로는 사용되지 않습니다.</p>`,1);function Lp(n){var t=Op();D(n,t)}var Cp=K(`<strong>개인정보 처리방침</strong> <p>이 페이지는 서비스를 사용하기로 결정한 경우, 개인 정보의 수집, 사용 및
  공개에 관한 제 정책을 방문자에게 알리기 위해 사용됩니다.</p> <p>서비스를 사용하기로 선택하면, 이 정책과 관련하여 정보 수집 및 사용에
  동의하는 것입니다. 수집된 개인 정보는 서비스 제공 및 개선을 위해
  사용됩니다. 이 개인정보 처리방침에 설명된 경우를 제외하고는 귀하의 정보를
  사용하거나 제3자와 공유하지 않습니다.</p> <p>이 개인정보 처리방침에서 사용되는 용어는 D2R PvP에서 접근할 수 있는 이용
  약관과 동일한 의미를 가지며, 본 개인정보 처리방침에서 달리 정의되지 않는
  한 이용 약관과 동일한 의미를 가집니다.</p> <p><strong>정보 수집 및 사용</strong></p> <p>더 나은 경험을 제공하기 위해, 서비스 사용 중 특정 개인 식별 정보를
  제공해야 할 수 있습니다. 이 정보에는 닉네임, 비밀번호, 이메일, 플레이
  데이터 등이 포함될 수 있습니다. 요청된 정보는 귀하의 장치에 보관되며,
  당사에 의해 수집되지 않습니다.</p> <div><p>이 사이트는 개인 정보를 제3자 서비스 제공자에게 제공하지 않습니다.</p> <p><strong>로그 데이터</strong></p> <p>서비스 사용 시, 오류가 발생할 경우 귀하의 전화에서 로그 데이터라는
    정보를 (제3자 제품을 통해) 수집함을 알려드립니다. 이 로그 데이터에는
    장치의 인터넷 프로토콜(IP) 주소, 장치 이름, 운영 체제 버전, 서비스 사용
    시의 사이트 구성, 사용 날짜 및 시간, 기타 통계 정보가 포함될 수
    있습니다.</p> <p><strong>쿠키</strong></p> <p>쿠키는 일반적으로 익명의 고유 식별자로 사용되는 소량의 데이터가 포함된
    파일입니다. 이러한 파일은 귀하가 방문하는 웹사이트에서 브라우저로
    전송되어 귀하의 장치 내부 메모리에 저장됩니다.</p> <p>이 서비스는 이러한 "쿠키"를 명시적으로 사용하지 않습니다. 그러나
    사이트는 정보 수집 및 서비스 개선을 위해 "쿠키"를 사용하는 제3자 코드 및
    라이브러리를 사용할 수 있습니다. 쿠키 수신 시 이를 허용하거나 거부할 수
    있는 옵션이 있으며, 쿠키가 귀하의 장치로 전송될 때 알림을 받도록 설정할
    수 있습니다. 쿠키를 거부하기로 선택하면 이 서비스의 일부를 사용하지 못할
    수도 있습니다.</p> <p><strong>서비스 제공자</strong></p> <p>당사는 다음과 같은 이유로 제3자 회사 및 개인을 고용할 수 있습니다:</p> <ul><li>당사 서비스를 용이하게 하기 위해;</li> <li>당사를 대신하여 서비스를 제공하기 위해;</li> <li>서비스 관련 서비스를 수행하기 위해; 또는</li> <li>당사 서비스 사용 방식을 분석하는 데 도움을 주기 위해.</li></ul> <p>이 서비스의 사용자에게 제3자가 귀하의 개인 정보에 접근할 수 있음을
    알리고자 합니다. 이는 당사를 대신하여 할당된 작업을 수행하기 위한
    것입니다. 그러나 그들은 정보를 다른 목적으로 사용하거나 공개하지 않을
    의무가 있습니다.</p> <p><strong>보안</strong></p> <p>귀하의 개인 정보를 제공받는 것을 신뢰하며, 이를 보호하기 위해 상업적으로
    합리적인 수단을 사용하고 있습니다. 그러나 인터넷을 통한 전송 방법 또는
    전자 저장 방법은 100% 안전하고 신뢰할 수 없으며, 절대적인 보안을 보장할
    수는 없습니다.</p> <p><strong>다른 사이트로의 링크</strong></p> <p>이 서비스에는 다른 사이트로의 링크가 포함될 수 있습니다. 제3자 링크를
    클릭하면 해당 사이트로 이동됩니다. 이러한 외부 사이트는 당사에서
    운영하지 않음을 유의하시기 바랍니다. 따라서 이러한 웹사이트의 개인정보
    처리방침을 검토할 것을 강력히 권장합니다. 당사는 제3자 사이트나 서비스의
    콘텐츠, 개인정보 처리방침 또는 관행에 대해 책임을 지지 않습니다.</p> <p><strong>어린이 개인정보</strong></p> <div><p>이 서비스는 13세 미만의 어린이를 대상으로 하지 않습니다. 당사는 13세
      미만의 어린이로부터 개인 식별 정보를 고의로 수집하지 않습니다. 만약
      13세 미만의 어린이가 개인 정보를 제공한 것으로 발견될 경우, 이를 즉시
      서버에서 삭제합니다. 부모나 보호자이시고, 자녀가 개인 정보를 제공한
      사실을 알게 된 경우, 저에게 연락해 주시면 필요한 조치를 취하겠습니다.</p></div> <p><strong>개인정보 처리방침의 변경</strong></p> <p>당사는 개인정보 처리방침을 수시로 업데이트할 수 있습니다. 따라서 이
    페이지를 주기적으로 검토하여 변경 사항을 확인할 것을 권장합니다.
    개인정보 처리방침의 변경 사항은 이 페이지에 게시하여 알릴 것입니다.</p> <p>이 정책은 2024-01-17부터 유효합니다.</p> <p><strong>문의하기</strong></p> <p>개인정보 처리방침에 대해 질문이나 제안사항이 있는 경우,
    kor8240@gmail.com으로 주저하지 말고 연락해 주시기 바랍니다.</p> <p>이 개인정보 처리방침 페이지는 <a href="https://privacypolicytemplate.net" target="_blank" rel="noopener noreferrer">privacypolicytemplate.net</a>에서 작성되었으며, <a href="https://app-privacy-policy-generator.nisrulz.com/" target="_blank" rel="noopener noreferrer">사이트 개인정보 처리방침 생성기</a>에서 수정/생성되었습니다.</p></div>`,1);function qp(n){var t=Cp();D(n,t)}var $p=K('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Ip=K('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Rp=K('<button class="simple-button">이용약관</button> <button class="simple-button">개인정보 정책</button> <input class="input-text" type="text" placeholder="닉네임"> <button class="emphasis-button">닉네임 확인</button>',1),Dp=K('<div class="nickname-input svelte-18sr952"> </div> <input type="text" placeholder="이메일 입력"> <input class="input-text" type="password" placeholder="비밀번호"> <input class="input-text" type="password" placeholder="암호확인"> <button class="emphasis-button">회원가입</button>',1),Pp=K('<h3 class="message-title"></h3> <div class="message-body"><!></div>',1);function Bp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z(!0),i=Z(""),a=Z("");const o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let c=Z(""),f=Z(""),d=Z(""),p=Z(!1);function h(){L(s,o.test(u(a)))}function g(O){return!O||O.trim()===""?{isValid:!1,message:"닉네임을 입력해주세요."}:/^[a-zA-Z가-힣]{3,20}$/.test(O)?{isValid:!0,message:"닉네임이 유효합니다."}:{isValid:!1,message:"닉네임은 3~20자의 알파벳, 한글만 허용됩니다."}}async function m(){const O=g(u(c));if(!O.isValid){alert(O.message);return}if(u(p))alert("닉네임을 이미 확인하였습니다");else{const T=r()?"/auth/m-user/check-nickname":"/auth/b-user/check-nickname",M={nickname:u(c)};try{(await Gt(T,"POST",M)).status===200&&(alert("해당 닉네임은 사용 가능합니다"),L(p,!0))}catch(j){console.error("Error occurred while checking nickname:",j),alert(j)}}}async function y(){const O={nickname:u(c),password:u(f),email:u(a)};try{const T=r()?"/auth/m-user/register":"/auth/b-user/register",M=await Gt(T,"POST",O);if(!M.ok)throw new Error("회원가입에 실패했습니다.");M.status===201&&(alert("회원가입이 성공적으로 완료되었습니다."),Zt.set("none"))}catch(T){alert(T)}}Ft();var w=Pp(),_=ot(w);_.textContent=`${(Kt?"밀리PK":"정통바바")??""} 가입하기`;var E=k(_,2),x=S(E);dt(x,()=>u(i)==="terms",O=>{var T=$p(),M=ot(T),j=S(M);Lp(j);var R=k(M,2);tt("click",R,()=>L(i,"")),D(O,T)},O=>{var T=Ot(),M=ot(T);dt(M,()=>u(i)==="privacy",j=>{var R=Ip(),z=ot(R),W=S(z);qp(W);var b=k(z,2);tt("click",b,()=>L(i,"")),D(j,R)},j=>{var R=Ot(),z=ot(R);dt(z,()=>!u(p),W=>{var b=Rp(),C=ot(b),A=k(C,2),I=k(A,2),$=k(I,2);tt("click",C,()=>L(i,"terms")),tt("click",A,()=>L(i,"privacy")),Ct(I,()=>u(c),P=>L(c,P)),tt("click",$,m),D(W,b)},W=>{var b=Dp(),C=ot(b),A=S(C),I=k(C,2),$=k(I,2),P=k($,2),q=k(P,2);et(()=>{X(A,`닉네임 :${u(c)??""}`),ne(I,`input-text ${(u(s)?"":"invalid")??""}`)}),Ct(I,()=>u(a),B=>L(a,B)),tt("input",I,h),Ct($,()=>u(f),B=>L(f,B)),Ct(P,()=>u(d),B=>L(d,B)),tt("click",q,y),D(W,b)}),D(j,R)},!0),D(O,T)}),D(n,w),jt()}var Mp=K('<h3 class="message-title">내 정보 확인</h3> <div class="message-body"><table class="info-table svelte-1txir2y"><tbody><tr class="svelte-1txir2y"><td class="svelte-1txir2y">계정</td><td class="svelte-1txir2y"> </td><td class="svelte-1txir2y"><button class="simple-button svelte-1txir2y">로그아웃</button></td></tr><tr class="svelte-1txir2y"><td class="svelte-1txir2y">메일</td><td class="svelte-1txir2y"> </td><td class="svelte-1txir2y"><button class="simple-button svelte-1txir2y">변경</button></td></tr><tr class="svelte-1txir2y"><td class="svelte-1txir2y">암호</td><td class="svelte-1txir2y">********</td><td class="svelte-1txir2y"><button class="simple-button svelte-1txir2y">변경</button></td></tr><tr class="svelte-1txir2y"><td class="svelte-1txir2y">대전점수</td><td class="svelte-1txir2y"> </td><td class="svelte-1txir2y"></td></tr><tr class="svelte-1txir2y"><td class="svelte-1txir2y">대회점수</td><td class="svelte-1txir2y"> </td><td class="svelte-1txir2y"></td></tr><tr class="svelte-1txir2y"><td class="svelte-1txir2y">승/패</td><td class="svelte-1txir2y"> </td><td class="svelte-1txir2y"></td></tr><tr class="svelte-1txir2y"><td class="svelte-1txir2y">탈퇴</td><td class="svelte-1txir2y"></td><td class="svelte-1txir2y"><button class="simple-button svelte-1txir2y">탈퇴</button></td></tr></tbody></table></div>',1);function jp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e),s=()=>_t(ve,"$myaccount",e);let i=Z("Loading"),a="Loading",o=Z("Loading"),c=Z("Loading"),f=Z("Loading"),d=Z("Loading");async function p(){const mt=r()?"/userdata/info/m-user":"/userdata/info/b-user";try{const yt=await Gt(mt,"GET");if(yt.ok){const lt=await yt.json();L(i,lt.email),L(o,lt.bscore),L(c,lt.lscore),a=lt.rscore,L(f,lt.countwin),L(d,lt.countlose)}}catch(yt){console.error("정보를 불러오는 중 오류가 발생하였습니다:",yt),alert("정보를 불러오는 중 오류가 발생하였습니다")}}Ae(()=>{p()});async function h(){try{await Gt("/auth/logout","POST"),alert("로그아웃하였습니다"),ts(r()?"/mpk":"/"),Zt.set("none"),ve.set(""),es.set("")}catch(mt){alert(mt)}}Ft();var g=Mp(),m=k(ot(g),2),y=S(m),w=S(y),_=S(w),E=k(S(_)),x=S(E);et(()=>X(x,s().replace("_m","")));var O=k(E),T=S(O),M=k(_),j=k(S(M)),R=S(j),z=k(j),W=S(z),b=k(M),C=k(S(b),2),A=S(C),I=k(b),$=k(S(I)),P=S($),q=k(I),B=k(S(q)),G=S(B),H=k(q),Y=k(S(H)),J=S(Y),st=k(H),ct=k(S(st),2),Q=S(ct);et(()=>{X(R,u(i)),X(P,u(o)),X(G,u(c)),X(J,`${u(f)??""}/${u(d)??""}`)}),tt("click",T,()=>h()),tt("click",W,()=>Zt.set("changeemail")),tt("click",A,()=>Zt.set("changepw")),tt("click",Q,()=>Zt.set("deleteaccount")),D(n,g),jt()}var Up=K('<h3 class="message-title">이메일 변경</h3> <div class="message-body"><input class="input-text" type="text" placeholder="새 이메일"> <input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function Fp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z(""),i=Z("");async function a(){const g={nowpw:u(s),newemail:u(i)};try{const m=r()?"/userdata/change-email/m-user":"/userdata/change-email/b-user",y=await Gt(m,"POST",g);y.ok?(alert("이메일 변경 완료"),Zt.set("none")):alert(`오류 발생: ${y.status}`)}catch(m){console.error("오류 발생:",m),alert("오류 발생: "+m)}}Ft();var o=Up(),c=k(ot(o),2),f=S(c),d=k(f,2),p=k(d,2),h=k(c,2);Ct(f,()=>u(i),g=>L(i,g)),Ct(d,()=>u(s),g=>L(s,g)),tt("click",p,()=>a()),tt("click",h,()=>Zt.set("myinfo")),D(n,o),jt()}var Hp=K('<h3 class="message-title">암호 변경</h3> <div class="message-body"><input class="input-text" type="password" placeholder="현재암호"> <input class="input-text" type="password" placeholder="새 암호"> <input class="input-text" type="password" placeholder="암호확인"> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function zp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z(""),i=Z(""),a=Z("");async function o(){if(u(i)!==u(a)){alert("암호 확인이 일치하지 않습니다. 다시 확인해주세요.");return}const y={nowpw:u(s),newpw:u(i)};try{const w=r()?"/userdata/change-pw/m-user":"/userdata/change-pw/b-user",_=await Gt(w,"POST",y);_.ok?(alert("암호 변경 완료"),Zt.set("none")):alert(`오류 발생: ${_.status}`)}catch(w){console.error("오류 발생:",w),alert("오류 발생: "+w)}}Ft();var c=Hp(),f=k(ot(c),2),d=S(f),p=k(d,2),h=k(p,2),g=k(h,2),m=k(f,2);Ct(d,()=>u(s),y=>L(s,y)),Ct(p,()=>u(i),y=>L(i,y)),Ct(h,()=>u(a),y=>L(a,y)),tt("click",g,()=>o()),tt("click",m,()=>Zt.set("myinfo")),D(n,c),jt()}var Kp=K('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">계정삭제</button></div>',1);function Gp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z("");async function i(){const p={nowpw:u(s)};try{const h=r()?"/auth/m-user/delete":"/auth/b-user/delete",g=await Gt(h,"DELETE",p);g.status===200?(alert("계정 삭제 완료"),Zt.set("none"),ve.set(""),es.set("")):alert(`오류 발생: ${g.status}`)}catch(h){console.error("오류 발생:",h),alert("오류 발생: "+h)}}Ft();var a=Kp(),o=ot(a);o.textContent=`${(Kt?"밀리PK":"정통바바")??""} 계정 삭제`;var c=k(o,2),f=S(c),d=k(f,2);Ct(f,()=>u(s),p=>L(s,p)),tt("click",d,()=>i()),D(n,a),jt()}var Vp=K("<option> </option>"),Wp=K('<h3 class="message-title"> </h3> <div class="message-body"><input list="nicknames_list" class="input-text" placeholder="승자를 선택하세요"> <datalist id="nicknames_list"></datalist> <button class="emphasis-button block">보내기</button></div>',1);function Zp(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e),s=()=>_t(Ms,"$nicknames",e),i=()=>_t(ve,"$myaccount",e);let a=Z([]),o=Z();Ae(()=>{ll(r()),L(a,r()?s().filter(E=>E!==i().replace("_m","")):s().filter(E=>E!==i()))});function c(E,x){return x.includes(E)?E:null}function f(E){const O=E.target.value;typeof O=="string"&&L(o,c(O,u(a)))}async function d(){const E=r()?{winner:u(o)+"_m",mode:r()}:{winner:u(o),mode:r()};try{const x=await Gt("/record/submit","POST",E);x.ok?alert("기록 전송 완료"):alert(`오류 발생: ${x.status}`)}catch(x){console.error("오류 발생:",x),alert("오류 발생: "+x)}}Ft();var p=Wp(),h=ot(p),g=S(h),m=k(h,2),y=S(m),w=k(y,2);Rt(w,5,()=>u(a),It,(E,x)=>{var O=Vp(),T={},M=S(O);et(()=>{T!==(T=u(x))&&(O.value=(O.__value=u(x))==null?"":u(x)),X(M,u(x))}),D(E,O)});var _=k(w,2);et(()=>X(g,`${(r()?"밀리PK":"정통바바")??""} 기록 보내기`)),Ct(y,()=>u(o),E=>L(o,E)),tt("blur",y,f),tt("click",_,d),D(n,p),jt()}var Yp=K('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">로딩 중...</td></tr>'),Jp=K('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">기록이 없습니다</td></tr>'),Xp=K('<tr class="svelte-y61ocg"><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"><button class="simple-button svelte-y61ocg">승인</button> <button class="simple-button svelte-y61ocg">삭제</button></td></tr>'),Qp=K('<h3 class="message-title"> </h3> <div class="message-body"><table class="temp-table svelte-y61ocg"><thead><tr><th class="record-table-date">날짜</th><th class="record-table-loser">패자</th><th class="record-table-score">점수</th><th class="record-table-ok">승인</th></tr></thead><tbody><!></tbody></table></div>',1);function tg(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e);let s=Z(),i=Z(!0);async function a(){const y=r()?"/record/pending?mode=true":"/record/pending?mode=false";try{const w=await Gt(y,"GET");if(!w.ok)throw new Error(`오류 발생: ${w.status}`);L(s,await w.json())}catch(w){console.error("데이터 불러오기 오류:",w),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{L(i,!1)}}async function o(y,w){const _=y==="approve"?"/record/approve":"/record/cancel",E={orderNum:w,mode:r()};try{const x=await Gt(_,y==="approve"?"POST":"DELETE",E);if(x.ok)alert(`${y==="approve"?"승인":"삭제"} 완료`),a();else throw new Error(`오류 발생: ${x.status}`)}catch(x){console.error(`${y==="approve"?"승인":"삭제"} 오류:`,x),alert(`오류 발생: ${x}`)}}Ae(async()=>{await a()}),Ft();var c=Qp(),f=ot(c),d=S(f),p=k(f,2),h=S(p),g=k(S(h)),m=S(g);dt(m,()=>u(i),y=>{var w=Yp();D(y,w)},y=>{var w=Ot(),_=ot(w);dt(_,()=>u(s).length===0,E=>{var x=Jp();D(E,x)},E=>{var x=Ot(),O=ot(x);Rt(O,1,()=>u(s),It,(T,M)=>{var j=Xp(),R=S(j),z=S(R);et(()=>X(z,new Date(u(M).date).toLocaleDateString()));var W=k(R),b=S(W);et(()=>X(b,r()?u(M).loser.replace("_m",""):u(M).loser));var C=k(W),A=S(C),I=k(C),$=S(I),P=k($,2);et(()=>X(A,u(M).lScore)),tt("click",$,()=>o("approve",u(M).orderNum)),tt("click",P,()=>o("delete",u(M).orderNum)),D(T,j)}),D(E,x)},!0),D(y,w)}),et(()=>X(d,`${(r()?"밀리PK":"정통바바")??""} 기록 승인하기`)),D(n,c),jt()}var eg=K("<option> </option>"),ng=K("<option> </option>"),rg=K("<option> </option>"),sg=K("<option> </option>"),ig=K("<option> </option>"),ag=K("<option> </option>"),og=K("<option> </option>"),lg=K("<option> </option>"),cg=K("<option> </option>"),ug=K("<option> </option>"),fg=K("<option> </option>"),hg=K("<option> </option>"),dg=K('<h3 class="message-title"> </h3> <div class="message-body svelte-anctt3"><input type="text" class="titlewidth input-text svelte-anctt3" placeholder="대회 이름"> <select class="optionwidth input-text svelte-anctt3"><option>2팀(듀얼)</option><option>3-5팀(4강)</option><option>6-11팀(8강)</option><option>12팀 이상(16강)</option><option>정식전</option></select> <select class="optionwidth input-text svelte-anctt3"><option>1인 1팀</option><option>2인 1팀</option><option>3인 1팀</option><option>4인 1팀</option></select> <br> 우승 <input list="nicknames1" class="namewidth input-text svelte-anctt3" placeholder="선택하세요"> <datalist id="nicknames1"></datalist> <input list="nicknames2" placeholder="선택하세요"> <datalist id="nicknames2"></datalist> <input list="nicknames3" placeholder="선택하세요"> <datalist id="nicknames3"></datalist> <input list="nicknames4" placeholder="선택하세요"> <datalist id="nicknames4"></datalist> <br> <span>2위</span> <input list="nicknames5" placeholder="선택하세요"> <datalist id="nicknames5"></datalist> <input list="nicknames6" placeholder="선택하세요"> <datalist id="nicknames6"></datalist> <input list="nicknames7" placeholder="선택하세요"> <datalist id="nicknames7"></datalist> <input list="nicknames8" placeholder="선택하세요"> <datalist id="nicknames8"></datalist> <br> <span>3위</span> <input list="nicknames9" placeholder="선택하세요"> <datalist id="nicknames9"></datalist> <input list="nicknames10" placeholder="선택하세요"> <datalist id="nicknames10"></datalist> <input list="nicknames11" placeholder="선택하세요"> <datalist id="nicknames11"></datalist> <input list="nicknames12" placeholder="선택하세요"> <datalist id="nicknames12"></datalist> <br> <button class="emphasis-button">대회 기록 전송</button></div>',1);function pg(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Bs,"$key",e),s=()=>_t(Kt,"$mode",e),i=()=>_t(ve,"$myaccount",e),a=()=>_t(Ms,"$nicknames",e),o=Z();al(()=>{Bs.set(r()+1)}),Ae(async()=>{const V=window.location.href;Kt.set(V.includes("/mpk")),ll(s())});let c=Z(),f=Z(),d=Z(),p=Z(),h=Z(),g=Z(),m=Z(),y=Z(),w=Z(),_=Z(),E=Z(),x=Z(),O=Z(),T=Z(),M=Z();function j(V,nt){return nt.includes(V)?V:""}function R(){u(O)<2&&L(f,L(g,L(_,""))),u(O)<3&&L(d,L(m,L(E,""))),u(O)<4&&L(p,L(y,L(x,""))),u(T)<4&&L(h,L(g,L(m,L(y,"")))),u(T)<8&&L(w,L(_,L(E,L(x,""))));const V=[u(c),u(f),u(d),u(p),u(h),u(g),u(m),u(y),u(w),u(_),u(E),u(x)];return new Set(V.filter(Boolean)).size===V.filter(Boolean).length}async function z(){if(!R()){alert("중복 기록된 선수가 있습니다");return}const V={Championship1:u(c),Championship2:u(f),Championship3:u(d),Championship4:u(p),Runner_up1:u(h),Runner_up2:u(g),Runner_up3:u(m),Runner_up4:u(y),Place3rd1:u(w),Place3rd2:u(_),Place3rd3:u(E),Place3rd4:u(x),eventname:u(M),numberteams:u(T),teamSize:u(O),Eventhost:u(o)};try{(await Gt(s()?"/event/m-user/submit":"/event/b-user/submit","POST",V)).status===201&&alert("대회 기록 전송 완료")}catch(nt){console.error("오류 발생:",nt),alert(`오류 발생: ${nt}`)}}function W(V){L(c,j(V.target.value,a()))}function b(V){L(f,j(V.target.value,a()))}function C(V){L(d,j(V.target.value,a()))}function A(V){L(p,j(V.target.value,a()))}function I(V){L(h,j(V.target.value,a()))}function $(V){L(g,j(V.target.value,a()))}function P(V){L(m,j(V.target.value,a()))}function q(V){L(y,j(V.target.value,a()))}function B(V){L(w,j(V.target.value,a()))}function G(V){L(_,j(V.target.value,a()))}function H(V){L(E,j(V.target.value,a()))}function Y(V){L(x,j(V.target.value,a()))}function J(V){L(M,V.target.value)}function st(V){L(T,V.target.value)}function ct(V){L(O,V.target.value)}Vt(()=>(s(),i()),()=>{L(o,s()===!0?i().replace("_m",""):i())}),Nn(),Ft();var Q=dg(),mt=ot(Q),yt=S(mt),lt=k(mt,2),wt=S(lt),bt=k(wt,2);et(()=>{u(T),Fi(()=>{})});var vt=S(bt);vt.value=(vt.__value="2")==null?"":"2";var ht=k(vt);ht.value=(ht.__value="4")==null?"":"4";var gt=k(ht);gt.value=(gt.__value="8")==null?"":"8";var At=k(gt);At.value=(At.__value="16")==null?"":"16";var Pt=k(At);Pt.value=(Pt.__value="24")==null?"":"24";var qt=k(bt,2);et(()=>{u(O),Fi(()=>{})});var kt=S(qt);kt.value=(kt.__value="1")==null?"":"1";var Wt=k(kt);Wt.value=(Wt.__value="2")==null?"":"2";var be=k(Wt);be.value=(be.__value="3")==null?"":"3";var Jt=k(be);Jt.value=(Jt.__value="4")==null?"":"4";var _e=k(qt,4),ye=k(_e,2);Rt(ye,5,a,It,(V,nt)=>{var it=eg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var Te=k(ye,2),ee=k(Te,2);Rt(ee,5,a,It,(V,nt)=>{var it=ng(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var le=k(ee,2),on=k(le,2);Rt(on,5,a,It,(V,nt)=>{var it=rg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var se=k(on,2),Ne=k(se,2);Rt(Ne,5,a,It,(V,nt)=>{var it=sg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var De=k(Ne,4),Xt=k(De,2),Sn=k(Xt,2);Rt(Sn,5,a,It,(V,nt)=>{var it=ig(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var Pe=k(Sn,2),Sr=k(Pe,2);Rt(Sr,5,a,It,(V,nt)=>{var it=ag(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var ln=k(Sr,2),On=k(ln,2);Rt(On,5,a,It,(V,nt)=>{var it=og(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var Ln=k(On,2),Cn=k(Ln,2);Rt(Cn,5,a,It,(V,nt)=>{var it=lg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var cn=k(Cn,4),ce=k(cn,2),qn=k(ce,2);Rt(qn,5,a,It,(V,nt)=>{var it=cg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var un=k(qn,2),fn=k(un,2);Rt(fn,5,a,It,(V,nt)=>{var it=ug(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var hn=k(fn,2),dn=k(hn,2);Rt(dn,5,a,It,(V,nt)=>{var it=fg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var pn=k(dn,2),Hn=k(pn,2);Rt(Hn,5,a,It,(V,nt)=>{var it=hg(),xt={},Bt=S(it);et(()=>{xt!==(xt=u(nt))&&(it.value=(it.__value=u(nt))==null?"":u(nt)),X(Bt,u(nt))}),D(V,it)});var lr=k(Hn,4);et(()=>{X(yt,`${(s()?"밀리PK":"정통바바")??""} 토너먼트 기록`),ne(Te,`namewidth input-text ${(u(O)<2?"hidden":null)??""} svelte-anctt3`),ne(le,`namewidth input-text ${(u(O)<3?"hidden":null)??""} svelte-anctt3`),ne(se,`namewidth input-text ${(u(O)<4?"hidden":null)??""} svelte-anctt3`),ne(De,`${(u(T)<4?"hidden":null)??""} svelte-anctt3`),ne(Xt,`namewidth input-text ${(u(T)<4?"hidden":null)??""} svelte-anctt3`),ne(Pe,`namewidth input-text ${(u(T)<4||u(O)<2?"hidden":null)??""} svelte-anctt3`),ne(ln,`namewidth input-text ${(u(T)<4||u(O)<3?"hidden":null)??""} svelte-anctt3`),ne(Ln,`namewidth input-text ${(u(T)<4||u(O)<4?"hidden":null)??""} svelte-anctt3`),ne(cn,`${(u(T)<8?"hidden":null)??""} svelte-anctt3`),ne(ce,`namewidth input-text ${(u(T)<8?"hidden":null)??""} svelte-anctt3`),ne(un,`namewidth input-text ${(u(T)<8||u(O)<2?"hidden":null)??""} svelte-anctt3`),ne(hn,`namewidth input-text ${(u(T)<8||u(O)<3?"hidden":null)??""} svelte-anctt3`),ne(pn,`namewidth input-text ${(u(T)<8||u(O)<4?"hidden":null)??""} svelte-anctt3`)}),Ct(wt,()=>u(M),V=>L(M,V)),tt("change",wt,J),zi(bt,()=>u(T),V=>L(T,V)),tt("change",bt,st),zi(qt,()=>u(O),V=>L(O,V)),tt("change",qt,ct),Ct(_e,()=>u(c),V=>L(c,V)),tt("blur",_e,W),Ct(Te,()=>u(f),V=>L(f,V)),tt("blur",Te,b),Ct(le,()=>u(d),V=>L(d,V)),tt("blur",le,C),Ct(se,()=>u(p),V=>L(p,V)),tt("blur",se,A),Ct(Xt,()=>u(h),V=>L(h,V)),tt("blur",Xt,I),Ct(Pe,()=>u(g),V=>L(g,V)),tt("blur",Pe,$),Ct(ln,()=>u(m),V=>L(m,V)),tt("blur",ln,P),Ct(Ln,()=>u(y),V=>L(y,V)),tt("blur",Ln,q),Ct(ce,()=>u(w),V=>L(w,V)),tt("blur",ce,B),Ct(un,()=>u(_),V=>L(_,V)),tt("blur",un,G),Ct(hn,()=>u(E),V=>L(E,V)),tt("blur",hn,H),Ct(pn,()=>u(x),V=>L(x,V)),tt("blur",pn,Y),tt("click",lr,()=>z()),D(n,Q),jt()}var gg=K('<div class="message-container"><div class="message-box"><button class="close-button">&times;</button> <!></div></div>');function vg(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Zt,"$form",e);function s(o){o.key==="Escape"&&Zt.set("none")}Ae(()=>{window.addEventListener("keydown",s)}),al(()=>{window.removeEventListener("keydown",s)}),Ft();var i=Ot(),a=ot(i);dt(a,()=>r()!=="none",o=>{var c=gg(),f=S(c),d=S(f),p=k(d,2);dt(p,()=>r()==="login",h=>{Np(h,{})},h=>{var g=Ot(),m=ot(g);dt(m,()=>r()==="findaccount",y=>{Sp(y,{})},y=>{var w=Ot(),_=ot(w);dt(_,()=>r()==="register",E=>{Bp(E,{})},E=>{var x=Ot(),O=ot(x);dt(O,()=>r()==="myinfo",T=>{jp(T,{})},T=>{var M=Ot(),j=ot(M);dt(j,()=>r()==="changeemail",R=>{Fp(R,{})},R=>{var z=Ot(),W=ot(z);dt(W,()=>r()==="changepw",b=>{zp(b,{})},b=>{var C=Ot(),A=ot(C);dt(A,()=>r()==="deleteaccount",I=>{Gp(I,{})},I=>{var $=Ot(),P=ot($);dt(P,()=>r()==="recordcreate",q=>{Zp(q,{})},q=>{var B=Ot(),G=ot(B);dt(G,()=>r()==="recordok",H=>{tg(H,{})},H=>{var Y=Ot(),J=ot(Y);dt(J,()=>r()==="newevent",st=>{pg(st,{})},null,!0),D(H,Y)},!0),D(q,B)},!0),D(I,$)},!0),D(b,C)},!0),D(R,z)},!0),D(T,M)},!0),D(E,x)},!0),D(y,w)},!0),D(h,g)}),tt("click",d,()=>Zt.set("none")),D(o,c)}),D(n,i),jt()}var mg=K("<p>로딩 중...</p>"),bg=K("<p> </p>"),_g=K('<img class="ranksize svelte-15p3va8" src="/img/diamond.png" alt="10%">'),yg=K('<img class="ranksize svelte-15p3va8" src="/img/platinum.png" alt="25%">'),wg=K('<img class="ranksize svelte-15p3va8" src="/img/gold.png" alt="45%">'),Eg=K('<img class="ranksize svelte-15p3va8" src="/img/silver.png" alt="70%">'),xg=K('<img class="ranksize svelte-15p3va8" src="/img/bronze.png" alt="100%">'),Ag=K('<tr class="svelte-15p3va8"><td colspan="5" class="detail-row svelte-15p3va8"> <br> <br> <br> <br> <br></td></tr>'),Tg=K('<tr class="svelte-15p3va8"><td class="svelte-15p3va8"><!></td><td class="svelte-15p3va8"> </td><td class="svelte-15p3va8"> </td><td class="svelte-15p3va8"> </td></tr> <!>',1),Ng=K('<table class="rank-table svelte-15p3va8"><thead><tr class="svelte-15p3va8"><th class="svelte-15p3va8">등급</th><th class="svelte-15p3va8">닉네임</th><th class="svelte-15p3va8">승률</th><th class="svelte-15p3va8">점수</th></tr></thead><tbody></tbody></table>'),kg=K('<div class="table-outline"><!></div>');function Sg(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e),s=()=>_t(ve,"$myaccount",e);let i=Z([]),a=Z(!0),o=Z(null),c=null,f=Z([]);async function d(){let m,y=1,w=1,_=r()?"/rank/m-user":"/rank/b-user";try{const E=await fetch(_);if(!E.ok)throw new Error("연결 에러입니다");L(i,await E.json()),u(i).sort((x,O)=>O.TScore-x.TScore),m=u(i).length||1;for(let x=0;x<u(i).length;x++)u(i)[x].wins+u(i)[x].loses!==0?(x>0&&u(i)[x].TScore===u(i)[x-1].TScore?hr(i,u(i)[x].rank=y):(hr(i,u(i)[x].rank=w),y=w),w++):hr(i,u(i)[x].rank=m),s()===u(i)[x].nickname&&(c=u(i)[x].rank)}catch(E){L(o,E)}finally{L(a,!1)}}function p(m){hr(f,u(f)[m]=!u(f)[m]),L(f,[...u(f)])}Ae(()=>{const m=Bs.subscribe(y=>{d()});return()=>{m()}}),Ft();var h=kg();Hu(m=>{el.title="mpk 랭킹"});var g=S(h);dt(g,()=>u(a),m=>{var y=mg();D(m,y)},m=>{var y=Ot(),w=ot(y);dt(w,()=>u(o),_=>{var E=bg(),x=S(E);et(()=>X(x,`Error: ${u(o).message??""}`)),D(_,E)},_=>{var E=Ng(),x=k(S(E));Rt(x,5,()=>u(i),It,(O,T,M)=>{var j=Tg(),R=ot(j),z=S(R),W=S(z);dt(W,()=>u(T).rank/u(i).length<=.1,B=>{var G=_g();D(B,G)},B=>{var G=Ot(),H=ot(G);dt(H,()=>u(T).rank/u(i).length<=.25,Y=>{var J=yg();D(Y,J)},Y=>{var J=Ot(),st=ot(J);dt(st,()=>u(T).rank/u(i).length<=.45,ct=>{var Q=wg();D(ct,Q)},ct=>{var Q=Ot(),mt=ot(Q);dt(mt,()=>u(T).rank/u(i).length<=.7,yt=>{var lt=Eg();D(yt,lt)},yt=>{var lt=xg();D(yt,lt)},!0),D(ct,Q)},!0),D(Y,J)},!0),D(B,G)});var b=k(z),C=S(b);et(()=>X(C,u(T).nickname.replace("_m","")));var A=k(b),I=S(A);et(()=>X(I,u(T).wins+u(T).losses>0?Math.round(1e4*(u(T).wins/(u(T).wins+u(T).losses)))/100:0));var $=k(A),P=S($);et(()=>X(P,Math.round(u(T).TScore*100)/100));var q=k(R,2);dt(q,()=>u(f)[M],B=>{var G=Ag(),H=S(G),Y=S(H);et(()=>X(Y,`대전점수: ${Math.round(u(T).BScore*100)/100}`));var J=k(Y,2),st=k(J,2),ct=k(st,2);et(()=>X(ct,` Elo: ${Math.round(u(T).Elo*100)/100}`));var Q=k(ct,2);et(()=>{X(J,` 대회점수: ${u(T).LScore??""}`),X(st,` 순위: ${u(T).rank??""}`),X(Q,` ${u(T).wins??""} 승 / ${u(T).losses??""} 패`)}),D(B,G)}),tt("click",R,()=>p(M)),D(O,j)}),D(_,E)},!0),D(m,y)}),D(n,h),jt()}var Og=K("<option> </option>"),Lg=K("<p>로딩 중...</p>"),Cg=K("<p></p>"),qg=K('<th class="svelte-13ak1b3">관리</th>'),$g=K('<td class="svelte-13ak1b3"><button class="simple-button small svelte-13ak1b3">삭제</button></td>'),Ig=K('<tr class="svelte-13ak1b3"><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><!></tr>'),Rg=K('<button class="simple-button">처음</button> <button class="simple-button">이전</button>',1),Dg=K("<button> </button>"),Pg=K('<button class="simple-button">다음</button> <button class="simple-button">마지막</button>',1),Bg=K('<table class="data-table svelte-13ak1b3"><thead><tr class="svelte-13ak1b3"><th class="svelte-13ak1b3">번호</th><th class="svelte-13ak1b3">승자</th><th class="svelte-13ak1b3">패자</th><th class="svelte-13ak1b3">날짜</th><!></tr></thead><tbody></tbody></table> <div class="pagination"><!> <!> <!></div>',1),Mg=K('<div class="fixed-button-div"><button class="simple-button">기록하기</button> <button class="simple-button">승인하기</button></div>'),jg=K('<div class="filter svelte-13ak1b3"><input list="nicknames_filter" class="input-text" placeholder="필터 선택"> <datalist id="nicknames_filter"><option>모두 보기</option><!></datalist></div> <div class="table-outline"><!> <!></div>',1);function Ug(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e),s=()=>_t(Ms,"$nicknames",e),i=()=>_t(ve,"$myaccount",e),a=Z(),o=Z();let c=[],f=Z(!0),d=null,p=Z(1);const h=10;let g=Z("All"),m=Z([]),y=Z([]);async function w(){const q=r()?"/record/data?mode=true":"/record/data?mode=false";try{await ll(r());const B=await Gt(q,"GET");if(!B.ok)throw new Error("연결 에러입니다");c=await B.json(),L(m,E(c)),x()}catch{alert("서버 오류가 발생하여 자료를 불러올 수 없습니다")}finally{L(f,!1)}}Ae(()=>{const q=Bs.subscribe(()=>{w()});return()=>{q()}});function _(q){L(p,q),x()}function E(q){return u(g)==="All"?q:q.filter(B=>B.winner&&B.loser&&(B.winner.replace("_m","")===u(g)||B.loser.replace("_m","")===u(g)))}function x(){const q=(u(p)-1)*h,B=q+h;L(y,u(m).slice(q,B))}function O(q){const B=q.target;L(g,M(B.value,s())||"All"),L(p,1),L(m,E(c)),x()}function T(q,B){const H=[];let Y=Math.max(q-Math.floor(2.5),1),J=Y+5-1;J>B&&(J=B,Y=Math.max(J-5+1,1));for(let st=Y;st<=J;st++)H.push(st);return H}function M(q,B){return B.includes(q)?q:"All"}async function j(q){const B={OrderNum:q,mode:r()};try{const G=await Gt("/record/delete","DELETE",B);G.status===200?(alert("삭제 완료하였습니다"),w()):alert(`오류 발생: ${G.status}`)}catch(G){alert(`오류 발생: ${G instanceof Error?G.message:"알 수 없는 오류"}`)}}Vt(()=>u(m),()=>{L(a,Math.ceil(u(m).length/h))}),Vt(()=>(u(p),u(a)),()=>{L(o,T(u(p),u(a)))}),Nn(),Ft();var R=jg(),z=ot(R),W=S(z),b=k(W,2),C=S(b);C.value=(C.__value="All")==null?"":"All";var A=k(C);Rt(A,1,()=>s().map(q=>q.replace("_m","")),It,(q,B)=>{var G=Og(),H={},Y=S(G);et(()=>{H!==(H=u(B))&&(G.value=(G.__value=u(B))==null?"":u(B)),X(Y,u(B))}),D(q,G)});var I=k(z,2),$=S(I);dt($,()=>u(f),q=>{var B=Lg();D(q,B)},q=>{var B=Ot(),G=ot(B);dt(G,()=>d,H=>{var Y=Cg();Y.textContent="Error: ",D(H,Y)},H=>{var Y=Bg(),J=ot(Y),st=S(J),ct=S(st),Q=k(S(ct),4);dt(Q,()=>i()==="admin_m"||i()==="admin",vt=>{var ht=qg();D(vt,ht)});var mt=k(st);Rt(mt,5,()=>u(y),It,(vt,ht)=>{let gt=()=>u(ht).orderNum,At=()=>u(ht).winner,Pt=()=>u(ht).loser,qt=()=>u(ht).date;var kt=Ig(),Wt=S(kt),be=S(Wt),Jt=k(Wt),_e=S(Jt);et(()=>X(_e,At().replace("_m","")));var ye=k(Jt),Te=S(ye);et(()=>X(Te,Pt().replace("_m","")));var ee=k(ye),le=S(ee),on=k(ee);dt(on,()=>i()==="admin_m"||i()==="admin",se=>{var Ne=$g(),De=S(Ne);tt("click",De,()=>j(gt())),D(se,Ne)}),et(()=>{X(be,gt()),X(le,qt())}),D(vt,kt)});var yt=k(J,2),lt=S(yt);dt(lt,()=>u(p)>1,vt=>{var ht=Rg(),gt=ot(ht),At=k(gt,2);tt("click",gt,()=>_(1)),tt("click",At,()=>_(u(p)-1)),D(vt,ht)});var wt=k(lt,2);Rt(wt,1,()=>u(o),It,(vt,ht)=>{var gt=Dg(),At=S(gt);et(()=>{ne(gt,u(ht)===u(p)?"emphasis-button":"simple-button"),X(At,u(ht))}),tt("click",gt,()=>_(u(ht))),D(vt,gt)});var bt=k(wt,2);dt(bt,()=>u(p)<u(a),vt=>{var ht=Pg(),gt=ot(ht),At=k(gt,2);tt("click",gt,()=>_(u(p)+1)),tt("click",At,()=>_(u(a))),D(vt,ht)}),D(H,Y)},!0),D(q,B)});var P=k($,2);dt(P,()=>i()!=""&&i()!="admin_m"&&i()!="admin",q=>{var B=Mg(),G=S(B),H=k(G,2);tt("click",G,()=>Zt.set("recordcreate")),tt("click",H,()=>Zt.set("recordok")),D(q,B)}),Ct(W,()=>u(g),q=>L(g,q)),tt("blur",W,O),D(n,R),jt()}var Fg=K("<p>로딩 중...</p>"),Hg=K("<p> </p>"),zg=K('<button class="simple-button small svelte-1e5ti12">승인</button> <button class="simple-button small svelte-1e5ti12">삭제</button>',1),Kg=K('<button class="simple-button small svelte-1e5ti12">삭제</button>'),Gg=K('<tr class="svelte-1e5ti12"><td colspan="4" class="svelte-1e5ti12"><div class="details svelte-1e5ti12"><strong>토너먼트 정보</strong><br> <br> <br> <br> </div></td></tr>'),Vg=K('<tr class="svelte-1e5ti12"><td class="svelte-1e5ti12"> </td><td class="svelte-1e5ti12"><!></td><td class="svelte-1e5ti12"> </td><td class="svelte-1e5ti12"><!></td></tr> <!>',1),Wg=K('<table class="svelte-1e5ti12"><thead><tr class="svelte-1e5ti12"><th class="svelte-1e5ti12">대회명</th><th class="svelte-1e5ti12">규모</th><th class="svelte-1e5ti12">우승자</th><th class="svelte-1e5ti12">승인</th></tr></thead><tbody></tbody></table>'),Zg=K('<div class="fixed-button-div"><button class="simple-button">등록하기</button></div>'),Yg=K('<div class="table-container"><!></div> <!>',1);function Jg(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(ve,"$myaccount",e);let s=Z([]),i=Z(!0),a=Z(null),o=Z([]);async function c(_){try{const x=await Gt("/event/m-user/cancel","DELETE",u(s)[_]);x&&x.ok&&alert("토너먼트 히스토리를 삭제하고 점수를 초기화하였습니다")}catch(E){alert("에러가 발생하였습니다: "+E)}finally{p()}}async function f(_){try{const x=await Gt("/event/m-user/accept","POST",u(s)[_]);x&&x.status===201&&alert("토너먼트 히스토리를 승인하였습니다")}catch(E){alert("에러가 발생하였습니다: "+E)}finally{p()}}async function d(_){try{const E="/event/m-user/delete",x={eventname:u(s)[_].eventname},O=await Gt(E,"DELETE",x);O&&O.status===200&&alert("토너먼트 히스토리를 삭제하였습니다")}catch(E){alert("에러가 발생하였습니다: "+E)}finally{p()}}async function p(){try{const _=await fetch("/event/m-user/history");if(!_.ok)throw new Error("연결 에러입니다");L(s,await _.json()),L(s,u(s).map(E=>({...E,ok:E.accept===1?"대기":E.accept===2?"승인":E.ok}))),L(o,new Array(u(s).length).fill(!1))}catch(_){L(a,_)}finally{L(i,!1)}}Ae(()=>{const _=Bs.subscribe(()=>{p()});return()=>{_()}});function h(_){L(o,[...u(o)]),hr(o,u(o)[_]=!u(o)[_])}Ft();var g=Yg();Hu(_=>{el.title="mpk 토너먼트 기록하기"});var m=ot(g),y=S(m);dt(y,()=>u(i),_=>{var E=Fg();D(_,E)},_=>{var E=Ot(),x=ot(E);dt(x,()=>u(a),O=>{var T=Hg(),M=S(T);et(()=>X(M,`Error: ${u(a)??""}`)),D(O,T)},O=>{var T=Wg(),M=k(S(T));Rt(M,5,()=>u(s),It,(j,R,z)=>{var W=Vg(),b=ot(W),C=S(b),A=S(C),I=k(C),$=S(I);dt($,()=>u(R).numberteams===24,Y=>{var J=Fe("정식전");D(Y,J)},Y=>{var J=Fe();et(()=>X(J,`${u(R).numberteams??""}x${u(R).teamSize??""}`)),D(Y,J)});var P=k(I),q=S(P);et(()=>X(q,u(R).Championship1.replace("_m","")));var B=k(P),G=S(B);dt(G,()=>r()==="admin"||r()==="admin_m",Y=>{var J=Ot(),st=ot(J);dt(st,()=>u(R).ok==="대기",ct=>{var Q=zg(),mt=ot(Q),yt=k(mt,2);tt("click",mt,()=>f(z)),tt("click",yt,()=>d(z)),D(ct,Q)},ct=>{var Q=Kg();tt("click",Q,()=>c(z)),D(ct,Q)}),D(Y,J)},Y=>{var J=Fe();et(()=>X(J,u(R).ok)),D(Y,J)});var H=k(b,2);dt(H,()=>u(o)[z],Y=>{var J=Gg(),st=S(J),ct=S(st),Q=k(S(ct),2);et(()=>X(Q,` 주최자: ${u(R).Eventhost.replace("_m","")??""}`));const mt=re(()=>(u(R).Championship1?u(R).Championship1.replace("_m",""):"")??""),yt=re(()=>(u(R).Championship2?u(R).Championship2.replace("_m",""):"")??""),lt=re(()=>(u(R).Championship3?u(R).Championship3.replace("_m",""):"")??""),wt=re(()=>(u(R).Championship4?u(R).Championship4.replace("_m",""):"")??"");var bt=k(Q,2);et(()=>X(bt,` 우승: ${u(mt)}
                    ${u(yt)}
                    ${u(lt)}
                    ${u(wt)}`));const vt=re(()=>(u(R).Runner_up1?u(R).Runner_up1.replace("_m",""):"")??""),ht=re(()=>(u(R).Runner_up2?u(R).Runner_up2.replace("_m",""):"")??""),gt=re(()=>(u(R).Runner_up3?u(R).Runner_up3.replace("_m",""):"")??""),At=re(()=>(u(R).Runner_up4?u(R).Runner_up4.replace("_m",""):"")??"");var Pt=k(bt,2);et(()=>X(Pt,` 준우승: ${u(vt)}
                    ${u(ht)}
                    ${u(gt)}
                    ${u(At)}`));const qt=re(()=>(u(R).Place3rd1?u(R).Place3rd1.replace("_m",""):"")??""),kt=re(()=>(u(R).Place3rd2?u(R).Place3rd2.replace("_m",""):"")??""),Wt=re(()=>(u(R).Place3rd3?u(R).Place3rd3.replace("_m",""):"")??""),be=re(()=>(u(R).Place3rd4?u(R).Place3rd4.replace("_m",""):"")??"");var Jt=k(Pt,2);et(()=>X(Jt,` 3위: ${u(qt)}
                    ${u(kt)}
                    ${u(Wt)}
                    ${u(be)}`)),D(Y,J)}),et(()=>X(A,u(R).eventname)),tt("click",b,()=>h(z)),D(j,W)}),D(O,T)},!0),D(_,E)});var w=k(m,2);dt(w,r,_=>{var E=Zg(),x=S(E);tt("click",x,()=>Zt.set("newevent")),D(_,E)}),D(n,g),jt()}var Xg=K('<div class="fixed-button-div"><!></div>'),Qg=K('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m">로딩 중...</td></tr>'),tv=K('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),ev=K('<tr class="svelte-1puu09m"><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"> </td><td class="svelte-1puu09m"> </td></tr>'),nv=K('<button class="simple-button">이전</button>'),rv=K('<button class="simple-button">다음</button>'),sv=K('<!> <select class="input-text svelte-1puu09m"><option>모든 글 보기</option><option>자유 글 보기</option><option>거래 글 보기</option><option>공략 글 보기</option></select> <input class="input-text svelte-1puu09m" type="text"> <button class="simple-button small svelte-1puu09m">검색</button> <table class="svelte-1puu09m"><thead><tr class="svelte-1puu09m"><th class="table-head_board_date svelte-1puu09m">날짜</th><th class="table-head_board_title svelte-1puu09m">제목</th><th class="table-head_board_writter svelte-1puu09m">작성자</th><th class="table-head_board_views svelte-1puu09m">조회수</th></tr></thead><tbody><!></tbody></table> <div class="pagination svelte-1puu09m"><!> <!></div>',1);function iv(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Xl,"$category",e),s=()=>_t(Jl,"$page",e),i=()=>_t(Kt,"$mode",e),a=()=>_t(ve,"$myaccount",e);let o=Z(null),c=Z(!0),f=Z(null),d=Z([]);Ae(()=>{m(r())});function p(I){Jl.set(s()+I),m(r())}const h=i()?"/mpk":"/babapk";async function g(I){try{const $=`/board/search?data=${I}&find=${u(o)}`,P=await fetch($);if(!P.ok)throw new Error("Network response was not ok");const q=await P.json();q.length===0?L(d,[{post_id:"-",date:"-",title:"검색 결과가 없습니다",writter:"-",views:0}]):L(d,q.map(B=>({...B,date:Zr(B.date)}))),L(c,!1)}catch($){console.error("Error:",$),L(f,$ instanceof Error?$.message:String($))}}async function m(I){try{const $=`/board/list?data=${I}&page=${s()}`,P=await fetch($);if(!P.ok)throw new Error("Network response was not ok");const q=await P.json();L(d,q.map(B=>({...B,date:Zr(B.date)}))),L(c,!1),L(o,"")}catch($){console.error("Error:",$),L(f,$ instanceof Error?$.message:String($))}}Ft();var y=sv(),w=ot(y);dt(w,a,I=>{var $=Xg(),P=S($);pr(P,{to:`${h}/write`,class:"simple-button",children:(q,B)=>{var G=Fe("작성하기");D(q,G)},$$slots:{default:!0}}),D(I,$)});var _=k(w,2);et(()=>{r(),Fi(()=>{})});var E=S(_);E.value=(E.__value="all")==null?"":"all";var x=k(E);x.value=(x.__value="free")==null?"":"free";var O=k(x);O.value=(O.__value="trade")==null?"":"trade";var T=k(O);T.value=(T.__value="setting")==null?"":"setting";var M=k(_,2),j=k(M,2),R=k(j,2),z=k(S(R)),W=S(z);dt(W,()=>u(c),I=>{var $=Qg();D(I,$)},I=>{var $=Ot(),P=ot($);dt(P,()=>u(f),q=>{var B=tv(),G=S(B),H=S(G);et(()=>X(H,`Error: ${u(f)??""}`)),D(q,B)},q=>{var B=Ot(),G=ot(B);Rt(G,1,()=>u(d),It,(H,Y)=>{let J=()=>u(Y).post_id,st=()=>u(Y).date,ct=()=>u(Y).title,Q=()=>u(Y).writter,mt=()=>u(Y).views;var yt=ev(),lt=S(yt),wt=S(lt);dt(wt,()=>st()===Zr(String(new Date)),qt=>{var kt=Fe("new");D(qt,kt)},qt=>{var kt=Fe();et(()=>X(kt,st())),D(qt,kt)});var bt=k(lt),vt=S(bt);pr(vt,{get to(){return`${h??""}/post/${J()??""}`},class:"fontBasic",children:(qt,kt)=>{var Wt=Fe();et(()=>X(Wt,ct())),D(qt,Wt)},$$slots:{default:!0}});var ht=k(bt),gt=S(ht),At=k(ht),Pt=S(At);et(()=>{X(gt,Q()),X(Pt,mt())}),D(H,yt)}),D(q,B)},!0),D(I,$)});var b=k(R,2),C=S(b);dt(C,()=>s()!=1,I=>{var $=nv();tt("click",$,()=>p(-1)),D(I,$)});var A=k(C,2);dt(A,()=>u(d).length===20,I=>{var $=rv();tt("click",$,()=>p(1)),D(I,$)}),zi(_,r,I=>Wu(Xl,I)),tt("change",_,()=>m(r())),Ct(M,()=>u(o),I=>L(o,I)),tt("click",j,()=>g(r())),D(n,y),jt()}var av=K('<div class="text-center">Loading...</div>'),ov=K('<div class="text-center"> </div>'),lv=K('<button class="simple-button">수정하기</button>'),cv=K('<button class="simple-button">삭제하기</button>'),uv=K('<button class="simple-button small svelte-1s9ldo5">삭제</button>'),fv=K('<tr class="svelte-1s9ldo5"><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"><!></td></tr>'),hv=K('<div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-comment table-contents_cell"><input class="input-text svelte-1s9ldo5" type="text"> <button class="simple-button small svelte-1s9ldo5">댓글 작성</button></div></div></div>'),dv=K('<div class="table-outline main_data svelte-1s9ldo5"><div class="table-head table-title fontBasic svelte-1s9ldo5"> </div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-info-no-line flex"><div class="table-info-writter table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-date table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-date table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-views table-contents_cell svelte-1s9ldo5"> </div></div></div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-content fontBasic svelte-1s9ldo5"><!></div></div></div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-button svelte-1s9ldo5"><!> <!> <!></div></div></div></div> <table class="comment-table svelte-1s9ldo5"><thead><tr class="svelte-1s9ldo5"><th class="svelte-1s9ldo5">작성자</th><th class="svelte-1s9ldo5">내용</th><th class="svelte-1s9ldo5">작성일</th><th class="svelte-1s9ldo5">관리</th></tr></thead><tbody></tbody></table> <!>',1),pv=K('<div class="margin svelte-1s9ldo5"></div> <!>',1);function gv(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e),s=()=>_t(ve,"$myaccount",e),i=Z();let a=Z(""),o=Z({}),c=Z(""),f=Z([]),d=Z("");const p=r()?"/mpk":"/babapk";async function h(T){try{console.log(`Fetching post with ID: ${T}`);const M=await fetch(`/board/post?post_id=${T}`);if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const j=await M.json();console.log("Fetched data:",j),L(o,{...j}),L(i,!1),console.log("Loading state after fetch:",u(i))}catch(M){console.error(`Error fetching post: ${M}`),L(i,!1),L(c,`네트워크 오류: ${M.message}`)}}async function g(T){try{const M=await fetch(`/board/comments?post_id=${T}`);L(f,await M.json())}catch(M){console.error("댓글 가져오기 오류:",M)}}function m(T){const M=T.match(/\/post\/(\d+)$/);return M?M[1]:null}Ae(()=>{const T=m(window.location.pathname);console.log("Extracted ID:",T),L(a,T??""),u(a)?(h(u(a)),g(u(a))):(L(i,!1),L(c,"잘못된 주소입니다"))});async function y(T){const M={post_id:T,content:u(d),writter:s()};try{(await Gt("/board/comment/add","POST",M)).ok&&(alert("댓글을 등록하였습니다"),L(d,""),g(T))}catch(j){console.error("댓글 작성 오류:",j)}}async function w(T,M){const j={comment_id:M};try{(await Gt("/board/comment/delete","DELETE",j)).ok&&(alert("댓글을 삭제하였습니다"),g(T))}catch(R){console.error("댓글 삭제 오류:",R)}}function _(){Wu(No,u(a)),ts(`${p}/write`)}async function E(T){const M={post_id:T};try{(await Gt("/board/delete","DELETE",M)).ok&&(alert("글을 삭제하였습니다"),ts(`${p}/boardlist`))}catch(j){console.error("글 삭제 오류:",j)}}Vt(()=>{},()=>{L(i,!0)}),Nn(),Ft();var x=pv(),O=k(ot(x),2);dt(O,()=>u(i),T=>{var M=av();D(T,M)},T=>{var M=Ot(),j=ot(M);dt(j,()=>u(c),R=>{var z=ov(),W=S(z);et(()=>X(W,`Error: ${u(c)??""}`)),D(R,z)},R=>{var z=dv(),W=ot(z),b=S(W),C=S(b),A=k(b,2),I=S(A),$=S(I),P=S($),q=k($,2),B=S(q);et(()=>X(B,`작성일 : ${(Zr(u(o).createdAt)||"")??""}`));var G=k(q,2),H=S(G);et(()=>X(H,`수정일 : ${(Zr(u(o).updatedAt)||"")??""}`));var Y=k(G,2),J=S(Y),st=k(A,2),ct=S(st),Q=S(ct),mt=S(Q);Eo(mt,()=>u(o).content);var yt=k(st,2),lt=S(yt),wt=S(lt),bt=S(wt);dt(bt,()=>u(o).nickname===s(),qt=>{var kt=lv();tt("click",kt,_),D(qt,kt)});var vt=k(bt,2);dt(vt,()=>s()==="admin"||s()==="admin_m"||u(o).writter===ve,qt=>{var kt=cv();tt("click",kt,()=>E(u(a))),D(qt,kt)});var ht=k(vt,2);pr(ht,{class:"simple-button",to:`${p}/boardlist`,children:(qt,kt)=>{var Wt=Fe("목록보기");D(qt,Wt)},$$slots:{default:!0}});var gt=k(W,2),At=k(S(gt));Rt(At,5,()=>u(f),It,(qt,kt)=>{let Wt=()=>u(kt).nickname,be=()=>u(kt).content,Jt=()=>u(kt).createdAt,_e=()=>u(kt).commentId;var ye=fv(),Te=S(ye),ee=S(Te),le=k(Te),on=S(le),se=k(le),Ne=S(se);et(()=>X(Ne,Zr(Jt())));var De=k(se),Xt=S(De);dt(Xt,()=>Wt()===s()||s()==="admin"||s()==="admin_m",Sn=>{var Pe=uv();tt("click",Pe,()=>w(u(a),_e())),D(Sn,Pe)}),et(()=>{X(ee,Wt()),X(on,be())}),D(qt,ye)});var Pt=k(gt,2);dt(Pt,s,qt=>{var kt=hv(),Wt=S(kt),be=S(Wt),Jt=S(be),_e=k(Jt,2);Ct(Jt,()=>u(d),ye=>L(d,ye)),tt("click",_e,()=>y(u(a))),D(qt,kt)}),et(()=>{X(C,u(o).title||""),X(P,u(o).nickname||""),X(J,`조회수 : ${(u(o).views||"")??""}`)}),D(R,z)},!0),D(T,M)}),D(n,x),jt()}var Xu=typeof global=="object"&&global&&global.Object===Object&&global,vv=typeof self=="object"&&self&&self.Object===Object&&self,kn=Xu||vv||Function("return this")(),rr=kn.Symbol,Qu=Object.prototype,mv=Qu.hasOwnProperty,bv=Qu.toString,ws=rr?rr.toStringTag:void 0;function _v(n){var t=mv.call(n,ws),e=n[ws];try{n[ws]=void 0;var r=!0}catch{}var s=bv.call(n);return r&&(t?n[ws]=e:delete n[ws]),s}var yv=Object.prototype,wv=yv.toString;function Ev(n){return wv.call(n)}var xv="[object Null]",Av="[object Undefined]",tc=rr?rr.toStringTag:void 0;function ds(n){return n==null?n===void 0?Av:xv:tc&&tc in Object(n)?_v(n):Ev(n)}function Bn(n){return n!=null&&typeof n=="object"}var br=Array.isArray;function ar(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function tf(n){return n}var Tv="[object AsyncFunction]",Nv="[object Function]",kv="[object GeneratorFunction]",Sv="[object Proxy]";function cl(n){if(!ar(n))return!1;var t=ds(n);return t==Nv||t==kv||t==Tv||t==Sv}var eo=kn["__core-js_shared__"],ec=function(){var n=/[^.]+$/.exec(eo&&eo.keys&&eo.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Ov(n){return!!ec&&ec in n}var Lv=Function.prototype,Cv=Lv.toString;function Er(n){if(n!=null){try{return Cv.call(n)}catch{}try{return n+""}catch{}}return""}var qv=/[\\^$.*+?()[\]{}|]/g,$v=/^\[object .+?Constructor\]$/,Iv=Function.prototype,Rv=Object.prototype,Dv=Iv.toString,Pv=Rv.hasOwnProperty,Bv=RegExp("^"+Dv.call(Pv).replace(qv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mv(n){if(!ar(n)||Ov(n))return!1;var t=cl(n)?Bv:$v;return t.test(Er(n))}function jv(n,t){return n==null?void 0:n[t]}function xr(n,t){var e=jv(n,t);return Mv(e)?e:void 0}var ko=xr(kn,"WeakMap"),nc=Object.create,Uv=function(){function n(){}return function(t){if(!ar(t))return{};if(nc)return nc(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function Fv(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function ef(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var Hv=800,zv=16,Kv=Date.now;function Gv(n){var t=0,e=0;return function(){var r=Kv(),s=zv-(r-e);if(e=r,s>0){if(++t>=Hv)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Vv(n){return function(){return n}}var Vi=function(){try{var n=xr(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Wv=Vi?function(n,t){return Vi(n,"toString",{configurable:!0,enumerable:!1,value:Vv(t),writable:!0})}:tf,Zv=Gv(Wv);function Yv(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var Jv=9007199254740991,Xv=/^(?:0|[1-9]\d*)$/;function nf(n,t){var e=typeof n;return t=t??Jv,!!t&&(e=="number"||e!="symbol"&&Xv.test(n))&&n>-1&&n%1==0&&n<t}function ul(n,t,e){t=="__proto__"&&Vi?Vi(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function ti(n,t){return n===t||n!==n&&t!==t}var Qv=Object.prototype,t1=Qv.hasOwnProperty;function rf(n,t,e){var r=n[t];(!(t1.call(n,t)&&ti(r,e))||e===void 0&&!(t in n))&&ul(n,t,e)}function ei(n,t,e,r){var s=!e;e||(e={});for(var i=-1,a=t.length;++i<a;){var o=t[i],c=void 0;c===void 0&&(c=n[o]),s?ul(e,o,c):rf(e,o,c)}return e}var rc=Math.max;function e1(n,t,e){return t=rc(t===void 0?n.length-1:t,0),function(){for(var r=arguments,s=-1,i=rc(r.length-t,0),a=Array(i);++s<i;)a[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=e(a),Fv(n,this,o)}}function n1(n,t){return Zv(e1(n,t,tf),n+"")}var r1=9007199254740991;function sf(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r1}function sa(n){return n!=null&&sf(n.length)&&!cl(n)}function s1(n,t,e){if(!ar(e))return!1;var r=typeof t;return(r=="number"?sa(e)&&nf(t,e.length):r=="string"&&t in e)?ti(e[t],n):!1}function i1(n){return n1(function(t,e){var r=-1,s=e.length,i=s>1?e[s-1]:void 0,a=s>2?e[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,a&&s1(e[0],e[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var o=e[r];o&&n(t,o,r,i)}return t})}var a1=Object.prototype;function fl(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||a1;return n===e}function o1(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var l1="[object Arguments]";function sc(n){return Bn(n)&&ds(n)==l1}var af=Object.prototype,c1=af.hasOwnProperty,u1=af.propertyIsEnumerable,So=sc(function(){return arguments}())?sc:function(n){return Bn(n)&&c1.call(n,"callee")&&!u1.call(n,"callee")};function f1(){return!1}var of=typeof $e=="object"&&$e&&!$e.nodeType&&$e,ic=of&&typeof Ie=="object"&&Ie&&!Ie.nodeType&&Ie,h1=ic&&ic.exports===of,ac=h1?kn.Buffer:void 0,d1=ac?ac.isBuffer:void 0,js=d1||f1,p1="[object Arguments]",g1="[object Array]",v1="[object Boolean]",m1="[object Date]",b1="[object Error]",_1="[object Function]",y1="[object Map]",w1="[object Number]",E1="[object Object]",x1="[object RegExp]",A1="[object Set]",T1="[object String]",N1="[object WeakMap]",k1="[object ArrayBuffer]",S1="[object DataView]",O1="[object Float32Array]",L1="[object Float64Array]",C1="[object Int8Array]",q1="[object Int16Array]",$1="[object Int32Array]",I1="[object Uint8Array]",R1="[object Uint8ClampedArray]",D1="[object Uint16Array]",P1="[object Uint32Array]",zt={};zt[O1]=zt[L1]=zt[C1]=zt[q1]=zt[$1]=zt[I1]=zt[R1]=zt[D1]=zt[P1]=!0;zt[p1]=zt[g1]=zt[k1]=zt[v1]=zt[S1]=zt[m1]=zt[b1]=zt[_1]=zt[y1]=zt[w1]=zt[E1]=zt[x1]=zt[A1]=zt[T1]=zt[N1]=!1;function B1(n){return Bn(n)&&sf(n.length)&&!!zt[ds(n)]}function hl(n){return function(t){return n(t)}}var lf=typeof $e=="object"&&$e&&!$e.nodeType&&$e,Ss=lf&&typeof Ie=="object"&&Ie&&!Ie.nodeType&&Ie,M1=Ss&&Ss.exports===lf,no=M1&&Xu.process,ns=function(){try{var n=Ss&&Ss.require&&Ss.require("util").types;return n||no&&no.binding&&no.binding("util")}catch{}}(),oc=ns&&ns.isTypedArray,dl=oc?hl(oc):B1,j1=Object.prototype,U1=j1.hasOwnProperty;function cf(n,t){var e=br(n),r=!e&&So(n),s=!e&&!r&&js(n),i=!e&&!r&&!s&&dl(n),a=e||r||s||i,o=a?o1(n.length,String):[],c=o.length;for(var f in n)(t||U1.call(n,f))&&!(a&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||nf(f,c)))&&o.push(f);return o}function uf(n,t){return function(e){return n(t(e))}}var F1=uf(Object.keys,Object),H1=Object.prototype,z1=H1.hasOwnProperty;function K1(n){if(!fl(n))return F1(n);var t=[];for(var e in Object(n))z1.call(n,e)&&e!="constructor"&&t.push(e);return t}function pl(n){return sa(n)?cf(n):K1(n)}function G1(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var V1=Object.prototype,W1=V1.hasOwnProperty;function Z1(n){if(!ar(n))return G1(n);var t=fl(n),e=[];for(var r in n)r=="constructor"&&(t||!W1.call(n,r))||e.push(r);return e}function ni(n){return sa(n)?cf(n,!0):Z1(n)}var Us=xr(Object,"create");function Y1(){this.__data__=Us?Us(null):{},this.size=0}function J1(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var X1="__lodash_hash_undefined__",Q1=Object.prototype,tm=Q1.hasOwnProperty;function em(n){var t=this.__data__;if(Us){var e=t[n];return e===X1?void 0:e}return tm.call(t,n)?t[n]:void 0}var nm=Object.prototype,rm=nm.hasOwnProperty;function sm(n){var t=this.__data__;return Us?t[n]!==void 0:rm.call(t,n)}var im="__lodash_hash_undefined__";function am(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Us&&t===void 0?im:t,this}function _r(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}_r.prototype.clear=Y1;_r.prototype.delete=J1;_r.prototype.get=em;_r.prototype.has=sm;_r.prototype.set=am;function om(){this.__data__=[],this.size=0}function ia(n,t){for(var e=n.length;e--;)if(ti(n[e][0],t))return e;return-1}var lm=Array.prototype,cm=lm.splice;function um(n){var t=this.__data__,e=ia(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():cm.call(t,e,1),--this.size,!0}function fm(n){var t=this.__data__,e=ia(t,n);return e<0?void 0:t[e][1]}function hm(n){return ia(this.__data__,n)>-1}function dm(n,t){var e=this.__data__,r=ia(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}function Un(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Un.prototype.clear=om;Un.prototype.delete=um;Un.prototype.get=fm;Un.prototype.has=hm;Un.prototype.set=dm;var Fs=xr(kn,"Map");function pm(){this.size=0,this.__data__={hash:new _r,map:new(Fs||Un),string:new _r}}function gm(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function aa(n,t){var e=n.__data__;return gm(t)?e[typeof t=="string"?"string":"hash"]:e.map}function vm(n){var t=aa(this,n).delete(n);return this.size-=t?1:0,t}function mm(n){return aa(this,n).get(n)}function bm(n){return aa(this,n).has(n)}function _m(n,t){var e=aa(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}function Ar(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Ar.prototype.clear=pm;Ar.prototype.delete=vm;Ar.prototype.get=mm;Ar.prototype.has=bm;Ar.prototype.set=_m;function ff(n,t){for(var e=-1,r=t.length,s=n.length;++e<r;)n[s+e]=t[e];return n}var gl=uf(Object.getPrototypeOf,Object),ym="[object Object]",wm=Function.prototype,Em=Object.prototype,hf=wm.toString,xm=Em.hasOwnProperty,Am=hf.call(Object);function Tm(n){if(!Bn(n)||ds(n)!=ym)return!1;var t=gl(n);if(t===null)return!0;var e=xm.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&hf.call(e)==Am}function Nm(){this.__data__=new Un,this.size=0}function km(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function Sm(n){return this.__data__.get(n)}function Om(n){return this.__data__.has(n)}var Lm=200;function Cm(n,t){var e=this.__data__;if(e instanceof Un){var r=e.__data__;if(!Fs||r.length<Lm-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Ar(r)}return e.set(n,t),this.size=e.size,this}function En(n){var t=this.__data__=new Un(n);this.size=t.size}En.prototype.clear=Nm;En.prototype.delete=km;En.prototype.get=Sm;En.prototype.has=Om;En.prototype.set=Cm;function qm(n,t){return n&&ei(t,pl(t),n)}function $m(n,t){return n&&ei(t,ni(t),n)}var df=typeof $e=="object"&&$e&&!$e.nodeType&&$e,lc=df&&typeof Ie=="object"&&Ie&&!Ie.nodeType&&Ie,Im=lc&&lc.exports===df,cc=Im?kn.Buffer:void 0,uc=cc?cc.allocUnsafe:void 0;function pf(n,t){if(t)return n.slice();var e=n.length,r=uc?uc(e):new n.constructor(e);return n.copy(r),r}function Rm(n,t){for(var e=-1,r=n==null?0:n.length,s=0,i=[];++e<r;){var a=n[e];t(a,e,n)&&(i[s++]=a)}return i}function gf(){return[]}var Dm=Object.prototype,Pm=Dm.propertyIsEnumerable,fc=Object.getOwnPropertySymbols,vl=fc?function(n){return n==null?[]:(n=Object(n),Rm(fc(n),function(t){return Pm.call(n,t)}))}:gf;function Bm(n,t){return ei(n,vl(n),t)}var Mm=Object.getOwnPropertySymbols,vf=Mm?function(n){for(var t=[];n;)ff(t,vl(n)),n=gl(n);return t}:gf;function jm(n,t){return ei(n,vf(n),t)}function mf(n,t,e){var r=t(n);return br(n)?r:ff(r,e(n))}function Oo(n){return mf(n,pl,vl)}function Um(n){return mf(n,ni,vf)}var Lo=xr(kn,"DataView"),Co=xr(kn,"Promise"),qo=xr(kn,"Set"),hc="[object Map]",Fm="[object Object]",dc="[object Promise]",pc="[object Set]",gc="[object WeakMap]",vc="[object DataView]",Hm=Er(Lo),zm=Er(Fs),Km=Er(Co),Gm=Er(qo),Vm=Er(ko),Ze=ds;(Lo&&Ze(new Lo(new ArrayBuffer(1)))!=vc||Fs&&Ze(new Fs)!=hc||Co&&Ze(Co.resolve())!=dc||qo&&Ze(new qo)!=pc||ko&&Ze(new ko)!=gc)&&(Ze=function(n){var t=ds(n),e=t==Fm?n.constructor:void 0,r=e?Er(e):"";if(r)switch(r){case Hm:return vc;case zm:return hc;case Km:return dc;case Gm:return pc;case Vm:return gc}return t});var Wm=Object.prototype,Zm=Wm.hasOwnProperty;function Ym(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&Zm.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var Wi=kn.Uint8Array;function ml(n){var t=new n.constructor(n.byteLength);return new Wi(t).set(new Wi(n)),t}function Jm(n,t){var e=t?ml(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var Xm=/\w*$/;function Qm(n){var t=new n.constructor(n.source,Xm.exec(n));return t.lastIndex=n.lastIndex,t}var mc=rr?rr.prototype:void 0,bc=mc?mc.valueOf:void 0;function tb(n){return bc?Object(bc.call(n)):{}}function bf(n,t){var e=t?ml(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var eb="[object Boolean]",nb="[object Date]",rb="[object Map]",sb="[object Number]",ib="[object RegExp]",ab="[object Set]",ob="[object String]",lb="[object Symbol]",cb="[object ArrayBuffer]",ub="[object DataView]",fb="[object Float32Array]",hb="[object Float64Array]",db="[object Int8Array]",pb="[object Int16Array]",gb="[object Int32Array]",vb="[object Uint8Array]",mb="[object Uint8ClampedArray]",bb="[object Uint16Array]",_b="[object Uint32Array]";function yb(n,t,e){var r=n.constructor;switch(t){case cb:return ml(n);case eb:case nb:return new r(+n);case ub:return Jm(n,e);case fb:case hb:case db:case pb:case gb:case vb:case mb:case bb:case _b:return bf(n,e);case rb:return new r;case sb:case ob:return new r(n);case ib:return Qm(n);case ab:return new r;case lb:return tb(n)}}function _f(n){return typeof n.constructor=="function"&&!fl(n)?Uv(gl(n)):{}}var wb="[object Map]";function Eb(n){return Bn(n)&&Ze(n)==wb}var _c=ns&&ns.isMap,xb=_c?hl(_c):Eb,Ab="[object Set]";function Tb(n){return Bn(n)&&Ze(n)==Ab}var yc=ns&&ns.isSet,Nb=yc?hl(yc):Tb,kb=1,Sb=2,Ob=4,yf="[object Arguments]",Lb="[object Array]",Cb="[object Boolean]",qb="[object Date]",$b="[object Error]",wf="[object Function]",Ib="[object GeneratorFunction]",Rb="[object Map]",Db="[object Number]",Ef="[object Object]",Pb="[object RegExp]",Bb="[object Set]",Mb="[object String]",jb="[object Symbol]",Ub="[object WeakMap]",Fb="[object ArrayBuffer]",Hb="[object DataView]",zb="[object Float32Array]",Kb="[object Float64Array]",Gb="[object Int8Array]",Vb="[object Int16Array]",Wb="[object Int32Array]",Zb="[object Uint8Array]",Yb="[object Uint8ClampedArray]",Jb="[object Uint16Array]",Xb="[object Uint32Array]",Ut={};Ut[yf]=Ut[Lb]=Ut[Fb]=Ut[Hb]=Ut[Cb]=Ut[qb]=Ut[zb]=Ut[Kb]=Ut[Gb]=Ut[Vb]=Ut[Wb]=Ut[Rb]=Ut[Db]=Ut[Ef]=Ut[Pb]=Ut[Bb]=Ut[Mb]=Ut[jb]=Ut[Zb]=Ut[Yb]=Ut[Jb]=Ut[Xb]=!0;Ut[$b]=Ut[wf]=Ut[Ub]=!1;function Ii(n,t,e,r,s,i){var a,o=t&kb,c=t&Sb,f=t&Ob;if(a!==void 0)return a;if(!ar(n))return n;var d=br(n);if(d){if(a=Ym(n),!o)return ef(n,a)}else{var p=Ze(n),h=p==wf||p==Ib;if(js(n))return pf(n,o);if(p==Ef||p==yf||h&&!s){if(a=c||h?{}:_f(n),!o)return c?jm(n,$m(a,n)):Bm(n,qm(a,n))}else{if(!Ut[p])return s?n:{};a=yb(n,p,o)}}i||(i=new En);var g=i.get(n);if(g)return g;i.set(n,a),Nb(n)?n.forEach(function(w){a.add(Ii(w,t,e,w,n,i))}):xb(n)&&n.forEach(function(w,_){a.set(_,Ii(w,t,e,_,n,i))});var m=f?c?Um:Oo:c?ni:pl,y=d?void 0:m(n);return Yv(y||n,function(w,_){y&&(_=w,w=n[_]),rf(a,_,Ii(w,t,e,_,n,i))}),a}var Qb=1,t0=4;function Yr(n){return Ii(n,Qb|t0)}var e0="__lodash_hash_undefined__";function n0(n){return this.__data__.set(n,e0),this}function r0(n){return this.__data__.has(n)}function Zi(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new Ar;++t<e;)this.add(n[t])}Zi.prototype.add=Zi.prototype.push=n0;Zi.prototype.has=r0;function s0(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function i0(n,t){return n.has(t)}var a0=1,o0=2;function xf(n,t,e,r,s,i){var a=e&a0,o=n.length,c=t.length;if(o!=c&&!(a&&c>o))return!1;var f=i.get(n),d=i.get(t);if(f&&d)return f==t&&d==n;var p=-1,h=!0,g=e&o0?new Zi:void 0;for(i.set(n,t),i.set(t,n);++p<o;){var m=n[p],y=t[p];if(r)var w=a?r(y,m,p,t,n,i):r(m,y,p,n,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!s0(t,function(_,E){if(!i0(g,E)&&(m===_||s(m,_,e,r,i)))return g.push(E)})){h=!1;break}}else if(!(m===y||s(m,y,e,r,i))){h=!1;break}}return i.delete(n),i.delete(t),h}function l0(n){var t=-1,e=Array(n.size);return n.forEach(function(r,s){e[++t]=[s,r]}),e}function c0(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var u0=1,f0=2,h0="[object Boolean]",d0="[object Date]",p0="[object Error]",g0="[object Map]",v0="[object Number]",m0="[object RegExp]",b0="[object Set]",_0="[object String]",y0="[object Symbol]",w0="[object ArrayBuffer]",E0="[object DataView]",wc=rr?rr.prototype:void 0,ro=wc?wc.valueOf:void 0;function x0(n,t,e,r,s,i,a){switch(e){case E0:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case w0:return!(n.byteLength!=t.byteLength||!i(new Wi(n),new Wi(t)));case h0:case d0:case v0:return ti(+n,+t);case p0:return n.name==t.name&&n.message==t.message;case m0:case _0:return n==t+"";case g0:var o=l0;case b0:var c=r&u0;if(o||(o=c0),n.size!=t.size&&!c)return!1;var f=a.get(n);if(f)return f==t;r|=f0,a.set(n,t);var d=xf(o(n),o(t),r,s,i,a);return a.delete(n),d;case y0:if(ro)return ro.call(n)==ro.call(t)}return!1}var A0=1,T0=Object.prototype,N0=T0.hasOwnProperty;function k0(n,t,e,r,s,i){var a=e&A0,o=Oo(n),c=o.length,f=Oo(t),d=f.length;if(c!=d&&!a)return!1;for(var p=c;p--;){var h=o[p];if(!(a?h in t:N0.call(t,h)))return!1}var g=i.get(n),m=i.get(t);if(g&&m)return g==t&&m==n;var y=!0;i.set(n,t),i.set(t,n);for(var w=a;++p<c;){h=o[p];var _=n[h],E=t[h];if(r)var x=a?r(E,_,h,t,n,i):r(_,E,h,n,t,i);if(!(x===void 0?_===E||s(_,E,e,r,i):x)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var O=n.constructor,T=t.constructor;O!=T&&"constructor"in n&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(y=!1)}return i.delete(n),i.delete(t),y}var S0=1,Ec="[object Arguments]",xc="[object Array]",Ei="[object Object]",O0=Object.prototype,Ac=O0.hasOwnProperty;function L0(n,t,e,r,s,i){var a=br(n),o=br(t),c=a?xc:Ze(n),f=o?xc:Ze(t);c=c==Ec?Ei:c,f=f==Ec?Ei:f;var d=c==Ei,p=f==Ei,h=c==f;if(h&&js(n)){if(!js(t))return!1;a=!0,d=!1}if(h&&!d)return i||(i=new En),a||dl(n)?xf(n,t,e,r,s,i):x0(n,t,c,e,r,s,i);if(!(e&S0)){var g=d&&Ac.call(n,"__wrapped__"),m=p&&Ac.call(t,"__wrapped__");if(g||m){var y=g?n.value():n,w=m?t.value():t;return i||(i=new En),s(y,w,e,r,i)}}return h?(i||(i=new En),k0(n,t,e,r,s,i)):!1}function Af(n,t,e,r,s){return n===t?!0:n==null||t==null||!Bn(n)&&!Bn(t)?n!==n&&t!==t:L0(n,t,e,r,Af,s)}function C0(n){return function(t,e,r){for(var s=-1,i=Object(t),a=r(t),o=a.length;o--;){var c=a[++s];if(e(i[c],c,i)===!1)break}return t}}var q0=C0();function $o(n,t,e){(e!==void 0&&!ti(n[t],e)||e===void 0&&!(t in n))&&ul(n,t,e)}function $0(n){return Bn(n)&&sa(n)}function Io(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function I0(n){return ei(n,ni(n))}function R0(n,t,e,r,s,i,a){var o=Io(n,e),c=Io(t,e),f=a.get(c);if(f){$o(n,e,f);return}var d=i?i(o,c,e+"",n,t,a):void 0,p=d===void 0;if(p){var h=br(c),g=!h&&js(c),m=!h&&!g&&dl(c);d=c,h||g||m?br(o)?d=o:$0(o)?d=ef(o):g?(p=!1,d=pf(c,!0)):m?(p=!1,d=bf(c,!0)):d=[]:Tm(c)||So(c)?(d=o,So(o)?d=I0(o):(!ar(o)||cl(o))&&(d=_f(c))):p=!1}p&&(a.set(c,d),s(d,c,r,i,a),a.delete(c)),$o(n,e,d)}function Tf(n,t,e,r,s){n!==t&&q0(t,function(i,a){if(s||(s=new En),ar(i))R0(n,t,a,e,Tf,r,s);else{var o=r?r(Io(n,a),i,a+"",n,t,s):void 0;o===void 0&&(o=i),$o(n,a,o)}},ni)}function bl(n,t){return Af(n,t)}var er=i1(function(n,t,e){Tf(n,t,e)}),ft=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(ft||{});class An{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const s=ft.TYPE&ft.ATTRIBUTE;this.scope=r.scope!=null?r.scope&ft.LEVEL|s:ft.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Jr extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Nf=class Ro{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const s=this.query(e);if(s==null)throw new Jr(`Unable to create ${e} blot`);const i=s,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(r),o=new i(t,a,r);return Ro.blots.set(o.domNode,o),o}find(t,e=!1){return Ro.find(t,e)}query(t,e=ft.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&ft.LEVEL&ft.BLOCK?r=this.types.block:t&ft.LEVEL&ft.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&ft.LEVEL&r.scope&&e&ft.TYPE&r.scope?r:null}register(...t){return t.map(e=>{const r="blotName"in e,s="attrName"in e;if(!r&&!s)throw new Jr("Invalid definition");if(r&&e.blotName==="abstract")throw new Jr("Cannot register abstract class");const i=r?e.blotName:s?e.attrName:void 0;return this.types[i]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(a=>a.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(a=>{(this.tags[a]==null||e.className==null)&&(this.tags[a]=e)}))),e})}};Nf.blots=new WeakMap;let rs=Nf;function Tc(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class D0 extends An{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Tc(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Tc(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const rn=D0;function so(n){const t=n.split("-"),e=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+e}class P0 extends An{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[so(this.keyName)]=e,!0):!1}remove(t){t.style[so(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[so(this.keyName)];return this.canAdd(t,e)?e:""}}const or=P0;class B0{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=rs.find(this.domNode);if(t==null)return;const e=An.keys(this.domNode),r=rn.keys(this.domNode),s=or.keys(this.domNode);e.concat(r).concat(s).forEach(i=>{const a=t.scroll.query(i,ft.ATTRIBUTE);a instanceof An&&(this.attributes[a.attrName]=a)})}copy(t){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);t.format(e,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const oa=B0,kf=class{constructor(t,e){this.scroll=t,this.domNode=e,rs.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Jr("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?e=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?e=document.createElement(r):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),rs.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,s){const i=this.isolate(t,e);if(this.scroll.query(r,ft.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,ft.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);i.wrap(a),a.format(r,s)}}insertAt(t,e,r){const s=r==null?this.scroll.create("text",e):this.scroll.create(e,r),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,e){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Jr(`Cannot wrap ${t}`);return r.appendChild(this),r}};kf.blotName="abstract";let Sf=kf;const Of=class extends Sf{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Of.scope=ft.INLINE_BLOT;let M0=Of;const ge=M0;class j0{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),s=0;for(;r;){if(r===t)return s;s+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(t<i||e&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[s,i]=this.find(t);let a=t-i;const o=this.iterator(s);let c=o();for(;c&&a<t+e;){const f=c.length();t>a?r(c,t-a,Math.min(e,a+f-t)):r(c,0,Math.min(f,t+e-a)),a+=f,c=o()}}map(t){return this.reduce((e,r)=>(e.push(t(r)),e),[])}reduce(t,e){const r=this.iterator();let s=r();for(;s;)e=t(e,s),s=r();return e}}function Nc(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const r=t.create(ft.INLINE);return Array.from(n.childNodes).forEach(s=>{r.domNode.appendChild(s)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const Lf=class Kn extends Sf{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Kn.uiClass&&this.uiNode.classList.add(Kn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new j0,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Nc(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Jr)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(r,s,i)=>{r.deleteAt(s,i)})}descendant(t,e=0){const[r,s]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,s]:r instanceof Kn?r.descendant(t,s):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(e,r,(a,o,c)=>{(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&s.push(a),a instanceof Kn&&(s=s.concat(a.descendants(t,o,i))),i-=c}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(r=>e instanceof r)||(e.statics.scope===ft.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Kn?e.unwrap():e.remove())})}formatAt(t,e,r,s){this.children.forEachAt(t,e,(i,a,o)=>{i.formatAt(a,o,r,s)})}insertAt(t,e,r){const[s,i]=this.children.find(t);if(s)s.insertAt(i,e,r);else{const a=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(a)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(r=>{t.insertBefore(r,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,s]=this.children.find(t,e),i=[[this,t]];return r instanceof Kn?i.concat(r.path(s,e)):(r!=null&&i.push([r,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof Kn&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,a)=>{const o=s.split(i,e);o!=null&&r.appendChild(o)}),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(i);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,a)=>i===a?0:i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let a=null;i.nextSibling!=null&&(a=this.scroll.find(i.nextSibling));const o=Nc(i,this.scroll);(o.next!==a||o.next==null)&&(o.parent!=null&&o.parent.removeChild(this),this.insertBefore(o,a||void 0))}),this.enforceAllowedChildren()}};Lf.uiClass="";let U0=Lf;const Xe=U0;function F0(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const Br=class Mr extends Xe{static create(t){return super.create(t)}static formats(t,e){const r=e.query(Mr.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new oa(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(r=>{r instanceof Mr||(r=r.wrap(Mr.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,ft.INLINE);if(r==null)return;r instanceof An?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,s){this.formats()[r]!=null||this.scroll.query(r,ft.ATTRIBUTE)?this.isolate(t,e).format(r,s):super.formatAt(t,e,r,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof Mr&&r.prev===this&&F0(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof Mr&&this.attributes.move(r),r}};Br.allowedChildren=[Br,ge],Br.blotName="inline",Br.scope=ft.INLINE_BLOT,Br.tagName="SPAN";let H0=Br;const _l=H0,jr=class Do extends Xe{static create(t){return super.create(t)}static formats(t,e){const r=e.query(Do.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new oa(this.domNode)}format(t,e){const r=this.scroll.query(t,ft.BLOCK);r!=null&&(r instanceof An?this.attributes.attribute(r,e):t===this.statics.blotName&&!e?this.replaceWith(Do.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,s){this.scroll.query(r,ft.BLOCK)!=null?this.format(r,s):super.formatAt(t,e,r,s)}insertAt(t,e,r){if(r==null||this.scroll.query(e,ft.INLINE)!=null)super.insertAt(t,e,r);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(e,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};jr.blotName="block",jr.scope=ft.BLOCK_BLOT,jr.tagName="P",jr.allowedChildren=[_l,jr,ge];let z0=jr;const Hs=z0,Po=class extends Xe{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,s){super.formatAt(t,e,r,s),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Po.blotName="container",Po.scope=ft.BLOCK_BLOT;let K0=Po;const la=K0;class G0 extends ge{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,s){t===0&&e===this.length()?this.format(r,s):super.formatAt(t,e,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Re=G0,V0={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},W0=100,Ur=class extends Xe{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,V0),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=ft.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,e)}formatAt(t,e,r,s){this.update(),super.formatAt(t,e,r,s)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(c,f=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),f&&i(c.parent))},a=c=>{r.has(c.domNode)&&(c instanceof Xe&&c.children.forEach(a),r.delete(c.domNode),c.optimize(e))};let o=t;for(let c=0;o.length>0;c+=1){if(c>=W0)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(f=>{const d=this.find(f.target,!0);d!=null&&(d.domNode===f.target&&(f.type==="childList"?(i(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(p=>{const h=this.find(p,!1);i(h,!1),h instanceof Xe&&h.children.forEach(g=>{i(g,!1)})})):f.type==="attributes"&&i(d.prev)),i(d))}),this.children.forEach(a),o=Array.from(this.observer.takeRecords()),s=o.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}};Ur.blotName="scroll",Ur.defaultChild=Hs,Ur.allowedChildren=[Hs,la],Ur.scope=ft.BLOCK_BLOT,Ur.tagName="DIV";let Z0=Ur;const yl=Z0,Bo=class Cf extends ge{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Cf&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Bo.blotName="text",Bo.scope=ft.INLINE_BLOT;let Y0=Bo;const Yi=Y0,J0=Object.freeze(Object.defineProperty({__proto__:null,Attributor:An,AttributorStore:oa,BlockBlot:Hs,ClassAttributor:rn,ContainerBlot:la,EmbedBlot:Re,InlineBlot:_l,LeafBlot:ge,ParentBlot:Xe,Registry:rs,Scope:ft,ScrollBlot:yl,StyleAttributor:or,TextBlot:Yi},Symbol.toStringTag,{value:"Module"}));var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xi={exports:{}},io,kc;function X0(){if(kc)return io;kc=1;var n=-1,t=1,e=0;function r(b,C,A,I,$){if(b===C)return b?[[e,b]]:[];if(A!=null){var P=z(b,C,A);if(P)return P}var q=o(b,C),B=b.substring(0,q);b=b.substring(q),C=C.substring(q),q=f(b,C);var G=b.substring(b.length-q);b=b.substring(0,b.length-q),C=C.substring(0,C.length-q);var H=s(b,C);return B&&H.unshift([e,B]),G&&H.push([e,G]),E(H,$),I&&p(H),H}function s(b,C){var A;if(!b)return[[t,C]];if(!C)return[[n,b]];var I=b.length>C.length?b:C,$=b.length>C.length?C:b,P=I.indexOf($);if(P!==-1)return A=[[t,I.substring(0,P)],[e,$],[t,I.substring(P+$.length)]],b.length>C.length&&(A[0][0]=A[2][0]=n),A;if($.length===1)return[[n,b],[t,C]];var q=d(b,C);if(q){var B=q[0],G=q[1],H=q[2],Y=q[3],J=q[4],st=r(B,H),ct=r(G,Y);return st.concat([[e,J]],ct)}return i(b,C)}function i(b,C){for(var A=b.length,I=C.length,$=Math.ceil((A+I)/2),P=$,q=2*$,B=new Array(q),G=new Array(q),H=0;H<q;H++)B[H]=-1,G[H]=-1;B[P+1]=0,G[P+1]=0;for(var Y=A-I,J=Y%2!==0,st=0,ct=0,Q=0,mt=0,yt=0;yt<$;yt++){for(var lt=-yt+st;lt<=yt-ct;lt+=2){var wt=P+lt,bt;lt===-yt||lt!==yt&&B[wt-1]<B[wt+1]?bt=B[wt+1]:bt=B[wt-1]+1;for(var vt=bt-lt;bt<A&&vt<I&&b.charAt(bt)===C.charAt(vt);)bt++,vt++;if(B[wt]=bt,bt>A)ct+=2;else if(vt>I)st+=2;else if(J){var ht=P+Y-lt;if(ht>=0&&ht<q&&G[ht]!==-1){var gt=A-G[ht];if(bt>=gt)return a(b,C,bt,vt)}}}for(var At=-yt+Q;At<=yt-mt;At+=2){var ht=P+At,gt;At===-yt||At!==yt&&G[ht-1]<G[ht+1]?gt=G[ht+1]:gt=G[ht-1]+1;for(var Pt=gt-At;gt<A&&Pt<I&&b.charAt(A-gt-1)===C.charAt(I-Pt-1);)gt++,Pt++;if(G[ht]=gt,gt>A)mt+=2;else if(Pt>I)Q+=2;else if(!J){var wt=P+Y-At;if(wt>=0&&wt<q&&B[wt]!==-1){var bt=B[wt],vt=P+bt-wt;if(gt=A-gt,bt>=gt)return a(b,C,bt,vt)}}}}return[[n,b],[t,C]]}function a(b,C,A,I){var $=b.substring(0,A),P=C.substring(0,I),q=b.substring(A),B=C.substring(I),G=r($,P),H=r(q,B);return G.concat(H)}function o(b,C){if(!b||!C||b.charAt(0)!==C.charAt(0))return 0;for(var A=0,I=Math.min(b.length,C.length),$=I,P=0;A<$;)b.substring(P,$)==C.substring(P,$)?(A=$,P=A):I=$,$=Math.floor((I-A)/2+A);return x(b.charCodeAt($-1))&&$--,$}function c(b,C){var A=b.length,I=C.length;if(A==0||I==0)return 0;A>I?b=b.substring(A-I):A<I&&(C=C.substring(0,A));var $=Math.min(A,I);if(b==C)return $;for(var P=0,q=1;;){var B=b.substring($-q),G=C.indexOf(B);if(G==-1)return P;q+=G,(G==0||b.substring($-q)==C.substring(0,q))&&(P=q,q++)}}function f(b,C){if(!b||!C||b.slice(-1)!==C.slice(-1))return 0;for(var A=0,I=Math.min(b.length,C.length),$=I,P=0;A<$;)b.substring(b.length-$,b.length-P)==C.substring(C.length-$,C.length-P)?(A=$,P=A):I=$,$=Math.floor((I-A)/2+A);return O(b.charCodeAt(b.length-$))&&$--,$}function d(b,C){var A=b.length>C.length?b:C,I=b.length>C.length?C:b;if(A.length<4||I.length*2<A.length)return null;function $(ct,Q,mt){for(var yt=ct.substring(mt,mt+Math.floor(ct.length/4)),lt=-1,wt="",bt,vt,ht,gt;(lt=Q.indexOf(yt,lt+1))!==-1;){var At=o(ct.substring(mt),Q.substring(lt)),Pt=f(ct.substring(0,mt),Q.substring(0,lt));wt.length<Pt+At&&(wt=Q.substring(lt-Pt,lt)+Q.substring(lt,lt+At),bt=ct.substring(0,mt-Pt),vt=ct.substring(mt+At),ht=Q.substring(0,lt-Pt),gt=Q.substring(lt+At))}return wt.length*2>=ct.length?[bt,vt,ht,gt,wt]:null}var P=$(A,I,Math.ceil(A.length/4)),q=$(A,I,Math.ceil(A.length/2)),B;if(!P&&!q)return null;q?P?B=P[4].length>q[4].length?P:q:B=q:B=P;var G,H,Y,J;b.length>C.length?(G=B[0],H=B[1],Y=B[2],J=B[3]):(Y=B[0],J=B[1],G=B[2],H=B[3]);var st=B[4];return[G,H,Y,J,st]}function p(b){for(var C=!1,A=[],I=0,$=null,P=0,q=0,B=0,G=0,H=0;P<b.length;)b[P][0]==e?(A[I++]=P,q=G,B=H,G=0,H=0,$=b[P][1]):(b[P][0]==t?G+=b[P][1].length:H+=b[P][1].length,$&&$.length<=Math.max(q,B)&&$.length<=Math.max(G,H)&&(b.splice(A[I-1],0,[n,$]),b[A[I-1]+1][0]=t,I--,I--,P=I>0?A[I-1]:-1,q=0,B=0,G=0,H=0,$=null,C=!0)),P++;for(C&&E(b),_(b),P=1;P<b.length;){if(b[P-1][0]==n&&b[P][0]==t){var Y=b[P-1][1],J=b[P][1],st=c(Y,J),ct=c(J,Y);st>=ct?(st>=Y.length/2||st>=J.length/2)&&(b.splice(P,0,[e,J.substring(0,st)]),b[P-1][1]=Y.substring(0,Y.length-st),b[P+1][1]=J.substring(st),P++):(ct>=Y.length/2||ct>=J.length/2)&&(b.splice(P,0,[e,Y.substring(0,ct)]),b[P-1][0]=t,b[P-1][1]=J.substring(0,J.length-ct),b[P+1][0]=n,b[P+1][1]=Y.substring(ct),P++),P++}P++}}var h=/[^a-zA-Z0-9]/,g=/\s/,m=/[\r\n]/,y=/\n\r?\n$/,w=/^\r?\n\r?\n/;function _(b){function C(ct,Q){if(!ct||!Q)return 6;var mt=ct.charAt(ct.length-1),yt=Q.charAt(0),lt=mt.match(h),wt=yt.match(h),bt=lt&&mt.match(g),vt=wt&&yt.match(g),ht=bt&&mt.match(m),gt=vt&&yt.match(m),At=ht&&ct.match(y),Pt=gt&&Q.match(w);return At||Pt?5:ht||gt?4:lt&&!bt&&vt?3:bt||vt?2:lt||wt?1:0}for(var A=1;A<b.length-1;){if(b[A-1][0]==e&&b[A+1][0]==e){var I=b[A-1][1],$=b[A][1],P=b[A+1][1],q=f(I,$);if(q){var B=$.substring($.length-q);I=I.substring(0,I.length-q),$=B+$.substring(0,$.length-q),P=B+P}for(var G=I,H=$,Y=P,J=C(I,$)+C($,P);$.charAt(0)===P.charAt(0);){I+=$.charAt(0),$=$.substring(1)+P.charAt(0),P=P.substring(1);var st=C(I,$)+C($,P);st>=J&&(J=st,G=I,H=$,Y=P)}b[A-1][1]!=G&&(G?b[A-1][1]=G:(b.splice(A-1,1),A--),b[A][1]=H,Y?b[A+1][1]=Y:(b.splice(A+1,1),A--))}A++}}function E(b,C){b.push([e,""]);for(var A=0,I=0,$=0,P="",q="",B;A<b.length;){if(A<b.length-1&&!b[A][1]){b.splice(A,1);continue}switch(b[A][0]){case t:$++,q+=b[A][1],A++;break;case n:I++,P+=b[A][1],A++;break;case e:var G=A-$-I-1;if(C){if(G>=0&&M(b[G][1])){var H=b[G][1].slice(-1);if(b[G][1]=b[G][1].slice(0,-1),P=H+P,q=H+q,!b[G][1]){b.splice(G,1),A--;var Y=G-1;b[Y]&&b[Y][0]===t&&($++,q=b[Y][1]+q,Y--),b[Y]&&b[Y][0]===n&&(I++,P=b[Y][1]+P,Y--),G=Y}}if(T(b[A][1])){var H=b[A][1].charAt(0);b[A][1]=b[A][1].slice(1),P+=H,q+=H}}if(A<b.length-1&&!b[A][1]){b.splice(A,1);break}if(P.length>0||q.length>0){P.length>0&&q.length>0&&(B=o(q,P),B!==0&&(G>=0?b[G][1]+=q.substring(0,B):(b.splice(0,0,[e,q.substring(0,B)]),A++),q=q.substring(B),P=P.substring(B)),B=f(q,P),B!==0&&(b[A][1]=q.substring(q.length-B)+b[A][1],q=q.substring(0,q.length-B),P=P.substring(0,P.length-B)));var J=$+I;P.length===0&&q.length===0?(b.splice(A-J,J),A=A-J):P.length===0?(b.splice(A-J,J,[t,q]),A=A-J+1):q.length===0?(b.splice(A-J,J,[n,P]),A=A-J+1):(b.splice(A-J,J,[n,P],[t,q]),A=A-J+2)}A!==0&&b[A-1][0]===e?(b[A-1][1]+=b[A][1],b.splice(A,1)):A++,$=0,I=0,P="",q="";break}}b[b.length-1][1]===""&&b.pop();var st=!1;for(A=1;A<b.length-1;)b[A-1][0]===e&&b[A+1][0]===e&&(b[A][1].substring(b[A][1].length-b[A-1][1].length)===b[A-1][1]?(b[A][1]=b[A-1][1]+b[A][1].substring(0,b[A][1].length-b[A-1][1].length),b[A+1][1]=b[A-1][1]+b[A+1][1],b.splice(A-1,1),st=!0):b[A][1].substring(0,b[A+1][1].length)==b[A+1][1]&&(b[A-1][1]+=b[A+1][1],b[A][1]=b[A][1].substring(b[A+1][1].length)+b[A+1][1],b.splice(A+1,1),st=!0)),A++;st&&E(b,C)}function x(b){return b>=55296&&b<=56319}function O(b){return b>=56320&&b<=57343}function T(b){return O(b.charCodeAt(0))}function M(b){return x(b.charCodeAt(b.length-1))}function j(b){for(var C=[],A=0;A<b.length;A++)b[A][1].length>0&&C.push(b[A]);return C}function R(b,C,A,I){return M(b)||T(I)?null:j([[e,b],[n,C],[t,A],[e,I]])}function z(b,C,A){var I=typeof A=="number"?{index:A,length:0}:A.oldRange,$=typeof A=="number"?null:A.newRange,P=b.length,q=C.length;if(I.length===0&&($===null||$.length===0)){var B=I.index,G=b.slice(0,B),H=b.slice(B),Y=$?$.index:null;t:{var J=B+q-P;if(Y!==null&&Y!==J||J<0||J>q)break t;var st=C.slice(0,J),ct=C.slice(J);if(ct!==H)break t;var Q=Math.min(B,J),mt=G.slice(0,Q),yt=st.slice(0,Q);if(mt!==yt)break t;var lt=G.slice(Q),wt=st.slice(Q);return R(mt,lt,wt,H)}t:{if(Y!==null&&Y!==B)break t;var bt=B,st=C.slice(0,bt),ct=C.slice(bt);if(st!==G)break t;var vt=Math.min(P-bt,q-bt),ht=H.slice(H.length-vt),gt=ct.slice(ct.length-vt);if(ht!==gt)break t;var lt=H.slice(0,H.length-vt),wt=ct.slice(0,ct.length-vt);return R(G,lt,wt,ht)}}if(I.length>0&&$&&$.length===0)t:{var mt=b.slice(0,I.index),ht=b.slice(I.index+I.length),Q=mt.length,vt=ht.length;if(q<Q+vt)break t;var yt=C.slice(0,Q),gt=C.slice(q-vt);if(mt!==yt||ht!==gt)break t;var lt=b.slice(Q,P-vt),wt=C.slice(Q,q-vt);return R(mt,lt,wt,ht)}return null}function W(b,C,A,I){return r(b,C,A,I,!0)}return W.INSERT=t,W.DELETE=n,W.EQUAL=e,io=W,io}var As={exports:{}};As.exports;var Sc;function $f(){return Sc||(Sc=1,function(n,t){var e=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object GeneratorFunction]",h="[object Map]",g="[object Number]",m="[object Object]",y="[object Promise]",w="[object RegExp]",_="[object Set]",E="[object String]",x="[object Symbol]",O="[object WeakMap]",T="[object ArrayBuffer]",M="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",z="[object Int8Array]",W="[object Int16Array]",b="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",I="[object Uint16Array]",$="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,B=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,H={};H[i]=H[a]=H[T]=H[M]=H[o]=H[c]=H[j]=H[R]=H[z]=H[W]=H[b]=H[h]=H[g]=H[m]=H[w]=H[_]=H[E]=H[x]=H[C]=H[A]=H[I]=H[$]=!0,H[f]=H[d]=H[O]=!1;var Y=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,J=typeof self=="object"&&self&&self.Object===Object&&self,st=Y||J||Function("return this")(),ct=t&&!t.nodeType&&t,Q=ct&&!0&&n&&!n.nodeType&&n,mt=Q&&Q.exports===ct;function yt(l,v){return l.set(v[0],v[1]),l}function lt(l,v){return l.add(v),l}function wt(l,v){for(var N=-1,U=l?l.length:0;++N<U&&v(l[N],N,l)!==!1;);return l}function bt(l,v){for(var N=-1,U=v.length,Et=l.length;++N<U;)l[Et+N]=v[N];return l}function vt(l,v,N,U){for(var Et=-1,pt=l?l.length:0;++Et<pt;)N=v(N,l[Et],Et,l);return N}function ht(l,v){for(var N=-1,U=Array(l);++N<l;)U[N]=v(N);return U}function gt(l,v){return l==null?void 0:l[v]}function At(l){var v=!1;if(l!=null&&typeof l.toString!="function")try{v=!!(l+"")}catch{}return v}function Pt(l){var v=-1,N=Array(l.size);return l.forEach(function(U,Et){N[++v]=[Et,U]}),N}function qt(l,v){return function(N){return l(v(N))}}function kt(l){var v=-1,N=Array(l.size);return l.forEach(function(U){N[++v]=U}),N}var Wt=Array.prototype,be=Function.prototype,Jt=Object.prototype,_e=st["__core-js_shared__"],ye=function(){var l=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Te=be.toString,ee=Jt.hasOwnProperty,le=Jt.toString,on=RegExp("^"+Te.call(ee).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),se=mt?st.Buffer:void 0,Ne=st.Symbol,De=st.Uint8Array,Xt=qt(Object.getPrototypeOf,Object),Sn=Object.create,Pe=Jt.propertyIsEnumerable,Sr=Wt.splice,ln=Object.getOwnPropertySymbols,On=se?se.isBuffer:void 0,Ln=qt(Object.keys,Object),Cn=Ge(st,"DataView"),cn=Ge(st,"Map"),ce=Ge(st,"Promise"),qn=Ge(st,"Set"),un=Ge(st,"WeakMap"),fn=Ge(Object,"create"),hn=we(Cn),dn=we(cn),pn=we(ce),Hn=we(qn),lr=we(un),V=Ne?Ne.prototype:void 0,nt=V?V.valueOf:void 0;function it(l){var v=-1,N=l?l.length:0;for(this.clear();++v<N;){var U=l[v];this.set(U[0],U[1])}}function xt(){this.__data__=fn?fn(null):{}}function Bt(l){return this.has(l)&&delete this.__data__[l]}function ha(l){var v=this.__data__;if(fn){var N=v[l];return N===r?void 0:N}return ee.call(v,l)?v[l]:void 0}function oi(l){var v=this.__data__;return fn?v[l]!==void 0:ee.call(v,l)}function ps(l,v){var N=this.__data__;return N[l]=fn&&v===void 0?r:v,this}it.prototype.clear=xt,it.prototype.delete=Bt,it.prototype.get=ha,it.prototype.has=oi,it.prototype.set=ps;function ie(l){var v=-1,N=l?l.length:0;for(this.clear();++v<N;){var U=l[v];this.set(U[0],U[1])}}function da(){this.__data__=[]}function pa(l){var v=this.__data__,N=Lr(v,l);if(N<0)return!1;var U=v.length-1;return N==U?v.pop():Sr.call(v,N,1),!0}function ga(l){var v=this.__data__,N=Lr(v,l);return N<0?void 0:v[N][1]}function va(l){return Lr(this.__data__,l)>-1}function ma(l,v){var N=this.__data__,U=Lr(N,l);return U<0?N.push([l,v]):N[U][1]=v,this}ie.prototype.clear=da,ie.prototype.delete=pa,ie.prototype.get=ga,ie.prototype.has=va,ie.prototype.set=ma;function ue(l){var v=-1,N=l?l.length:0;for(this.clear();++v<N;){var U=l[v];this.set(U[0],U[1])}}function ba(){this.__data__={hash:new it,map:new(cn||ie),string:new it}}function _a(l){return ur(this,l).delete(l)}function ya(l){return ur(this,l).get(l)}function wa(l){return ur(this,l).has(l)}function Ea(l,v){return ur(this,l).set(l,v),this}ue.prototype.clear=ba,ue.prototype.delete=_a,ue.prototype.get=ya,ue.prototype.has=wa,ue.prototype.set=Ea;function ke(l){this.__data__=new ie(l)}function xa(){this.__data__=new ie}function Aa(l){return this.__data__.delete(l)}function Ta(l){return this.__data__.get(l)}function Na(l){return this.__data__.has(l)}function ka(l,v){var N=this.__data__;if(N instanceof ie){var U=N.__data__;if(!cn||U.length<e-1)return U.push([l,v]),this;N=this.__data__=new ue(U)}return N.set(l,v),this}ke.prototype.clear=xa,ke.prototype.delete=Aa,ke.prototype.get=Ta,ke.prototype.has=Na,ke.prototype.set=ka;function Or(l,v){var N=bs(l)||qr(l)?ht(l.length,String):[],U=N.length,Et=!!U;for(var pt in l)ee.call(l,pt)&&!(Et&&(pt=="length"||Ua(pt,U)))&&N.push(pt);return N}function li(l,v,N){var U=l[v];(!(ee.call(l,v)&&di(U,N))||N===void 0&&!(v in l))&&(l[v]=N)}function Lr(l,v){for(var N=l.length;N--;)if(di(l[N][0],v))return N;return-1}function gn(l,v){return l&&ms(v,ys(v),l)}function gs(l,v,N,U,Et,pt,Lt){var St;if(U&&(St=pt?U(l,Et,pt,Lt):U(l)),St!==void 0)return St;if(!mn(l))return l;var Yt=bs(l);if(Yt){if(St=Ma(l),!v)return Da(l,St)}else{var $t=In(l),fe=$t==d||$t==p;if(pi(l))return Cr(l,v);if($t==m||$t==i||fe&&!pt){if(At(l))return pt?l:{};if(St=vn(fe?{}:l),!v)return Pa(l,gn(St,l))}else{if(!H[$t])return pt?l:{};St=ja(l,$t,gs,v)}}Lt||(Lt=new ke);var Se=Lt.get(l);if(Se)return Se;if(Lt.set(l,St),!Yt)var Qt=N?Ba(l):ys(l);return wt(Qt||l,function(he,ae){Qt&&(ae=he,he=l[ae]),li(St,ae,gs(he,v,N,U,ae,l,Lt))}),St}function Sa(l){return mn(l)?Sn(l):{}}function Oa(l,v,N){var U=v(l);return bs(l)?U:bt(U,N(l))}function La(l){return le.call(l)}function Ca(l){if(!mn(l)||Ha(l))return!1;var v=_s(l)||At(l)?on:B;return v.test(we(l))}function qa(l){if(!fi(l))return Ln(l);var v=[];for(var N in Object(l))ee.call(l,N)&&N!="constructor"&&v.push(N);return v}function Cr(l,v){if(v)return l.slice();var N=new l.constructor(l.length);return l.copy(N),N}function vs(l){var v=new l.constructor(l.byteLength);return new De(v).set(new De(l)),v}function cr(l,v){var N=v?vs(l.buffer):l.buffer;return new l.constructor(N,l.byteOffset,l.byteLength)}function ci(l,v,N){var U=v?N(Pt(l),!0):Pt(l);return vt(U,yt,new l.constructor)}function ui(l){var v=new l.constructor(l.source,q.exec(l));return v.lastIndex=l.lastIndex,v}function $a(l,v,N){var U=v?N(kt(l),!0):kt(l);return vt(U,lt,new l.constructor)}function Ia(l){return nt?Object(nt.call(l)):{}}function Ra(l,v){var N=v?vs(l.buffer):l.buffer;return new l.constructor(N,l.byteOffset,l.length)}function Da(l,v){var N=-1,U=l.length;for(v||(v=Array(U));++N<U;)v[N]=l[N];return v}function ms(l,v,N,U){N||(N={});for(var Et=-1,pt=v.length;++Et<pt;){var Lt=v[Et],St=void 0;li(N,Lt,St===void 0?l[Lt]:St)}return N}function Pa(l,v){return ms(l,$n(l),v)}function Ba(l){return Oa(l,ys,$n)}function ur(l,v){var N=l.__data__;return Fa(v)?N[typeof v=="string"?"string":"hash"]:N.map}function Ge(l,v){var N=gt(l,v);return Ca(N)?N:void 0}var $n=ln?qt(ln,Object):Ka,In=La;(Cn&&In(new Cn(new ArrayBuffer(1)))!=M||cn&&In(new cn)!=h||ce&&In(ce.resolve())!=y||qn&&In(new qn)!=_||un&&In(new un)!=O)&&(In=function(l){var v=le.call(l),N=v==m?l.constructor:void 0,U=N?we(N):void 0;if(U)switch(U){case hn:return M;case dn:return h;case pn:return y;case Hn:return _;case lr:return O}return v});function Ma(l){var v=l.length,N=l.constructor(v);return v&&typeof l[0]=="string"&&ee.call(l,"index")&&(N.index=l.index,N.input=l.input),N}function vn(l){return typeof l.constructor=="function"&&!fi(l)?Sa(Xt(l)):{}}function ja(l,v,N,U){var Et=l.constructor;switch(v){case T:return vs(l);case o:case c:return new Et(+l);case M:return cr(l,U);case j:case R:case z:case W:case b:case C:case A:case I:case $:return Ra(l,U);case h:return ci(l,U,N);case g:case E:return new Et(l);case w:return ui(l);case _:return $a(l,U,N);case x:return Ia(l)}}function Ua(l,v){return v=v??s,!!v&&(typeof l=="number"||G.test(l))&&l>-1&&l%1==0&&l<v}function Fa(l){var v=typeof l;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?l!=="__proto__":l===null}function Ha(l){return!!ye&&ye in l}function fi(l){var v=l&&l.constructor,N=typeof v=="function"&&v.prototype||Jt;return l===N}function we(l){if(l!=null){try{return Te.call(l)}catch{}try{return l+""}catch{}}return""}function hi(l){return gs(l,!0,!0)}function di(l,v){return l===v||l!==l&&v!==v}function qr(l){return za(l)&&ee.call(l,"callee")&&(!Pe.call(l,"callee")||le.call(l)==i)}var bs=Array.isArray;function $r(l){return l!=null&&gi(l.length)&&!_s(l)}function za(l){return vi(l)&&$r(l)}var pi=On||Ga;function _s(l){var v=mn(l)?le.call(l):"";return v==d||v==p}function gi(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function mn(l){var v=typeof l;return!!l&&(v=="object"||v=="function")}function vi(l){return!!l&&typeof l=="object"}function ys(l){return $r(l)?Or(l):qa(l)}function Ka(){return[]}function Ga(){return!1}n.exports=hi}(As,As.exports)),As.exports}var Ts={exports:{}};Ts.exports;var Oc;function If(){return Oc||(Oc=1,function(n,t){var e=200,r="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,o="[object Arguments]",c="[object Array]",f="[object AsyncFunction]",d="[object Boolean]",p="[object Date]",h="[object Error]",g="[object Function]",m="[object GeneratorFunction]",y="[object Map]",w="[object Number]",_="[object Null]",E="[object Object]",x="[object Promise]",O="[object Proxy]",T="[object RegExp]",M="[object Set]",j="[object String]",R="[object Symbol]",z="[object Undefined]",W="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",A="[object Float32Array]",I="[object Float64Array]",$="[object Int8Array]",P="[object Int16Array]",q="[object Int32Array]",B="[object Uint8Array]",G="[object Uint8ClampedArray]",H="[object Uint16Array]",Y="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,ct=/^(?:0|[1-9]\d*)$/,Q={};Q[A]=Q[I]=Q[$]=Q[P]=Q[q]=Q[B]=Q[G]=Q[H]=Q[Y]=!0,Q[o]=Q[c]=Q[b]=Q[d]=Q[C]=Q[p]=Q[h]=Q[g]=Q[y]=Q[w]=Q[E]=Q[T]=Q[M]=Q[j]=Q[W]=!1;var mt=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,yt=typeof self=="object"&&self&&self.Object===Object&&self,lt=mt||yt||Function("return this")(),wt=t&&!t.nodeType&&t,bt=wt&&!0&&n&&!n.nodeType&&n,vt=bt&&bt.exports===wt,ht=vt&&mt.process,gt=function(){try{return ht&&ht.binding&&ht.binding("util")}catch{}}(),At=gt&&gt.isTypedArray;function Pt(l,v){for(var N=-1,U=l==null?0:l.length,Et=0,pt=[];++N<U;){var Lt=l[N];v(Lt,N,l)&&(pt[Et++]=Lt)}return pt}function qt(l,v){for(var N=-1,U=v.length,Et=l.length;++N<U;)l[Et+N]=v[N];return l}function kt(l,v){for(var N=-1,U=l==null?0:l.length;++N<U;)if(v(l[N],N,l))return!0;return!1}function Wt(l,v){for(var N=-1,U=Array(l);++N<l;)U[N]=v(N);return U}function be(l){return function(v){return l(v)}}function Jt(l,v){return l.has(v)}function _e(l,v){return l==null?void 0:l[v]}function ye(l){var v=-1,N=Array(l.size);return l.forEach(function(U,Et){N[++v]=[Et,U]}),N}function Te(l,v){return function(N){return l(v(N))}}function ee(l){var v=-1,N=Array(l.size);return l.forEach(function(U){N[++v]=U}),N}var le=Array.prototype,on=Function.prototype,se=Object.prototype,Ne=lt["__core-js_shared__"],De=on.toString,Xt=se.hasOwnProperty,Sn=function(){var l=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Pe=se.toString,Sr=RegExp("^"+De.call(Xt).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ln=vt?lt.Buffer:void 0,On=lt.Symbol,Ln=lt.Uint8Array,Cn=se.propertyIsEnumerable,cn=le.splice,ce=On?On.toStringTag:void 0,qn=Object.getOwnPropertySymbols,un=ln?ln.isBuffer:void 0,fn=Te(Object.keys,Object),hn=$n(lt,"DataView"),dn=$n(lt,"Map"),pn=$n(lt,"Promise"),Hn=$n(lt,"Set"),lr=$n(lt,"WeakMap"),V=$n(Object,"create"),nt=we(hn),it=we(dn),xt=we(pn),Bt=we(Hn),ha=we(lr),oi=On?On.prototype:void 0,ps=oi?oi.valueOf:void 0;function ie(l){var v=-1,N=l==null?0:l.length;for(this.clear();++v<N;){var U=l[v];this.set(U[0],U[1])}}function da(){this.__data__=V?V(null):{},this.size=0}function pa(l){var v=this.has(l)&&delete this.__data__[l];return this.size-=v?1:0,v}function ga(l){var v=this.__data__;if(V){var N=v[l];return N===r?void 0:N}return Xt.call(v,l)?v[l]:void 0}function va(l){var v=this.__data__;return V?v[l]!==void 0:Xt.call(v,l)}function ma(l,v){var N=this.__data__;return this.size+=this.has(l)?0:1,N[l]=V&&v===void 0?r:v,this}ie.prototype.clear=da,ie.prototype.delete=pa,ie.prototype.get=ga,ie.prototype.has=va,ie.prototype.set=ma;function ue(l){var v=-1,N=l==null?0:l.length;for(this.clear();++v<N;){var U=l[v];this.set(U[0],U[1])}}function ba(){this.__data__=[],this.size=0}function _a(l){var v=this.__data__,N=Cr(v,l);if(N<0)return!1;var U=v.length-1;return N==U?v.pop():cn.call(v,N,1),--this.size,!0}function ya(l){var v=this.__data__,N=Cr(v,l);return N<0?void 0:v[N][1]}function wa(l){return Cr(this.__data__,l)>-1}function Ea(l,v){var N=this.__data__,U=Cr(N,l);return U<0?(++this.size,N.push([l,v])):N[U][1]=v,this}ue.prototype.clear=ba,ue.prototype.delete=_a,ue.prototype.get=ya,ue.prototype.has=wa,ue.prototype.set=Ea;function ke(l){var v=-1,N=l==null?0:l.length;for(this.clear();++v<N;){var U=l[v];this.set(U[0],U[1])}}function xa(){this.size=0,this.__data__={hash:new ie,map:new(dn||ue),string:new ie}}function Aa(l){var v=Ge(this,l).delete(l);return this.size-=v?1:0,v}function Ta(l){return Ge(this,l).get(l)}function Na(l){return Ge(this,l).has(l)}function ka(l,v){var N=Ge(this,l),U=N.size;return N.set(l,v),this.size+=N.size==U?0:1,this}ke.prototype.clear=xa,ke.prototype.delete=Aa,ke.prototype.get=Ta,ke.prototype.has=Na,ke.prototype.set=ka;function Or(l){var v=-1,N=l==null?0:l.length;for(this.__data__=new ke;++v<N;)this.add(l[v])}function li(l){return this.__data__.set(l,r),this}function Lr(l){return this.__data__.has(l)}Or.prototype.add=Or.prototype.push=li,Or.prototype.has=Lr;function gn(l){var v=this.__data__=new ue(l);this.size=v.size}function gs(){this.__data__=new ue,this.size=0}function Sa(l){var v=this.__data__,N=v.delete(l);return this.size=v.size,N}function Oa(l){return this.__data__.get(l)}function La(l){return this.__data__.has(l)}function Ca(l,v){var N=this.__data__;if(N instanceof ue){var U=N.__data__;if(!dn||U.length<e-1)return U.push([l,v]),this.size=++N.size,this;N=this.__data__=new ke(U)}return N.set(l,v),this.size=N.size,this}gn.prototype.clear=gs,gn.prototype.delete=Sa,gn.prototype.get=Oa,gn.prototype.has=La,gn.prototype.set=Ca;function qa(l,v){var N=qr(l),U=!N&&di(l),Et=!N&&!U&&$r(l),pt=!N&&!U&&!Et&&vi(l),Lt=N||U||Et||pt,St=Lt?Wt(l.length,String):[],Yt=St.length;for(var $t in l)Xt.call(l,$t)&&!(Lt&&($t=="length"||Et&&($t=="offset"||$t=="parent")||pt&&($t=="buffer"||$t=="byteLength"||$t=="byteOffset")||ja($t,Yt)))&&St.push($t);return St}function Cr(l,v){for(var N=l.length;N--;)if(hi(l[N][0],v))return N;return-1}function vs(l,v,N){var U=v(l);return qr(l)?U:qt(U,N(l))}function cr(l){return l==null?l===void 0?z:_:ce&&ce in Object(l)?In(l):fi(l)}function ci(l){return mn(l)&&cr(l)==o}function ui(l,v,N,U,Et){return l===v?!0:l==null||v==null||!mn(l)&&!mn(v)?l!==l&&v!==v:$a(l,v,N,U,ui,Et)}function $a(l,v,N,U,Et,pt){var Lt=qr(l),St=qr(v),Yt=Lt?c:vn(l),$t=St?c:vn(v);Yt=Yt==o?E:Yt,$t=$t==o?E:$t;var fe=Yt==E,Se=$t==E,Qt=Yt==$t;if(Qt&&$r(l)){if(!$r(v))return!1;Lt=!0,fe=!1}if(Qt&&!fe)return pt||(pt=new gn),Lt||vi(l)?ms(l,v,N,U,Et,pt):Pa(l,v,Yt,N,U,Et,pt);if(!(N&s)){var he=fe&&Xt.call(l,"__wrapped__"),ae=Se&&Xt.call(v,"__wrapped__");if(he||ae){var zn=he?l.value():l,Rn=ae?v.value():v;return pt||(pt=new gn),Et(zn,Rn,N,U,pt)}}return Qt?(pt||(pt=new gn),Ba(l,v,N,U,Et,pt)):!1}function Ia(l){if(!gi(l)||Fa(l))return!1;var v=pi(l)?Sr:st;return v.test(we(l))}function Ra(l){return mn(l)&&_s(l.length)&&!!Q[cr(l)]}function Da(l){if(!Ha(l))return fn(l);var v=[];for(var N in Object(l))Xt.call(l,N)&&N!="constructor"&&v.push(N);return v}function ms(l,v,N,U,Et,pt){var Lt=N&s,St=l.length,Yt=v.length;if(St!=Yt&&!(Lt&&Yt>St))return!1;var $t=pt.get(l);if($t&&pt.get(v))return $t==v;var fe=-1,Se=!0,Qt=N&i?new Or:void 0;for(pt.set(l,v),pt.set(v,l);++fe<St;){var he=l[fe],ae=v[fe];if(U)var zn=Lt?U(ae,he,fe,v,l,pt):U(he,ae,fe,l,v,pt);if(zn!==void 0){if(zn)continue;Se=!1;break}if(Qt){if(!kt(v,function(Rn,fr){if(!Jt(Qt,fr)&&(he===Rn||Et(he,Rn,N,U,pt)))return Qt.push(fr)})){Se=!1;break}}else if(!(he===ae||Et(he,ae,N,U,pt))){Se=!1;break}}return pt.delete(l),pt.delete(v),Se}function Pa(l,v,N,U,Et,pt,Lt){switch(N){case C:if(l.byteLength!=v.byteLength||l.byteOffset!=v.byteOffset)return!1;l=l.buffer,v=v.buffer;case b:return!(l.byteLength!=v.byteLength||!pt(new Ln(l),new Ln(v)));case d:case p:case w:return hi(+l,+v);case h:return l.name==v.name&&l.message==v.message;case T:case j:return l==v+"";case y:var St=ye;case M:var Yt=U&s;if(St||(St=ee),l.size!=v.size&&!Yt)return!1;var $t=Lt.get(l);if($t)return $t==v;U|=i,Lt.set(l,v);var fe=ms(St(l),St(v),U,Et,pt,Lt);return Lt.delete(l),fe;case R:if(ps)return ps.call(l)==ps.call(v)}return!1}function Ba(l,v,N,U,Et,pt){var Lt=N&s,St=ur(l),Yt=St.length,$t=ur(v),fe=$t.length;if(Yt!=fe&&!Lt)return!1;for(var Se=Yt;Se--;){var Qt=St[Se];if(!(Lt?Qt in v:Xt.call(v,Qt)))return!1}var he=pt.get(l);if(he&&pt.get(v))return he==v;var ae=!0;pt.set(l,v),pt.set(v,l);for(var zn=Lt;++Se<Yt;){Qt=St[Se];var Rn=l[Qt],fr=v[Qt];if(U)var Cl=Lt?U(fr,Rn,Qt,v,l,pt):U(Rn,fr,Qt,l,v,pt);if(!(Cl===void 0?Rn===fr||Et(Rn,fr,N,U,pt):Cl)){ae=!1;break}zn||(zn=Qt=="constructor")}if(ae&&!zn){var mi=l.constructor,bi=v.constructor;mi!=bi&&"constructor"in l&&"constructor"in v&&!(typeof mi=="function"&&mi instanceof mi&&typeof bi=="function"&&bi instanceof bi)&&(ae=!1)}return pt.delete(l),pt.delete(v),ae}function ur(l){return vs(l,ys,Ma)}function Ge(l,v){var N=l.__data__;return Ua(v)?N[typeof v=="string"?"string":"hash"]:N.map}function $n(l,v){var N=_e(l,v);return Ia(N)?N:void 0}function In(l){var v=Xt.call(l,ce),N=l[ce];try{l[ce]=void 0;var U=!0}catch{}var Et=Pe.call(l);return U&&(v?l[ce]=N:delete l[ce]),Et}var Ma=qn?function(l){return l==null?[]:(l=Object(l),Pt(qn(l),function(v){return Cn.call(l,v)}))}:Ka,vn=cr;(hn&&vn(new hn(new ArrayBuffer(1)))!=C||dn&&vn(new dn)!=y||pn&&vn(pn.resolve())!=x||Hn&&vn(new Hn)!=M||lr&&vn(new lr)!=W)&&(vn=function(l){var v=cr(l),N=v==E?l.constructor:void 0,U=N?we(N):"";if(U)switch(U){case nt:return C;case it:return y;case xt:return x;case Bt:return M;case ha:return W}return v});function ja(l,v){return v=v??a,!!v&&(typeof l=="number"||ct.test(l))&&l>-1&&l%1==0&&l<v}function Ua(l){var v=typeof l;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?l!=="__proto__":l===null}function Fa(l){return!!Sn&&Sn in l}function Ha(l){var v=l&&l.constructor,N=typeof v=="function"&&v.prototype||se;return l===N}function fi(l){return Pe.call(l)}function we(l){if(l!=null){try{return De.call(l)}catch{}try{return l+""}catch{}}return""}function hi(l,v){return l===v||l!==l&&v!==v}var di=ci(function(){return arguments}())?ci:function(l){return mn(l)&&Xt.call(l,"callee")&&!Cn.call(l,"callee")},qr=Array.isArray;function bs(l){return l!=null&&_s(l.length)&&!pi(l)}var $r=un||Ga;function za(l,v){return ui(l,v)}function pi(l){if(!gi(l))return!1;var v=cr(l);return v==g||v==m||v==f||v==O}function _s(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=a}function gi(l){var v=typeof l;return l!=null&&(v=="object"||v=="function")}function mn(l){return l!=null&&typeof l=="object"}var vi=At?be(At):Ra;function ys(l){return bs(l)?qa(l):Da(l)}function Ka(){return[]}function Ga(){return!1}n.exports=za}(Ts,Ts.exports)),Ts.exports}var Ai={},Lc;function Q0(){if(Lc)return Ai;Lc=1,Object.defineProperty(Ai,"__esModule",{value:!0});const n=$f(),t=If();var e;return function(r){function s(c={},f={},d=!1){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});let p=n(f);d||(p=Object.keys(p).reduce((h,g)=>(p[g]!=null&&(h[g]=p[g]),h),{}));for(const h in c)c[h]!==void 0&&f[h]===void 0&&(p[h]=c[h]);return Object.keys(p).length>0?p:void 0}r.compose=s;function i(c={},f={}){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});const d=Object.keys(c).concat(Object.keys(f)).reduce((p,h)=>(t(c[h],f[h])||(p[h]=f[h]===void 0?null:f[h]),p),{});return Object.keys(d).length>0?d:void 0}r.diff=i;function a(c={},f={}){c=c||{};const d=Object.keys(f).reduce((p,h)=>(f[h]!==c[h]&&c[h]!==void 0&&(p[h]=f[h]),p),{});return Object.keys(c).reduce((p,h)=>(c[h]!==f[h]&&f[h]===void 0&&(p[h]=null),p),d)}r.invert=a;function o(c,f,d=!1){if(typeof c!="object")return f;if(typeof f!="object")return;if(!d)return f;const p=Object.keys(f).reduce((h,g)=>(c[g]===void 0&&(h[g]=f[g]),h),{});return Object.keys(p).length>0?p:void 0}r.transform=o}(e||(e={})),Ai.default=e,Ai}var Ti={},Cc;function Rf(){if(Cc)return Ti;Cc=1,Object.defineProperty(Ti,"__esModule",{value:!0});var n;return function(t){function e(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}t.length=e}(n||(n={})),Ti.default=n,Ti}var Ni={},qc;function t_(){if(qc)return Ni;qc=1,Object.defineProperty(Ni,"__esModule",{value:!0});const n=Rf();class t{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const s=this.ops[this.index];if(s){const i=this.offset,a=n.default.length(s);if(r>=a-i?(r=a-i,this.index+=1,this.offset=0):this.offset+=r,typeof s.delete=="number")return{delete:r};{const o={};return s.attributes&&(o.attributes=s.attributes),typeof s.retain=="number"?o.retain=r:typeof s.retain=="object"&&s.retain!==null?o.retain=s.retain:typeof s.insert=="string"?o.insert=s.insert.substr(i,r):o.insert=s.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,s=this.index,i=this.next(),a=this.ops.slice(this.index);return this.offset=r,this.index=s,[i].concat(a)}}else return[]}}return Ni.default=t,Ni}var $c;function e_(){return $c||($c=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=X0(),r=$f(),s=If(),i=Q0();t.AttributeMap=i.default;const a=Rf();t.Op=a.default;const o=t_();t.OpIterator=o.default;const c="\0",f=(p,h)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const g=Object.keys(p)[0];if(!g||g!==Object.keys(h)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(h)[0]}`);return[g,p[g],h[g]]};class d{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,g){this.handlers[h]=g}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const g=this.handlers[h];if(!g)throw new Error(`no handlers for embed type "${h}"`);return g}insert(h,g){const m={};return typeof h=="string"&&h.length===0?this:(m.insert=h,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,g){if(typeof h=="number"&&h<=0)return this;const m={retain:h};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m)}push(h){let g=this.ops.length,m=this.ops[g-1];if(h=r(h),typeof m=="object"){if(typeof h.delete=="number"&&typeof m.delete=="number")return this.ops[g-1]={delete:m.delete+h.delete},this;if(typeof m.delete=="number"&&h.insert!=null&&(g-=1,m=this.ops[g-1],typeof m!="object"))return this.ops.unshift(h),this;if(s(h.attributes,m.attributes)){if(typeof h.insert=="string"&&typeof m.insert=="string")return this.ops[g-1]={insert:m.insert+h.insert},typeof h.attributes=="object"&&(this.ops[g-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof m.retain=="number")return this.ops[g-1]={retain:m.retain+h.retain},typeof h.attributes=="object"&&(this.ops[g-1].attributes=h.attributes),this}}return g===this.ops.length?this.ops.push(h):this.ops.splice(g,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const g=[],m=[];return this.forEach(y=>{(h(y)?g:m).push(y)}),[g,m]}reduce(h,g){return this.ops.reduce(h,g)}changeLength(){return this.reduce((h,g)=>g.insert?h+a.default.length(g):g.delete?h-g.delete:h,0)}length(){return this.reduce((h,g)=>h+a.default.length(g),0)}slice(h=0,g=1/0){const m=[],y=new o.default(this.ops);let w=0;for(;w<g&&y.hasNext();){let _;w<h?_=y.next(h-w):(_=y.next(g-w),m.push(_)),w+=a.default.length(_)}return new d(m)}compose(h){const g=new o.default(this.ops),m=new o.default(h.ops),y=[],w=m.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let E=w.retain;for(;g.peekType()==="insert"&&g.peekLength()<=E;)E-=g.peekLength(),y.push(g.next());w.retain-E>0&&m.next(w.retain-E)}const _=new d(y);for(;g.hasNext()||m.hasNext();)if(m.peekType()==="insert")_.push(m.next());else if(g.peekType()==="delete")_.push(g.next());else{const E=Math.min(g.peekLength(),m.peekLength()),x=g.next(E),O=m.next(E);if(O.retain){const T={};if(typeof x.retain=="number")T.retain=typeof O.retain=="number"?E:O.retain;else if(typeof O.retain=="number")x.retain==null?T.insert=x.insert:T.retain=x.retain;else{const j=x.retain==null?"insert":"retain",[R,z,W]=f(x[j],O.retain),b=d.getHandler(R);T[j]={[R]:b.compose(z,W,j==="retain")}}const M=i.default.compose(x.attributes,O.attributes,typeof x.retain=="number");if(M&&(T.attributes=M),_.push(T),!m.hasNext()&&s(_.ops[_.ops.length-1],T)){const j=new d(g.rest());return _.concat(j).chop()}}else typeof O.delete=="number"&&(typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null)&&_.push(O)}return _.chop()}concat(h){const g=new d(this.ops.slice());return h.ops.length>0&&(g.push(h.ops[0]),g.ops=g.ops.concat(h.ops.slice(1))),g}diff(h,g){if(this.ops===h.ops)return new d;const m=[this,h].map(x=>x.map(O=>{if(O.insert!=null)return typeof O.insert=="string"?O.insert:c;const T=x===h?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),y=new d,w=e(m[0],m[1],g,!0),_=new o.default(this.ops),E=new o.default(h.ops);return w.forEach(x=>{let O=x[1].length;for(;O>0;){let T=0;switch(x[0]){case e.INSERT:T=Math.min(E.peekLength(),O),y.push(E.next(T));break;case e.DELETE:T=Math.min(O,_.peekLength()),_.next(T),y.delete(T);break;case e.EQUAL:T=Math.min(_.peekLength(),E.peekLength(),O);const M=_.next(T),j=E.next(T);s(M.insert,j.insert)?y.retain(T,i.default.diff(M.attributes,j.attributes)):y.push(j).delete(T);break}O-=T}}),y.chop()}eachLine(h,g=`
`){const m=new o.default(this.ops);let y=new d,w=0;for(;m.hasNext();){if(m.peekType()!=="insert")return;const _=m.peek(),E=a.default.length(_)-m.peekLength(),x=typeof _.insert=="string"?_.insert.indexOf(g,E)-E:-1;if(x<0)y.push(m.next());else if(x>0)y.push(m.next(x));else{if(h(y,m.next(1).attributes||{},w)===!1)return;w+=1,y=new d}}y.length()>0&&h(y,{},w)}invert(h){const g=new d;return this.reduce((m,y)=>{if(y.insert)g.delete(a.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return g.retain(y.retain),m+y.retain;if(y.delete||typeof y.retain=="number"){const w=y.delete||y.retain;return h.slice(m,m+w).forEach(E=>{y.delete?g.push(E):y.retain&&y.attributes&&g.retain(a.default.length(E),i.default.invert(y.attributes,E.attributes))}),m+w}else if(typeof y.retain=="object"&&y.retain!==null){const w=h.slice(m,m+1),_=new o.default(w.ops).next(),[E,x,O]=f(y.retain,_.insert),T=d.getHandler(E);return g.retain({[E]:T.invert(x,O)},i.default.invert(y.attributes,_.attributes)),m+1}}return m},0),g.chop()}transform(h,g=!1){if(g=!!g,typeof h=="number")return this.transformPosition(h,g);const m=h,y=new o.default(this.ops),w=new o.default(m.ops),_=new d;for(;y.hasNext()||w.hasNext();)if(y.peekType()==="insert"&&(g||w.peekType()!=="insert"))_.retain(a.default.length(y.next()));else if(w.peekType()==="insert")_.push(w.next());else{const E=Math.min(y.peekLength(),w.peekLength()),x=y.next(E),O=w.next(E);if(x.delete)continue;if(O.delete)_.push(O);else{const T=x.retain,M=O.retain;let j=typeof M=="object"&&M!==null?M:E;if(typeof T=="object"&&T!==null&&typeof M=="object"&&M!==null){const R=Object.keys(T)[0];if(R===Object.keys(M)[0]){const z=d.getHandler(R);z&&(j={[R]:z.transform(T[R],M[R],g)})}}_.retain(j,i.default.transform(x.attributes,O.attributes,g))}}return _.chop()}transformPosition(h,g=!1){g=!!g;const m=new o.default(this.ops);let y=0;for(;m.hasNext()&&y<=h;){const w=m.peekLength(),_=m.peekType();if(m.next(),_==="delete"){h-=Math.min(w,h-y);continue}else _==="insert"&&(y<h||!g)&&(h+=w);y+=w}return h}}d.Op=a.default,d.OpIterator=o.default,d.AttributeMap=i.default,d.handlers={},t.default=d,n.exports=d,n.exports.default=d}(xi,xi.exports)),xi.exports}var He=e_();const ut=qf(He);class sn extends Re{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}sn.blotName="break";sn.tagName="BR";let tn=class extends Yi{};const n_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ca(n){return n.replace(/[&<>"']/g,t=>n_[t])}const _n=class _n extends _l{static compare(t,e){const r=_n.order.indexOf(t),s=_n.order.indexOf(e);return r>=0||s>=0?r-s:t===e?0:t<e?-1:1}formatAt(t,e,r,s){if(_n.compare(this.statics.blotName,r)<0&&this.scroll.query(r,ft.BLOT)){const i=this.isolate(t,e);s&&i.wrap(r,s)}else super.formatAt(t,e,r,s)}optimize(t){if(super.optimize(t),this.parent instanceof _n&&_n.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};rt(_n,"allowedChildren",[_n,sn,Re,tn]),rt(_n,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Tn=_n;const Ic=1;class oe extends Hs{constructor(){super(...arguments);rt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Df(this)),this.cache.delta}deleteAt(e,r){super.deleteAt(e,r),this.cache={}}formatAt(e,r,s,i){r<=0||(this.scroll.query(s,ft.BLOCK)?e+r===this.length()&&this.format(s,i):super.formatAt(e,Math.min(r,this.length()-e-1),s,i),this.cache={})}insertAt(e,r,s){if(s!=null){super.insertAt(e,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),a=i.shift();a.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let o=this;i.reduce((c,f)=>(o=o.split(c,!0),o.insertAt(0,f),f.length),e+a.length)}insertBefore(e,r){const{head:s}=this.children;super.insertBefore(e,r),s instanceof sn&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Ic),this.cache.length}moveChildren(e,r){super.moveChildren(e,r),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(e===0||e>=this.length()-Ic)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(e,r);return this.cache={},s}}oe.blotName="block";oe.tagName="P";oe.defaultChild=sn;oe.allowedChildren=[sn,Tn,Re,tn];class Ue extends Re{attach(){super.attach(),this.attributes=new oa(this.domNode)}delta(){return new ut().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const r=this.scroll.query(t,ft.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,e)}formatAt(t,e,r,s){this.format(r,s)}insertAt(t,e,r){if(r!=null){super.insertAt(t,e,r);return}const s=e.split(`
`),i=s.pop(),a=s.map(c=>{const f=this.scroll.create(oe.blotName);return f.insertAt(0,c),f}),o=this.split(t);a.forEach(c=>{this.parent.insertBefore(c,o)}),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}}Ue.scope=ft.BLOCK_BLOT;function Df(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(ge).reduce((e,r)=>r.length()===0?e:e.insert(r.value(),Me(r,{},t)),new ut).insert(`
`,Me(n))}function Me(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:Me(n.parent,t,e)}const Be=class Be extends Re{static value(){}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(Be.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==ft.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Be.CONTENTS.length,r.optimize(),r.formatAt(s,Be.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof tn?this.prev:null,r=e?e.length():0,s=this.next instanceof tn?this.next:null,i=s?s.text:"",{textNode:a}=this,o=a.data.split(Be.CONTENTS).join("");a.data=Be.CONTENTS;let c;if(e)c=e,(o||s)&&(e.insertAt(e.length(),o+i),s&&s.remove());else if(s)c=s,s.insertAt(0,o);else{const f=document.createTextNode(o);c=this.scroll.create(f),this.parent.insertBefore(c,this)}if(this.remove(),t){const f=(h,g)=>e&&h===e.domNode?g:h===a?r+g-1:s&&h===s.domNode?r+o.length+g:null,d=f(t.start.node,t.start.offset),p=f(t.end.node,t.end.offset);if(d!==null&&p!==null)return{startNode:c.domNode,startOffset:d,endNode:c.domNode,endOffset:p}}return null}update(t,e){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(e.range=r)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=Be.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};rt(Be,"blotName","cursor"),rt(Be,"className","ql-cursor"),rt(Be,"tagName","span"),rt(Be,"CONTENTS","\uFEFF");let ss=Be;var ao={exports:{}},Rc;function r_(){return Rc||(Rc=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function i(c,f,d,p,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,p||c,h),m=e?e+f:f;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)t.call(d,p)&&f.push(e?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},o.prototype.listeners=function(f){var d=e?e+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,g=p.length,m=new Array(g);h<g;h++)m[h]=p[h].fn;return m},o.prototype.listenerCount=function(f){var d=e?e+f:f,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(f,d,p,h,g,m){var y=e?e+f:f;if(!this._events[y])return!1;var w=this._events[y],_=arguments.length,E,x;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,h),!0;case 5:return w.fn.call(w.context,d,p,h,g),!0;case 6:return w.fn.call(w.context,d,p,h,g,m),!0}for(x=1,E=new Array(_-1);x<_;x++)E[x-1]=arguments[x];w.fn.apply(w.context,E)}else{var O=w.length,T;for(x=0;x<O;x++)switch(w[x].once&&this.removeListener(f,w[x].fn,void 0,!0),_){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,d);break;case 3:w[x].fn.call(w[x].context,d,p);break;case 4:w[x].fn.call(w[x].context,d,p,h);break;default:if(!E)for(T=1,E=new Array(_-1);T<_;T++)E[T-1]=arguments[T];w[x].fn.apply(w[x].context,E)}}return!0},o.prototype.on=function(f,d,p){return i(this,f,d,p,!1)},o.prototype.once=function(f,d,p){return i(this,f,d,p,!0)},o.prototype.removeListener=function(f,d,p,h){var g=e?e+f:f;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!h||m.once)&&(!p||m.context===p)&&a(this,g);else{for(var y=0,w=[],_=m.length;y<_;y++)(m[y].fn!==d||h&&!m[y].once||p&&m[y].context!==p)&&w.push(m[y]);w.length?this._events[g]=w.length===1?w[0]:w:a(this,g)}return this},o.prototype.removeAllListeners=function(f){var d;return f?(d=e?e+f:f,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,n.exports=o}(ao)),ao.exports}var s_=r_();const i_=qf(s_),Mo=new WeakMap,jo=["error","warn","log","info"];let Uo="warn";function Pf(n){if(Uo&&jo.indexOf(n)<=jo.indexOf(Uo)){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];console[n](...e)}}function Fn(n){return jo.reduce((t,e)=>(t[e]=Pf.bind(console,e,n),t),{})}Fn.level=n=>{Uo=n};Pf.level=Fn.level;const oo=Fn("quill:events"),a_=["selectionchange","mousedown","mouseup","click"];a_.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=Mo.get(s);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class at extends i_{constructor(){super(),this.domListeners={},this.on("error",oo.error)}emit(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return oo.log.call(oo,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:a,handler:o}=i;(t.target===a||a.contains(t.target))&&o(t,...r)})}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}}rt(at,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),rt(at,"sources",{API:"api",SILENT:"silent",USER:"user"});const lo=Fn("quill:selection");class yr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class o_{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new yr(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,at.sources.USER),1)}),this.emitter.on(at.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(at.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const a=i.some(o=>o.type==="characterData"||o.type==="childList"||o.type==="attributes"&&o.target===this.root);this.update(a?at.sources.SILENT:s)}catch{}})}),this.emitter.on(at.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:a,endNode:o,endOffset:c}=s.range;this.setNativeRange(i,a,o,c),this.update(at.sources.SILENT)}}),this.update(at.sources.SILENT)}handleComposition(){this.emitter.on(at.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(at.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(at.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,ft.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof ge){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let s,[i,a]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&a===i.length()){const[d]=this.scroll.leaf(t+1);if(d){const[p]=this.scroll.line(t),[h]=this.scroll.line(t+1);p===h&&(i=d,a=0)}}[s,a]=i.position(a,!0);const o=document.createRange();if(e>0)return o.setStart(s,a),[i,a]=this.scroll.leaf(t+e),i==null?null:([s,a]=i.position(a,!0),o.setEnd(s,a),o.getBoundingClientRect());let c="left",f;if(s instanceof Text){if(!s.data.length)return null;a<s.data.length?(o.setStart(s,a),o.setEnd(s,a+1)):(o.setStart(s,a-1),o.setEnd(s,a),c="right"),f=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;f=i.domNode.getBoundingClientRect(),a>0&&(c="right")}return{bottom:f.top+f.height,height:f.height,left:f[c],right:f[c],top:f.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const r=this.normalizeNative(e);return lo.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&co(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const r=e.map(a=>{const[o,c]=a,f=this.scroll.find(o,!0),d=f.offset(this.scroll);return c===0?d:f instanceof ge?d+f.index(o,c):d+f.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new yr(i,s-i)}normalizeNative(t){if(!co(this.root,t.startContainer)||!t.collapsed&&!co(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),r=(s,i)=>{s=Math.min(e-1,s);const[a,o]=this.scroll.leaf(s);return a?a.position(o,i):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(lo.info("setNativeRange",t,e,r,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const a=document.getSelection();if(a!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(o==null||i||t!==o.startContainer||e!==o.startOffset||r!==o.endContainer||s!==o.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(t,e),c.setEnd(r,s),a.removeAllRanges(),a.addRange(c)}}else a.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:at.sources.API;if(typeof e=="string"&&(r=e,e=!1),lo.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at.sources.USER;const e=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!bl(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const i=[at.events.SELECTION_CHANGE,Yr(this.lastRange),Yr(e),t];this.emitter.emit(at.events.EDITOR_CHANGE,...i),t!==at.sources.SILENT&&this.emitter.emit(...i)}}}function co(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const l_=/^[ -~]*$/;class c_{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const r=Dc(t),s=new ut;return f_(r.ops.slice()).reduce((a,o)=>{const c=He.Op.length(o);let f=o.attributes||{},d=!1,p=!1;if(o.insert!=null){if(s.retain(c),typeof o.insert=="string"){const m=o.insert;p=!m.endsWith(`
`)&&(e<=a||!!this.scroll.descendant(Ue,a)[0]),this.scroll.insertAt(a,m);const[y,w]=this.scroll.line(a);let _=er({},Me(y));if(y instanceof oe){const[E]=y.descendant(ge,w);E&&(_=er(_,Me(E)))}f=He.AttributeMap.diff(_,f)||{}}else if(typeof o.insert=="object"){const m=Object.keys(o.insert)[0];if(m==null)return a;const y=this.scroll.query(m,ft.INLINE)!=null;if(y)(e<=a||this.scroll.descendant(Ue,a)[0])&&(p=!0);else if(a>0){const[w,_]=this.scroll.descendant(ge,a-1);w instanceof tn?w.value()[_]!==`
`&&(d=!0):w instanceof Re&&w.statics.scope===ft.INLINE_BLOT&&(d=!0)}if(this.scroll.insertAt(a,m,o.insert[m]),y){const[w]=this.scroll.descendant(ge,a);if(w){const _=er({},Me(w));f=He.AttributeMap.diff(_,f)||{}}}}e+=c}else if(s.push(o),o.retain!==null&&typeof o.retain=="object"){const m=Object.keys(o.retain)[0];if(m==null)return a;this.scroll.updateEmbedAt(a,m,o.retain[m])}Object.keys(f).forEach(m=>{this.scroll.formatAt(a,c,m,f[m])});const h=d?1:0,g=p?1:0;return e+=h+g,s.retain(h),s.delete(g),a+c+h+g},0),s.reduce((a,o)=>typeof o.delete=="number"?(this.scroll.deleteAt(a,o.delete),a):a+He.Op.length(o),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new ut().retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(a=>{a.format(i,r[i])})}),this.scroll.optimize();const s=new ut().retain(t).retain(e,Yr(r));return this.update(s)}formatText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(t,e,i,r[i])});const s=new ut().retain(t).retain(e,Yr(r));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new ut)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];e===0?this.scroll.path(t).forEach(o=>{const[c]=o;c instanceof oe?r.push(c):c instanceof ge&&s.push(c)}):(r=this.scroll.lines(t,e),s=this.scroll.descendants(ge,t,e));const[i,a]=[r,s].map(o=>{const c=o.shift();if(c==null)return{};let f=Me(c);for(;Object.keys(f).length>0;){const d=o.shift();if(d==null)return f;f=u_(Me(d),f)}return f});return{...i,...a}}getHTML(t,e){const[r,s]=this.scroll.line(t);if(r){const i=r.length();return r.length()>=s+e&&!(s===0&&e===i)?zs(r,s,e,!0):zs(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,e){const r=Dc(e),s=new ut().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(s)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update(new ut().retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(r).forEach(s=>{this.scroll.formatAt(t,e.length,s,r[s])}),this.update(new ut().retain(t).insert(e,Yr(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==oe.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof sn}removeFormat(t,e){const r=this.getText(t,e),[s,i]=this.scroll.line(t+e);let a=0,o=new ut;s!=null&&(a=s.length()-i,o=s.delta().slice(i,i+a-1).insert(`
`));const f=this.getContents(t,e+a).diff(new ut().insert(r).concat(o)),d=new ut().retain(t).concat(f);return this.applyDelta(d)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(l_)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),a=Me(i),o=i.offset(this.scroll),c=e[0].oldValue.replace(ss.CONTENTS,""),f=new ut().insert(c),d=new ut().insert(i.value()),p=r&&{oldRange:Pc(r.oldRange,-o),newRange:Pc(r.newRange,-o)};t=new ut().retain(o).concat(f.diff(d,p)).reduce((g,m)=>m.insert?g.insert(m.insert,a):g.push(m),new ut),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!bl(s.compose(t),this.delta))&&(t=s.diff(this.delta,r));return t}}function Fr(n,t,e){if(n.length===0){const[g]=uo(e.pop());return t<=0?`</li></${g}>`:`</li></${g}>${Fr([],t-1,e)}`}const[{child:r,offset:s,length:i,indent:a,type:o},...c]=n,[f,d]=uo(o);if(a>t)return e.push(o),a===t+1?`<${f}><li${d}>${zs(r,s,i)}${Fr(c,a,e)}`:`<${f}><li>${Fr(n,t+1,e)}`;const p=e[e.length-1];if(a===t&&o===p)return`</li><li${d}>${zs(r,s,i)}${Fr(c,a,e)}`;const[h]=uo(e.pop());return`</li></${h}>${Fr(n,t-1,e)}`}function zs(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof tn)return ca(n.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(n instanceof Xe){if(n.statics.blotName==="list-container"){const f=[];return n.children.forEachAt(t,e,(d,p,h)=>{const g="formats"in d&&typeof d.formats=="function"?d.formats():{};f.push({child:d,offset:p,length:h,indent:g.indent||0,type:g.list})}),Fr(f,-1,[])}const s=[];if(n.children.forEachAt(t,e,(f,d,p)=>{s.push(zs(f,d,p))}),r||n.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:a}=n.domNode,[o,c]=i.split(`>${a}<`);return o==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${c}`:`${o}>${s.join("")}<${c}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function u_(n,t){return Object.keys(t).reduce((e,r)=>{if(n[r]==null)return e;const s=t[r];return s===n[r]?e[r]=s:Array.isArray(s)?s.indexOf(n[r])<0?e[r]=s.concat([n[r]]):e[r]=s:e[r]=[s,n[r]],e},{})}function uo(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Dc(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const r=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,e.attributes)}return t.push(e)},new ut)}function Pc(n,t){let{index:e,length:r}=n;return new yr(e+t,r)}function f_(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class an{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}rt(an,"DEFAULTS",{});const ki="\uFEFF";class wl extends Re{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(ki),this.rightGuard=document.createTextNode(ki),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,r;const s=t.data.split(ki).join("");if(t===this.leftGuard)if(this.prev instanceof tn){const i=this.prev.length();this.prev.insertAt(i,s),e={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),e={startNode:r,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof tn?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),e={startNode:r,startOffset:s.length}));return t.data=ki,e}update(t,e){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(e.range=s)}})}}class h_{constructor(t,e){rt(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof wl)&&(this.emitter.emit(at.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(at.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(at.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(at.events.COMPOSITION_END,t),this.isComposing=!1}}const Ls=class Ls{constructor(t,e){rt(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};rt(Ls,"DEFAULTS",{modules:{}}),rt(Ls,"themes",{default:Ls});let is=Ls;const d_=n=>n.parentElement||n.getRootNode().host||null,p_=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*r,left:t.left}},Si=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},Bc=(n,t,e,r,s,i)=>n<e&&t>r?0:n<e?-(e-n+s):t>r?t-n>r-e?n+s-e:t-r+i:0,g_=(n,t)=>{var i,a,o;const e=n.ownerDocument;let r=t,s=n;for(;s;){const c=s===e.body,f=c?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??e.documentElement.clientHeight,left:0}:p_(s),d=getComputedStyle(s),p=Bc(r.left,r.right,f.left,f.right,Si(d.scrollPaddingLeft),Si(d.scrollPaddingRight)),h=Bc(r.top,r.bottom,f.top,f.bottom,Si(d.scrollPaddingTop),Si(d.scrollPaddingBottom));if(p||h)if(c)(o=e.defaultView)==null||o.scrollBy(p,h);else{const{scrollLeft:g,scrollTop:m}=s;h&&(s.scrollTop+=h),p&&(s.scrollLeft+=p);const y=s.scrollLeft-g,w=s.scrollTop-m;r={left:r.left-y,top:r.top-w,right:r.right-y,bottom:r.bottom-w}}s=c||d.position==="fixed"?null:d_(s)}},v_=100,m_=["block","break","cursor","inline","scroll","text"],b_=(n,t,e)=>{const r=new rs;return m_.forEach(s=>{const i=t.query(s);i&&r.register(i)}),n.forEach(s=>{let i=t.query(s);i||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,a+=1,a>v_){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},Xr=Fn("quill"),Oi=new rs;Xe.uiClass="ql-ui";const We=class We{static debug(t){t===!0&&(t="log"),Fn.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Mo.get(t)||Oi.find(t,e)}static import(t){return this.imports[t]==null&&Xr.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!r&&Xr.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&Oi.register(e),typeof e.register=="function"&&e.register(Oi)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=__(t,e),this.container=this.options.container,this.container==null){Xr.error("Invalid Quill container",t);return}this.options.debug&&We.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Mo.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new at;const s=yl.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new c_(this.scroll),this.selection=new o_(this.scroll,this.emitter),this.composition=new h_(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(at.events.EDITOR_CHANGE,a=>{a===at.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(at.events.SCROLL_UPDATE,(a,o)=>{const c=this.selection.lastRange,[f]=this.selection.getRange(),d=c&&f?{oldRange:c,newRange:f}:void 0;Ve.call(this,()=>this.editor.update(null,o,d),a)}),this.emitter.on(at.events.SCROLL_EMBED_UPDATE,(a,o)=>{const c=this.selection.lastRange,[f]=this.selection.getRange(),d=c&&f?{oldRange:c,newRange:f}:void 0;Ve.call(this,()=>{const p=new ut().retain(a.offset(this)).retain({[a.statics.blotName]:o});return this.editor.update(p,[],d)},We.sources.USER)}),r){const a=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=Dn(t,e,r),Ve.call(this,()=>this.editor.deleteText(t,e),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:at.sources.API;return Ve.call(this,()=>{const s=this.getSelection(!0);let i=new ut;if(s==null)return i;if(this.scroll.query(t,ft.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,at.sources.SILENT),i},r)}formatLine(t,e,r,s,i){let a;return[t,e,a,i]=Dn(t,e,r,s,i),Ve.call(this,()=>this.editor.formatLine(t,e,a),i,t,0)}formatText(t,e,r,s,i){let a;return[t,e,a,i]=Dn(t,e,r,s,i),Ve.call(this,()=>this.editor.formatText(t,e,a),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,e):r=this.selection.getBounds(t.index,t.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Dn(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Dn(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Dn(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:We.sources.API;return Ve.call(this,()=>this.editor.insertEmbed(t,e,r),s,t)}insertText(t,e,r,s,i){let a;return[t,,a,i]=Dn(t,0,r,s,i),Ve.call(this,()=>this.editor.insertText(t,e,a),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=Dn(t,e,r),Ve.call(this,()=>this.editor.removeFormat(t,e),r,t)}scrollRectIntoView(t){g_(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.sources.API;return Ve.call(this,()=>{t=new ut(t);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,t),a=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(a)},e)}setSelection(t,e,r){t==null?this.selection.setRange(null,e||We.sources.API):([t,e,,r]=Dn(t,e,r),this.selection.setRange(new yr(Math.max(0,t),e),r),r!==at.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.sources.API;const r=new ut().insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.sources.API;return Ve.call(this,()=>(t=new ut(t),this.editor.applyDelta(t)),e,!0)}};rt(We,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Oi,theme:"default"}),rt(We,"events",at.events),rt(We,"sources",at.sources),rt(We,"version","2.0.3"),rt(We,"imports",{delta:ut,parchment:J0,"core/module":an,"core/theme":is});let F=We;function Mc(n){return typeof n=="string"?document.querySelector(n):n}function fo(n){return Object.entries(n??{}).reduce((t,e)=>{let[r,s]=e;return{...t,[r]:s===!0?{}:s}},{})}function jc(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function __(n,t){const e=Mc(n);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===F.DEFAULTS.theme?is:F.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...a}=F.DEFAULTS,{modules:o,...c}=s.DEFAULTS;let f=fo(t.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const d=er({},fo(i),fo(o),f),p={...a,...jc(c),...jc(t)};let h=t.registry;return h?t.formats&&Xr.warn('Ignoring "formats" option because "registry" is specified'):h=t.formats?b_(t.formats,p.registry,Xr):p.registry,{...p,registry:h,container:e,theme:s,modules:Object.entries(d).reduce((g,m)=>{let[y,w]=m;if(!w)return g;const _=F.import(`modules/${y}`);return _==null?(Xr.error(`Cannot load ${y} module. Are you sure you registered it?`),g):{...g,[y]:er({},_.DEFAULTS||{},w)}},{}),bounds:Mc(p.bounds)}}function Ve(n,t,e,r){if(!this.isEnabled()&&t===at.sources.USER&&!this.allowReadOnlyEdits)return new ut;let s=e==null?null:this.getSelection();const i=this.editor.delta,a=n();if(s!=null&&(e===!0&&(e=s.index),r==null?s=Uc(s,a,t):r!==0&&(s=Uc(s,e,r,t)),this.setSelection(s,at.sources.SILENT)),a.length()>0){const o=[at.events.TEXT_CHANGE,a,i,t];this.emitter.emit(at.events.EDITOR_CHANGE,...o),t!==at.sources.SILENT&&this.emitter.emit(...o)}return a}function Dn(n,t,e,r,s){let i={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(s=r,r=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(s=r,r=e,e=t,t=0),typeof e=="object"?(i=e,s=r):typeof e=="string"&&(r!=null?i[e]=r:s=e),s=s||at.sources.API,[n,t,i,s]}function Uc(n,t,e,r){const s=typeof e=="number"?e:0;if(n==null)return null;let i,a;return t&&typeof t.transformPosition=="function"?[i,a]=[n.index,n.index+n.length].map(o=>t.transformPosition(o,r!==at.sources.USER)):[i,a]=[n.index,n.index+n.length].map(o=>o<t||o===t&&r===at.sources.USER?o:s>=0?o+s:Math.max(t,o+s)),new yr(i,a-i)}class Tr extends la{}function Fc(n){return n instanceof oe||n instanceof Ue}function Hc(n){return typeof n.updateContent=="function"}class Hr extends yl{constructor(t,e,r){let{emitter:s}=r;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(at.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(at.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(at.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[r,s]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&r!==i&&s>0){if(r instanceof Ue||i instanceof Ue){this.optimize();return}const a=i.children.head instanceof sn?null:i.children.head;r.moveChildren(i,a),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,s){super.formatAt(t,e,r,s),this.optimize()}insertAt(t,e,r){if(t>=this.length())if(r==null||this.scroll.query(e,ft.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),r):s.insertAt(0,e,r)}else{const s=this.scroll.create(e,r);this.appendChild(s)}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===ft.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){const r=this.deltaToRenderBlocks(e.concat(new ut().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const c=i.type==="block"&&(i.delta.length()===0||!this.descendant(Ue,t)[0]&&t<this.length()),f=i.type==="block"?i.delta:new ut().insert({[i.key]:i.value});ho(this,t,f);const d=i.type==="block"?1:0,p=t+f.length()+d;c&&this.insertAt(p-1,`
`);const h=Me(this.line(t)[0]),g=He.AttributeMap.diff(h,i.attributes)||{};Object.keys(g).forEach(m=>{this.formatAt(p-1,1,m,g[m])}),t=p}let[a,o]=this.children.find(t);if(r.length&&(a&&(a=a.split(o),o=0),r.forEach(c=>{if(c.type==="block"){const f=this.createBlock(c.attributes,a||void 0);ho(f,0,c.delta)}else{const f=this.create(c.key,c.value);this.insertBefore(f,a||void 0),Object.keys(c.attributes).forEach(d=>{f.format(d,c.attributes[d])})}})),s.type==="block"&&s.delta.length()){const c=a?a.offset(a.scroll)+o:this.length();ho(this,c,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[r,s]=e;return r instanceof ge?[r,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Fc,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,a)=>{let o=[],c=a;return s.children.forEachAt(i,a,(f,d,p)=>{Fc(f)?o.push(f):f instanceof la&&(o=o.concat(r(f,d,c))),c-=p}),o};return r(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(at.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=at.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!Hc(i)}),t.length>0&&this.emitter.emit(at.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(at.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){const[s]=this.descendant(i=>i instanceof Ue,t);s&&s.statics.blotName===e&&Hc(s)&&s.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let r=new ut;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const a=i.split(`
`);a.slice(0,-1).forEach(c=>{r.insert(c,s.attributes),e.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new ut});const o=a[a.length-1];o&&r.insert(o,s.attributes)}else{const a=Object.keys(i)[0];if(!a)return;this.query(a,ft.INLINE)?r.push(s):(r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new ut,e.push({type:"blockEmbed",key:a,value:i[a],attributes:s.attributes??{}}))}}),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;const s={};Object.entries(t).forEach(o=>{let[c,f]=o;this.query(c,ft.BLOCK&ft.BLOT)!=null?r=c:s[c]=f});const i=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(i,e||void 0);const a=i.length();return Object.entries(s).forEach(o=>{let[c,f]=o;i.formatAt(0,a,c,f)}),i}}rt(Hr,"blotName","scroll"),rt(Hr,"className","ql-editor"),rt(Hr,"tagName","DIV"),rt(Hr,"defaultChild",oe),rt(Hr,"allowedChildren",[oe,Ue,Tr]);function ho(n,t,e){e.reduce((r,s)=>{const i=He.Op.length(s);let a=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const o=s.insert;n.insertAt(r,o);const[c]=n.descendant(ge,r),f=Me(c);a=He.AttributeMap.diff(f,a)||{}}else if(typeof s.insert=="object"){const o=Object.keys(s.insert)[0];if(o==null)return r;if(n.insertAt(r,o,s.insert[o]),n.scroll.query(o,ft.INLINE)!=null){const[f]=n.descendant(ge,r),d=Me(f);a=He.AttributeMap.diff(d,a)||{}}}}return Object.keys(a).forEach(o=>{n.formatAt(r,i,o,a[o])}),r+i},t)}const El={scope:ft.BLOCK,whitelist:["right","center","justify"]},y_=new An("align","align",El),Bf=new rn("align","ql-align",El),Mf=new or("align","text-align",El);class jf extends or{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const w_=new rn("color","ql-color",{scope:ft.INLINE}),xl=new jf("color","color",{scope:ft.INLINE}),E_=new rn("background","ql-bg",{scope:ft.INLINE}),Al=new jf("background","background-color",{scope:ft.INLINE});class Nr extends Tr{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${ca(this.code(t,e))}
</pre>`}}class me extends oe{static register(){F.register(Nr)}}rt(me,"TAB","  ");class Tl extends Tn{}Tl.blotName="code";Tl.tagName="CODE";me.blotName="code-block";me.className="ql-code-block";me.tagName="DIV";Nr.blotName="code-block-container";Nr.className="ql-code-block-container";Nr.tagName="DIV";Nr.allowedChildren=[me];me.allowedChildren=[tn,sn,ss];me.requiredContainer=Nr;const Nl={scope:ft.BLOCK,whitelist:["rtl"]},Uf=new An("direction","dir",Nl),Ff=new rn("direction","ql-direction",Nl),Hf=new or("direction","direction",Nl),zf={scope:ft.INLINE,whitelist:["serif","monospace"]},Kf=new rn("font","ql-font",zf);class x_ extends or{value(t){return super.value(t).replace(/["']/g,"")}}const Gf=new x_("font","font-family",zf),Vf=new rn("size","ql-size",{scope:ft.INLINE,whitelist:["small","large","huge"]}),Wf=new or("size","font-size",{scope:ft.INLINE,whitelist:["10px","18px","32px"]}),A_=Fn("quill:keyboard"),T_=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class ua extends an{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!e[r]!==t[r]&&e[r]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=k_(t);if(s==null){A_.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(a=>{const o={...s,key:a,...e,...r};this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(_=>ua.match(t,_));if(s.length===0)return;const i=F.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[o,c]=this.quill.getLine(a.index),[f,d]=this.quill.getLeaf(a.index),[p,h]=a.length===0?[f,d]:this.quill.getLeaf(a.index+a.length),g=f instanceof Yi?f.value().slice(0,d):"",m=p instanceof Yi?p.value().slice(h):"",y={collapsed:a.length===0,empty:a.length===0&&o.length()<=1,format:this.quill.getFormat(a),line:o,offset:c,prefix:g,suffix:m,event:t};s.some(_=>{if(_.collapsed!=null&&_.collapsed!==y.collapsed||_.empty!=null&&_.empty!==y.empty||_.offset!=null&&_.offset!==y.offset)return!1;if(Array.isArray(_.format)){if(_.format.every(E=>y.format[E]==null))return!1}else if(typeof _.format=="object"&&!Object.keys(_.format).every(E=>_.format[E]===!0?y.format[E]!=null:_.format[E]===!1?y.format[E]==null:bl(_.format[E],y.format[E])))return!1;return _.prefix!=null&&!_.prefix.test(y.prefix)||_.suffix!=null&&!_.suffix.test(y.suffix)?!1:_.handler.call(this,a,y,_)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let a=new ut().retain(t.index-r).delete(r);if(e.offset===0){const[o]=this.quill.getLine(t.index-1);if(o&&!(o.statics.blotName==="block"&&o.length()<=1)){const f=i.formats(),d=this.quill.getFormat(t.index-1,1);if(s=He.AttributeMap.diff(f,d)||{},Object.keys(s).length>0){const p=new ut().retain(t.index+i.length()-2).retain(1,s);a=a.compose(p)}}}this.quill.updateContents(a,F.sources.USER),this.quill.focus()}handleDelete(t,e){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(t.index);let a=new ut().retain(t.index).delete(r);if(e.offset>=i.length()-1){const[o]=this.quill.getLine(t.index+1);if(o){const c=i.formats(),f=this.quill.getFormat(t.index,1);s=He.AttributeMap.diff(c,f)||{},Object.keys(s).length>0&&(a=a.retain(o.length()-1).retain(1,s))}}this.quill.updateContents(a,F.sources.USER),this.quill.focus()}handleDeleteRange(t){kl({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const r=Object.keys(e.format).reduce((i,a)=>(this.quill.scroll.query(a,ft.BLOCK)&&!Array.isArray(e.format[a])&&(i[a]=e.format[a]),i),{}),s=new ut().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(s,F.sources.USER),this.quill.setSelection(t.index+1,F.sources.SILENT),this.quill.focus()}}const N_={bindings:{bold:po("bold"),italic:po("italic"),underline:po("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",F.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",F.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",F.sources.USER):t.format.list!=null&&this.quill.format("list",!1,F.sources.USER)}},"indent code-block":zc(!0),"outdent code-block":zc(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,F.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new ut().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,F.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,F.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,F.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,F.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),r={...t.formats(),list:"checked"},s=new ut().retain(n.index).insert(`
`,r).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,F.sources.USER),this.quill.setSelection(n.index+1,F.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,r]=this.quill.getLine(n.index),s=new ut().retain(n.index).insert(`
`,t.format).retain(e.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,F.sources.USER),this.quill.setSelection(n.index+1,F.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,r,s,i]=t.getTable(n),a=S_(e,r,s,i);if(a==null)return;let o=e.offset();if(a<0){const c=new ut().retain(o).insert(`
`);this.quill.updateContents(c,F.sources.USER),this.quill.setSelection(n.index+1,n.length,F.sources.SILENT)}else if(a>0){o+=e.length();const c=new ut().retain(o).insert(`
`);this.quill.updateContents(c,F.sources.USER),this.quill.setSelection(o,F.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:r}=t,s=r.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,F.sources.USER):this.quill.setSelection(s+r.length(),F.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[r,s]=this.quill.getLine(n.index);if(s>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(n.index," ",F.sources.USER),this.quill.history.cutoff();const a=new ut().retain(n.index-s).delete(e+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(a,F.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,F.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let r=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new ut().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,F.sources.USER),this.quill.setSelection(n.index-1,F.sources.SILENT),!1}return!0}},"embed left":Li("ArrowLeft",!1),"embed left shift":Li("ArrowLeft",!0),"embed right":Li("ArrowRight",!1),"embed right shift":Li("ArrowRight",!0),"table down":Kc(!1),"table up":Kc(!0)}};ua.DEFAULTS=N_;function zc(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:r}=e;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,i,F.sources.USER),this.quill.setSelection(t.index+i.length,F.sources.SILENT);return}const a=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:o,length:c}=t;a.forEach((f,d)=>{n?(f.insertAt(0,i),d===0?o+=i.length:c+=i.length):f.domNode.textContent.startsWith(i)&&(f.deleteAt(0,i.length),d===0?o-=i.length:c-=i.length)}),this.quill.update(F.sources.USER),this.quill.setSelection(o,c,F.sources.SILENT)}}}function Li(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;n==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof Re?(n==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,F.sources.USER):this.quill.setSelection(r.index-1,F.sources.USER):t?this.quill.setSelection(r.index,r.length+1,F.sources.USER):this.quill.setSelection(r.index+r.length+1,F.sources.USER),!1):!0}}}function po(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],F.sources.USER)}}}function Kc(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const r=n?"prev":"next",s=e.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let a=i.children.head,o=s;for(;o.prev!=null;)o=o.prev,a=a.next;const c=a.offset(this.quill.scroll)+Math.min(e.offset,a.length()-1);this.quill.setSelection(c,0,F.sources.USER)}}else{const a=s.table()[r];a!=null&&(n?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,F.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,F.sources.USER))}return!1}}}function k_(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Yr(n);else return null;return n.shortKey&&(n[T_]=n.shortKey,delete n.shortKey),n}function kl(n){let{quill:t,range:e}=n;const r=t.getLines(e);let s={};if(r.length>1){const i=r[0].formats(),a=r[r.length-1].formats();s=He.AttributeMap.diff(a,i)||{}}t.deleteText(e,F.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,F.sources.USER),t.setSelection(e.index,F.sources.SILENT)}function S_(n,t,e,r){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?r===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const O_=/font-weight:\s*normal/,L_=["P","OL","UL"],Gc=n=>n&&L_.includes(n.tagName),C_=n=>{Array.from(n.querySelectorAll("br")).filter(t=>Gc(t.previousElementSibling)&&Gc(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},q_=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(O_)}).forEach(t=>{var r;const e=n.createDocumentFragment();e.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(e,t)})};function $_(n){n.querySelector('[id^="docs-internal-guid-"]')&&(q_(n),C_(n))}const I_=/\bmso-list:[^;]*ignore/i,R_=/\bmso-list:[^;]*\bl(\d+)/i,D_=/\bmso-list:[^;]*\blevel(\d+)/i,P_=(n,t)=>{const e=n.getAttribute("style"),r=e==null?void 0:e.match(R_);if(!r)return null;const s=Number(r[1]),i=e==null?void 0:e.match(D_),a=i?Number(i[1]):1,o=new RegExp(`@list l${s}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(o),f=c&&c[1]==="bullet"?"bullet":"ordered";return{id:s,indent:a,type:f,element:n}},B_=n=>{var a,o;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],r=[];t.forEach(c=>{(c.getAttribute("style")||"").match(I_)?e.push(c):r.push(c)}),e.forEach(c=>{var f;return(f=c.parentNode)==null?void 0:f.removeChild(c)});const s=n.documentElement.innerHTML,i=r.map(c=>P_(c,s)).filter(c=>c);for(;i.length;){const c=[];let f=i.shift();for(;f;)c.push(f),f=i.length&&((a=i[0])==null?void 0:a.element)===f.element.nextElementSibling&&i[0].id===f.id?i.shift():null;const d=document.createElement("ul");c.forEach(g=>{const m=document.createElement("li");m.setAttribute("data-list",g.type),g.indent>1&&m.setAttribute("class",`ql-indent-${g.indent-1}`),m.innerHTML=g.element.innerHTML,d.appendChild(m)});const p=(o=c[0])==null?void 0:o.element,{parentNode:h}=p??{};p&&(h==null||h.replaceChild(d,p)),c.slice(1).forEach(g=>{let{element:m}=g;h==null||h.removeChild(m)})}};function M_(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&B_(n)}const j_=[M_,$_],U_=n=>{n.documentElement&&j_.forEach(t=>{t(n)})},F_=Fn("quill:clipboard"),H_=[[Node.TEXT_NODE,ey],[Node.TEXT_NODE,Wc],["br",W_],[Node.ELEMENT_NODE,Wc],[Node.ELEMENT_NODE,V_],[Node.ELEMENT_NODE,G_],[Node.ELEMENT_NODE,Q_],["li",J_],["ol, ul",X_],["pre",Z_],["tr",ty],["b",go("bold")],["i",go("italic")],["strike",go("strike")],["style",Y_]],z_=[y_,Uf].reduce((n,t)=>(n[t.keyName]=t,n),{}),Vc=[Mf,Al,xl,Hf,Gf,Wf].reduce((n,t)=>(n[t.keyName]=t,n),{});class Zf extends an{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],H_.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[me.blotName])return new ut().insert(r||"",{[me.blotName]:s[me.blotName]});if(!e)return new ut().insert(r||"",s);const i=this.convertHTML(e);return ri(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new ut().retain(i.length()-1).delete(1)):i}normalizeHTML(t){U_(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const r=e.body,s=new WeakMap,[i,a]=this.prepareMatching(r,s);return Sl(this.quill.scroll,r,i,a,s)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,F.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new ut().retain(t).concat(s),r),this.quill.setSelection(t+s.length(),F.sources.SILENT)}}onCaptureCopy(t){var a,o;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,e);(a=t.clipboardData)==null||a.setData("text/plain",i),(o=t.clipboardData)==null||o.setData("text/html",s),e&&kl({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var a,o,c,f,d;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const r=(a=t.clipboardData)==null?void 0:a.getData("text/html");let s=(o=t.clipboardData)==null?void 0:o.getData("text/plain");if(!r&&!s){const p=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");p&&(s=this.normalizeURIList(p))}const i=Array.from(((f=t.clipboardData)==null?void 0:f.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(e,i);return}if(r&&i.length>0){const p=new DOMParser().parseFromString(r,"text/html");if(p.body.childElementCount===1&&((d=p.body.firstElementChild)==null?void 0:d.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:r,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:s}=e;const i=this.quill.getFormat(t.index),a=this.convert({text:r,html:s},i);F_.log("onPaste",a,{text:r,html:s});const o=new ut().retain(t.index).delete(t.length).concat(a);this.quill.updateContents(o,F.sources.USER),this.quill.setSelection(o.length()-t.length,F.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const r=[],s=[];return this.matchers.forEach(i=>{const[a,o]=i;switch(a){case Node.TEXT_NODE:s.push(o);break;case Node.ELEMENT_NODE:r.push(o);break;default:Array.from(t.querySelectorAll(a)).forEach(c=>{if(e.has(c)){const f=e.get(c);f==null||f.push(o)}else e.set(c,[o])});break}}),[r,s]}}rt(Zf,"DEFAULTS",{matchers:[]});function kr(n,t,e,r){return r.query(t)?n.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const a=e?{[t]:e}:{};return s.insert(i.insert,{...a,...i.attributes})},new ut):n}function ri(n,t){let e="";for(let r=n.ops.length-1;r>=0&&e.length<t.length;--r){const s=n.ops[r];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function Yn(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof Re?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function K_(n,t){return n.previousElementSibling&&n.nextElementSibling&&!Yn(n.previousElementSibling,t)&&!Yn(n.nextElementSibling,t)}const Ci=new WeakMap;function Yf(n){return n==null?!1:(Ci.has(n)||(n.tagName==="PRE"?Ci.set(n,!0):Ci.set(n,Yf(n.parentNode))),Ci.get(n))}function Sl(n,t,e,r,s){return t.nodeType===t.TEXT_NODE?r.reduce((i,a)=>a(t,i,n),new ut):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,a)=>{let o=Sl(n,a,e,r,s);return a.nodeType===t.ELEMENT_NODE&&(o=e.reduce((c,f)=>f(a,c,n),o),o=(s.get(a)||[]).reduce((c,f)=>f(a,c,n),o)),i.concat(o)},new ut):new ut}function go(n){return(t,e,r)=>kr(e,n,!0,r)}function G_(n,t,e){const r=An.keys(n),s=rn.keys(n),i=or.keys(n),a={};return r.concat(s).concat(i).forEach(o=>{let c=e.query(o,ft.ATTRIBUTE);c!=null&&(a[c.attrName]=c.value(n),a[c.attrName])||(c=z_[o],c!=null&&(c.attrName===o||c.keyName===o)&&(a[c.attrName]=c.value(n)||void 0),c=Vc[o],c!=null&&(c.attrName===o||c.keyName===o)&&(c=Vc[o],a[c.attrName]=c.value(n)||void 0))}),Object.entries(a).reduce((o,c)=>{let[f,d]=c;return kr(o,f,d,e)},t)}function V_(n,t,e){const r=e.query(n);if(r==null)return t;if(r.prototype instanceof Re){const s={},i=r.value(n);if(i!=null)return s[r.blotName]=i,new ut().insert(s,r.formats(n,e))}else if(r.prototype instanceof Hs&&!ri(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return kr(t,r.blotName,r.formats(n,e),e);return t}function W_(n,t){return ri(t,`
`)||t.insert(`
`),t}function Z_(n,t,e){const r=e.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,e):!0;return kr(t,"code-block",s,e)}function Y_(){return new ut}function J_(n,t,e){const r=e.query(n);if(r==null||r.blotName!=="list"||!ri(t,`
`))return t;let s=-1,i=n.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((a,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?a.push(o):a.insert(o.insert,{indent:s,...o.attributes||{}}):a,new ut)}function X_(n,t,e){const r=n;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),kr(t,"list",s,e)}function Wc(n,t,e){if(!ri(t,`
`)){if(Yn(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(Yn(r,e))return t.insert(`
`);const s=e.query(r);if(s&&s.prototype instanceof Ue)return t.insert(`
`);r=r.firstChild}}}return t}function Q_(n,t,e){var i;const r={},s=n.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((a,o)=>{let[c,f]=o;return kr(a,c,f,e)},t),parseFloat(s.textIndent||0)>0?new ut().insert("	").concat(t):t}function ty(n,t,e){var s,i;const r=((s=n.parentElement)==null?void 0:s.tagName)==="TABLE"?n.parentElement:(i=n.parentElement)==null?void 0:i.parentElement;if(r!=null){const o=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return kr(t,"table",o,e)}return t}function ey(n,t,e){var s;let r=n.data;if(((s=n.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(r.trim());if(!Yf(n)){if(r.trim().length===0&&r.includes(`
`)&&!K_(n,e))return t;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Yn(n.parentElement,e)||n.previousSibling instanceof Element&&Yn(n.previousSibling,e))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Yn(n.parentElement,e)||n.nextSibling instanceof Element&&Yn(n.nextSibling,e))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return t.insert(r)}class Jf extends an{constructor(e,r){super(e,r);rt(this,"lastRecorded",0);rt(this,"ignoreChange",!1);rt(this,"stack",{undo:[],redo:[]});rt(this,"currentRange",null);this.quill.on(F.events.EDITOR_CHANGE,(s,i,a,o)=>{s===F.events.SELECTION_CHANGE?i&&o!==F.sources.SILENT&&(this.currentRange=i):s===F.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===F.sources.USER?this.record(i,a):this.transform(i)),this.currentRange=Fo(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,r){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const i=this.quill.getContents(),a=s.delta.invert(i);this.stack[r].push({delta:a,range:Fo(s.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,F.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,r){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(r),i=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(s=s.compose(o.delta),i=o.range)}else this.lastRecorded=a;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Zc(this.stack.undo,e),Zc(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,F.sources.USER);else{const r=ry(this.quill.scroll,e.delta);this.quill.setSelection(r,F.sources.USER)}}}rt(Jf,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Zc(n,t){let e=t;for(let r=n.length-1;r>=0;r-=1){const s=n[r];n[r]={delta:e.transform(s.delta,!0),range:s.range&&Fo(s.range,e)},e=s.delta.transform(e),n[r].delta.length()===0&&n.splice(r,1)}}function ny(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(r=>n.query(r,ft.BLOCK)!=null):!1}function ry(n,t){const e=t.reduce((s,i)=>s+(i.delete||0),0);let r=t.length()-e;return ny(n,t)&&(r-=1),r}function Fo(n,t){if(!n)return n;const e=t.transformPosition(n.index),r=t.transformPosition(n.index+n.length);return{index:e,length:r-e}}class Xf extends an{constructor(t,e){super(t,e),t.root.addEventListener("drop",r=>{var a;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(o.offsetNode,o.offset),s.setEnd(o.offsetNode,o.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const o=t.selection.normalizedToRange(i);(a=r.dataTransfer)!=null&&a.files&&this.upload(o,r.dataTransfer.files)}})}upload(t,e){const r=[];Array.from(e).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,t,r)}}Xf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){if(!this.quill.scroll.query("image"))return;const e=t.map(r=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(r)}));Promise.all(e).then(r=>{const s=r.reduce((i,a)=>i.insert({image:a}),new ut().retain(n.index).delete(n.length));this.quill.updateContents(s,at.sources.USER),this.quill.setSelection(n.index+r.length,at.sources.SILENT)})}};const sy=["insertText","insertReplacementText"];class iy extends an{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(F.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){kl({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new ut().retain(t.index).insert(e,r),F.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,F.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!sy.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const r=ay(t);if(r==null)return;const s=this.quill.selection.normalizeNative(e),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function ay(n){var t;return typeof n.data=="string"?n.data:(t=n.dataTransfer)!=null&&t.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const oy=/Mac/i.test(navigator.platform),ly=100,cy=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||oy&&n.key==="a"&&n.ctrlKey===!0);class uy extends an{constructor(e,r){super(e,r);rt(this,"isListening",!1);rt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,r){let{line:s,event:i}=r;if(!(s instanceof Xe)||!s.uiNode)return!0;const a=getComputedStyle(s.domNode).direction==="rtl";return a&&i.key!=="ArrowRight"||!a&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),F.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&cy(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+ly,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const r=e.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof Xe)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(i)}}F.register({"blots/block":oe,"blots/block/embed":Ue,"blots/break":sn,"blots/container":Tr,"blots/cursor":ss,"blots/embed":wl,"blots/inline":Tn,"blots/scroll":Hr,"blots/text":tn,"modules/clipboard":Zf,"modules/history":Jf,"modules/keyboard":ua,"modules/uploader":Xf,"modules/input":iy,"modules/uiNode":uy});class fy extends rn{add(t,e){let r=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;r=e==="+1"?s+1:s-1}else typeof e=="number"&&(r=e);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const hy=new fy("indent","ql-indent",{scope:ft.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ho extends oe{}rt(Ho,"blotName","blockquote"),rt(Ho,"tagName","blockquote");class zo extends oe{static formats(t){return this.tagName.indexOf(t.tagName)+1}}rt(zo,"blotName","header"),rt(zo,"tagName",["H1","H2","H3","H4","H5","H6"]);class si extends Tr{}si.blotName="list-container";si.tagName="OL";class ii extends oe{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){F.register(si)}constructor(t,e){super(t,e);const r=e.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const a=this.statics.formats(e,t);a==="checked"?(this.format("list","unchecked"),i.preventDefault()):a==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}ii.blotName="list";ii.tagName="LI";si.allowedChildren=[ii];ii.requiredContainer=si;class Ks extends Tn{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}rt(Ks,"blotName","bold"),rt(Ks,"tagName",["STRONG","B"]);class Ko extends Ks{}rt(Ko,"blotName","italic"),rt(Ko,"tagName",["EM","I"]);class Jn extends Tn{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Qf(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}rt(Jn,"blotName","link"),rt(Jn,"tagName","A"),rt(Jn,"SANITIZED_URL","about:blank"),rt(Jn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Qf(n,t){const e=document.createElement("a");e.href=n;const r=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(r)>-1}class Go extends Tn{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}rt(Go,"blotName","script"),rt(Go,"tagName",["SUB","SUP"]);class Vo extends Ks{}rt(Vo,"blotName","strike"),rt(Vo,"tagName",["S","STRIKE"]);class Wo extends Tn{}rt(Wo,"blotName","underline"),rt(Wo,"tagName","U");class Ri extends wl{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}rt(Ri,"blotName","formula"),rt(Ri,"className","ql-formula"),rt(Ri,"tagName","SPAN");const Yc=["alt","height","width"];class Zo extends Re{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Yc.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Qf(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Yc.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}rt(Zo,"blotName","image"),rt(Zo,"tagName","IMG");const Jc=["height","width"];class Di extends Ue{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Jc.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static sanitize(t){return Jn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Jc.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}rt(Di,"blotName","video"),rt(Di,"className","ql-video"),rt(Di,"tagName","IFRAME");const Ns=new rn("code-token","hljs",{scope:ft.INLINE});class Mn extends Tn{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(me.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,r){super(t,e,r),Ns.add(this.domNode,r)}format(t,e){t!==Mn.blotName?super.format(t,e):e?Ns.add(this.domNode,e):(Ns.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ns.value(this.domNode)||this.unwrap()}}Mn.blotName="code-token";Mn.className="ql-token";class je extends me{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Mn.blotName,!1),super.replaceWith(t,e)}}class Os extends Nr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===je.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,e)}))}formatAt(t,e,r,s){r===je.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,i=je.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const a=this.children.reduce((c,f)=>c.concat(Df(f,!1)),new ut),o=t(s,i);a.diff(o).reduce((c,f)=>{let{retain:d,attributes:p}=f;return d?(p&&Object.keys(p).forEach(h=>{[je.blotName,Mn.blotName].includes(h)&&this.formatAt(c,d,h,p[h])}),c+d):c},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[r]=this.children.find(t);return`<pre data-language="${r?je.formats(r.domNode):"plain"}">
${ca(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=je.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Os.allowedChildren=[je];je.requiredContainer=Os;je.allowedChildren=[Mn,ss,tn,sn];const dy=(n,t,e)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class th extends an{static register(){F.register(Mn,!0),F.register(je,!0),F.register(Os,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(F.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Os))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const a=e.ownerDocument.createElement("option");a.textContent=i,a.setAttribute("value",s),e.appendChild(a)}),e.addEventListener("change",()=>{t.format(je.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=je.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(F.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(F.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Os):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(F.sources.SILENT),r!=null&&this.quill.setSelection(r,F.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return ca(t).split(`
`).reduce((s,i,a)=>(a!==0&&s.insert(`
`,{[me.blotName]:e}),s.insert(i)),new ut);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(me.className),r.innerHTML=dy(this.options.hljs,e,t),Sl(this.quill.scroll,r,[(s,i)=>{const a=Ns.value(s);return a?i.compose(new ut().retain(i.length(),{[Mn.blotName]:a})):i}],[(s,i)=>s.data.split(`
`).reduce((a,o,c)=>(c!==0&&a.insert(`
`,{[me.blotName]:e}),a.insert(o)),i)],new WeakMap)}}th.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Cs=class Cs extends oe{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Ol()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Cs.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};rt(Cs,"blotName","table"),rt(Cs,"tagName","TD");let Ye=Cs;class jn extends Tr{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const r=e.formats(),s=e.next.formats();if(r.table!==s.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}rt(jn,"blotName","table-row"),rt(jn,"tagName","TR");class xn extends Tr{}rt(xn,"blotName","table-body"),rt(xn,"tagName","TBODY");class as extends Tr{balanceCells(){const t=this.descendants(jn),e=t.reduce((r,s)=>Math.max(s.children.length,r),0);t.forEach(r=>{new Array(e-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=Ye.formats(r.children.head.domNode));const i=this.scroll.create(Ye.blotName,s);r.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(xn);e==null||e.children.head==null||e.children.forEach(r=>{const s=r.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(xn);e==null||e.children.head==null||e.children.forEach(r=>{const s=r.children.at(t),i=Ye.formats(r.children.head.domNode),a=this.scroll.create(Ye.blotName,i);r.insertBefore(a,s)})}insertRow(t){const[e]=this.descendant(xn);if(e==null||e.children.head==null)return;const r=Ol(),s=this.scroll.create(jn.blotName);e.children.head.children.forEach(()=>{const a=this.scroll.create(Ye.blotName,r);s.appendChild(a)});const i=e.children.at(t);e.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}rt(as,"blotName","table-container"),rt(as,"tagName","TABLE");as.allowedChildren=[xn];xn.requiredContainer=as;xn.allowedChildren=[jn];jn.requiredContainer=xn;jn.allowedChildren=[Ye];Ye.requiredContainer=jn;function Ol(){return`row-${Math.random().toString(36).slice(2,6)}`}class py extends an{static register(){F.register(Ye),F.register(jn),F.register(xn),F.register(as)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(as).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(F.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(F.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(F.sources.USER),this.quill.setSelection(e,F.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,r]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Ye.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,r]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[r,s,i]=this.getTable(e);if(i==null)return;const a=i.cellOffset();r.insertColumn(a+t),this.quill.update(F.sources.USER);let o=s.rowOffset();t===0&&(o+=1),this.quill.setSelection(e.index+o,e.length,F.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[r,s,i]=this.getTable(e);if(i==null)return;const a=s.rowOffset();r.insertRow(a+t),this.quill.update(F.sources.USER),t>0?this.quill.setSelection(e,F.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,F.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const r=this.quill.getSelection();if(r==null)return;const s=new Array(t).fill(0).reduce(i=>{const a=new Array(e).fill(`
`).join("");return i.insert(a,{table:Ol()})},new ut().retain(r.index));this.quill.updateContents(s,F.sources.USER),this.quill.setSelection(r.index,F.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(F.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(F.events.TEXT_CHANGE,(r,s,i)=>{i===F.sources.USER&&this.balanceTables()}),!0):!1)})}}const Xc=Fn("quill:toolbar");class Ll extends an{constructor(t,e){var r,s;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),gy(i,this.options.container),(s=(r=t.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Xc.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var o;const a=(o=this.options.handlers)==null?void 0:o[i];a&&this.addHandler(i,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(F.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Xc.warn("ignoring attaching to nonexistent format",e,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const o=t.options[t.selectedIndex];o.hasAttribute("selected")?i=!1:i=o.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof Re){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new ut().retain(a.index).delete(a.length).insert({[e]:i}),F.sources.USER)}else this.quill.format(e,i,F.sources.USER);this.update(a)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let a=null;if(t==null)a=null;else if(e[s]==null)a=i.querySelector("option[selected]");else if(!Array.isArray(e[s])){let o=e[s];typeof o=="string"&&(o=o.replace(/"/g,'\\"')),a=i.querySelector(`option[value="${o}"]`)}a==null?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const a=e[s],o=a===i.getAttribute("value")||a!=null&&a.toString()===i.getAttribute("value")||a==null&&!i.getAttribute("value");i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}else{const a=e[s]!=null;i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}})}}Ll.DEFAULTS={};function Qc(n,t,e){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),e!=null?(r.value=e,r.setAttribute("aria-label",`${t}: ${e}`)):r.setAttribute("aria-label",t),n.appendChild(r)}function gy(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const r=document.createElement("span");r.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")Qc(r,s);else{const i=Object.keys(s)[0],a=s[i];Array.isArray(a)?vy(r,i,a):Qc(r,i,a)}}),n.appendChild(r)})}function vy(n,t,e){const r=document.createElement("select");r.classList.add(`ql-${t}`),e.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),n.appendChild(r)}Ll.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,ft.INLINE)!=null&&this.quill.format(e,!1,F.sources.USER)})}else this.quill.removeFormat(n.index,n.length,F.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",F.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,F.sources.USER),this.quill.format("direction",n,F.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),r=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let s=n==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,F.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,F.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,F.sources.USER):this.quill.format("list","unchecked",F.sources.USER):this.quill.format("list",n,F.sources.USER)}}};const my='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',by='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',_y='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',yy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',wy='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Ey='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',xy='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Ay='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',tu='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Ty='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Ny='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',ky='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Sy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Oy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Ly='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Cy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',qy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',$y='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Iy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Ry='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Dy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Py='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',By='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',My='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',jy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Uy='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Fy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Hy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',zy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Ky='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Gy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Vy='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Wy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Gs={align:{"":my,center:by,right:_y,justify:yy},background:wy,blockquote:Ey,bold:xy,clean:Ay,code:tu,"code-block":tu,color:Ty,direction:{"":Ny,rtl:ky},formula:Sy,header:{1:Oy,2:Ly,3:Cy,4:qy,5:$y,6:Iy},italic:Ry,image:Dy,indent:{"+1":Py,"-1":By},link:My,list:{bullet:jy,check:Uy,ordered:Fy},script:{sub:Hy,super:zy},strike:Ky,table:Gy,underline:Vy,video:Wy},Zy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let eu=0;function nu(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class fa{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),nu(this.label,"aria-expanded"),nu(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=Zy,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${eu}`,eu+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const r=this.buildItem(e);t.appendChild(r),e.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class eh extends fa{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const r=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class nh extends fa{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=e[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Yy=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class rh{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Yy(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let a=0;if(i.right>s.right&&(a=s.right-i.right,this.root.style.left=`${e+a}px`),i.left<s.left&&(a=s.left-i.left,this.root.style.left=`${e+a}px`),i.bottom>s.bottom){const o=i.bottom-i.top,c=t.bottom-t.top+o;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Jy=[!1,"center","right","justify"],Xy=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Qy=[!1,"serif","monospace"],t2=["1","2","3",!1],e2=["small",!1,"large","huge"];class ai extends is{constructor(t,e){super(t,e);const r=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")r.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")r.innerHTML=e[i];else{const a=r.value||"";a!=null&&e[i][a]&&(r.innerHTML=e[i][a])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Es(s,Jy),typeof e.align=="object"))return new nh(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Es(s,Xy,i==="background"?"#ffffff":"#000000"),new eh(s,e[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Es(s,Qy):s.classList.contains("ql-header")?Es(s,t2):s.classList.contains("ql-size")&&Es(s,e2)),new fa(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(at.events.EDITOR_CHANGE,r)}}ai.DEFAULTS=er({},is.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class sh extends rh{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,at.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,at.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=n2(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,at.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",at.sources.USER),this.quill.setSelection(r+2,at.sources.USER)}break}}this.textbox.value="",this.hide()}}function n2(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function Es(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const s=document.createElement("option");r===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),n.appendChild(s)})}const r2=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ih extends sh{constructor(t,e){super(t,e),this.quill.on(at.events.EDITOR_CHANGE,(r,s,i,a)=>{if(r===at.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&a===at.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const o=this.quill.getLines(s.index,s.length);if(o.length===1){const c=this.quill.getBounds(s);c!=null&&this.position(c)}else{const c=o[o.length-1],f=this.quill.getIndex(c),d=Math.min(c.length()-1,s.index+s.length-f),p=this.quill.getBounds(new yr(f,d));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(at.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",e!==0&&(r.style.marginLeft=`${-1*e-r.offsetWidth/2}px`),e}}rt(ih,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class ah extends ai{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=r2),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new ih(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Gs),this.buildPickers(t.container.querySelectorAll("select"),Gs))}}ah.DEFAULTS=er({},ai.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,F.sources.USER)}}}}});const s2=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class oh extends sh{constructor(){super(...arguments);rt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,at.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(at.events.SELECTION_CHANGE,(e,r,s)=>{if(e!=null){if(e.length===0&&s===at.sources.USER){const[i,a]=this.quill.scroll.descendant(Jn,e.index);if(i!=null){this.linkRange=new yr(e.index-a,i.length());const o=Jn.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}rt(oh,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class lh extends ai{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=s2),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Gs),this.buildPickers(t.container.querySelectorAll("select"),Gs),this.tooltip=new oh(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,r)=>{t.handlers.link.call(t,!r.format.link)}))}}lh.DEFAULTS=er({},ai.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1,F.sources.USER)}}}}});F.register({"attributors/attribute/direction":Uf,"attributors/class/align":Bf,"attributors/class/background":E_,"attributors/class/color":w_,"attributors/class/direction":Ff,"attributors/class/font":Kf,"attributors/class/size":Vf,"attributors/style/align":Mf,"attributors/style/background":Al,"attributors/style/color":xl,"attributors/style/direction":Hf,"attributors/style/font":Gf,"attributors/style/size":Wf},!0);F.register({"formats/align":Bf,"formats/direction":Ff,"formats/indent":hy,"formats/background":Al,"formats/color":xl,"formats/font":Kf,"formats/size":Vf,"formats/blockquote":Ho,"formats/code-block":me,"formats/header":zo,"formats/list":ii,"formats/bold":Ks,"formats/code":Tl,"formats/italic":Ko,"formats/link":Jn,"formats/script":Go,"formats/strike":Vo,"formats/underline":Wo,"formats/formula":Ri,"formats/image":Zo,"formats/video":Di,"modules/syntax":th,"modules/table":py,"modules/toolbar":Ll,"themes/bubble":ah,"themes/snow":lh,"ui/icons":Gs,"ui/picker":fa,"ui/icon-picker":nh,"ui/color-picker":eh,"ui/tooltip":rh},!0);var i2=K('<div class="margin svelte-1unbvg"></div> <div class="table-outline main_data svelte-1unbvg"><div class="table-head table-title svelte-1unbvg"><input type="text" id="title" class="svelte-1unbvg"></div> <div class="table-contents-gray svelte-1unbvg"><select class="namewidth svelte-1unbvg"><option>자유</option><option>거래</option><option>공략</option></select></div> <div class="table-contents-white svelte-1unbvg"><div id="editor" class="svelte-1unbvg"></div></div> <div class="form-group svelte-1unbvg"><button class="emphasis-button">작성하기</button> <button class="simple-button">취소하기</button></div></div>',1);function a2(n,t){Mt(t,!1);const e=Ht(),r=()=>_t(Kt,"$mode",e),s=()=>_t(ve,"$myaccount",e),i=()=>_t(No,"$modify_postid",e);let a=Z(""),o="",c,f=Z("free");const d=r()?"/mpk":"/babapk";async function p(){const A=document.createElement("input");A.setAttribute("type","file"),A.setAttribute("accept","image/*"),A.click(),A.onchange=async()=>{const I=A.files?A.files[0]:null;if(!I)return alert("파일이 선택되지 않았습니다.");const $=new FileReader;$.onloadend=async()=>{const P=$.result;try{const q=await h(P);if(q){const B=c.getSelection();c.insertEmbed((B==null?void 0:B.index)||0,"image",q)}}catch(q){console.error("이미지 업로드 오류:",q)}},$.readAsDataURL(I)}}async function h(A){const I=await Gt("/cloudinary/upload","POST",{image:A});if(!I.ok)throw new Error("이미지 업로드 실패");return(await I.json()).url}async function g(){const A={title:u(a),category:u(f),content:o,nickname:s(),postId:i()};try{(await Gt("/board/write","POST",A)).ok&&(alert("글을 성공적으로 작성하였습니다"),y(),ts(`${d}/boardlist`))}catch(I){console.error("네트워크 오류:",I),alert(`네트워크 오류: ${I.message}`)}}async function m(){if(i()!=="none")try{const I=await(await fetch(`/board/post?post_id=${i()}`)).json();L(a,I.title),o=I.content,L(f,I.category)}catch{alert("게시물 로드 중 오류 발생")}}Ae(async()=>{await m(),c=new F("#editor",{theme:"snow",placeholder:"Compose an epic...",modules:{toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]],handlers:{image:p}}}}),o&&c.clipboard.dangerouslyPasteHTML(o),c.on("text-change",()=>{o=c.root.innerHTML})});function y(){No.set("none")}function w(){y(),ts(`${d}/boardlist`)}Ft();var _=i2(),E=k(ot(_),2),x=S(E),O=S(x),T=k(x,2),M=S(T);et(()=>{u(f),Fi(()=>{})});var j=S(M);j.value=(j.__value="free")==null?"":"free";var R=k(j);R.value=(R.__value="trade")==null?"":"trade";var z=k(R);z.value=(z.__value="setting")==null?"":"setting";var W=k(T,4),b=S(W),C=k(b,2);Ct(O,()=>u(a),A=>L(a,A)),zi(M,()=>u(f),A=>L(f,A)),tt("click",b,g),tt("click",C,w),D(n,_),jt()}var o2=K('<tr class="details-row"><td colspan="4" class="details"><!></td></tr>'),l2=K('<tr class="table-row"><td> </td><td> </td><td> </td><td> </td></tr> <!>',1),c2=K('<tr class="details-row"><td colspan="4" class="details"><!></td></tr>'),u2=K('<tr class="table-row"><td> </td><td> </td><td> </td><td> </td></tr> <!>',1),f2=K("<table><thead><tr><th>시즌 이름</th><th>1위</th><th>2위</th><th>3위</th></tr></thead><tbody></tbody></table>"),h2=K('<div class="table-outline main_data"><table><thead><tr><th>시즌 이름</th><th>1위</th><th>2위</th><th>3위</th></tr></thead><tbody></tbody></table> <div class="toggle-wrapper"><button> </button></div> <!></div>');function d2(n,t){Mt(t,!1);let e=[{season:"2024.10-11 랭킹전",first:"마스터",second:"DTBar",third:"Jay",details:"비고뇌 정식전 : 1위 DTBAR 2위 Jay 3위 IRONKIM<br/>고뇌 정식전 : 1위 마스터 2위 DTBAR 3위 Jay<br/>2:2 정식전 : 1위 오찬물 수수깡수수 2위 DTBAR IRONKIM 3위 퓨리 마스터<br/>조드 정식전 : 1위 봐바 2위 DUKY 3위 Az"},{season:"2024.9 랭킹전",first:"DTbar",second:"Duky",third:"오찬물",details:"고뇌 정식전 : 1위 스티븐 2위 Jay 3위 오찬물<br/>비고뇌 정식전 : 1위 BallistaBB 2위 지존 3위 수수깡수수"},{season:"2024.8 랭킹전",first:"Duky",second:"마스터",third:"옥땅",details:"정식전 : 1위 IRONKIM 2위 배로나 3위 듀키"},{season:"2024.7 랭킹전",first:"Duky",second:"Jay",third:"바아바아",details:"플레이오프 : 1위 Jay 2위 옥례 3위 Duky<br/>3티어 정식전 : 1위 배로나 2위 오찬물 3위 duky<br/>고뇌 정규전 : 1위 바아바아 2위 오찬물 3위 Duky<br/>레어 정규전 : 1위 낑깡 2위 Ari 3위 su"},{season:"2024.6 랭킹전",first:"Head",second:"Jay",third:"Duky",details:"3티어 정식전 : 1위 Duky 2위 Jay 3위 IRONKIM<br/>고뇌 정규전 : 1위 Head 2위 jay 3위 봐바<br/>레어 정규전 : 1위 Jay 2위 지존 3위 스티븐"},{season:"2024.5 랭킹전",first:"Duky",second:"Head",third:"IRONKIM",details:"정식전 : 1위 줍줍 2위 Duky 3위 쭈니바바리안<br/>테마전 : 1위 금복이 2위 goyard 3위 IRONKIM"},{season:"2024.4 랭킹전",first:"Jay",second:"Duky",third:"줍줍",details:"정식전 : 1위 aerts 2위 Head 3위 jay<br/>테마전 : 아리앗옥례 & 오찬물 & Jay"},{season:"2024.3 랭킹전",first:"Duky",second:"BigMara",third:"팍씨",details:"정식전 : 1위 Joral_Sinsa 2위 Jak 3위 바바<br/>테마전 : 1위 Jay 2위 아이언킴 3위 오찬물 <br/> 테마전 : 1위 Jay 2위 아이언킴 3위 오찬물"},{season:"2024.2 랭킹전",first:"barbar",second:"오찬물",third:"Duky",details:"정식전 : 1위 오찬물 2위 BallistaBB 3위 GeonDal<br/>테마전 : 1위 옥례 2위 옥땅 3위 IRONKIM"},{season:"2024.1 랭킹전",first:"오찬물",second:"Duky",third:"Head",details:"정식전 : 1위 Duky 2위 Jay 3위 오찬물"}],r=[{season:"2023.12 랭킹전",first:"Duky",second:"Jak",third:"아리",details:"정식전 : 1위 아리 2위 도라라 3위 Duky "},{season:"2023.11 랭킹전",first:"Jak",second:"Duky",third:"오찬물",details:"정식전 : 1위 봐바 2위 도라라 3위 Art_ist <br/> 테마전 : 1위 잼재미 2위 Jak 3위 아리앗옥례"},{season:"2023.10 랭킹전",first:"오찬물",second:"ALO",third:"오찬물",details:"정식전 : 1위 봐바 2위 배로나 3위 잼재미<br/> 테마전 : 아리 & 오찬물 & 아리앗옥례"},{season:"2023.9 랭킹전",first:"오찬물",second:"Jak",third:"바바",details:"정식전 : 1위 오찬물 2위 봐바 3위 IRONKIM"},{season:"2023.8 랭킹전",first:"Duky",second:"Duky",third:"IRONKIM",details:"정식전 : 1위 Jak 2위 BB 3위 도적"},{season:"2023.7 랭킹전",first:"BB(통합우승)",second:"BB(고뇌우승)",third:"BB(비고뇌우승)",details:"정식전 : 1위 Duky 2위 묵선 3위 오찬물"},{season:"시즌 10",first:"ALO",second:"ADOOBA",third:"Duky",details:"정식전 10회 : 1위 도적 2위 ALO 3위 Jak"},{season:"시즌 9",first:"스티븐",second:"ADOOBA",third:"Duky",details:"정식전 9회 : 1위 Duky 2위 ADOOBA 3위 Jak"},{season:"시즌 8",first:"스티븐",second:"Duky",third:"ALO",details:"정식전 8회 : 1위 배로나 2위 Duky 3위 Art_ist<br/>테마전 8회 : 1위 GeonDal 2위 BallistaBB 3위 오찬물"},{season:"시즌 7",first:"봐바",second:"ALO",third:"도라라",details:"정식전 7회 : 1위 PABLO 2위 야토신 3위 DUTY<br/>테마전 7회 : 1위 ADOOBA & 스티븐 & 도라라 2위  3위 "},{season:"시즌 6",first:"PABLO",second:"오찬물",third:"ADOOBA",details:"정식전 6회 : 1위 Joral_Sinsa 2위 GeonDal 3위 RFHH<br/>테마전 6회 : 1위 도적 & Jak 2위  3위 "},{season:"시즌 5",first:"ADOOBA",second:"오찬물",third:"Joral_Sinsa",details:"정식전 5회 : 1위 ALO 2위 RFHH 3위 TOONGTANG<br/>테마전 5회 : 1위 돌아돌아 & 파멸 2위  3위 "},{season:"시즌 4",first:"Joral_Sinsa",second:"오찬물",third:"ADOOBA",details:"정식전 4회 : 1위 파멸 2위 GG 3위 좀건들지마봐<br/>테마전 4회 : 1위 Az 2위 TOONGTANG 3위 행복한우빈이네"},{season:"시즌 3",first:"TOONGTANG",second:"Joral_Sinsa",third:"ALO",details:"정식전 3회 : 1위 Thanos 2위 MikeTyson 3위 Az<br/>테마전 3회 : 1위 GG 2위 돌아돌아 3위 TOONGTANG"},{season:"시즌 2",first:"TOONGTANG",second:"BABBARIAN",third:"Thanos",details:"정식전 2회 : 1위 TOONGTANG 2위 AlwaysReview 3위 Az<br/>테마전 2회 : 1위 BABBARIAN & Thanos 2위  3위 "},{season:"시즌 1",first:"TOONGTANG",second:"Thanos",third:"AlwaysReview",details:"정식전 1회 : 1위 돌아돌아 2위 FBI멀더 3위 BallistaBB<br/>테마전 1회 : 1위 TOONGTANG 2위 BallistaBB 3위 PK"}],s=Z(Array(e.length).fill(!1)),i=Z(Array(r.length).fill(!1)),a=Z(!1);function o(_){L(s,u(s).map((E,x)=>x===_?!E:E))}function c(_){L(i,u(i).map((E,x)=>x===_?!E:E))}function f(){L(a,!u(a))}Ft();var d=h2(),p=S(d),h=k(S(p));Rt(h,5,()=>e,It,(_,E,x)=>{let O=()=>u(E).season,T=()=>u(E).first,M=()=>u(E).second,j=()=>u(E).third,R=()=>u(E).details;var z=l2(),W=ot(z),b=S(W),C=S(b),A=k(b),I=S(A),$=k(A),P=S($),q=k($),B=S(q),G=k(W,2);dt(G,()=>u(s)[x],H=>{var Y=o2(),J=S(Y),st=S(J);Eo(st,R),D(H,Y)}),et(()=>{X(C,O()),X(I,T()),X(P,M()),X(B,j())}),tt("click",W,()=>o(x)),D(_,z)});var g=k(p,2),m=S(g),y=S(m),w=k(g,2);dt(w,()=>u(a),_=>{var E=f2(),x=k(S(E));Rt(x,5,()=>r,It,(O,T,M)=>{let j=()=>u(T).season,R=()=>u(T).first,z=()=>u(T).second,W=()=>u(T).third,b=()=>u(T).details;var C=u2(),A=ot(C),I=S(A),$=S(I),P=k(I),q=S(P),B=k(P),G=S(B),H=k(B),Y=S(H),J=k(A,2);dt(J,()=>u(i)[M],st=>{var ct=c2(),Q=S(ct),mt=S(Q);Eo(mt,b),D(st,ct)}),et(()=>{X($,j()),X(q,R()),X(G,z()),X(Y,W())}),tt("click",A,()=>c(M)),D(O,C)}),D(_,E)}),et(()=>X(y,u(a)?"이전 시즌 결과 숨기기":"이전 시즌 결과 보기")),tt("click",m,f),D(n,d),jt()}var p2=K('<nav><!></nav> <header><!></header> <main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main> <div class="form-container"><!></div> <footer><!></footer>',1);function g2(n){sp(n,{children:(t,e)=>{var r=p2(),s=ot(r),i=S(s);cp(i,{});var a=k(s,2),o=S(a);gp(o,{});var c=k(a,2),f=S(c);bn(f,{path:"/:type/info",component:bp});var d=k(f,2);bn(d,{path:"/",component:Ql});var p=k(d,2);bn(p,{path:"/mpk",component:Ql});var h=k(p,2);bn(h,{path:"/:type/rank",component:Sg});var g=k(h,2);bn(g,{path:"/:type/record",component:Ug});var m=k(g,2);bn(m,{path:"/:type/tournament",component:Jg});var y=k(m,2);bn(y,{path:"/:type/boardlist",component:iv});var w=k(y,2);bn(w,{path:"/:type/post/:id",component:gv});var _=k(w,2);bn(_,{path:"/:type/write",component:a2});var E=k(_,2);bn(E,{path:"/:type/winners",component:d2});var x=k(c,2),O=S(x);vg(O,{});var T=k(x,2),M=S(T);dp(M,{}),D(t,r)},$$slots:{default:!0}})}md(g2,{target:document.getElementById("app")})});export default v2();
