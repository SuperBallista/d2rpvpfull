var bf=Object.defineProperty;var _f=(r,t,e)=>t in r?bf(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var yf=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var pt=(r,t,e)=>_f(r,typeof t!="symbol"?t+"":t,e);var cw=yf((hr,pr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();const vu=!1;var Fa=Array.isArray,ao=Array.from,wf=Object.defineProperty,Zn=Object.getOwnPropertyDescriptor,mu=Object.getOwnPropertyDescriptors,xf=Object.prototype,Ef=Array.prototype,Oa=Object.getPrototypeOf;function Ms(r){return typeof r=="function"}const dr=()=>{};function Af(r){return typeof(r==null?void 0:r.then)=="function"}function Tf(r){return r()}function La(r){for(var t=0;t<r.length;t++)r[t]()}const Ar=2,gu=4,Yi=8,Ha=16,Kr=32,Ji=64,Nl=128,ws=256,Ca=512,er=1024,ts=2048,ci=4096,gn=8192,ui=16384,bu=32768,Xi=65536,_u=1<<17,Nf=1<<19,yu=1<<20,On=Symbol("$state"),wu=Symbol("legacy props"),kf=Symbol("");function xu(r){return r===this.v}function lo(r,t){return r!=r?t==t:r!==t||r!==null&&typeof r=="object"||typeof r=="function"}function Sf(r,t){return r!==t}function oo(r){return!lo(r,this.v)}function $f(r){throw new Error("effect_in_teardown")}function Of(){throw new Error("effect_in_unowned_derived")}function Lf(r){throw new Error("effect_orphan")}function Cf(){throw new Error("effect_update_depth_exceeded")}function qf(r){throw new Error("props_invalid_value")}function Rf(){throw new Error("state_descriptors_fixed")}function If(){throw new Error("state_prototype_fixed")}function Df(){throw new Error("state_unsafe_local_read")}function Pf(){throw new Error("state_unsafe_mutation")}let di=!1;function Bf(){di=!0}function tr(r){return{f:0,v:r,reactions:null,equals:xu,version:0}}function ri(r,t=!1){var n;const e=tr(r);return t||(e.equals=oo),di&&Ut!==null&&Ut.l!==null&&((n=Ut.l).s??(n.s=[])).push(e),e}function L(r,t=!1){return Mf(ri(r,t))}function Mf(r){return ne!==null&&ne.f&Ar&&(bn===null?lh([r]):bn.push(r)),r}function fs(r,t){return A(r,Hr(()=>l(r))),t}function A(r,t){return ne!==null&&hi()&&ne.f&(Ar|Ha)&&(bn===null||!bn.includes(r))&&Pf(),Zs(r,t)}function Zs(r,t){return r.equals(t)||(r.v=t,r.version=Hu(),Eu(r,ts),hi()&&Bt!==null&&Bt.f&er&&!(Bt.f&Kr)&&(Ye!==null&&Ye.includes(r)?(Gr(Bt,ts),Wa(Bt)):Jn===null?oh([r]):Jn.push(r))),t}function Eu(r,t){var e=r.reactions;if(e!==null)for(var n=hi(),s=e.length,i=0;i<s;i++){var a=e[i],o=a.f;o&ts||!n&&a===Bt||(Gr(a,t),o&(er|ws)&&(o&Ar?Eu(a,ci):Wa(a)))}}const co=1,uo=2,Au=4,jf=8,Uf=16,Ff=1,Hf=2,Tu=4,zf=8,Kf=16,Gf=1,Vf=2,Wf=4,Zf=1,Yf=2,Ze=Symbol();let Nu=!1;function js(r,t=null,e){if(typeof r!="object"||r===null||On in r)return r;const n=Oa(r);if(n!==xf&&n!==Ef)return r;var s=new Map,i=Fa(r),a=tr(0);i&&s.set("length",tr(r.length));var o;return new Proxy(r,{defineProperty(u,d,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&Rf();var g=s.get(d);return g===void 0?(g=tr(p.value),s.set(d,g)):A(g,js(p.value,o)),!0},deleteProperty(u,d){var p=s.get(d);if(p===void 0)d in u&&s.set(d,tr(Ze));else{if(i&&typeof d=="string"){var g=s.get("length"),f=Number(d);Number.isInteger(f)&&f<g.v&&A(g,f)}A(p,Ze),zo(a)}return!0},get(u,d,p){var y;if(d===On)return r;var g=s.get(d),f=d in u;if(g===void 0&&(!f||(y=Zn(u,d))!=null&&y.writable)&&(g=tr(js(f?u[d]:Ze,o)),s.set(d,g)),g!==void 0){var m=l(g);return m===Ze?void 0:m}return Reflect.get(u,d,p)},getOwnPropertyDescriptor(u,d){var p=Reflect.getOwnPropertyDescriptor(u,d);if(p&&"value"in p){var g=s.get(d);g&&(p.value=l(g))}else if(p===void 0){var f=s.get(d),m=f==null?void 0:f.v;if(f!==void 0&&m!==Ze)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return p},has(u,d){var m;if(d===On)return!0;var p=s.get(d),g=p!==void 0&&p.v!==Ze||Reflect.has(u,d);if(p!==void 0||Bt!==null&&(!g||(m=Zn(u,d))!=null&&m.writable)){p===void 0&&(p=tr(g?js(u[d],o):Ze),s.set(d,p));var f=l(p);if(f===Ze)return!1}return g},set(u,d,p,g){var k;var f=s.get(d),m=d in u;if(i&&d==="length")for(var y=p;y<f.v;y+=1){var b=s.get(y+"");b!==void 0?A(b,Ze):y in u&&(b=tr(Ze),s.set(y+"",b))}f===void 0?(!m||(k=Zn(u,d))!=null&&k.writable)&&(f=tr(void 0),A(f,js(p,o)),s.set(d,f)):(m=f.v!==Ze,A(f,js(p,o)));var w=Reflect.getOwnPropertyDescriptor(u,d);if(w!=null&&w.set&&w.set.call(g,p),!m){if(i&&typeof d=="string"){var x=s.get("length"),T=Number(d);Number.isInteger(T)&&T>=x.v&&A(x,T+1)}zo(a)}return!0},ownKeys(u){l(a);var d=Reflect.ownKeys(u).filter(f=>{var m=s.get(f);return m===void 0||m.v!==Ze});for(var[p,g]of s)g.v!==Ze&&!(p in u)&&d.push(p);return d},setPrototypeOf(){If()}})}function zo(r,t=1){A(r,r.v+t)}function Ko(r){return r!==null&&typeof r=="object"&&On in r?r[On]:r}function Jf(r,t){return Object.is(Ko(r),Ko(t))}var Go,ku,Su;function Xf(){if(Go===void 0){Go=window;var r=Element.prototype,t=Node.prototype;ku=Zn(t,"firstChild").get,Su=Zn(t,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function za(r=""){return document.createTextNode(r)}function Ri(r){return ku.call(r)}function Ka(r){return Su.call(r)}function h(r,t){return Ri(r)}function ht(r,t){{var e=Ri(r);return e instanceof Comment&&e.data===""?Ka(e):e}}function v(r,t=1,e=!1){let n=r;for(;t--;)n=Ka(n);return n}function Qf(r){r.textContent=""}function qa(r){var t=Ar|ts;Bt===null?t|=ws:Bt.f|=yu;var e=ne!==null&&ne.f&Ar?ne:null;const n={children:null,ctx:Ut,deps:null,equals:xu,f:t,fn:r,reactions:null,v:null,version:0,parent:e??Bt};return e!==null&&(e.children??(e.children=[])).push(n),n}function ze(r){const t=qa(r);return t.equals=oo,t}function $u(r){var t=r.children;if(t!==null){r.children=null;for(var e=0;e<t.length;e+=1){var n=t[e];n.f&Ar?fo(n):rs(n)}}}function th(r){for(var t=r.parent;t!==null;){if(!(t.f&Ar))return t;t=t.parent}return null}function Ou(r){var t,e=Bt;ir(th(r));try{$u(r),t=zu(r)}finally{ir(e)}return t}function Lu(r){var t=Ou(r),e=(Vs||r.f&ws)&&r.deps!==null?ci:er;Gr(r,e),r.equals(t)||(r.v=t,r.version=Hu())}function fo(r){$u(r),Pi(r,0),Gr(r,ui),r.v=r.children=r.deps=r.ctx=r.reactions=null}function Cu(r){Bt===null&&ne===null&&Lf(),ne!==null&&ne.f&ws&&Of(),po&&$f()}function eh(r,t){var e=t.last;e===null?t.last=t.first=r:(e.next=r,r.prev=e,t.last=r)}function fi(r,t,e,n=!0){var s=(r&Ji)!==0,i=Bt,a={ctx:Ut,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:r|ts,first:null,fn:t,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,version:0};if(e){var o=Ys;try{Vo(!0),ra(a),a.f|=bu}catch(p){throw rs(a),p}finally{Vo(o)}}else t!==null&&Wa(a);var u=e&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&yu)===0;if(!u&&!s&&n&&(i!==null&&eh(a,i),ne!==null&&ne.f&Ar)){var d=ne;(d.children??(d.children=[])).push(a)}return a}function qu(r){const t=fi(Yi,null,!1);return Gr(t,er),t.teardown=r,t}function kl(r){Cu();var t=Bt!==null&&(Bt.f&Kr)!==0&&Ut!==null&&!Ut.m;if(t){var e=Ut;(e.e??(e.e=[])).push({fn:r,effect:Bt,reaction:ne})}else{var n=Qi(r);return n}}function rh(r){return Cu(),ta(r)}function nh(r){const t=fi(Ji,r,!0);return()=>{rs(t)}}function Qi(r){return fi(gu,r,!1)}function qt(r,t,e,n){var s=Ut,i={effect:null,ran:!1};s.l.r1.push(i),i.effect=ta(()=>{r(),!i.ran&&(i.ran=!0,A(s.l.r2,!0),Hr(t))})}function ar(){var r=Ut;ta(()=>{if(l(r.l.r2)){for(var t of r.l.r1){var e=t.effect;e.f&er&&Gr(e,ci),pi(e)&&ra(e),t.ran=!1}r.l.r2.v=!1}})}function ta(r){return fi(Yi,r,!0)}function st(r){return xs(r)}function xs(r,t=0){return fi(Yi|Ha|t,r,!0)}function Ur(r,t=!0){return fi(Yi|Kr,r,!0,t)}function Ru(r){var t=r.teardown;if(t!==null){const e=po,n=ne;Wo(!0),Tr(null);try{t.call(null)}finally{Wo(e),Tr(n)}}}function Iu(r){var t=r.deriveds;if(t!==null){r.deriveds=null;for(var e=0;e<t.length;e+=1)fo(t[e])}}function Du(r,t=!1){var e=r.first;for(r.first=r.last=null;e!==null;){var n=e.next;rs(e,t),e=n}}function sh(r){for(var t=r.first;t!==null;){var e=t.next;t.f&Kr||rs(t),t=e}}function rs(r,t=!0){var e=!1;if((t||r.f&Nf)&&r.nodes_start!==null){for(var n=r.nodes_start,s=r.nodes_end;n!==null;){var i=n===s?null:Ka(n);n.remove(),n=i}e=!0}Du(r,t&&!e),Iu(r),Pi(r,0),Gr(r,ui);var a=r.transitions;if(a!==null)for(const u of a)u.stop();Ru(r);var o=r.parent;o!==null&&o.first!==null&&Pu(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Pu(r){var t=r.parent,e=r.prev,n=r.next;e!==null&&(e.next=n),n!==null&&(n.prev=e),t!==null&&(t.first===r&&(t.first=n),t.last===r&&(t.last=e))}function Yn(r,t){var e=[];ho(r,e,!0),Bu(e,()=>{rs(r),t&&t()})}function Bu(r,t){var e=r.length;if(e>0){var n=()=>--e||t();for(var s of r)s.out(n)}else t()}function ho(r,t,e){if(!(r.f&gn)){if(r.f^=gn,r.transitions!==null)for(const a of r.transitions)(a.is_global||e)&&t.push(a);for(var n=r.first;n!==null;){var s=n.next,i=(n.f&Xi)!==0||(n.f&Kr)!==0;ho(n,t,i?e:!1),n=s}}}function ps(r){Mu(r,!0)}function Mu(r,t){if(r.f&gn){pi(r)&&ra(r),r.f^=gn;for(var e=r.first;e!==null;){var n=e.next,s=(e.f&Xi)!==0||(e.f&Kr)!==0;Mu(e,s?t:!1),e=n}if(r.transitions!==null)for(const i of r.transitions)(i.is_global||t)&&i.in()}}let Ra=!1,Sl=[];function ju(){Ra=!1;const r=Sl.slice();Sl=[],La(r)}function ea(r){Ra||(Ra=!0,queueMicrotask(ju)),Sl.push(r)}function ih(){Ra&&ju()}function Ga(r){throw new Error("lifecycle_outside_component")}const Uu=0,ah=1;let Ta=!1,Na=Uu,Ii=!1,Di=null,Ys=!1,po=!1;function Vo(r){Ys=r}function Wo(r){po=r}let hs=[],Js=0,ne=null;function Tr(r){ne=r}let Bt=null;function ir(r){Bt=r}let bn=null;function lh(r){bn=r}let Ye=null,ur=0,Jn=null;function oh(r){Jn=r}let Fu=0,Vs=!1,Hn=null,Ut=null;function Zo(r){Ut=r}function Hu(){return++Fu}function hi(){return!di||Ut!==null&&Ut.l===null}function pi(r){var a,o;var t=r.f;if(t&ts)return!0;if(t&ci){var e=r.deps,n=(t&ws)!==0;if(e!==null){var s;if(t&Ca){for(s=0;s<e.length;s++)((a=e[s]).reactions??(a.reactions=[])).push(r);r.f^=Ca}for(s=0;s<e.length;s++){var i=e[s];if(pi(i)&&Lu(i),n&&Bt!==null&&!Vs&&!((o=i==null?void 0:i.reactions)!=null&&o.includes(r))&&(i.reactions??(i.reactions=[])).push(r),i.version>r.version)return!0}}n||Gr(r,er)}return!1}function ch(r,t){for(var e=t;e!==null;){if(e.f&Nl)try{e.fn(r);return}catch{e.f^=Nl}e=e.parent}throw Ta=!1,r}function uh(r){return(r.f&ui)===0&&(r.parent===null||(r.parent.f&Nl)===0)}function Va(r,t,e,n){if(Ta){if(e===null&&(Ta=!1),uh(t))throw r;return}e!==null&&(Ta=!0);{ch(r,t);return}}function zu(r){var f;var t=Ye,e=ur,n=Jn,s=ne,i=Vs,a=bn,o=Ut,u=r.f;Ye=null,ur=0,Jn=null,ne=u&(Kr|Ji)?null:r,Vs=!Ys&&(u&ws)!==0,bn=null,Ut=r.ctx;try{var d=(0,r.fn)(),p=r.deps;if(Ye!==null){var g;if(Pi(r,ur),p!==null&&ur>0)for(p.length=ur+Ye.length,g=0;g<Ye.length;g++)p[ur+g]=Ye[g];else r.deps=p=Ye;if(!Vs)for(g=ur;g<p.length;g++)((f=p[g]).reactions??(f.reactions=[])).push(r)}else p!==null&&ur<p.length&&(Pi(r,ur),p.length=ur);return d}finally{Ye=t,ur=e,Jn=n,ne=s,Vs=i,bn=a,Ut=o}}function dh(r,t){let e=t.reactions;if(e!==null){var n=e.indexOf(r);if(n!==-1){var s=e.length-1;s===0?e=t.reactions=null:(e[n]=e[s],e.pop())}}e===null&&t.f&Ar&&(Ye===null||!Ye.includes(t))&&(Gr(t,ci),t.f&(ws|Ca)||(t.f^=Ca),Pi(t,0))}function Pi(r,t){var e=r.deps;if(e!==null)for(var n=t;n<e.length;n++)dh(r,e[n])}function ra(r){var t=r.f;if(!(t&ui)){Gr(r,er);var e=Bt,n=Ut;Bt=r;try{t&Ha?sh(r):Du(r),Iu(r),Ru(r);var s=zu(r);r.teardown=typeof s=="function"?s:null,r.version=Fu}catch(i){Va(i,r,e,n||r.ctx)}finally{Bt=e}}}function Ku(){if(Js>1e3){Js=0;try{Cf()}catch(r){if(Di!==null)Va(r,Di,null);else throw r}}Js++}function Gu(r){var t=r.length;if(t!==0){Ku();var e=Ys;Ys=!0;try{for(var n=0;n<t;n++){var s=r[n];s.f&er||(s.f^=er);var i=[];Vu(s,i),fh(i)}}finally{Ys=e}}}function fh(r){var t=r.length;if(t!==0)for(var e=0;e<t;e++){var n=r[e];if(!(n.f&(ui|gn)))try{pi(n)&&(ra(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Pu(n):n.fn=null))}catch(s){Va(s,n,null,n.ctx)}}}function hh(){if(Ii=!1,Js>1001)return;const r=hs;hs=[],Gu(r),Ii||(Js=0,Di=null)}function Wa(r){Na===Uu&&(Ii||(Ii=!0,queueMicrotask(hh))),Di=r;for(var t=r;t.parent!==null;){t=t.parent;var e=t.f;if(e&(Ji|Kr)){if(!(e&er))return;t.f^=er}}hs.push(t)}function Vu(r,t){var e=r.first,n=[];t:for(;e!==null;){var s=e.f,i=(s&Kr)!==0,a=i&&(s&er)!==0,o=e.next;if(!a&&!(s&gn))if(s&Yi){if(i)e.f^=er;else try{pi(e)&&ra(e)}catch(g){Va(g,e,null,e.ctx)}var u=e.first;if(u!==null){e=u;continue}}else s&gu&&n.push(e);if(o===null){let g=e.parent;for(;g!==null;){if(r===g)break t;var d=g.next;if(d!==null){e=d;continue t}g=g.parent}}e=o}for(var p=0;p<n.length;p++)u=n[p],t.push(u),Vu(u,t)}function Wu(r){var t=Na,e=hs;try{Ku();const s=[];Na=ah,hs=s,Ii=!1,Gu(e);var n=r==null?void 0:r();return ih(),(hs.length>0||s.length>0)&&Wu(),Js=0,Di=null,n}finally{Na=t,hs=e}}function l(r){var p;var t=r.f,e=(t&Ar)!==0;if(e&&t&ui){var n=Ou(r);return fo(r),n}if(Hn!==null&&Hn.add(r),ne!==null){bn!==null&&bn.includes(r)&&Df();var s=ne.deps;Ye===null&&s!==null&&s[ur]===r?ur++:Ye===null?Ye=[r]:Ye.push(r),Jn!==null&&Bt!==null&&Bt.f&er&&!(Bt.f&Kr)&&Jn.includes(r)&&(Gr(Bt,ts),Wa(Bt))}else if(e&&r.deps===null)for(var i=r,a=i.parent,o=i;a!==null;)if(a.f&Ar){var u=a;o=u,a=u.parent}else{var d=a;(p=d.deriveds)!=null&&p.includes(o)||(d.deriveds??(d.deriveds=[])).push(o);break}return e&&(i=r,pi(i)&&Lu(i)),r.v}function ph(r){var t=Hn;Hn=new Set;var e=Hn,n;try{if(Hr(r),t!==null)for(n of Hn)t.add(n)}finally{Hn=t}return e}function Bi(r){var t=ph(()=>Hr(r));for(var e of t)if(e.f&_u)for(const n of e.deps||[])n.f&Ar||fs(n,null);else fs(e,null)}function Hr(r){const t=ne;try{return ne=null,r()}finally{ne=t}}const vh=~(ts|ci|er);function Gr(r,t){r.f=r.f&vh|t}function vs(r){return Zu().get(r)}function sl(r,t){return Zu().set(r,t),t}function Zu(r){return Ut===null&&Ga(),Ut.c??(Ut.c=new Map(mh(Ut)||void 0))}function mh(r){let t=r.p;for(;t!==null;){const e=t.c;if(e!==null)return e;t=t.p}return null}function Yo(r,t=1){var e=l(r),n=t===1?e++:e--;return A(r,e),n}function Ft(r,t=!1,e){Ut={p:Ut,c:null,e:null,m:!1,s:r,x:null,l:null},di&&!t&&(Ut.l={s:null,u:null,r1:[],r2:tr(!1)})}function Ht(r){const t=Ut;if(t!==null){const a=t.e;if(a!==null){var e=Bt,n=ne;t.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];ir(i.effect),Tr(i.reaction),Qi(i.fn)}}finally{ir(e),Tr(n)}}Ut=t.p,t.m=!0}return{}}function ms(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(On in r)$l(r);else if(!Array.isArray(r))for(let t in r){const e=r[t];typeof e=="object"&&e&&On in e&&$l(e)}}}function $l(r,t=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!t.has(r)){t.add(r),r instanceof Date&&r.getTime();for(let n in r)try{$l(r[n],t)}catch{}const e=Oa(r);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const n=mu(e);for(let s in n){const i=n[s].get;if(i)try{i.call(r)}catch{}}}}}function gh(r,t){if(t){const e=document.body;r.autofocus=!0,ea(()=>{document.activeElement===e&&r.focus()})}}let Jo=!1;function bh(){Jo||(Jo=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function Yu(r){var t=ne,e=Bt;Tr(null),ir(null);try{return r()}finally{Tr(t),ir(e)}}function vo(r,t,e,n=e){r.addEventListener(t,()=>Yu(e));const s=r.__on_r;s?r.__on_r=()=>{s(),n()}:r.__on_r=n,bh()}const Ju=new Set,Ol=new Set;function Xu(r,t,e,n){function s(i){if(n.capture||Ti.call(t,i),!i.cancelBubble)return Yu(()=>e.call(this,i))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?ea(()=>{t.addEventListener(r,s,n)}):t.addEventListener(r,s,n),s}function X(r,t,e,n,s){var i={capture:n,passive:s},a=Xu(r,t,e,i);(t===document.body||t===window||t===document)&&qu(()=>{t.removeEventListener(r,a,i)})}function _h(r){for(var t=0;t<r.length;t++)Ju.add(r[t]);for(var e of Ol)e(r)}function Ti(r){var T;var t=this,e=t.ownerDocument,n=r.type,s=((T=r.composedPath)==null?void 0:T.call(r))||[],i=s[0]||r.target,a=0,o=r.__root;if(o){var u=s.indexOf(o);if(u!==-1&&(t===document||t===window)){r.__root=t;return}var d=s.indexOf(t);if(d===-1)return;u<=d&&(a=u)}if(i=s[a]||r.target,i!==t){wf(r,"currentTarget",{configurable:!0,get(){return i||e}});var p=ne,g=Bt;Tr(null),ir(null);try{for(var f,m=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+n];if(b!==void 0&&!i.disabled)if(Fa(b)){var[w,...x]=b;w.apply(i,[r,...x])}else b.call(i,r)}catch(k){f?m.push(k):f=k}if(r.cancelBubble||y===t||y===null)break;i=y}if(f){for(let k of m)queueMicrotask(()=>{throw k});throw f}}finally{r.__root=t,delete r.currentTarget,Tr(p),ir(g)}}}function Qu(r){var t=document.createElement("template");return t.innerHTML=r,t.content}function Mi(r,t){var e=Bt;e.nodes_start===null&&(e.nodes_start=r,e.nodes_end=t)}function z(r,t){var e=(t&Zf)!==0,n=(t&Yf)!==0,s,i=!r.startsWith("<!>");return()=>{s===void 0&&(s=Qu(i?r:"<!>"+r),e||(s=Ri(s)));var a=n?document.importNode(s,!0):s.cloneNode(!0);if(e){var o=Ri(a),u=a.lastChild;Mi(o,u)}else Mi(a,a);return a}}function fr(r=""){{var t=za(r+"");return Mi(t,t),t}}function jt(){var r=document.createDocumentFragment(),t=document.createComment(""),e=za();return r.append(t,e),Mi(t,e),r}function P(r,t){r!==null&&r.before(t)}function yh(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const wh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function xh(r){return wh.includes(r)}const Eh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function Ah(r){return r=r.toLowerCase(),Eh[r]??r}const Th=["touchstart","touchmove"];function Nh(r){return Th.includes(r)}let Ll=!0;function et(r,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function kh(r,t){return Sh(r,t)}const Ps=new Map;function Sh(r,{target:t,anchor:e,props:n={},events:s,context:i,intro:a=!0}){Xf();var o=new Set,u=g=>{for(var f=0;f<g.length;f++){var m=g[f];if(!o.has(m)){o.add(m);var y=Nh(m);t.addEventListener(m,Ti,{passive:y});var b=Ps.get(m);b===void 0?(document.addEventListener(m,Ti,{passive:y}),Ps.set(m,1)):Ps.set(m,b+1)}}};u(ao(Ju)),Ol.add(u);var d=void 0,p=nh(()=>{var g=e??t.appendChild(za());return Ur(()=>{if(i){Ft({});var f=Ut;f.c=i}s&&(n.$$events=s),Ll=a,d=r(g,n)||{},Ll=!0,i&&Ht()}),()=>{var y;for(var f of o){t.removeEventListener(f,Ti);var m=Ps.get(f);--m===0?(document.removeEventListener(f,Ti),Ps.delete(f)):Ps.set(f,m)}Ol.delete(u),Xo.delete(d),g!==e&&((y=g.parentNode)==null||y.removeChild(g))}});return Xo.set(d,p),d}let Xo=new WeakMap;const il=0,fa=1,al=2;function $h(r,t,e,n,s){var i=r,a=hi(),o=Ut,u=Ze,d,p,g,f=(a?tr:ri)(void 0),m=(a?tr:ri)(void 0),y=!1;function b(x,T){y=!0,T&&(ir(w),Tr(w),Zo(o));try{x===il&&e&&(d?ps(d):d=Ur(()=>e(i))),x===fa&&n&&(p?ps(p):p=Ur(()=>n(i,f))),x===al&&s&&(g?ps(g):g=Ur(()=>s(i,m))),x!==il&&d&&Yn(d,()=>d=null),x!==fa&&p&&Yn(p,()=>p=null),x!==al&&g&&Yn(g,()=>g=null)}finally{T&&(Zo(null),Tr(null),ir(null),Wu())}}var w=xs(()=>{if(u!==(u=t())){if(Af(u)){var x=u;y=!1,x.then(T=>{x===u&&(Zs(f,T),b(fa,!0))},T=>{if(x===u)throw Zs(m,T),b(al,!0),m.v}),ea(()=>{y||b(il,!0)})}else Zs(f,u),b(fa,!1);return()=>u=Ze}})}function gt(r,t,e,n=null,s=!1){var i=r,a=null,o=null,u=null,d=s?Xi:0;xs(()=>{u!==(u=!!t())&&(u?(a?ps(a):a=Ur(()=>e(i)),o&&Yn(o,()=>{o=null})):(o?ps(o):n&&(o=Ur(()=>n(i))),a&&Yn(a,()=>{a=null})))},d)}function Oh(r,t,e){var n=r,s=Ze,i,a=hi()?Sf:lo;xs(()=>{a(s,s=t())&&(i&&Yn(i),i=Ur(()=>e(n)))})}function Gt(r,t){return t}function Lh(r,t,e,n){for(var s=[],i=t.length,a=0;a<i;a++)ho(t[a].e,s,!0);var o=i>0&&s.length===0&&e!==null;if(o){var u=e.parentNode;Qf(u),u.append(e),n.clear(),Fn(r,t[0].prev,t[i-1].next)}Bu(s,()=>{for(var d=0;d<i;d++){var p=t[d];o||(n.delete(p.k),Fn(r,p.prev,p.next)),rs(p.e,!o)}})}function Vt(r,t,e,n,s,i=null){var a=r,o={flags:t,items:new Map,first:null},u=(t&Au)!==0;if(u){var d=r;a=d.appendChild(za())}var p=null,g=!1;xs(()=>{var f=e(),m=Fa(f)?f:f==null?[]:ao(f),y=m.length;if(!(g&&y===0)){g=y===0;{var b=ne;Ch(m,o,a,s,t,(b.f&gn)!==0,n)}i!==null&&(y===0?p?ps(p):p=Ur(()=>i(a)):p!==null&&Yn(p,()=>{p=null})),e()}})}function Ch(r,t,e,n,s,i,a){var q,D,M,B;var o=(s&jf)!==0,u=(s&(co|uo))!==0,d=r.length,p=t.items,g=t.first,f=g,m,y=null,b,w=[],x=[],T,k,S,$;if(o)for($=0;$<d;$+=1)T=r[$],k=a(T,$),S=p.get(k),S!==void 0&&((q=S.a)==null||q.measure(),(b??(b=new Set)).add(S));for($=0;$<d;$+=1){if(T=r[$],k=a(T,$),S=p.get(k),S===void 0){var R=f?f.e.nodes_start:e;y=Rh(R,t,y,y===null?t.first:y.next,T,k,$,n,s),p.set(k,y),w=[],x=[],f=y.next;continue}if(u&&qh(S,T,$,s),S.e.f&gn&&(ps(S.e),o&&((D=S.a)==null||D.unfix(),(b??(b=new Set)).delete(S))),S!==f){if(m!==void 0&&m.has(S)){if(w.length<x.length){var F=x[0],j;y=F.prev;var I=w[0],K=w[w.length-1];for(j=0;j<w.length;j+=1)Qo(w[j],F,e);for(j=0;j<x.length;j+=1)m.delete(x[j]);Fn(t,I.prev,K.next),Fn(t,y,I),Fn(t,K,F),f=F,y=K,$-=1,w=[],x=[]}else m.delete(S),Qo(S,f,e),Fn(t,S.prev,S.next),Fn(t,S,y===null?t.first:y.next),Fn(t,y,S),y=S;continue}for(w=[],x=[];f!==null&&f.k!==k;)(i||!(f.e.f&gn))&&(m??(m=new Set)).add(f),x.push(f),f=f.next;if(f===null)continue;S=f}w.push(S),y=S,f=S.next}if(f!==null||m!==void 0){for(var E=m===void 0?[]:ao(m);f!==null;)(i||!(f.e.f&gn))&&E.push(f),f=f.next;var C=E.length;if(C>0){var N=s&Au&&d===0?e:null;if(o){for($=0;$<C;$+=1)(M=E[$].a)==null||M.measure();for($=0;$<C;$+=1)(B=E[$].a)==null||B.fix()}Lh(t,E,N,p)}}o&&ea(()=>{var U;if(b!==void 0)for(S of b)(U=S.a)==null||U.apply()}),Bt.first=t.first&&t.first.e,Bt.last=y&&y.e}function qh(r,t,e,n){n&co&&Zs(r.v,t),n&uo?Zs(r.i,e):r.i=e}function Rh(r,t,e,n,s,i,a,o,u){var d=(u&co)!==0,p=(u&Uf)===0,g=d?p?ri(s):tr(s):s,f=u&uo?tr(a):a,m={i:f,v:g,k:i,a:null,e:null,prev:e,next:n};try{return m.e=Ur(()=>o(r,g,f),Nu),m.e.prev=e&&e.e,m.e.next=n&&n.e,e===null?t.first=m:(e.next=m,e.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function Qo(r,t,e){for(var n=r.next?r.next.e.nodes_start:e,s=t?t.e.nodes_start:e,i=r.e.nodes_start;i!==n;){var a=Ka(i);s.before(i),i=a}}function Fn(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function Cl(r,t,e,n,s){var i=r,a="",o;xs(()=>{a!==(a=t()??"")&&(o!==void 0&&(rs(o),o=void 0),a!==""&&(o=Ur(()=>{var u=a+"",d=Qu(u);Mi(Ri(d),d.lastChild),i.before(d)})))})}function Ia(r,t,e,n,s){var o;var i=(o=t.$$slots)==null?void 0:o[e],a=!1;i===!0&&(i=t.children,a=!0),i===void 0||i(r,a?()=>n:n)}function Ih(r,t,e){var n=r,s,i;xs(()=>{s!==(s=t())&&(i&&(Yn(i),i=null),s&&(i=Ur(()=>e(n,s))))},Xi)}function Ws(r,t,e,n){var s=r.__attributes??(r.__attributes={});s[t]!==(s[t]=e)&&(t==="style"&&"__styles"in r&&(r.__styles={}),t==="loading"&&(r[kf]=e),e==null?r.removeAttribute(t):typeof e!="string"&&td(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function Dh(r,t,e,n,s=!1,i=!1,a=!1){var o=t||{},u=r.tagName==="OPTION";for(var d in t)d in e||(e[d]=null);var p=td(r),g=r.__attributes??(r.__attributes={});for(const x in e){let T=e[x];if(u&&x==="value"&&T==null){r.value=r.__value="",o[x]=T;continue}var f=o[x];if(T!==f){o[x]=T;var m=x[0]+x[1];if(m!=="$$"){if(m==="on"){const k={},S="$$"+x;let $=x.slice(2);var y=xh($);if(yh($)&&($=$.slice(0,-7),k.capture=!0),!y&&f){if(T!=null)continue;r.removeEventListener($,o[S],k),o[S]=null}if(T!=null)if(y)r[`__${$}`]=T,_h([$]);else{let R=function(F){o[x].call(this,F)};var w=R;o[S]=Xu($,r,R,k)}}else if(x==="style"&&T!=null)r.style.cssText=T+"";else if(x==="autofocus")gh(r,!!T);else if(x==="__value"||x==="value"&&T!=null)r.value=r[x]=r.__value=T;else{var b=x;s||(b=Ah(b)),T==null&&!i?(g[x]=null,r.removeAttribute(x)):p.includes(b)&&(i||typeof T!="string")?r[b]=T:typeof T!="function"&&Ws(r,b,T)}x==="style"&&"__styles"in r&&(r.__styles={})}}}return o}var tc=new Map;function td(r){var t=tc.get(r.nodeName);if(t)return t;tc.set(r.nodeName,t=[]);for(var e,n=Oa(r),s=Element.prototype;s!==n;){e=mu(n);for(var i in e)e[i].set&&t.push(i);n=Oa(n)}return t}function Ae(r,t){var e=r.__className,n=Ph(t);(e!==n||Nu)&&(t==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function Ph(r){return r??""}function Bh(r,t,e){if(e){if(r.classList.contains(t))return;r.classList.add(t)}else{if(!r.classList.contains(t))return;r.classList.remove(t)}}function ll(r,t,e,n){var s=r.__styles??(r.__styles={});s[t]!==e&&(s[t]=e,e==null?r.style.removeProperty(t):r.style.setProperty(t,e,""))}const Mh=()=>performance.now(),zn={tick:r=>requestAnimationFrame(r),now:()=>Mh(),tasks:new Set};function ed(r){zn.tasks.forEach(t=>{t.c(r)||(zn.tasks.delete(t),t.f())}),zn.tasks.size!==0&&zn.tick(ed)}function jh(r){let t;return zn.tasks.size===0&&zn.tick(ed),{promise:new Promise(e=>{zn.tasks.add(t={c:r,f:e})}),abort(){zn.tasks.delete(t)}}}function ha(r,t){r.dispatchEvent(new CustomEvent(t))}function Uh(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function ec(r){const t={},e=r.split(";");for(const n of e){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Uh(s.trim());t[a]=i.trim()}return t}const Fh=r=>r;function rc(r,t,e,n){var s=(r&Gf)!==0,i=(r&Vf)!==0,a=s&&i,o=(r&Wf)!==0,u=a?"both":s?"in":"out",d,p=t.inert,g,f;function m(){var T=ne,k=Bt;Tr(null),ir(null);try{return d??(d=e()(t,(n==null?void 0:n())??{},{direction:u}))}finally{Tr(T),ir(k)}}var y={is_global:o,in(){var T;if(t.inert=p,!s){f==null||f.abort(),(T=f==null?void 0:f.reset)==null||T.call(f);return}i||g==null||g.abort(),ha(t,"introstart"),g=ql(t,m(),f,1,()=>{ha(t,"introend"),g==null||g.abort(),g=d=void 0})},out(T){if(!i){T==null||T(),d=void 0;return}t.inert=!0,ha(t,"outrostart"),f=ql(t,m(),g,0,()=>{ha(t,"outroend"),T==null||T()})},stop:()=>{g==null||g.abort(),f==null||f.abort()}},b=Bt;if((b.transitions??(b.transitions=[])).push(y),s&&Ll){var w=o;if(!w){for(var x=b.parent;x&&x.f&Xi;)for(;(x=x.parent)&&!(x.f&Ha););w=!x||(x.f&bu)!==0}w&&Qi(()=>{Hr(()=>y.in())})}}function ql(r,t,e,n,s){var i=n===1;if(Ms(t)){var a,o=!1;return ea(()=>{if(!o){var w=t({direction:i?"in":"out"});a=ql(r,w,e,n,s)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return s(),{abort:dr,deactivate:dr,reset:dr,t:()=>n};const{delay:u=0,css:d,tick:p,easing:g=Fh}=t;var f=[];if(i&&e===void 0&&(p&&p(0,1),d)){var m=ec(d(0,1));f.push(m,m)}var y=()=>1-n,b=r.animate(f,{duration:u});return b.onfinish=()=>{var w=(e==null?void 0:e.t())??1-n;e==null||e.abort();var x=n-w,T=t.duration*Math.abs(x),k=[];if(T>0){if(d)for(var S=Math.ceil(T/16.666666666666668),$=0;$<=S;$+=1){var R=w+x*g($/S),F=d(R,1-R);k.push(ec(F))}y=()=>{var j=b.currentTime;return w+x*g(j/T)},p&&jh(()=>{if(b.playState!=="running")return!1;var j=y();return p(j,1-j),!0})}b=r.animate(k,{duration:T,fill:"forwards"}),b.onfinish=()=>{y=()=>n,p==null||p(n,1-n),s()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=dr)},deactivate:()=>{s=dr},reset:()=>{n===0&&(p==null||p(1,0))},t:()=>y()}}function H(r,t,e=t){var n=hi();vo(r,"input",()=>{var s=nc(r)?sc(r.value):r.value;e(s),n&&s!==(s=t())&&(r.value=s??"")}),ta(()=>{var s=t();nc(r)&&s===sc(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function Hh(r,t,e=t){vo(r,"change",()=>{var n=r.checked;e(n)}),t()==null&&e(!1),ta(()=>{var n=t();r.checked=!!n})}function nc(r){var t=r.type;return t==="number"||t==="range"}function sc(r){return r===""?null:+r}function rd(r,t,e){if(r.multiple)return Kh(r,t);for(var n of r.options){var s=$i(n);if(Jf(s,t)){n.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function zh(r,t){Qi(()=>{var e=new MutationObserver(()=>{var n=r.__value;rd(r,n)});return e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function ji(r,t,e=t){var n=!0;vo(r,"change",()=>{var s;if(r.multiple)s=[].map.call(r.querySelectorAll(":checked"),$i);else{var i=r.querySelector(":checked");s=i&&$i(i)}e(s)}),Qi(()=>{var s=t();if(rd(r,s,n),n&&s===void 0){var i=r.querySelector(":checked");i!==null&&(s=$i(i),e(s))}r.__value=s,n=!1}),zh(r)}function Kh(r,t){for(var e of r.options)e.selected=~t.indexOf($i(e))}function $i(r){return"__value"in r?r.__value:r.value}function ee(r=!1){const t=Ut,e=t.l.u;if(!e)return;let n=()=>ms(t.s);if(r){let s=0,i={};const a=qa(()=>{let o=!1;const u=t.s;for(const d in u)u[d]!==i[d]&&(i[d]=u[d],o=!0);return o&&s++,s});n=()=>l(a)}e.b.length&&rh(()=>{ic(t,n),La(e.b)}),kl(()=>{const s=Hr(()=>e.m.map(Tf));return()=>{for(const i of s)typeof i=="function"&&i()}}),e.a.length&&kl(()=>{ic(t,n),La(e.a)})}function ic(r,t){if(r.l.s)for(const e of r.l.s)l(e);t()}function mo(r,t,e){if(r==null)return t(void 0),e&&e(void 0),dr;const n=Hr(()=>r.subscribe(t,e));return n.unsubscribe?()=>n.unsubscribe():n}let pa=!1;function nt(r,t,e){const n=e[t]??(e[t]={store:null,source:ri(void 0),unsubscribe:dr});if(n.store!==r)if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=dr;else{var s=!0;n.unsubscribe=mo(r,i=>{s?n.source.v=i:A(n.source,i)}),s=!1}return l(n.source)}function te(r,t){return r.set(t),t}function Xt(){const r={};return qu(()=>{for(var t in r)r[t].unsubscribe()}),r}function Gh(r){var t=pa;try{return pa=!1,[r(),pa]}finally{pa=t}}const Vh={get(r,t){if(!r.exclude.includes(t))return l(r.version),t in r.special?r.special[t]():r.props[t]},set(r,t,e){return t in r.special||(r.special[t]=De({get[t](){return r.props[t]}},t,Tu)),r.special[t](e),Yo(r.version),!0},getOwnPropertyDescriptor(r,t){if(!r.exclude.includes(t)&&t in r.props)return{enumerable:!0,configurable:!0,value:r.props[t]}},deleteProperty(r,t){return r.exclude.includes(t)||(r.exclude.push(t),Yo(r.version)),!0},has(r,t){return r.exclude.includes(t)?!1:t in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(t=>!r.exclude.includes(t))}};function Rl(r,t){return new Proxy({props:r,exclude:t,special:{},version:tr(0)},Vh)}const Wh={get(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(Ms(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(r,t,e){let n=r.props.length;for(;n--;){let s=r.props[n];Ms(s)&&(s=s());const i=Zn(s,t);if(i&&i.set)return i.set(e),!0}return!1},getOwnPropertyDescriptor(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(Ms(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=Zn(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(r,t){if(t===On||t===wu)return!1;for(let e of r.props)if(Ms(e)&&(e=e()),e!=null&&t in e)return!0;return!1},ownKeys(r){const t=[];for(let e of r.props){Ms(e)&&(e=e());for(const n in e)t.includes(n)||t.push(n)}return t}};function Zh(...r){return new Proxy({props:r},Wh)}function ac(r){for(var t=Bt,e=Bt;t!==null&&!(t.f&(Kr|Ji));)t=t.parent;try{return ir(t),r()}finally{ir(e)}}function De(r,t,e,n){var F;var s=(e&Ff)!==0,i=!di||(e&Hf)!==0,a=(e&zf)!==0,o=(e&Kf)!==0,u=!1,d;a?[d,u]=Gh(()=>r[t]):d=r[t];var p=On in r||wu in r,g=((F=Zn(r,t))==null?void 0:F.set)??(p&&a&&t in r?j=>r[t]=j:void 0),f=n,m=!0,y=!1,b=()=>(y=!0,m&&(m=!1,o?f=Hr(n):f=n),f);d===void 0&&n!==void 0&&(g&&i&&qf(),d=b(),g&&g(d));var w;if(i)w=()=>{var j=r[t];return j===void 0?b():(m=!0,y=!1,j)};else{var x=ac(()=>(s?qa:ze)(()=>r[t]));x.f|=_u,w=()=>{var j=l(x);return j!==void 0&&(f=void 0),j===void 0?f:j}}if(!(e&Tu))return w;if(g){var T=r.$$legacy;return function(j,I){return arguments.length>0?((!i||!I||T||u)&&g(I?w():j),j):w()}}var k=!1,S=!1,$=ri(d),R=ac(()=>qa(()=>{var j=w(),I=l($);return k?(k=!1,S=!0,I):(S=!1,$.v=j)}));return s||(R.equals=oo),function(j,I){if(Hn!==null&&(k=S,w(),l($)),arguments.length>0){const K=I?l(R):i&&a?js(j):j;return R.equals(K)||(k=!0,A($,K),y&&f!==void 0&&(f=K),Hr(()=>l(R))),j}return l(R)}}function Ke(r){Ut===null&&Ga(),di&&Ut.l!==null?Xh(Ut).m.push(r):kl(()=>{const t=Hr(r);if(typeof t=="function")return t})}function go(r){Ut===null&&Ga(),Ke(()=>()=>Hr(r))}function Yh(r,t,{bubbles:e=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:n})}function Jh(){const r=Ut;return r===null&&Ga(),(t,e,n)=>{var i;const s=(i=r.s.$$events)==null?void 0:i[t];if(s){const a=Fa(s)?s.slice():[s],o=Yh(t,e,n);for(const u of a)u.call(r.x,o);return!o.defaultPrevented}return!0}}function Xh(r){var t=r.l;return t.u??(t.u={a:[],b:[],m:[]})}const Qh="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qh);Bf();const Da={},Pa={},nd={},bo=()=>vs(Da),sd=/^:(.+)/,lc=4,tp=3,ep=2,rp=1,np=1,Ui=r=>r.replace(/(^\/+|\/+$)/g,"").split("/"),ol=r=>r.replace(/(^\/+|\/+$)/g,""),sp=(r,t)=>{const e=r.default?0:Ui(r.path).reduce((n,s)=>(n+=lc,s===""?n+=np:sd.test(s)?n+=ep:s[0]==="*"?n-=lc+rp:n+=tp,n),0);return{route:r,score:e,index:t}},ip=r=>r.map(sp).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),oc=(r,t)=>{let e,n;const[s]=t.split("?"),i=Ui(s),a=i[0]==="",o=ip(r);for(let u=0,d=o.length;u<d;u++){const p=o[u].route;let g=!1;if(p.default){n={route:p,params:{},uri:t};continue}const f=Ui(p.path),m={},y=Math.max(i.length,f.length);let b=0;for(;b<y;b++){const w=f[b],x=i[b];if(w&&w[0]==="*"){const k=w==="*"?"*":w.slice(1);m[k]=i.slice(b).map(decodeURIComponent).join("/");break}if(typeof x>"u"){g=!0;break}const T=sd.exec(w);if(T&&!a){const k=decodeURIComponent(x);m[T[1]]=k}else if(w!==x){g=!0;break}}if(!g){e={route:p,params:m,uri:"/"+i.slice(0,b).join("/")};break}}return e||n||null},cl=(r,t)=>r+(t?`?${t}`:""),ap=(r,t)=>{if(r.startsWith("/"))return r;const[e,n]=r.split("?"),[s]=t.split("?"),i=Ui(e),a=Ui(s);if(i[0]==="")return cl(s,n);if(!i[0].startsWith(".")){const d=a.concat(i).join("/");return cl((s==="/"?"":"/")+d,n)}const o=a.concat(i),u=[];return o.forEach(d=>{d===".."?u.pop():d!=="."&&u.push(d)}),cl("/"+u.join("/"),n)},ul=(r,t)=>`${ol(t==="/"?r:`${ol(r)}/${ol(t)}`)}/`,lp=r=>!r.defaultPrevented&&r.button===0&&!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey),Il=()=>typeof window<"u"&&"document"in window&&"location"in window;var op=z("<a><!></a>");function Kn(r,t){const e=Rl(t,["children","$$slots","$$events","$$legacy"]),n=Rl(e,["to","replace","state","getProps","preserveScroll"]);Ft(t,!1);const s=Xt(),i=()=>nt(y,"$base",s),a=()=>nt(m,"$location",s),o=L();let u=De(t,"to",8,"#"),d=De(t,"replace",8,!1),p=De(t,"state",24,()=>({})),g=De(t,"getProps",8,()=>({})),f=De(t,"preserveScroll",8,!1);const m=vs(Da),{base:y}=vs(Pa),{navigate:b}=vs(nd),w=Jh();let x=L(),T=L(),k=L(),S=L();const $=I=>{if(w("click",I),lp(I)){I.preventDefault();const K=a().pathname===l(x)||d();b(l(x),{state:p(),replace:K,preserveScroll:f()})}};qt(()=>(ms(u()),i()),()=>{A(x,ap(u(),i().uri))}),qt(()=>(a(),l(x)),()=>{A(T,a().pathname.startsWith(l(x)))}),qt(()=>(l(x),a()),()=>{A(k,l(x)===a().pathname)}),qt(()=>l(k),()=>{A(o,l(k)?"page":void 0)}),qt(()=>(ms(g()),a(),l(x),l(T),l(k),ms(n)),()=>{A(S,g()({location:a(),href:l(x),isPartiallyCurrent:l(T),isCurrent:l(k),existingProps:n}))}),ar(),ee();var R=op();let F;var j=h(R);Ia(j,t,"default",{get active(){return!!l(o)}}),st(()=>F=Dh(R,F,{href:l(x),"aria-current":l(o),...l(S),...n})),X("click",R,$),P(r,R),Ht()}function Ie(r,t){const e=Rl(t,["children","$$slots","$$events","$$legacy"]);Ft(t,!1);const n=Xt(),s=()=>nt(g,"$activeRoute",n);let i=De(t,"path",8,""),a=De(t,"component",12,null),o=L({}),u=L({});const{registerRoute:d,unregisterRoute:p,activeRoute:g}=vs(Pa),f={path:i(),default:i()===""};d(f),go(()=>{p(f)}),qt(()=>(s(),ms(e),Il),()=>{if(s()&&s().route===f){A(o,s().params);const{component:b,path:w,...x}=e;A(u,x),b&&(b.toString().startsWith("class ")?a(b):a(b())),Il()&&!s().preserveScroll&&(window==null||window.scrollTo(0,0))}}),ar(),ee();var m=jt(),y=ht(m);gt(y,()=>s()&&s().route===f,b=>{var w=jt(),x=ht(w);gt(x,a,T=>{var k=jt(),S=ht(k);$h(S,a,null,($,R)=>{var F=jt(),j=ht(F);Ih(j,()=>{var I;return((I=l(R))==null?void 0:I.default)||l(R)},(I,K)=>{K(I,Zh(()=>l(o),()=>l(u)))}),P($,F)}),P(T,k)},T=>{var k=jt(),S=ht(k);Ia(S,t,"default",{get params(){return l(o)}}),P(T,k)}),P(b,w)}),P(r,m),Ht()}const Bs=[];function cp(r,t){return{subscribe:St(r,t).subscribe}}function St(r,t=dr){let e=null;const n=new Set;function s(o){if(lo(r,o)&&(r=o,e)){const u=!Bs.length;for(const d of n)d[1](),Bs.push(d,r);if(u){for(let d=0;d<Bs.length;d+=2)Bs[d][0](Bs[d+1]);Bs.length=0}}}function i(o){s(o(r))}function a(o,u=dr){const d=[o,u];return n.add(d),n.size===1&&(e=t(s,i)||dr),o(r),()=>{n.delete(d),n.size===0&&e&&(e(),e=null)}}return{set:s,update:i,subscribe:a}}function up(r,t,e){const n=!Array.isArray(r),s=n?[r]:r;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return cp(e,(a,o)=>{let u=!1;const d=[];let p=0,g=dr;const f=()=>{if(p)return;g();const y=t(n?d[0]:d,a,o);i?a(y):g=typeof y=="function"?y:dr},m=s.map((y,b)=>mo(y,w=>{d[b]=w,p&=~(1<<b),u&&f()},()=>{p|=1<<b}));return u=!0,f(),function(){La(m),g(),u=!1}})}function dp(r){let t;return mo(r,e=>t=e)(),t}const dl=r=>({...r.location,state:r.history.state,key:r.history.state&&r.history.state.key||"initial"}),fp=r=>{const t=[];let e=dl(r);return{get location(){return e},listen(n){t.push(n);const s=()=>{e=dl(r),n({location:e,action:"POP"})};return r.addEventListener("popstate",s),()=>{r.removeEventListener("popstate",s);const i=t.indexOf(n);t.splice(i,1)}},navigate(n,{state:s,replace:i=!1,preserveScroll:a=!1,blurActiveElement:o=!0}={}){s={...s,key:Date.now()+""};try{i?r.history.replaceState(s,"",n):r.history.pushState(s,"",n)}catch{r.location[i?"replace":"assign"](n)}e=dl(r),t.forEach(u=>u({location:e,action:"PUSH",preserveScroll:a})),o&&document.activeElement.blur()}}},hp=(r="/")=>{let t=0;const e=[{pathname:r,search:""}],n=[];return{get location(){return e[t]},addEventListener(s,i){},removeEventListener(s,i){},history:{get entries(){return e},get index(){return t},get state(){return n[t]},pushState(s,i,a){const[o,u=""]=a.split("?");t++,e.push({pathname:o,search:u}),n.push(s)},replaceState(s,i,a){const[o,u=""]=a.split("?");e[t]={pathname:o,search:u},n[t]=s}}}},id=fp(Il()?window:hp()),{navigate:ni}=id;var pp=z("<div><!></div>");function vp(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(T,"$base",e),s=()=>nt(x,"$location",e),i=()=>nt(y,"$routes",e),a=()=>nt(b,"$activeRoute",e);let o=De(t,"basepath",8,"/"),u=De(t,"url",8,null),d=De(t,"viewtransition",8,null),p=De(t,"history",8,id);const g=(I,K,E)=>{const C=d()(E);return typeof(C==null?void 0:C.fn)=="function"?C.fn(I,C):C};sl(nd,p());const f=vs(Da),m=vs(Pa),y=St([]),b=St(null);let w=!1;const x=f||St(u()?{pathname:u()}:p().location),T=m?m.routerBase:St({path:o(),uri:o()}),k=up([T,b],([I,K])=>{if(!K)return I;const{path:E}=I,{route:C,uri:N}=K;return{path:C.default?E:C.path.replace(/\*.*$/,""),uri:N}}),S=I=>{const{path:K}=n();let{path:E}=I;if(I._path=E,I.path=ul(K,E),typeof window>"u"){if(w)return;const C=oc([I],s().pathname);C&&(b.set(C),w=!0)}else y.update(C=>[...C,I])},$=I=>{y.update(K=>K.filter(E=>E!==I))};let R=L(!1);f||(Ke(()=>p().listen(K=>{A(R,K.preserveScroll||!1),x.set(K.location)})),sl(Da,x)),sl(Pa,{activeRoute:b,base:T,routerBase:k,registerRoute:S,unregisterRoute:$}),qt(()=>(n(),ul),()=>{const{path:I}=n();y.update(K=>K.map(E=>Object.assign(E,{path:ul(I,E._path)})))}),qt(()=>(i(),s(),l(R)),()=>{const I=oc(i(),s().pathname);b.set(I&&{...I,preserveScroll:l(R)})}),ar(),ee();var F=jt(),j=ht(F);gt(j,d,I=>{var K=jt(),E=ht(K);Oh(E,()=>s().pathname,C=>{var N=pp(),q=h(N);Ia(q,t,"default",{get route(){return a()&&a().uri},get location(){return s()}}),rc(1,N,()=>g),rc(2,N,()=>g),P(C,N)}),P(I,K)},I=>{var K=jt(),E=ht(K);Ia(E,t,"default",{get route(){return a()&&a().uri},get location(){return s()}}),P(I,K)}),P(r,F),Ht()}const Jt=St(!1),Xn=St("");function mp(r){var n;const e=`; ${document.cookie}`.split(`; ${r}=`);if(e.length===2)return(n=e.pop())==null?void 0:n.split(";").shift()}async function Dt(r,t,e=null){const n=dp(Xn)||null,s=mp("csrfToken")||null,i={"Content-Type":"application/json"};n&&(i.d2rpvpjwttoken=n),s&&(i["X-CSRF-Token"]=s);const a={method:t,headers:i,credentials:"include"};e&&(a.body=JSON.stringify(e));try{const o=await fetch(r,a),u=o.headers.get("d2rpvpjwttoken");return typeof u=="string"&&Xn.set(u),o}catch(o){throw console.error("Error during fetch:",o),o}}const Fi=St(""),Pe=St(""),gs=St([]);async function na(r){try{const e=await Dt(r?"/nicknames/m-user":"/nicknames/b-user","GET");if(e.ok){const n=await e.json();r?gs.set(n.map(s=>s.replace("_m",""))):gs.set(n)}else console.error("닉네임을 가져오는데 실패했습니다.")}catch(t){console.error("닉네임을 가져오는 중 오류가 발생했습니다:",t)}}function Xs(r){const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${r}`);const e={month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",e).format(t)}const cc=St(1),uc=St("all"),Dl=St("none"),me=St("none");var gp=z('<button class="emphasis-button inline-block">로그인</button> <!>',1),bp=z('<button class="simple-button">나의정보</button>'),_p=z('<div class="menu-container svelte-eqoifg"><div class="menu-logo svelte-eqoifg"><!></div> <div class="menu-items svelte-eqoifg"></div> <button class="hamburger svelte-eqoifg"><span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span></button></div> <div></div> <div class="floating-button"><!></div>',1);function yp(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(p,"$location",e),s=()=>nt(Pe,"$myaccount",e),i=()=>nt(Jt,"$mode",e),a=()=>nt(Xn,"$jwtToken",e),o=L(),u=L();let d=De(t,"isOpen",12,!1);const p=bo();let g=L("");const f=()=>{d(!d())};async function m(){try{const C=await(await Dt("/auth/check-jwt","POST")).json();C.authenticated?(Pe.set(C.username),Xn.set(C.token),Jt.set(C.mode),ni(C.mode?"/mpk":"/")):(Pe.set(""),Xn.set("")),console.log(a())}catch{alert("서버 연결에 실패하였습니다")}}Ke(async()=>{await m()}),qt(()=>n(),()=>{A(g,n().pathname)}),qt(()=>s(),()=>{A(o,[{label:"공지사항",href:"/info"},{label:"랭킹조회",href:"/rank"},{label:"대전기록",href:"/record"},{label:"대회기록",href:"/tournament"},{label:"커뮤니티",href:"/boardlist"},{label:"역대우승",href:"/winners"},{label:"계산하기",href:"/calculator"},...s()==="admin"||s()==="admin_m"?[{label:"관리설정",href:"/admin"}]:[]])}),qt(()=>l(g),()=>{Jt.set(l(g).includes("mpk"))}),qt(()=>i(),()=>{A(u,i()?"/mpk":"/babapk")}),ar(),ee();var y=_p(),b=ht(y),w=h(b),x=h(w),T=ze(()=>l(u)==="/mpk"?"/mpk":"/");Kn(x,{class:"menu-logo-link",get to(){return l(T)},children:(E,C)=>{var N=fr("D2RPvP");P(E,N)},$$slots:{default:!0}});var k=v(w,2);Vt(k,5,()=>l(o),Gt,(E,C)=>{var N=ze(()=>l(u)+l(C).href);Kn(E,{class:"link",get to(){return l(N)},$$events:{click:()=>d(!1)},children:(q,D)=>{var M=fr();st(()=>et(M,l(C).label)),P(q,M)},$$slots:{default:!0}})});var S=v(k,2),$=h(S),R=v($,2),F=v(R,2),j=v(b,2);Vt(j,5,()=>l(o),Gt,(E,C)=>{var N=ze(()=>l(u)+l(C).href);Kn(E,{class:"link",get to(){return l(N)},$$events:{click:()=>d(!1)},children:(q,D)=>{var M=fr();st(()=>et(M,l(C).label)),P(q,M)},$$slots:{default:!0}})});var I=v(j,2),K=h(I);gt(K,()=>s()==="",E=>{var C=gp(),N=ht(C),q=v(N,2),D=ze(()=>i()?"/":"/mpk");Kn(q,{class:"simple-button",get to(){return l(D)},children:(M,B)=>{var U=fr();st(()=>et(U,i()?"정통바바":"밀리PK")),P(M,U)},$$slots:{default:!0}}),X("click",N,()=>me.set("login")),P(E,C)},E=>{var C=bp();X("click",C,()=>me.set("myinfo")),P(E,C)}),st(()=>{ll($,"transform",d()?"rotate(45deg)":""),ll(R,"opacity",d()?"0":"1"),ll(F,"transform",d()?"rotate(-45deg)":""),Ae(j,`${`mobile-menu ${d()?"open":""}`??""} svelte-eqoifg`)}),X("click",S,f),P(r,y),Ht()}var wp=z('<a class="svelte-1vl6564"> </a>'),xp=z('<a target="_blank" rel="noopener noreferrer" class="svelte-1vl6564"><img class="social-icon svelte-1vl6564"></a>'),Ep=z('<footer class="svelte-1vl6564"><div class="footer-links svelte-1vl6564"></div> <div class="social-links svelte-1vl6564"></div> <div class="copyright svelte-1vl6564"> </div></footer>');function Ap(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(s,"$location",e),s=bo();let i=L("");const a=[{label:"문의하기",href:"https://open.kakao.com/me/balli"},{label:"개인정보 보호정책",href:"/privacy.html"},{label:"이용 약관",href:"/terms.html"}],o=l(i).includes("mpk")?[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/QFKDTKqbmy",alt:"mpk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/gPUHe6kf",alt:"mpk Kakaotalk"}]:[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/AqvAJJKCag",alt:"babapk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/giHO7Mzg",alt:"babapk Kakaotalk"}];qt(()=>n(),()=>{A(i,n().pathname)}),ar(),ee();var u=Ep(),d=h(u);Vt(d,5,()=>a,Gt,(m,y)=>{var b=wp(),w=h(b);st(()=>{Ws(b,"href",l(y).href),et(w,l(y).label)}),P(m,b)});var p=v(d,2);Vt(p,5,()=>o,Gt,(m,y)=>{var b=xp(),w=h(b);st(()=>{Ws(b,"href",l(y).href),Ws(w,"src",l(y).icon),Ws(w,"alt",l(y).alt)}),P(m,b)});var g=v(p,2),f=h(g);st(()=>et(f,`© ${new Date().getFullYear()??""} D2RPvP. All rights reserved.`)),P(r,u),Ht()}var Tp=z("<div><h1> </h1></div>");function Np(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(i,"$location",e),s=()=>nt(Jt,"$mode",e),i=bo();let a=L(""),o=L(""),u=L("");qt(()=>n(),()=>{A(a,n().pathname)}),qt(()=>l(a),()=>{l(a).includes("rank")?A(u,"랭킹조회"):l(a).includes("info")?A(u,"공지사항"):l(a).includes("record")?A(u,"대전기록"):l(a).includes("tournament")?A(u,"대회기록"):l(a).includes("boardlist")?A(u,"커뮤니티"):l(a).includes("winners")?A(u,"역대우승"):l(a).includes("calculator")?A(u,"계산하기"):l(a).includes("admin")?A(u,"관리설정"):A(u,"")}),qt(()=>s(),()=>{s()?A(o,"밀리PK"):s()?A(o,""):A(o,"정통바바")}),qt(()=>(l(o),l(u)),()=>{document.title="D2RPvP "+l(o)+" "+l(u)}),ar(),ee();var d=Tp();const p=ze(()=>`header-container ${(l(a).includes("post")||l(a).includes("write")?"hidden":"")??""} svelte-1yjukfn`);var g=h(d),f=h(g);st(()=>{Ae(d,l(p)),et(f,`${l(o)??""} ${l(u)??""}`)}),P(r,d),Ht()}var kp=z('<tr class="svelte-1vck7sz"><td class="svelte-1vck7sz"><a> </a></td></tr>'),Sp=z('<div class="info-container"><table><thead><tr class="svelte-1vck7sz"><th class="svelte-1vck7sz">공지사항 들어가기(구글 문서 링크)</th></tr></thead><tbody></tbody></table></div>');function $p(r){const t=Xt(),n=nt(Jt,"$mode",t)?[{href:"https://docs.google.com/spreadsheets/d/18jJ3WYsWZEdV8oXeJYt1-aMrACN1IHsFnCV3-gir5pk/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12jpQH4QP7QyPRhLPuXJSuU3lJdA_3SzCE5dBYl2jYZg/",title:"듀얼 규칙 안내"},{href:"https://docs.google.com/document/d/1Wj31FLkeFLZp-N2Bohkj_ZKoUrJU5LXkUABH7x9zxC8/",title:"대회 및 랭킹 시스템 안내"}]:[{href:"https://docs.google.com/spreadsheets/d/19a-_44yVj04BnlUK6QQY9U3jXtlDAgOmdHCgdis1toI/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12EBBA8c9K-KzaE-cC6QvRb8vOB07V9Mi90D44-dzOPw/",title:"인게임 방 안내"},{href:"https://docs.google.com/document/d/1b-vnUyLaDrSnSMouTOoFAYz5K3lq8hS-kzjh_R-JuD8/",title:"월별 랭킹 시스템 안내"},{href:"https://docs.google.com/document/d/1RBDp8SzVp-epjIdekWOWPYt0f6XBpreVbQnPD1qv3-o/",title:"미니대회 운영 안내"},{href:"https://docs.google.com/document/d/1m50GKaWyszyBSslQn3348Fz1CAp55DFbKNwNyj5dLnw/",title:"내부 랭킹전 안내"},{href:"https://docs.google.com/document/d/1_4E8_YqotTmRaVcbthmYuCnQbLKTwhSRPJ8rGk_Nybc/",title:"무기의 분류 안내"}];var s=Sp(),i=h(s),a=v(h(i));Vt(a,5,()=>n,Gt,(u,d)=>{var p=kp(),g=h(p),f=h(g),m=h(f);st(()=>{Ws(f,"href",l(d).href),et(m,l(d).title)}),P(u,p)}),P(r,s)}var Op=z('<td class="empty svelte-5k5sfe"></td>'),Lp=z('<input class="calendar-input svelte-5k5sfe" type="text"> <button class="emphasis-button small svelte-5k5sfe">저장</button>',1),Cp=z('<div class="inside-tooltip pointer svelte-5k5sfe"> </div> <div class="tooltiptext svelte-5k5sfe"> </div>',1),qp=z('<td class="day-cell svelte-5k5sfe" role="button" tabindex="0"><div> </div> <!></td>'),Rp=z('<tr class="svelte-5k5sfe"></tr>'),Ip=z('<div class="calendar-container"><table class="calendar-table svelte-5k5sfe"><thead><tr class="svelte-5k5sfe"><th class="day-header svelte-5k5sfe">일</th><th class="day-header svelte-5k5sfe">월</th><th class="day-header svelte-5k5sfe">화</th><th class="day-header svelte-5k5sfe">수</th><th class="day-header svelte-5k5sfe">목</th><th class="day-header svelte-5k5sfe">금</th><th class="day-header svelte-5k5sfe">토</th></tr></thead><tbody></tbody></table></div>');function Dp(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Pe,"$myaccount",e),s=()=>nt(Jt,"$mode",e),i=L(),a=L(),o=L();let u=De(t,"year",8),d=De(t,"month",8),p=De(t,"date",8),g=De(t,"events",12),f=De(t,"eventname",8),m=De(t,"getCalendartext",8),y=L(null),b=L("");function w(I,K){const E=new Date(I,K,1),C=new Date(I,K+1,0),N=[];let q=new Date(E);for(;q<=C;)N.push(new Date(q)),q.setDate(q.getDate()+1);const D=E.getDay();return{daysInMonth:N,startDayOfWeek:D}}const x=(I,K)=>{(n()==="admin"||n()==="admin_m")&&(A(y,I.toDateString()),A(b,K||""))},T=async I=>{const K=I.toDateString(),E={year:I.getFullYear(),month:I.getMonth()+1,day:I.getDate(),event:l(b),mode:s()};try{const N=await Dt("/calendar/event","POST",E);if(N.ok){alert("이벤트 기록을 저장하였습니다"),g({...g(),[K]:l(b)}),A(y,null),A(b,"");const q=u(),D=d();await m()(q,D)}else alert(`오류 발생: ${N.status}`)}catch(C){console.error("Error:",C)}};function k(I,K){const E=[];let C=[],N=0;for(let q=0;q<K;q++)C.push("empty"),N++;if(I.forEach(q=>{N===7&&(E.push(C),C=[],N=0);const D=q.getDate()===p()&&q.getMonth()===d()&&q.getFullYear()===u(),M=q.getDate();C.push({day:q,isToday:D,dayKey:M}),N++}),C.length>0){for(;C.length<7;)C.push("empty");E.push(C)}return E}let S=L(null);function $(I){l(S)===`${I}`?A(S,null):A(S,`${I}`)}qt(()=>(l(i),l(a),ms(u()),ms(d())),()=>{(I=>(A(i,I.daysInMonth),A(a,I.startDayOfWeek)))(w(u(),d()))}),qt(()=>(l(i),l(a)),()=>{A(o,k(l(i),l(a)))}),ar(),ee();var R=Ip(),F=h(R),j=v(h(F));Vt(j,5,()=>l(o),Gt,(I,K)=>{var E=Rp();Vt(E,5,()=>l(K),Gt,(C,N)=>{var q=jt(),D=ht(q);gt(D,()=>l(N)==="empty",M=>{var B=Op();P(M,B)},M=>{var B=qp(),U=h(B),Z=h(U);st(()=>et(Z,l(N).day.getDate()));var W=v(U,2);gt(W,()=>l(y)===l(N).day.toDateString(),rt=>{var Q=Lp(),tt=ht(Q),at=v(tt,2);H(tt,()=>l(b),G=>A(b,G)),X("keydown",tt,G=>{G.key==="Enter"&&T(l(N).day)}),X("click",at,()=>T(l(N).day)),P(rt,Q)},rt=>{var Q=Cp(),tt=ht(Q),at=h(tt),G=v(tt,2),ut=h(G);st(()=>{et(at,f()[l(N).dayKey]||""),Bh(G,"visible",l(S)===`${l(N).dayKey}`),et(ut,f()[l(N).dayKey]||"이벤트 없음")}),X("click",tt,()=>$(l(N).dayKey)),P(rt,Q)}),st(()=>Ae(U,`day-number ${(n()==="admin"||n()==="admin_m"?"pointer":"")??""} svelte-5k5sfe`)),X("click",U,()=>x(l(N).day,f()[l(N).dayKey])),P(M,B)}),P(C,q)}),P(I,E)}),P(r,R),Ht()}var Pp=z('<div class="calendar-header svelte-fc2pud"><button class="simple-button">지난달</button> <div class="calendar-header-text svelte-fc2pud"> </div> <button class="simple-button">다음달</button></div> <!>',1);function dc(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L({});const i=new Date,a=i.getFullYear(),o=i.getMonth(),u=i.getDate();let d=L(a),p=L(o),g=L(u),f={};const m=()=>{let F=l(p)+1,j=l(d);F===12&&(F=0,j+=1),A(p,F),A(d,j),A(g,null),j===i.getFullYear()&&F===i.getMonth()&&A(g,i.getDate()),b(j,F)},y=()=>{let F=l(p)-1,j=l(d);F===-1&&(F=11,j-=1),A(p,F),A(d,j),A(g,null),j===i.getFullYear()&&F===i.getMonth()&&A(g,i.getDate()),b(j,F)};async function b(F,j){try{const I=`/calendar/event?year=${F}&month=${j+1}&isM=${n()}`,K=await Dt(I,"GET");if(!K.ok)throw new Error("Network response was not ok");const E=await K.json(),C={};E.forEach(N=>{C[N.date]=N.text}),A(s,C)}catch(I){alert("달력 DB 에러"),console.error("Error:",I)}}Ke(()=>{b(i.getFullYear(),i.getMonth())}),ee();var w=Pp(),x=ht(w),T=h(x),k=v(T,2),S=h(k),$=v(k,2),R=v(x,2);Dp(R,{get year(){return l(d)},get month(){return l(p)},get date(){return l(g)},events:f,get eventname(){return l(s)},getCalendartext:b}),st(()=>et(S,`${l(d)??""}년 ${l(p)+1}월`)),X("click",T,y),X("click",$,m),P(r,w),Ht()}var Bp=z('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">로그인</button></div> <button class="message-button">계정찾기</button> <button class="message-button">회원가입</button>',1);function Mp(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L(""),i=L("");async function a(){let w={nickname:l(s),password:l(i)};try{const x=n()?"/auth/m-user/login":"/auth/b-user/login",T=await Dt(x,"POST",w);if(T.status===200){const k=await T.json(),S=k.accessToken;S&&Xn.set(S),Pe.set(k.username),me.set("none")}else alert("로그인 실패")}catch(x){alert(x)}}ee();var o=Bp(),u=ht(o),d=h(u),p=v(u,2),g=h(p),f=v(g,2),m=v(f,2),y=v(p,2),b=v(y,2);st(()=>et(d,`${(n()?"밀리PK":"정통바바")??""} 로그인하기`)),H(g,()=>l(s),w=>A(s,w)),H(f,()=>l(i),w=>A(i,w)),X("click",m,()=>a()),X("click",y,()=>me.set("findaccount")),X("click",b,()=>me.set("register")),P(r,o),Ht()}var jp=z('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input type="text" placeholder="이메일 입력"> <button class="emphasis-button block">계정찾기</button></div>',1);function Up(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L(!0),i=L(""),a=L("");const o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function u(){A(s,o.test(l(a)))}async function d(){const w={findpw_nickname:l(i),findpw_email:l(a)};try{const x=n()?"/reset-pw/m-user":"/reset-pw/b-user";(await Dt(x,"POST",w)).ok?(alert("이메일을 확인하세요"),me.set("none")):alert("에러 발생")}catch(x){alert(x)}}ee();var p=jp(),g=ht(p);g.textContent=`${(Jt?"밀리PK":"정통바바")??""} 계정찾기`;var f=v(g,2),m=h(f),y=v(m,2),b=v(y,2);st(()=>Ae(y,`input-text ${(l(s)?"":"invalid")??""}`)),H(m,()=>l(i),w=>A(i,w)),H(y,()=>l(a),w=>A(a,w)),X("input",y,u),X("click",b,d),P(r,p),Ht()}var Fp=z(`<strong>웹사이트 이용 약관</strong> <p>D2R PvP는 Diablo 2: Resurrected에서 PvP(플레이어 대 플레이어) 매치에
  참여하는 사용자들을 위한 랭킹 시스템을 제공하는 웹사이트입니다.</p> <p>사이트에서 자신의 랭킹을 확인하려면 서버에 계정을 등록하고 매치 결과를
  기록해야 합니다.</p> <p>등록 과정에서 제공된 정보는 사이트 운영을 위해서만 사용되며, 다른
  목적으로는 사용되지 않습니다.</p>`,1);function Hp(r){var t=Fp();P(r,t)}var zp=z(`<strong>개인정보 처리방침</strong> <p>이 페이지는 서비스를 사용하기로 결정한 경우, 개인 정보의 수집, 사용 및
  공개에 관한 제 정책을 방문자에게 알리기 위해 사용됩니다.</p> <p>서비스를 사용하기로 선택하면, 이 정책과 관련하여 정보 수집 및 사용에
  동의하는 것입니다. 수집된 개인 정보는 서비스 제공 및 개선을 위해
  사용됩니다. 이 개인정보 처리방침에 설명된 경우를 제외하고는 귀하의 정보를
  사용하거나 제3자와 공유하지 않습니다.</p> <p>이 개인정보 처리방침에서 사용되는 용어는 D2R PvP에서 접근할 수 있는 이용
  약관과 동일한 의미를 가지며, 본 개인정보 처리방침에서 달리 정의되지 않는
  한 이용 약관과 동일한 의미를 가집니다.</p> <p><strong>정보 수집 및 사용</strong></p> <p>더 나은 경험을 제공하기 위해, 서비스 사용 중 특정 개인 식별 정보를
  제공해야 할 수 있습니다. 이 정보에는 닉네임, 비밀번호, 이메일, 플레이
  데이터 등이 포함될 수 있습니다. 요청된 정보는 귀하의 장치에 보관되며,
  당사에 의해 수집되지 않습니다.</p> <div><p>이 사이트는 개인 정보를 제3자 서비스 제공자에게 제공하지 않습니다.</p> <p><strong>로그 데이터</strong></p> <p>서비스 사용 시, 오류가 발생할 경우 귀하의 전화에서 로그 데이터라는
    정보를 (제3자 제품을 통해) 수집함을 알려드립니다. 이 로그 데이터에는
    장치의 인터넷 프로토콜(IP) 주소, 장치 이름, 운영 체제 버전, 서비스 사용
    시의 사이트 구성, 사용 날짜 및 시간, 기타 통계 정보가 포함될 수
    있습니다.</p> <p><strong>쿠키</strong></p> <p>쿠키는 일반적으로 익명의 고유 식별자로 사용되는 소량의 데이터가 포함된
    파일입니다. 이러한 파일은 귀하가 방문하는 웹사이트에서 브라우저로
    전송되어 귀하의 장치 내부 메모리에 저장됩니다.</p> <p>이 서비스는 이러한 "쿠키"를 명시적으로 사용하지 않습니다. 그러나
    사이트는 정보 수집 및 서비스 개선을 위해 "쿠키"를 사용하는 제3자 코드 및
    라이브러리를 사용할 수 있습니다. 쿠키 수신 시 이를 허용하거나 거부할 수
    있는 옵션이 있으며, 쿠키가 귀하의 장치로 전송될 때 알림을 받도록 설정할
    수 있습니다. 쿠키를 거부하기로 선택하면 이 서비스의 일부를 사용하지 못할
    수도 있습니다.</p> <p><strong>서비스 제공자</strong></p> <p>당사는 다음과 같은 이유로 제3자 회사 및 개인을 고용할 수 있습니다:</p> <ul><li>당사 서비스를 용이하게 하기 위해;</li> <li>당사를 대신하여 서비스를 제공하기 위해;</li> <li>서비스 관련 서비스를 수행하기 위해; 또는</li> <li>당사 서비스 사용 방식을 분석하는 데 도움을 주기 위해.</li></ul> <p>이 서비스의 사용자에게 제3자가 귀하의 개인 정보에 접근할 수 있음을
    알리고자 합니다. 이는 당사를 대신하여 할당된 작업을 수행하기 위한
    것입니다. 그러나 그들은 정보를 다른 목적으로 사용하거나 공개하지 않을
    의무가 있습니다.</p> <p><strong>보안</strong></p> <p>귀하의 개인 정보를 제공받는 것을 신뢰하며, 이를 보호하기 위해 상업적으로
    합리적인 수단을 사용하고 있습니다. 그러나 인터넷을 통한 전송 방법 또는
    전자 저장 방법은 100% 안전하고 신뢰할 수 없으며, 절대적인 보안을 보장할
    수는 없습니다.</p> <p><strong>다른 사이트로의 링크</strong></p> <p>이 서비스에는 다른 사이트로의 링크가 포함될 수 있습니다. 제3자 링크를
    클릭하면 해당 사이트로 이동됩니다. 이러한 외부 사이트는 당사에서
    운영하지 않음을 유의하시기 바랍니다. 따라서 이러한 웹사이트의 개인정보
    처리방침을 검토할 것을 강력히 권장합니다. 당사는 제3자 사이트나 서비스의
    콘텐츠, 개인정보 처리방침 또는 관행에 대해 책임을 지지 않습니다.</p> <p><strong>어린이 개인정보</strong></p> <div><p>이 서비스는 13세 미만의 어린이를 대상으로 하지 않습니다. 당사는 13세
      미만의 어린이로부터 개인 식별 정보를 고의로 수집하지 않습니다. 만약
      13세 미만의 어린이가 개인 정보를 제공한 것으로 발견될 경우, 이를 즉시
      서버에서 삭제합니다. 부모나 보호자이시고, 자녀가 개인 정보를 제공한
      사실을 알게 된 경우, 저에게 연락해 주시면 필요한 조치를 취하겠습니다.</p></div> <p><strong>개인정보 처리방침의 변경</strong></p> <p>당사는 개인정보 처리방침을 수시로 업데이트할 수 있습니다. 따라서 이
    페이지를 주기적으로 검토하여 변경 사항을 확인할 것을 권장합니다.
    개인정보 처리방침의 변경 사항은 이 페이지에 게시하여 알릴 것입니다.</p> <p>이 정책은 2024-01-17부터 유효합니다.</p> <p><strong>문의하기</strong></p> <p>개인정보 처리방침에 대해 질문이나 제안사항이 있는 경우,
    kor8240@gmail.com으로 주저하지 말고 연락해 주시기 바랍니다.</p> <p>이 개인정보 처리방침 페이지는 <a href="https://privacypolicytemplate.net" target="_blank" rel="noopener noreferrer">privacypolicytemplate.net</a>에서 작성되었으며, <a href="https://app-privacy-policy-generator.nisrulz.com/" target="_blank" rel="noopener noreferrer">사이트 개인정보 처리방침 생성기</a>에서 수정/생성되었습니다.</p></div>`,1);function Kp(r){var t=zp();P(r,t)}var Gp=z('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Vp=z('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Wp=z('<button class="simple-button">이용약관</button> <button class="simple-button">개인정보 정책</button> <input class="input-text" type="text" placeholder="닉네임"> <button class="emphasis-button">닉네임 확인</button>',1),Zp=z('<div class="nickname-input svelte-18sr952"> </div> <input type="text" placeholder="이메일 입력"> <input class="input-text" type="password" placeholder="비밀번호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">회원가입</button>',1),Yp=z('<h3 class="message-title"></h3> <div class="message-body"><!></div>',1);function Jp(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L(!0),i=L(""),a=L("");const o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let u=L(""),d=L(""),p=L(""),g=L(!1);function f(){A(s,o.test(l(a)))}function m(S){return!S||S.trim()===""?{isValid:!1,message:"닉네임을 입력해주세요."}:/^[a-zA-Z가-힣]{3,20}$/.test(S)?{isValid:!0,message:"닉네임이 유효합니다."}:{isValid:!1,message:"닉네임은 3~20자의 알파벳, 한글만 허용됩니다."}}async function y(){const S=m(l(u));if(!S.isValid){alert(S.message);return}if(l(g))alert("닉네임을 이미 확인하였습니다");else{const $=n()?"/auth/m-user/check-nickname":"/auth/b-user/check-nickname",R={nickname:l(u)};try{(await Dt($,"POST",R)).status===200&&(alert("해당 닉네임은 사용 가능합니다"),A(g,!0))}catch(F){console.error("Error occurred while checking nickname:",F),alert(F)}}}async function b(){const S={nickname:l(u),password:l(d),email:l(a)};try{const $=n()?"/auth/m-user/register":"/auth/b-user/register",R=await Dt($,"POST",S);if(!R.ok)throw new Error("회원가입에 실패했습니다.");R.status===201&&(alert("회원가입이 성공적으로 완료되었습니다."),me.set("none"))}catch($){alert($)}}ee();var w=Yp(),x=ht(w);x.textContent=`${(Jt?"밀리PK":"정통바바")??""} 가입하기`;var T=v(x,2),k=h(T);gt(k,()=>l(i)==="terms",S=>{var $=Gp(),R=ht($),F=h(R);Hp(F);var j=v(R,2);X("click",j,()=>A(i,"")),P(S,$)},S=>{var $=jt(),R=ht($);gt(R,()=>l(i)==="privacy",F=>{var j=Vp(),I=ht(j),K=h(I);Kp(K);var E=v(I,2);X("click",E,()=>A(i,"")),P(F,j)},F=>{var j=jt(),I=ht(j);gt(I,()=>!l(g),K=>{var E=Wp(),C=ht(E),N=v(C,2),q=v(N,2),D=v(q,2);X("click",C,()=>A(i,"terms")),X("click",N,()=>A(i,"privacy")),H(q,()=>l(u),M=>A(u,M)),X("click",D,y),P(K,E)},K=>{var E=Zp(),C=ht(E),N=h(C),q=v(C,2),D=v(q,2),M=v(D,2),B=v(M,3);st(()=>{et(N,`닉네임 :${l(u)??""}`),Ae(q,`input-text ${(l(s)?"":"invalid")??""}`)}),H(q,()=>l(a),U=>A(a,U)),X("input",q,f),H(D,()=>l(d),U=>A(d,U)),H(M,()=>l(p),U=>A(p,U)),X("click",B,b),P(K,E)}),P(F,j)},!0),P(S,$)}),P(r,w),Ht()}var Xp=z('<tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 신청</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>도전 취소</button></td></tr> <tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 날짜</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>자동 승리</button></td></tr>',1),Qp=z('<h3 class="message-title">내 정보 확인</h3> <div class="message-body"><table class="info-table svelte-cga3fb"><tbody><tr class="svelte-cga3fb"><td class="svelte-cga3fb">계정</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">로그아웃</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">메일</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">암호</td><td class="svelte-cga3fb">********</td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><!><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대전점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대회점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">승/패</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">탈퇴</td><td class="svelte-cga3fb"></td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">탈퇴</button></td></tr></tbody></table></div>',1);function tv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(Pe,"$myaccount",e);let i=L("Loading"),a=L("Loading"),o=L("Loading"),u=L("Loading"),d=L("Loading"),p=L(""),g=L("");async function f(){const dt=n()?"/userdata/info/m-user":"/userdata/info/b-user";try{const it=await Dt(dt,"POST");if(it.ok){const lt=await it.json();n()&&(A(p,lt.challenge),A(g,lt.challengeDate)),A(i,lt.email),A(a,lt.bscore),A(o,lt.lscore),A(u,lt.countwin),A(d,lt.countlose)}}catch(it){console.error("정보를 불러오는 중 오류가 발생하였습니다:",it),alert("정보를 불러오는 중 오류가 발생하였습니다")}}async function m(){const dt={mode:n(),challenge:l(p)};try{(await Dt("/userdata/challenge/cancel","DELETE",dt)).status===200&&alert("도전 중인 게임 정보를 삭제하였습니다")}catch(it){console.error("요청에 실패하였습니다",it),alert("요청에 실패하였습니다")}}async function y(){const dt={mode:n(),challenge:l(p)};try{const it=await Dt("/record/challenge/check","POST",dt),lt=await it.json();it.status===201?alert("도전 기간에 상대가 응답하지 않아 자동 승리로 입력되었습니다"):it.status===400?alert(lt.message||"도전 중이 아니거나 응답 기간이 끝나지 않았습니다"):alert("알 수 없는 상태 코드: "+it.status)}catch(it){console.error("요청에 실패하였습니다:",it),alert("요청 처리 중 오류가 발생했습니다. 네트워크 상태를 확인해주세요.")}}Ke(()=>{f()});async function b(){try{await Dt("/auth/logout","POST"),alert("로그아웃하였습니다"),ni(n()?"/mpk":"/"),me.set("none"),Pe.set(""),Xn.set("")}catch(dt){alert(dt)}}ee();var w=Qp(),x=v(ht(w),2),T=h(x),k=h(T),S=h(k),$=v(h(S)),R=h($);st(()=>et(R,s().replace("_m","")));var F=v($),j=h(F),I=v(S),K=v(h(I)),E=h(K),C=v(K),N=h(C),q=v(I),D=v(h(q),2),M=h(D),B=v(q);gt(B,n,dt=>{var it=Xp(),lt=ht(it),vt=v(h(lt)),Nt=h(vt);st(()=>et(Nt,l(p)?l(p).replace("_m",""):""));var Rt=v(vt),Ot=h(Rt),$t=v(lt,2),Pt=v(h($t)),se=h(Pt),Wt=v(Pt),Yt=h(Wt);st(()=>{Ae(Ot,`simple-button ${(l(p)===""?"hidden":null)??""} svelte-cga3fb`),et(se,l(g)||""),Ae(Yt,`simple-button ${(l(p)===""?"hidden":null)??""} svelte-cga3fb`)}),X("click",Ot,()=>m()),X("click",Yt,()=>y()),P(dt,it)});var U=v(B),Z=v(h(U)),W=h(Z),rt=v(U),Q=v(h(rt)),tt=h(Q),at=v(rt),G=v(h(at)),ut=h(G),_t=v(at),ct=v(h(_t),2),wt=h(ct);st(()=>{et(E,l(i)),et(W,l(a)),et(tt,l(o)),et(ut,`${l(u)??""}/${l(d)??""}`)}),X("click",j,()=>b()),X("click",N,()=>me.set("changeemail")),X("click",M,()=>me.set("changepw")),X("click",wt,()=>me.set("deleteaccount")),P(r,w),Ht()}var ev=z('<h3 class="message-title">이메일 변경</h3> <div class="message-body"><input class="input-text" type="text" placeholder="새 이메일"> <input class="input-text" type="password" placeholder="비밀번호"> <br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function rv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L(""),i=L("");async function a(){const m={nowpw:l(s),newemail:l(i)};try{const y=n()?"/userdata/change-email/m-user":"/userdata/change-email/b-user",b=await Dt(y,"POST",m);b.ok?(alert("이메일 변경 완료"),me.set("none")):alert(`오류 발생: ${b.status}`)}catch(y){console.error("오류 발생:",y),alert("오류 발생: "+y)}}ee();var o=ev(),u=v(ht(o),2),d=h(u),p=v(d,2),g=v(p,4),f=v(u,2);H(d,()=>l(i),m=>A(i,m)),H(p,()=>l(s),m=>A(s,m)),X("click",g,()=>a()),X("click",f,()=>me.set("myinfo")),P(r,o),Ht()}var nv=z('<h3 class="message-title">암호 변경</h3> <div class="message-body"><input class="input-text" type="password" placeholder="현재암호"> <input class="input-text" type="password" placeholder="새 암호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function sv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L(""),i=L(""),a=L("");async function o(){if(l(i)!==l(a)){alert("암호 확인이 일치하지 않습니다. 다시 확인해주세요.");return}const b={nowpw:l(s),newpw:l(i)};try{const w=n()?"/userdata/change-pw/m-user":"/userdata/change-pw/b-user",x=await Dt(w,"POST",b);x.ok?(alert("암호 변경 완료"),me.set("none")):alert(`오류 발생: ${x.status}`)}catch(w){console.error("오류 발생:",w),alert("오류 발생: "+w)}}ee();var u=nv(),d=v(ht(u),2),p=h(d),g=v(p,2),f=v(g,2),m=v(f,3),y=v(d,2);H(p,()=>l(s),b=>A(s,b)),H(g,()=>l(i),b=>A(i,b)),H(f,()=>l(a),b=>A(a,b)),X("click",m,()=>o()),X("click",y,()=>me.set("myinfo")),P(r,u),Ht()}var iv=z('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">계정삭제</button></div>',1);function av(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L("");async function i(){const g={nowpw:l(s)};try{const f=n()?"/auth/m-user/delete":"/auth/b-user/delete",m=await Dt(f,"DELETE",g);m.status===200?(alert("계정 삭제 완료"),me.set("none"),Pe.set(""),Xn.set("")):alert(`오류 발생: ${m.status}`)}catch(f){console.error("오류 발생:",f),alert("오류 발생: "+f)}}ee();var a=iv(),o=ht(a);o.textContent=`${(Jt?"밀리PK":"정통바바")??""} 계정 삭제`;var u=v(o,2),d=h(u),p=v(d,2);H(d,()=>l(s),g=>A(s,g)),X("click",p,()=>i()),P(r,a),Ht()}var lv=z("<option> </option>"),ov=z('<h3 class="message-title"> </h3> <div class="message-body"><input list="nicknames_list" class="input-text" placeholder="승자를 선택하세요"> <datalist id="nicknames_list"></datalist> <button class="emphasis-button block">보내기</button></div>',1);function cv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(gs,"$nicknames",e),i=()=>nt(Pe,"$myaccount",e);let a=L([]),o=L();Ke(()=>{na(n()),A(a,n()?s().filter(T=>T!==i().replace("_m","")):s().filter(T=>T!==i()))});function u(T,k){return k.includes(T)?T:null}function d(T){const S=T.target.value;typeof S=="string"&&A(o,u(S,l(a)))}async function p(){const T=n()?{winner:l(o)+"_m",mode:n()}:{winner:l(o),mode:n()};try{const k=await Dt("/record/submit","POST",T);k.ok?alert("기록 전송 완료"):alert(`오류 발생: ${k.status}`)}catch(k){console.error("오류 발생:",k),alert("오류 발생: "+k)}}ee();var g=ov(),f=ht(g),m=h(f),y=v(f,2),b=h(y),w=v(b,2);Vt(w,5,()=>l(a),Gt,(T,k)=>{var S=lv(),$={},R=h(S);st(()=>{$!==($=l(k))&&(S.value=(S.__value=l(k))==null?"":l(k)),et(R,l(k))}),P(T,S)});var x=v(w,2);st(()=>et(m,`${(n()?"밀리PK":"정통바바")??""} 기록 보내기`)),H(b,()=>l(o),T=>A(o,T)),X("blur",b,d),X("click",x,p),P(r,g),Ht()}var uv=z('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">로딩 중...</td></tr>'),dv=z('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">기록이 없습니다</td></tr>'),fv=z('<tr class="svelte-y61ocg"><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"><button class="simple-button svelte-y61ocg">승인</button> <button class="simple-button svelte-y61ocg">삭제</button></td></tr>'),hv=z('<h3 class="message-title"> </h3> <div class="message-body"><table class="temp-table svelte-y61ocg"><thead><tr><th class="record-table-date">날짜</th><th class="record-table-loser">패자</th><th class="record-table-score">점수</th><th class="record-table-ok">승인</th></tr></thead><tbody><!></tbody></table></div>',1);function pv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L(),i=L(!0);async function a(){const b="/record/pending",w={mode:n()};try{const x=await Dt(b,"POST",w);if(!x.ok)throw new Error(`오류 발생: ${x.status}`);A(s,await x.json())}catch(x){console.error("데이터 불러오기 오류:",x),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{A(i,!1)}}async function o(b,w){const x=b==="approve"?"/record/approve":"/record/cancel",T={orderNum:w,mode:n()};try{const k=await Dt(x,b==="approve"?"POST":"DELETE",T);if(k.ok)alert(`${b==="approve"?"승인":"삭제"} 완료`),a();else throw new Error(`오류 발생: ${k.status}`)}catch(k){console.error(`${b==="approve"?"승인":"삭제"} 오류:`,k),alert(`오류 발생: ${k}`)}}Ke(async()=>{await a()}),ee();var u=hv(),d=ht(u),p=h(d),g=v(d,2),f=h(g),m=v(h(f)),y=h(m);gt(y,()=>l(i),b=>{var w=uv();P(b,w)},b=>{var w=jt(),x=ht(w);gt(x,()=>l(s).length===0,T=>{var k=dv();P(T,k)},T=>{var k=jt(),S=ht(k);Vt(S,1,()=>l(s),Gt,($,R)=>{var F=fv(),j=h(F),I=h(j);st(()=>et(I,new Date(l(R).date).toLocaleDateString()));var K=v(j),E=h(K);st(()=>et(E,n()?l(R).loser.replace("_m",""):l(R).loser));var C=v(K),N=h(C),q=v(C),D=h(q),M=v(D,2);st(()=>et(N,l(R).lScore)),X("click",D,()=>o("approve",l(R).orderNum)),X("click",M,()=>o("delete",l(R).orderNum)),P($,F)}),P(T,k)},!0),P(b,w)}),st(()=>et(p,`${(n()?"밀리PK":"정통바바")??""} 기록 승인하기`)),P(r,u),Ht()}var vv=z("<option> </option>"),mv=z("<option> </option>"),gv=z("<option> </option>"),bv=z("<option> </option>"),_v=z("<option> </option>"),yv=z("<option> </option>"),wv=z("<option> </option>"),xv=z("<option> </option>"),Ev=z("<option> </option>"),Av=z("<option> </option>"),Tv=z("<option> </option>"),Nv=z("<option> </option>"),kv=z('<h3 class="message-title"> </h3> <div class="message-body svelte-anctt3"><input type="text" class="titlewidth input-text svelte-anctt3" placeholder="대회 이름"> <select class="optionwidth input-text svelte-anctt3"><option>2팀(듀얼)</option><option>3-5팀(4강)</option><option>6-11팀(8강)</option><option>12팀 이상(16강)</option><option>정식전</option></select> <select class="optionwidth input-text svelte-anctt3"><option>1인 1팀</option><option>2인 1팀</option><option>3인 1팀</option><option>4인 1팀</option></select> <br> 우승 <input list="nicknames1" class="namewidth input-text svelte-anctt3" placeholder="선택하세요"> <datalist id="nicknames1"></datalist> <input list="nicknames2" placeholder="선택하세요"> <datalist id="nicknames2"></datalist> <input list="nicknames3" placeholder="선택하세요"> <datalist id="nicknames3"></datalist> <input list="nicknames4" placeholder="선택하세요"> <datalist id="nicknames4"></datalist> <br> <span>2위</span> <input list="nicknames5" placeholder="선택하세요"> <datalist id="nicknames5"></datalist> <input list="nicknames6" placeholder="선택하세요"> <datalist id="nicknames6"></datalist> <input list="nicknames7" placeholder="선택하세요"> <datalist id="nicknames7"></datalist> <input list="nicknames8" placeholder="선택하세요"> <datalist id="nicknames8"></datalist> <br> <span>3위</span> <input list="nicknames9" placeholder="선택하세요"> <datalist id="nicknames9"></datalist> <input list="nicknames10" placeholder="선택하세요"> <datalist id="nicknames10"></datalist> <input list="nicknames11" placeholder="선택하세요"> <datalist id="nicknames11"></datalist> <input list="nicknames12" placeholder="선택하세요"> <datalist id="nicknames12"></datalist> <br> <button class="emphasis-button">대회 기록 전송</button></div>',1);function Sv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Fi,"$key",e),s=()=>nt(Jt,"$mode",e),i=()=>nt(Pe,"$myaccount",e),a=()=>nt(gs,"$nicknames",e),o=L();go(()=>{Fi.set(n()+1)}),Ke(async()=>{const J=window.location.href;Jt.set(J.includes("/mpk")),na(s())});let u=L(),d=L(),p=L(),g=L(),f=L(),m=L(),y=L(),b=L(),w=L(),x=L(),T=L(),k=L(),S=L(),$=L(),R=L();function F(J,ot){return ot.includes(J)?J:""}function j(){l(S)<2&&A(d,A(m,A(x,""))),l(S)<3&&A(p,A(y,A(T,""))),l(S)<4&&A(g,A(b,A(k,""))),l($)<4&&A(f,A(m,A(y,A(b,"")))),l($)<8&&A(w,A(x,A(T,A(k,""))));const J=[l(u),l(d),l(p),l(g),l(f),l(m),l(y),l(b),l(w),l(x),l(T),l(k)];return new Set(J.filter(Boolean)).size===J.filter(Boolean).length}async function I(){if(!j()){alert("중복 기록된 선수가 있습니다");return}const J={Championship1:l(u),Championship2:l(d),Championship3:l(p),Championship4:l(g),Runner_up1:l(f),Runner_up2:l(m),Runner_up3:l(y),Runner_up4:l(b),Place3rd1:l(w),Place3rd2:l(x),Place3rd3:l(T),Place3rd4:l(k),eventname:l(R),numberteams:l($),teamSize:l(S),Eventhost:l(o)};try{(await Dt(s()?"/event/m-user/submit":"/event/b-user/submit","POST",J)).status===201&&alert("대회 기록 전송 완료")}catch(ot){console.error("오류 발생:",ot),alert(`오류 발생: ${ot}`)}}function K(J){A(u,F(J.target.value,a()))}function E(J){A(d,F(J.target.value,a()))}function C(J){A(p,F(J.target.value,a()))}function N(J){A(g,F(J.target.value,a()))}function q(J){A(f,F(J.target.value,a()))}function D(J){A(m,F(J.target.value,a()))}function M(J){A(y,F(J.target.value,a()))}function B(J){A(b,F(J.target.value,a()))}function U(J){A(w,F(J.target.value,a()))}function Z(J){A(x,F(J.target.value,a()))}function W(J){A(T,F(J.target.value,a()))}function rt(J){A(k,F(J.target.value,a()))}function Q(J){A(R,J.target.value)}function tt(J){A($,J.target.value)}function at(J){A(S,J.target.value)}qt(()=>(s(),i()),()=>{A(o,s()===!0?i().replace("_m",""):i())}),ar(),ee();var G=kv(),ut=ht(G),_t=h(ut),ct=v(ut,2),wt=h(ct),dt=v(wt,2);st(()=>{l($),Bi(()=>{})});var it=h(dt);it.value=(it.__value="2")==null?"":"2";var lt=v(it);lt.value=(lt.__value="4")==null?"":"4";var vt=v(lt);vt.value=(vt.__value="8")==null?"":"8";var Nt=v(vt);Nt.value=(Nt.__value="16")==null?"":"16";var Rt=v(Nt);Rt.value=(Rt.__value="24")==null?"":"24";var Ot=v(dt,2);st(()=>{l(S),Bi(()=>{})});var $t=h(Ot);$t.value=($t.__value="1")==null?"":"1";var Pt=v($t);Pt.value=(Pt.__value="2")==null?"":"2";var se=v(Pt);se.value=(se.__value="3")==null?"":"3";var Wt=v(se);Wt.value=(Wt.__value="4")==null?"":"4";var Yt=v(Ot,4),le=v(Yt,2);Vt(le,5,a,Gt,(J,ot)=>{var ft=vv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var oe=v(le,2),Qt=v(oe,2);Vt(Qt,5,a,Gt,(J,ot)=>{var ft=mv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var ce=v(Qt,2),we=v(ce,2);Vt(we,5,a,Gt,(J,ot)=>{var ft=gv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var ie=v(we,2),ue=v(ie,2);Vt(ue,5,a,Gt,(J,ot)=>{var ft=bv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var he=v(ue,4),re=v(he,2),Te=v(re,2);Vt(Te,5,a,Gt,(J,ot)=>{var ft=_v(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var ge=v(Te,2),Be=v(ge,2);Vt(Be,5,a,Gt,(J,ot)=>{var ft=yv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var be=v(Be,2),Me=v(be,2);Vt(Me,5,a,Gt,(J,ot)=>{var ft=wv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var ke=v(Me,2),Ne=v(ke,2);Vt(Ne,5,a,Gt,(J,ot)=>{var ft=xv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var _e=v(Ne,4),ae=v(_e,2),Se=v(ae,2);Vt(Se,5,a,Gt,(J,ot)=>{var ft=Ev(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var $e=v(Se,2),Oe=v($e,2);Vt(Oe,5,a,Gt,(J,ot)=>{var ft=Av(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var Le=v(Oe,2),Ce=v(Le,2);Vt(Ce,5,a,Gt,(J,ot)=>{var ft=Tv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var qe=v(Ce,2),je=v(qe,2);Vt(je,5,a,Gt,(J,ot)=>{var ft=Nv(),Lt={},zt=h(ft);st(()=>{Lt!==(Lt=l(ot))&&(ft.value=(ft.__value=l(ot))==null?"":l(ot)),et(zt,l(ot))}),P(J,ft)});var Tt=v(je,4);st(()=>{et(_t,`${(s()?"밀리PK":"정통바바")??""} 토너먼트 기록`),Ae(oe,`namewidth input-text ${(l(S)<2?"hidden":null)??""} svelte-anctt3`),Ae(ce,`namewidth input-text ${(l(S)<3?"hidden":null)??""} svelte-anctt3`),Ae(ie,`namewidth input-text ${(l(S)<4?"hidden":null)??""} svelte-anctt3`),Ae(he,`${(l($)<4?"hidden":null)??""} svelte-anctt3`),Ae(re,`namewidth input-text ${(l($)<4?"hidden":null)??""} svelte-anctt3`),Ae(ge,`namewidth input-text ${(l($)<4||l(S)<2?"hidden":null)??""} svelte-anctt3`),Ae(be,`namewidth input-text ${(l($)<4||l(S)<3?"hidden":null)??""} svelte-anctt3`),Ae(ke,`namewidth input-text ${(l($)<4||l(S)<4?"hidden":null)??""} svelte-anctt3`),Ae(_e,`${(l($)<8?"hidden":null)??""} svelte-anctt3`),Ae(ae,`namewidth input-text ${(l($)<8?"hidden":null)??""} svelte-anctt3`),Ae($e,`namewidth input-text ${(l($)<8||l(S)<2?"hidden":null)??""} svelte-anctt3`),Ae(Le,`namewidth input-text ${(l($)<8||l(S)<3?"hidden":null)??""} svelte-anctt3`),Ae(qe,`namewidth input-text ${(l($)<8||l(S)<4?"hidden":null)??""} svelte-anctt3`)}),H(wt,()=>l(R),J=>A(R,J)),X("change",wt,Q),ji(dt,()=>l($),J=>A($,J)),X("change",dt,tt),ji(Ot,()=>l(S),J=>A(S,J)),X("change",Ot,at),H(Yt,()=>l(u),J=>A(u,J)),X("blur",Yt,K),H(oe,()=>l(d),J=>A(d,J)),X("blur",oe,E),H(ce,()=>l(p),J=>A(p,J)),X("blur",ce,C),H(ie,()=>l(g),J=>A(g,J)),X("blur",ie,N),H(re,()=>l(f),J=>A(f,J)),X("blur",re,q),H(ge,()=>l(m),J=>A(m,J)),X("blur",ge,D),H(be,()=>l(y),J=>A(y,J)),X("blur",be,M),H(ke,()=>l(b),J=>A(b,J)),X("blur",ke,B),H(ae,()=>l(w),J=>A(w,J)),X("blur",ae,U),H($e,()=>l(x),J=>A(x,J)),X("blur",$e,Z),H(Le,()=>l(T),J=>A(T,J)),X("blur",Le,W),H(qe,()=>l(k),J=>A(k,J)),X("blur",qe,rt),X("click",Tt,()=>I()),P(r,G),Ht()}var $v=z('<tbody><tr><td colspan="3" class="text-center svelte-1j9xfi1">로딩 중...</td></tr></tbody>'),Ov=z('<tbody><tr><td colspan="3" class="text-center svelte-1j9xfi1">기록이 없습니다</td></tr></tbody>'),Lv=z('<tr><td> </td><td> </td><td><button class="small simple-button svelte-1j9xfi1">경기</button> <button class="small simple-button svelte-1j9xfi1">기권</button></td></tr>'),Cv=z("<tbody></tbody>"),qv=z('<h3 class="message-title">도전 승인하기</h3> <div class="message-body"><table><thead><tr><th class="record-table-date svelte-1j9xfi1">날짜</th><th class="record-table-loser svelte-1j9xfi1">도전자</th><th class="record-table-score svelte-1j9xfi1">결과</th></tr></thead><!></table></div>',1);function Rv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=L([]),i=L(!0);async function a(){const f=n()?"/rank/challenge/show/m-user":"/rank/challenge/show/b-user";try{const m=await Dt(f,"POST");if(!m.ok)throw new Error(`오류 발생: ${m.status}`);A(s,await m.json())}catch(m){console.error("데이터 불러오기 오류:",m.message),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{A(i,!1)}}async function o(f,m){const y=f==="win"?"/record/challenge/win":"/record/challenge/lose",b={challenger:m,mode:n()};try{const w=await Dt(y,"POST",b);if(w.ok)alert(f==="win"?"도전을 승인하였습니다, 결과는 대전 기록에서 입력해주세요.":"경기를 포기하여 자동 패배처리합니다"),a();else throw new Error(`오류 발생: ${w.status}`)}catch(w){console.error(`${f==="win"?"승인":"삭제"} 오류:`,w.message),alert(`오류 발생: ${w.message}`)}}Ke(()=>{a()}),ee();var u=qv(),d=v(ht(u),2),p=h(d),g=v(h(p));gt(g,()=>l(i),f=>{var m=$v();P(f,m)},f=>{var m=jt(),y=ht(m);gt(y,()=>l(s).length===0,b=>{var w=Ov();P(b,w)},b=>{var w=Cv();Vt(w,5,()=>l(s),Gt,(x,T)=>{var k=Lv(),S=h(k),$=h(S);st(()=>et($,new Date(l(T).challengeDate).toLocaleDateString()));var R=v(S),F=h(R);st(()=>et(F,n()?l(T).nickname.replace("_m",""):l(T).nickname));var j=v(R),I=h(j),K=v(I,2);X("click",I,()=>o("win",l(T).nickname)),X("click",K,()=>o("lose",l(T).nickname)),P(x,k)}),P(b,w)},!0),P(f,m)}),P(r,u),Ht()}var Iv=z('<div class="message-container"><div class="message-box"><button class="close-button">&times;</button> <!></div></div>');function Dv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(me,"$form",e);function s(o){o.key==="Escape"&&me.set("none")}Ke(()=>{window.addEventListener("keydown",s)}),go(()=>{window.removeEventListener("keydown",s)}),ee();var i=jt(),a=ht(i);gt(a,()=>n()!=="none",o=>{var u=Iv(),d=h(u),p=h(d),g=v(p,2);gt(g,()=>n()==="login",f=>{Mp(f,{})},f=>{var m=jt(),y=ht(m);gt(y,()=>n()==="findaccount",b=>{Up(b,{})},b=>{var w=jt(),x=ht(w);gt(x,()=>n()==="register",T=>{Jp(T,{})},T=>{var k=jt(),S=ht(k);gt(S,()=>n()==="myinfo",$=>{tv($,{})},$=>{var R=jt(),F=ht(R);gt(F,()=>n()==="changeemail",j=>{rv(j,{})},j=>{var I=jt(),K=ht(I);gt(K,()=>n()==="changepw",E=>{sv(E,{})},E=>{var C=jt(),N=ht(C);gt(N,()=>n()==="deleteaccount",q=>{av(q,{})},q=>{var D=jt(),M=ht(D);gt(M,()=>n()==="recordcreate",B=>{cv(B,{})},B=>{var U=jt(),Z=ht(U);gt(Z,()=>n()==="recordok",W=>{pv(W,{})},W=>{var rt=jt(),Q=ht(rt);gt(Q,()=>n()==="newevent",tt=>{Sv(tt,{})},tt=>{var at=jt(),G=ht(at);gt(G,()=>n()==="challenge",ut=>{Rv(ut,{})},null,!0),P(tt,at)},!0),P(W,rt)},!0),P(B,U)},!0),P(q,D)},!0),P(E,C)},!0),P(j,I)},!0),P($,R)},!0),P(T,k)},!0),P(b,w)},!0),P(f,m)}),X("click",p,()=>me.set("none")),P(o,u)}),P(r,i),Ht()}var Pv=z("<p>로딩 중...</p>"),Bv=z("<p> </p>"),Mv=z('<img class="ranksize svelte-15p3va8" src="/img/diamond.png" alt="10%">'),jv=z('<img class="ranksize svelte-15p3va8" src="/img/platinum.png" alt="25%">'),Uv=z('<img class="ranksize svelte-15p3va8" src="/img/gold.png" alt="45%">'),Fv=z('<img class="ranksize svelte-15p3va8" src="/img/silver.png" alt="70%">'),Hv=z('<img class="ranksize svelte-15p3va8" src="/img/bronze.png" alt="100%">'),zv=z('<button class="simple-button">도전하기</button>'),Kv=z('<tr class="svelte-15p3va8"><td colspan="5" class="detail-row svelte-15p3va8"> <br> <br> <br> <br> <br> <!></td></tr>'),Gv=z('<tr class="svelte-15p3va8"><td class="svelte-15p3va8"><!></td><td class="svelte-15p3va8"> </td><td class="svelte-15p3va8"> </td><td class="svelte-15p3va8"> </td></tr> <!>',1),Vv=z('<table class="rank-table svelte-15p3va8"><thead><tr class="svelte-15p3va8"><th class="svelte-15p3va8">등급</th><th class="svelte-15p3va8">닉네임</th><th class="svelte-15p3va8">승률</th><th class="svelte-15p3va8">점수</th></tr></thead><tbody></tbody></table>'),Wv=z('<div class="fixed-button-div"><button class="simple-button">도전승인</button></div>'),Zv=z('<div class="table-outline"><!></div> <!>',1);function Yv(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(Pe,"$myaccount",e);let i=L([]),a=L(!0),o=L(null),u=L(null),d=L([]);async function p(){let x,T=1,k=1,S=n()?"/rank/m-user":"/rank/b-user";try{const $=await fetch(S);if(!$.ok)throw new Error("연결 에러입니다");A(i,await $.json()),l(i).sort((R,F)=>F.TScore-R.TScore),x=l(i).length||1;for(let R=0;R<l(i).length;R++)l(i)[R].wins+l(i)[R].loses!==0?(R>0&&l(i)[R].TScore===l(i)[R-1].TScore?fs(i,l(i)[R].rank=T):(fs(i,l(i)[R].rank=k),T=k),k++):fs(i,l(i)[R].rank=x),s()===l(i)[R].nickname&&A(u,l(i)[R].rank)}catch($){A(o,$)}finally{A(a,!1)}}async function g(x){const T={nickname:x,mode:n()},k=n()?"/m-user":"b-user";try{const S=await Dt("/rank/challenge"+k,"POST",T);S.status===201?alert(`${x.replace("_m","")}님에게 도전을 신청하였습니다`):S.status===400?alert("당신은 이미 도전 신청을 한 상태입니다"):S.status===403?alert(`${x.replace("_m","")}님은 휴가중으로 도전을 받을 수 없는 상태입니다`):S.status===404&&alert("서버 에러입니다")}catch{alert("서버 오류입니다")}}function f(x){fs(d,l(d)[x]=!l(d)[x]),A(d,[...l(d)])}Ke(()=>{const x=Fi.subscribe(T=>{p()});return()=>{x()}}),ee();var m=Zv(),y=ht(m),b=h(y);gt(b,()=>l(a),x=>{var T=Pv();P(x,T)},x=>{var T=jt(),k=ht(T);gt(k,()=>l(o),S=>{var $=Bv(),R=h($);st(()=>et(R,`Error: ${l(o).message??""}`)),P(S,$)},S=>{var $=Vv(),R=v(h($));Vt(R,5,()=>l(i),Gt,(F,j,I)=>{var K=Gv(),E=ht(K),C=h(E),N=h(C);gt(N,()=>l(j).rank/l(i).length<=.1,rt=>{var Q=Mv();P(rt,Q)},rt=>{var Q=jt(),tt=ht(Q);gt(tt,()=>l(j).rank/l(i).length<=.25,at=>{var G=jv();P(at,G)},at=>{var G=jt(),ut=ht(G);gt(ut,()=>l(j).rank/l(i).length<=.45,_t=>{var ct=Uv();P(_t,ct)},_t=>{var ct=jt(),wt=ht(ct);gt(wt,()=>l(j).rank/l(i).length<=.7,dt=>{var it=Fv();P(dt,it)},dt=>{var it=Hv();P(dt,it)},!0),P(_t,ct)},!0),P(at,G)},!0),P(rt,Q)});var q=v(C),D=h(q);st(()=>et(D,l(j).nickname.replace("_m","")));var M=v(q),B=h(M);st(()=>et(B,l(j).wins+l(j).losses>0?Math.round(1e4*(l(j).wins/(l(j).wins+l(j).losses)))/100:0));var U=v(M),Z=h(U);st(()=>et(Z,Math.round(l(j).TScore*100)/100));var W=v(E,2);gt(W,()=>l(d)[I],rt=>{var Q=Kv(),tt=h(Q),at=h(tt);st(()=>et(at,`대전점수: ${Math.round(l(j).BScore*100)/100}`));var G=v(at,2),ut=v(G,2),_t=v(ut,2);st(()=>et(_t,` Elo: ${Math.round(l(j).Elo*100)/100}`));var ct=v(_t,2),wt=v(ct,3);gt(wt,()=>Number(l(u))>Number(l(j).rank),dt=>{var it=zv();X("click",it,()=>g(l(j).nickname)),P(dt,it)}),st(()=>{et(G,` 대회점수: ${l(j).LScore??""}`),et(ut,` 순위: ${l(j).rank??""}`),et(ct,` ${l(j).wins??""} 승 / ${l(j).losses??""} 패`)}),P(rt,Q)}),X("click",E,()=>f(I)),P(F,K)}),P(S,$)},!0),P(x,T)});var w=v(y,2);gt(w,()=>n()&&s()!=null&&s()!="admin_m",x=>{var T=Wv(),k=h(T);X("click",k,()=>me.set("challenge")),P(x,T)}),P(r,m),Ht()}var Jv=z("<option> </option>"),Xv=z("<p>로딩 중...</p>"),Qv=z("<p></p>"),tm=z('<th class="svelte-13ak1b3">관리</th>'),em=z('<td class="svelte-13ak1b3"><button class="simple-button small svelte-13ak1b3">삭제</button></td>'),rm=z('<tr class="svelte-13ak1b3"><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><!></tr>'),nm=z('<button class="simple-button">처음</button> <button class="simple-button">이전</button>',1),sm=z("<button> </button>"),im=z('<button class="simple-button">다음</button> <button class="simple-button">마지막</button>',1),am=z('<table class="data-table svelte-13ak1b3"><thead><tr class="svelte-13ak1b3"><th class="svelte-13ak1b3">번호</th><th class="svelte-13ak1b3">승자</th><th class="svelte-13ak1b3">패자</th><th class="svelte-13ak1b3">날짜</th><!></tr></thead><tbody></tbody></table> <div class="pagination"><!> <!> <!></div>',1),lm=z('<div class="fixed-button-div"><button class="simple-button">기록하기</button> <button class="simple-button">승인하기</button></div>'),om=z('<div class="filter svelte-13ak1b3"><input list="nicknames_filter" class="input-text" placeholder="필터 선택"> <datalist id="nicknames_filter"><option>모두 보기</option><!></datalist></div> <div class="table-outline"><!> <!></div>',1);function cm(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(gs,"$nicknames",e),i=()=>nt(Pe,"$myaccount",e),a=L(),o=L();let u=[],d=L(!0),p=null,g=L(1);const f=10;let m=L("All"),y=L([]),b=L([]);async function w(){const B=n()?"/record/data?mode=true":"/record/data?mode=false";try{await na(n());const U=await Dt(B,"GET");if(!U.ok)throw new Error("연결 에러입니다");u=await U.json(),A(y,T(u)),k()}catch{alert("서버 오류가 발생하여 자료를 불러올 수 없습니다")}finally{A(d,!1)}}Ke(()=>{const B=Fi.subscribe(()=>{w()});return()=>{B()}});function x(B){A(g,B),k()}function T(B){return l(m)==="All"?B:B.filter(U=>U.winner&&U.loser&&(U.winner.replace("_m","")===l(m)||U.loser.replace("_m","")===l(m)))}function k(){const B=(l(g)-1)*f,U=B+f;A(b,l(y).slice(B,U))}function S(B){const U=B.target;A(m,R(U.value,s())||"All"),A(g,1),A(y,T(u)),k()}function $(B,U){const W=[];let rt=Math.max(B-Math.floor(2.5),1),Q=rt+5-1;Q>U&&(Q=U,rt=Math.max(Q-5+1,1));for(let tt=rt;tt<=Q;tt++)W.push(tt);return W}function R(B,U){return U.includes(B)?B:"All"}async function F(B){const U={OrderNum:B,mode:n()};try{const Z=await Dt("/record/delete","DELETE",U);Z.status===200?(alert("삭제 완료하였습니다"),w()):alert(`오류 발생: ${Z.status}`)}catch(Z){alert(`오류 발생: ${Z instanceof Error?Z.message:"알 수 없는 오류"}`)}}qt(()=>l(y),()=>{A(a,Math.ceil(l(y).length/f))}),qt(()=>(l(g),l(a)),()=>{A(o,$(l(g),l(a)))}),ar(),ee();var j=om(),I=ht(j),K=h(I),E=v(K,2),C=h(E);C.value=(C.__value="All")==null?"":"All";var N=v(C);Vt(N,1,()=>s().map(B=>B.replace("_m","")),Gt,(B,U)=>{var Z=Jv(),W={},rt=h(Z);st(()=>{W!==(W=l(U))&&(Z.value=(Z.__value=l(U))==null?"":l(U)),et(rt,l(U))}),P(B,Z)});var q=v(I,2),D=h(q);gt(D,()=>l(d),B=>{var U=Xv();P(B,U)},B=>{var U=jt(),Z=ht(U);gt(Z,()=>p,W=>{var rt=Qv();rt.textContent="Error: ",P(W,rt)},W=>{var rt=am(),Q=ht(rt),tt=h(Q),at=h(tt),G=v(h(at),4);gt(G,()=>i()==="admin_m"||i()==="admin",it=>{var lt=tm();P(it,lt)});var ut=v(tt);Vt(ut,5,()=>l(b),Gt,(it,lt)=>{let vt=()=>l(lt).orderNum,Nt=()=>l(lt).winner,Rt=()=>l(lt).loser,Ot=()=>l(lt).date;var $t=rm(),Pt=h($t),se=h(Pt),Wt=v(Pt),Yt=h(Wt);st(()=>et(Yt,Nt().replace("_m","")));var le=v(Wt),oe=h(le);st(()=>et(oe,Rt().replace("_m","")));var Qt=v(le),ce=h(Qt),we=v(Qt);gt(we,()=>i()==="admin_m"||i()==="admin",ie=>{var ue=em(),he=h(ue);X("click",he,()=>F(vt())),P(ie,ue)}),st(()=>{et(se,vt()),et(ce,Ot())}),P(it,$t)});var _t=v(Q,2),ct=h(_t);gt(ct,()=>l(g)>1,it=>{var lt=nm(),vt=ht(lt),Nt=v(vt,2);X("click",vt,()=>x(1)),X("click",Nt,()=>x(l(g)-1)),P(it,lt)});var wt=v(ct,2);Vt(wt,1,()=>l(o),Gt,(it,lt)=>{var vt=sm(),Nt=h(vt);st(()=>{Ae(vt,l(lt)===l(g)?"emphasis-button":"simple-button"),et(Nt,l(lt))}),X("click",vt,()=>x(l(lt))),P(it,vt)});var dt=v(wt,2);gt(dt,()=>l(g)<l(a),it=>{var lt=im(),vt=ht(lt),Nt=v(vt,2);X("click",vt,()=>x(l(g)+1)),X("click",Nt,()=>x(l(a))),P(it,lt)}),P(W,rt)},!0),P(B,U)});var M=v(D,2);gt(M,()=>i()!=""&&i()!="admin_m"&&i()!="admin",B=>{var U=lm(),Z=h(U),W=v(Z,2);X("click",Z,()=>me.set("recordcreate")),X("click",W,()=>me.set("recordok")),P(B,U)}),H(K,()=>l(m),B=>A(m,B)),X("blur",K,S),P(r,j),Ht()}var um=z("<p>로딩 중...</p>"),dm=z("<p> </p>"),fm=z('<button class="simple-button small svelte-bpwny9">승인</button> <button class="simple-button small svelte-bpwny9">삭제</button>',1),hm=z('<button class="simple-button small svelte-bpwny9">삭제</button>'),pm=z('<tr class="svelte-bpwny9"><td colspan="4" class="svelte-bpwny9"><div class="details svelte-bpwny9"><strong>토너먼트 정보</strong><br> <br> <br> <br> </div></td></tr>'),vm=z('<tr class="svelte-bpwny9"><td class="svelte-bpwny9"> </td><td class="svelte-bpwny9"><!></td><td class="svelte-bpwny9"> </td><td class="svelte-bpwny9"><!></td></tr> <!>',1),mm=z('<table class="svelte-bpwny9"><thead><tr class="svelte-bpwny9"><th class="svelte-bpwny9">대회명</th><th class="svelte-bpwny9">규모</th><th class="svelte-bpwny9">우승자</th><th class="svelte-bpwny9">승인</th></tr></thead><tbody></tbody></table>'),gm=z('<div class="fixed-button-div"><button class="simple-button">등록하기</button></div>'),bm=z('<div class="table-container"><!></div> <!>',1);function _m(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(Pe,"$myaccount",e);let i=L([]),a=L(!0),o=L(null),u=L([]);async function d(T){try{const k=n()?"/event/m-user/cancel":"/event/b-user/cancel",S=await Dt(k,"DELETE",l(i)[T]);S&&S.ok&&alert("토너먼트 히스토리를 삭제하고 점수를 초기화하였습니다")}catch(k){alert("에러가 발생하였습니다: "+k)}finally{f()}}async function p(T){try{const k=n()?"/event/m-user/accept":"/event/b-user/accept",S=await Dt(k,"POST",l(i)[T]);S&&S.status===201&&alert("토너먼트 히스토리를 승인하였습니다")}catch(k){alert("에러가 발생하였습니다: "+k)}finally{f()}}async function g(T){try{const k=n()?"/event/m-user/delete":"/event/b-user/delete",S={eventname:l(i)[T].eventname},$=await Dt(k,"DELETE",S);$&&$.status===200&&alert("토너먼트 히스토리를 삭제하였습니다")}catch(k){alert("에러가 발생하였습니다: "+k)}finally{f()}}async function f(){try{const T=await Dt(n()?"/event/m-user/history":"/event/b-user/history","GET");if(!T.ok)throw new Error("연결 에러입니다");A(i,await T.json()),A(i,l(i).map(k=>({...k,ok:k.accept===1?"대기":k.accept===2?"승인":k.ok}))),A(u,new Array(l(i).length).fill(!1))}catch(T){A(o,T)}finally{A(a,!1)}}Ke(()=>{const T=Fi.subscribe(()=>{f()});return()=>{T()}});function m(T){A(u,[...l(u)]),fs(u,l(u)[T]=!l(u)[T])}ee();var y=bm(),b=ht(y),w=h(b);gt(w,()=>l(a),T=>{var k=um();P(T,k)},T=>{var k=jt(),S=ht(k);gt(S,()=>l(o),$=>{var R=dm(),F=h(R);st(()=>et(F,`Error: ${l(o)??""}`)),P($,R)},$=>{var R=mm(),F=v(h(R));Vt(F,5,()=>l(i),Gt,(j,I,K)=>{var E=vm(),C=ht(E),N=h(C),q=h(N),D=v(N),M=h(D);gt(M,()=>l(I).numberteams===24,Q=>{var tt=fr("정식전");P(Q,tt)},Q=>{var tt=fr();st(()=>et(tt,`${l(I).numberteams??""}x${l(I).teamSize??""}`)),P(Q,tt)});var B=v(D),U=h(B);st(()=>et(U,l(I).Championship1.replace("_m","")));var Z=v(B),W=h(Z);gt(W,()=>s()==="admin"||s()==="admin_m",Q=>{var tt=jt(),at=ht(tt);gt(at,()=>l(I).ok==="대기",G=>{var ut=fm(),_t=ht(ut),ct=v(_t,2);X("click",_t,()=>p(K)),X("click",ct,()=>g(K)),P(G,ut)},G=>{var ut=hm();X("click",ut,()=>d(K)),P(G,ut)}),P(Q,tt)},Q=>{var tt=fr();st(()=>et(tt,l(I).ok)),P(Q,tt)});var rt=v(C,2);gt(rt,()=>l(u)[K],Q=>{var tt=pm(),at=h(tt),G=h(at),ut=v(h(G),2);st(()=>et(ut,` 주최자: ${l(I).Eventhost.replace("_m","")??""}`));const _t=ze(()=>(l(I).Championship1?l(I).Championship1.replace("_m",""):"")??""),ct=ze(()=>(l(I).Championship2?l(I).Championship2.replace("_m",""):"")??""),wt=ze(()=>(l(I).Championship3?l(I).Championship3.replace("_m",""):"")??""),dt=ze(()=>(l(I).Championship4?l(I).Championship4.replace("_m",""):"")??"");var it=v(ut,2);st(()=>et(it,` 우승: ${l(_t)}
                    ${l(ct)}
                    ${l(wt)}
                    ${l(dt)}`));const lt=ze(()=>(l(I).Runner_up1?l(I).Runner_up1.replace("_m",""):"")??""),vt=ze(()=>(l(I).Runner_up2?l(I).Runner_up2.replace("_m",""):"")??""),Nt=ze(()=>(l(I).Runner_up3?l(I).Runner_up3.replace("_m",""):"")??""),Rt=ze(()=>(l(I).Runner_up4?l(I).Runner_up4.replace("_m",""):"")??"");var Ot=v(it,2);st(()=>et(Ot,` 준우승: ${l(lt)}
                    ${l(vt)}
                    ${l(Nt)}
                    ${l(Rt)}`));const $t=ze(()=>(l(I).Place3rd1?l(I).Place3rd1.replace("_m",""):"")??""),Pt=ze(()=>(l(I).Place3rd2?l(I).Place3rd2.replace("_m",""):"")??""),se=ze(()=>(l(I).Place3rd3?l(I).Place3rd3.replace("_m",""):"")??""),Wt=ze(()=>(l(I).Place3rd4?l(I).Place3rd4.replace("_m",""):"")??"");var Yt=v(Ot,2);st(()=>et(Yt,` 3위: ${l($t)}
                    ${l(Pt)}
                    ${l(se)}
                    ${l(Wt)}`)),P(Q,tt)}),st(()=>et(q,l(I).eventname)),X("click",C,()=>m(K)),P(j,E)}),P($,R)},!0),P(T,k)});var x=v(b,2);gt(x,s,T=>{var k=gm(),S=h(k);X("click",S,()=>me.set("newevent")),P(T,k)}),P(r,y),Ht()}var ym=z('<div class="fixed-button-div"><!></div>'),wm=z('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m">로딩 중...</td></tr>'),xm=z('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),Em=z('<tr class="svelte-1puu09m"><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"> </td><td class="svelte-1puu09m"> </td></tr>'),Am=z('<button class="simple-button">이전</button>'),Tm=z('<button class="simple-button">다음</button>'),Nm=z('<!> <select class="input-text svelte-1puu09m"><option>모든 글 보기</option><option>자유 글 보기</option><option>거래 글 보기</option><option>공략 글 보기</option></select> <input class="input-text svelte-1puu09m" type="text"> <button class="simple-button small svelte-1puu09m">검색</button> <table class="svelte-1puu09m"><thead><tr class="svelte-1puu09m"><th class="table-head_board_date svelte-1puu09m">날짜</th><th class="table-head_board_title svelte-1puu09m">제목</th><th class="table-head_board_writter svelte-1puu09m">작성자</th><th class="table-head_board_views svelte-1puu09m">조회수</th></tr></thead><tbody><!></tbody></table> <div class="pagination svelte-1puu09m"><!> <!></div>',1);function km(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(uc,"$category",e),s=()=>nt(cc,"$page",e),i=()=>nt(Jt,"$mode",e),a=()=>nt(Pe,"$myaccount",e);let o=L(null),u=L(!0),d=L(null),p=L([]);Ke(()=>{y(n())});function g(q){cc.set(s()+q),y(n())}const f=i()?"/mpk":"/babapk";async function m(q){try{const D=`/board/search?data=${q}&find=${l(o)}`,M=await fetch(D);if(!M.ok)throw new Error("Network response was not ok");const B=await M.json();B.length===0?A(p,[{post_id:"-",date:"-",title:"검색 결과가 없습니다",writter:"-",views:0}]):A(p,B.map(U=>({...U,date:Xs(U.date)}))),A(u,!1)}catch(D){console.error("Error:",D),A(d,D instanceof Error?D.message:String(D))}}async function y(q){try{const D=`/board/list?data=${q}&page=${s()}`,M=await Dt(D,"GET");if(!M.ok)throw new Error("Network response was not ok");const B=await M.json();A(p,B.map(U=>({...U,date:Xs(U.date)}))),A(u,!1),A(o,"")}catch(D){console.error("Error:",D),A(d,D instanceof Error?D.message:String(D))}}ee();var b=Nm(),w=ht(b);gt(w,a,q=>{var D=ym(),M=h(D);Kn(M,{to:`${f}/write`,class:"simple-button",children:(B,U)=>{var Z=fr("작성하기");P(B,Z)},$$slots:{default:!0}}),P(q,D)});var x=v(w,2);st(()=>{n(),Bi(()=>{})});var T=h(x);T.value=(T.__value="all")==null?"":"all";var k=v(T);k.value=(k.__value="free")==null?"":"free";var S=v(k);S.value=(S.__value="trade")==null?"":"trade";var $=v(S);$.value=($.__value="setting")==null?"":"setting";var R=v(x,2),F=v(R,2),j=v(F,2),I=v(h(j)),K=h(I);gt(K,()=>l(u),q=>{var D=wm();P(q,D)},q=>{var D=jt(),M=ht(D);gt(M,()=>l(d),B=>{var U=xm(),Z=h(U),W=h(Z);st(()=>et(W,`Error: ${l(d)??""}`)),P(B,U)},B=>{var U=jt(),Z=ht(U);Vt(Z,1,()=>l(p),Gt,(W,rt)=>{let Q=()=>l(rt).post_id,tt=()=>l(rt).date,at=()=>l(rt).title,G=()=>l(rt).writter,ut=()=>l(rt).views;var _t=Em(),ct=h(_t),wt=h(ct);gt(wt,()=>tt()===Xs(String(new Date)),Ot=>{var $t=fr("new");P(Ot,$t)},Ot=>{var $t=fr();st(()=>et($t,tt())),P(Ot,$t)});var dt=v(ct),it=h(dt);Kn(it,{get to(){return`${f??""}/post/${Q()??""}`},class:"fontBasic",children:(Ot,$t)=>{var Pt=fr();st(()=>et(Pt,at())),P(Ot,Pt)},$$slots:{default:!0}});var lt=v(dt),vt=h(lt),Nt=v(lt),Rt=h(Nt);st(()=>{et(vt,G()),et(Rt,ut())}),P(W,_t)}),P(B,U)},!0),P(q,D)});var E=v(j,2),C=h(E);gt(C,()=>s()!=1,q=>{var D=Am();X("click",D,()=>g(-1)),P(q,D)});var N=v(C,2);gt(N,()=>l(p).length===20,q=>{var D=Tm();X("click",D,()=>g(1)),P(q,D)}),ji(x,n,q=>te(uc,q)),X("change",x,()=>y(n())),H(R,()=>l(o),q=>A(o,q)),X("click",F,()=>m(n())),P(r,b),Ht()}var Sm=z('<div class="text-center">Loading...</div>'),$m=z('<div class="text-center"> </div>'),Om=z('<button class="simple-button">수정하기</button>'),Lm=z('<button class="simple-button">삭제하기</button>'),Cm=z('<button class="simple-button small svelte-1s9ldo5">삭제</button>'),qm=z('<tr class="svelte-1s9ldo5"><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"><!></td></tr>'),Rm=z('<div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-comment table-contents_cell"><input class="input-text svelte-1s9ldo5" type="text"> <button class="simple-button small svelte-1s9ldo5">댓글 작성</button></div></div></div>'),Im=z('<div class="table-outline main_data svelte-1s9ldo5"><div class="table-head table-title fontBasic svelte-1s9ldo5"> </div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-info-no-line flex"><div class="table-info-writter table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-date table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-date table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-views table-contents_cell svelte-1s9ldo5"> </div></div></div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-content fontBasic svelte-1s9ldo5"><!></div></div></div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-button svelte-1s9ldo5"><!> <!> <!></div></div></div></div> <table class="comment-table svelte-1s9ldo5"><thead><tr class="svelte-1s9ldo5"><th class="svelte-1s9ldo5">작성자</th><th class="svelte-1s9ldo5">내용</th><th class="svelte-1s9ldo5">작성일</th><th class="svelte-1s9ldo5">관리</th></tr></thead><tbody></tbody></table> <!>',1),Dm=z('<div class="margin svelte-1s9ldo5"></div> <!>',1);function Pm(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(Pe,"$myaccount",e),i=L();let a=L(""),o=L({}),u=L(""),d=L([]),p=L("");const g=n()?"/mpk":"/babapk";async function f($){try{console.log(`Fetching post with ID: ${$}`);const R=await fetch(`/board/post?post_id=${$}`);if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const F=await R.json();console.log("Fetched data:",F),A(o,{...F}),A(i,!1),console.log("Loading state after fetch:",l(i))}catch(R){console.error(`Error fetching post: ${R}`),A(i,!1),A(u,`네트워크 오류: ${R.message}`)}}async function m($){try{const R=await fetch(`/board/comments?post_id=${$}`);A(d,await R.json())}catch(R){console.error("댓글 가져오기 오류:",R)}}function y($){const R=$.match(/\/post\/(\d+)$/);return R?R[1]:null}Ke(()=>{const $=y(window.location.pathname);console.log("Extracted ID:",$),A(a,$??""),l(a)?(f(l(a)),m(l(a))):(A(i,!1),A(u,"잘못된 주소입니다"))});async function b($){const R={post_id:$,content:l(p),writter:s()};try{(await Dt("/board/comment/add","POST",R)).ok&&(alert("댓글을 등록하였습니다"),A(p,""),m($))}catch(F){console.error("댓글 작성 오류:",F)}}async function w($,R){const F={comment_id:R};try{(await Dt("/board/comment/delete","DELETE",F)).ok&&(alert("댓글을 삭제하였습니다"),m($))}catch(j){console.error("댓글 삭제 오류:",j)}}function x(){te(Dl,l(a)),ni(`${g}/write`)}async function T($){const R={post_id:$};try{(await Dt("/board/delete","DELETE",R)).ok&&(alert("글을 삭제하였습니다"),ni(`${g}/boardlist`))}catch(F){console.error("글 삭제 오류:",F)}}qt(()=>{},()=>{A(i,!0)}),ar(),ee();var k=Dm(),S=v(ht(k),2);gt(S,()=>l(i),$=>{var R=Sm();P($,R)},$=>{var R=jt(),F=ht(R);gt(F,()=>l(u),j=>{var I=$m(),K=h(I);st(()=>et(K,`Error: ${l(u)??""}`)),P(j,I)},j=>{var I=Im(),K=ht(I),E=h(K),C=h(E),N=v(E,2),q=h(N),D=h(q),M=h(D),B=v(D,2),U=h(B);st(()=>et(U,`작성일 : ${(Xs(l(o).createdAt)||"")??""}`));var Z=v(B,2),W=h(Z);st(()=>et(W,`수정일 : ${(Xs(l(o).updatedAt)||"")??""}`));var rt=v(Z,2),Q=h(rt),tt=v(N,2),at=h(tt),G=h(at),ut=h(G);Cl(ut,()=>l(o).content);var _t=v(tt,2),ct=h(_t),wt=h(ct),dt=h(wt);gt(dt,()=>l(o).nickname===s(),Ot=>{var $t=Om();X("click",$t,x),P(Ot,$t)});var it=v(dt,2);gt(it,()=>s()==="admin"||s()==="admin_m"||l(o).writter===Pe,Ot=>{var $t=Lm();X("click",$t,()=>T(l(a))),P(Ot,$t)});var lt=v(it,2);Kn(lt,{class:"simple-button",to:`${g}/boardlist`,children:(Ot,$t)=>{var Pt=fr("목록보기");P(Ot,Pt)},$$slots:{default:!0}});var vt=v(K,2),Nt=v(h(vt));Vt(Nt,5,()=>l(d),Gt,(Ot,$t)=>{let Pt=()=>l($t).nickname,se=()=>l($t).content,Wt=()=>l($t).createdAt,Yt=()=>l($t).commentId;var le=qm(),oe=h(le),Qt=h(oe),ce=v(oe),we=h(ce),ie=v(ce),ue=h(ie);st(()=>et(ue,Xs(Wt())));var he=v(ie),re=h(he);gt(re,()=>Pt()===s()||s()==="admin"||s()==="admin_m",Te=>{var ge=Cm();X("click",ge,()=>w(l(a),Yt())),P(Te,ge)}),st(()=>{et(Qt,Pt()),et(we,se())}),P(Ot,le)});var Rt=v(vt,2);gt(Rt,s,Ot=>{var $t=Rm(),Pt=h($t),se=h(Pt),Wt=h(se),Yt=v(Wt,2);H(Wt,()=>l(p),le=>A(p,le)),X("click",Yt,()=>b(l(a))),P(Ot,$t)}),st(()=>{et(C,l(o).title||""),et(M,l(o).nickname||""),et(Q,`조회수 : ${(l(o).views||"")??""}`)}),P(j,I)},!0),P($,R)}),P(r,k),Ht()}var ad=typeof global=="object"&&global&&global.Object===Object&&global,Bm=typeof self=="object"&&self&&self.Object===Object&&self,En=ad||Bm||Function("return this")(),es=En.Symbol,ld=Object.prototype,Mm=ld.hasOwnProperty,jm=ld.toString,Ei=es?es.toStringTag:void 0;function Um(r){var t=Mm.call(r,Ei),e=r[Ei];try{r[Ei]=void 0;var n=!0}catch{}var s=jm.call(r);return n&&(t?r[Ei]=e:delete r[Ei]),s}var Fm=Object.prototype,Hm=Fm.toString;function zm(r){return Hm.call(r)}var Km="[object Null]",Gm="[object Undefined]",fc=es?es.toStringTag:void 0;function vi(r){return r==null?r===void 0?Gm:Km:fc&&fc in Object(r)?Um(r):zm(r)}function Ln(r){return r!=null&&typeof r=="object"}var bs=Array.isArray;function ns(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function od(r){return r}var Vm="[object AsyncFunction]",Wm="[object Function]",Zm="[object GeneratorFunction]",Ym="[object Proxy]";function _o(r){if(!ns(r))return!1;var t=vi(r);return t==Wm||t==Zm||t==Vm||t==Ym}var fl=En["__core-js_shared__"],hc=function(){var r=/[^.]+$/.exec(fl&&fl.keys&&fl.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Jm(r){return!!hc&&hc in r}var Xm=Function.prototype,Qm=Xm.toString;function Es(r){if(r!=null){try{return Qm.call(r)}catch{}try{return r+""}catch{}}return""}var tg=/[\\^$.*+?()[\]{}|]/g,eg=/^\[object .+?Constructor\]$/,rg=Function.prototype,ng=Object.prototype,sg=rg.toString,ig=ng.hasOwnProperty,ag=RegExp("^"+sg.call(ig).replace(tg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lg(r){if(!ns(r)||Jm(r))return!1;var t=_o(r)?ag:eg;return t.test(Es(r))}function og(r,t){return r==null?void 0:r[t]}function As(r,t){var e=og(r,t);return lg(e)?e:void 0}var Pl=As(En,"WeakMap"),pc=Object.create,cg=function(){function r(){}return function(t){if(!ns(t))return{};if(pc)return pc(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function ug(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function cd(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var dg=800,fg=16,hg=Date.now;function pg(r){var t=0,e=0;return function(){var n=hg(),s=fg-(n-e);if(e=n,s>0){if(++t>=dg)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function vg(r){return function(){return r}}var Ba=function(){try{var r=As(Object,"defineProperty");return r({},"",{}),r}catch{}}(),mg=Ba?function(r,t){return Ba(r,"toString",{configurable:!0,enumerable:!1,value:vg(t),writable:!0})}:od,gg=pg(mg);function bg(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var _g=9007199254740991,yg=/^(?:0|[1-9]\d*)$/;function ud(r,t){var e=typeof r;return t=t??_g,!!t&&(e=="number"||e!="symbol"&&yg.test(r))&&r>-1&&r%1==0&&r<t}function yo(r,t,e){t=="__proto__"&&Ba?Ba(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function sa(r,t){return r===t||r!==r&&t!==t}var wg=Object.prototype,xg=wg.hasOwnProperty;function dd(r,t,e){var n=r[t];(!(xg.call(r,t)&&sa(n,e))||e===void 0&&!(t in r))&&yo(r,t,e)}function ia(r,t,e,n){var s=!e;e||(e={});for(var i=-1,a=t.length;++i<a;){var o=t[i],u=void 0;u===void 0&&(u=r[o]),s?yo(e,o,u):dd(e,o,u)}return e}var vc=Math.max;function Eg(r,t,e){return t=vc(t===void 0?r.length-1:t,0),function(){for(var n=arguments,s=-1,i=vc(n.length-t,0),a=Array(i);++s<i;)a[s]=n[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=n[s];return o[t]=e(a),ug(r,this,o)}}function Ag(r,t){return gg(Eg(r,t,od),r+"")}var Tg=9007199254740991;function fd(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Tg}function Za(r){return r!=null&&fd(r.length)&&!_o(r)}function Ng(r,t,e){if(!ns(e))return!1;var n=typeof t;return(n=="number"?Za(e)&&ud(t,e.length):n=="string"&&t in e)?sa(e[t],r):!1}function kg(r){return Ag(function(t,e){var n=-1,s=e.length,i=s>1?e[s-1]:void 0,a=s>2?e[2]:void 0;for(i=r.length>3&&typeof i=="function"?(s--,i):void 0,a&&Ng(e[0],e[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++n<s;){var o=e[n];o&&r(t,o,n,i)}return t})}var Sg=Object.prototype;function wo(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||Sg;return r===e}function $g(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var Og="[object Arguments]";function mc(r){return Ln(r)&&vi(r)==Og}var hd=Object.prototype,Lg=hd.hasOwnProperty,Cg=hd.propertyIsEnumerable,Bl=mc(function(){return arguments}())?mc:function(r){return Ln(r)&&Lg.call(r,"callee")&&!Cg.call(r,"callee")};function qg(){return!1}var pd=typeof hr=="object"&&hr&&!hr.nodeType&&hr,gc=pd&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,Rg=gc&&gc.exports===pd,bc=Rg?En.Buffer:void 0,Ig=bc?bc.isBuffer:void 0,Hi=Ig||qg,Dg="[object Arguments]",Pg="[object Array]",Bg="[object Boolean]",Mg="[object Date]",jg="[object Error]",Ug="[object Function]",Fg="[object Map]",Hg="[object Number]",zg="[object Object]",Kg="[object RegExp]",Gg="[object Set]",Vg="[object String]",Wg="[object WeakMap]",Zg="[object ArrayBuffer]",Yg="[object DataView]",Jg="[object Float32Array]",Xg="[object Float64Array]",Qg="[object Int8Array]",t1="[object Int16Array]",e1="[object Int32Array]",r1="[object Uint8Array]",n1="[object Uint8ClampedArray]",s1="[object Uint16Array]",i1="[object Uint32Array]",fe={};fe[Jg]=fe[Xg]=fe[Qg]=fe[t1]=fe[e1]=fe[r1]=fe[n1]=fe[s1]=fe[i1]=!0;fe[Dg]=fe[Pg]=fe[Zg]=fe[Bg]=fe[Yg]=fe[Mg]=fe[jg]=fe[Ug]=fe[Fg]=fe[Hg]=fe[zg]=fe[Kg]=fe[Gg]=fe[Vg]=fe[Wg]=!1;function a1(r){return Ln(r)&&fd(r.length)&&!!fe[vi(r)]}function xo(r){return function(t){return r(t)}}var vd=typeof hr=="object"&&hr&&!hr.nodeType&&hr,Oi=vd&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,l1=Oi&&Oi.exports===vd,hl=l1&&ad.process,si=function(){try{var r=Oi&&Oi.require&&Oi.require("util").types;return r||hl&&hl.binding&&hl.binding("util")}catch{}}(),_c=si&&si.isTypedArray,Eo=_c?xo(_c):a1,o1=Object.prototype,c1=o1.hasOwnProperty;function md(r,t){var e=bs(r),n=!e&&Bl(r),s=!e&&!n&&Hi(r),i=!e&&!n&&!s&&Eo(r),a=e||n||s||i,o=a?$g(r.length,String):[],u=o.length;for(var d in r)(t||c1.call(r,d))&&!(a&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ud(d,u)))&&o.push(d);return o}function gd(r,t){return function(e){return r(t(e))}}var u1=gd(Object.keys,Object),d1=Object.prototype,f1=d1.hasOwnProperty;function h1(r){if(!wo(r))return u1(r);var t=[];for(var e in Object(r))f1.call(r,e)&&e!="constructor"&&t.push(e);return t}function Ao(r){return Za(r)?md(r):h1(r)}function p1(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var v1=Object.prototype,m1=v1.hasOwnProperty;function g1(r){if(!ns(r))return p1(r);var t=wo(r),e=[];for(var n in r)n=="constructor"&&(t||!m1.call(r,n))||e.push(n);return e}function aa(r){return Za(r)?md(r,!0):g1(r)}var zi=As(Object,"create");function b1(){this.__data__=zi?zi(null):{},this.size=0}function _1(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var y1="__lodash_hash_undefined__",w1=Object.prototype,x1=w1.hasOwnProperty;function E1(r){var t=this.__data__;if(zi){var e=t[r];return e===y1?void 0:e}return x1.call(t,r)?t[r]:void 0}var A1=Object.prototype,T1=A1.hasOwnProperty;function N1(r){var t=this.__data__;return zi?t[r]!==void 0:T1.call(t,r)}var k1="__lodash_hash_undefined__";function S1(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=zi&&t===void 0?k1:t,this}function _s(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}_s.prototype.clear=b1;_s.prototype.delete=_1;_s.prototype.get=E1;_s.prototype.has=N1;_s.prototype.set=S1;function $1(){this.__data__=[],this.size=0}function Ya(r,t){for(var e=r.length;e--;)if(sa(r[e][0],t))return e;return-1}var O1=Array.prototype,L1=O1.splice;function C1(r){var t=this.__data__,e=Ya(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():L1.call(t,e,1),--this.size,!0}function q1(r){var t=this.__data__,e=Ya(t,r);return e<0?void 0:t[e][1]}function R1(r){return Ya(this.__data__,r)>-1}function I1(r,t){var e=this.__data__,n=Ya(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function Rn(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Rn.prototype.clear=$1;Rn.prototype.delete=C1;Rn.prototype.get=q1;Rn.prototype.has=R1;Rn.prototype.set=I1;var Ki=As(En,"Map");function D1(){this.size=0,this.__data__={hash:new _s,map:new(Ki||Rn),string:new _s}}function P1(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function Ja(r,t){var e=r.__data__;return P1(t)?e[typeof t=="string"?"string":"hash"]:e.map}function B1(r){var t=Ja(this,r).delete(r);return this.size-=t?1:0,t}function M1(r){return Ja(this,r).get(r)}function j1(r){return Ja(this,r).has(r)}function U1(r,t){var e=Ja(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function Ts(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Ts.prototype.clear=D1;Ts.prototype.delete=B1;Ts.prototype.get=M1;Ts.prototype.has=j1;Ts.prototype.set=U1;function bd(r,t){for(var e=-1,n=t.length,s=r.length;++e<n;)r[s+e]=t[e];return r}var To=gd(Object.getPrototypeOf,Object),F1="[object Object]",H1=Function.prototype,z1=Object.prototype,_d=H1.toString,K1=z1.hasOwnProperty,G1=_d.call(Object);function V1(r){if(!Ln(r)||vi(r)!=F1)return!1;var t=To(r);if(t===null)return!0;var e=K1.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&_d.call(e)==G1}function W1(){this.__data__=new Rn,this.size=0}function Z1(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function Y1(r){return this.__data__.get(r)}function J1(r){return this.__data__.has(r)}var X1=200;function Q1(r,t){var e=this.__data__;if(e instanceof Rn){var n=e.__data__;if(!Ki||n.length<X1-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new Ts(n)}return e.set(r,t),this.size=e.size,this}function _n(r){var t=this.__data__=new Rn(r);this.size=t.size}_n.prototype.clear=W1;_n.prototype.delete=Z1;_n.prototype.get=Y1;_n.prototype.has=J1;_n.prototype.set=Q1;function tb(r,t){return r&&ia(t,Ao(t),r)}function eb(r,t){return r&&ia(t,aa(t),r)}var yd=typeof hr=="object"&&hr&&!hr.nodeType&&hr,yc=yd&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,rb=yc&&yc.exports===yd,wc=rb?En.Buffer:void 0,xc=wc?wc.allocUnsafe:void 0;function wd(r,t){if(t)return r.slice();var e=r.length,n=xc?xc(e):new r.constructor(e);return r.copy(n),n}function nb(r,t){for(var e=-1,n=r==null?0:r.length,s=0,i=[];++e<n;){var a=r[e];t(a,e,r)&&(i[s++]=a)}return i}function xd(){return[]}var sb=Object.prototype,ib=sb.propertyIsEnumerable,Ec=Object.getOwnPropertySymbols,No=Ec?function(r){return r==null?[]:(r=Object(r),nb(Ec(r),function(t){return ib.call(r,t)}))}:xd;function ab(r,t){return ia(r,No(r),t)}var lb=Object.getOwnPropertySymbols,Ed=lb?function(r){for(var t=[];r;)bd(t,No(r)),r=To(r);return t}:xd;function ob(r,t){return ia(r,Ed(r),t)}function Ad(r,t,e){var n=t(r);return bs(r)?n:bd(n,e(r))}function Ml(r){return Ad(r,Ao,No)}function cb(r){return Ad(r,aa,Ed)}var jl=As(En,"DataView"),Ul=As(En,"Promise"),Fl=As(En,"Set"),Ac="[object Map]",ub="[object Object]",Tc="[object Promise]",Nc="[object Set]",kc="[object WeakMap]",Sc="[object DataView]",db=Es(jl),fb=Es(Ki),hb=Es(Ul),pb=Es(Fl),vb=Es(Pl),Mr=vi;(jl&&Mr(new jl(new ArrayBuffer(1)))!=Sc||Ki&&Mr(new Ki)!=Ac||Ul&&Mr(Ul.resolve())!=Tc||Fl&&Mr(new Fl)!=Nc||Pl&&Mr(new Pl)!=kc)&&(Mr=function(r){var t=vi(r),e=t==ub?r.constructor:void 0,n=e?Es(e):"";if(n)switch(n){case db:return Sc;case fb:return Ac;case hb:return Tc;case pb:return Nc;case vb:return kc}return t});var mb=Object.prototype,gb=mb.hasOwnProperty;function bb(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&gb.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var Ma=En.Uint8Array;function ko(r){var t=new r.constructor(r.byteLength);return new Ma(t).set(new Ma(r)),t}function _b(r,t){var e=t?ko(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var yb=/\w*$/;function wb(r){var t=new r.constructor(r.source,yb.exec(r));return t.lastIndex=r.lastIndex,t}var $c=es?es.prototype:void 0,Oc=$c?$c.valueOf:void 0;function xb(r){return Oc?Object(Oc.call(r)):{}}function Td(r,t){var e=t?ko(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var Eb="[object Boolean]",Ab="[object Date]",Tb="[object Map]",Nb="[object Number]",kb="[object RegExp]",Sb="[object Set]",$b="[object String]",Ob="[object Symbol]",Lb="[object ArrayBuffer]",Cb="[object DataView]",qb="[object Float32Array]",Rb="[object Float64Array]",Ib="[object Int8Array]",Db="[object Int16Array]",Pb="[object Int32Array]",Bb="[object Uint8Array]",Mb="[object Uint8ClampedArray]",jb="[object Uint16Array]",Ub="[object Uint32Array]";function Fb(r,t,e){var n=r.constructor;switch(t){case Lb:return ko(r);case Eb:case Ab:return new n(+r);case Cb:return _b(r,e);case qb:case Rb:case Ib:case Db:case Pb:case Bb:case Mb:case jb:case Ub:return Td(r,e);case Tb:return new n;case Nb:case $b:return new n(r);case kb:return wb(r);case Sb:return new n;case Ob:return xb(r)}}function Nd(r){return typeof r.constructor=="function"&&!wo(r)?cg(To(r)):{}}var Hb="[object Map]";function zb(r){return Ln(r)&&Mr(r)==Hb}var Lc=si&&si.isMap,Kb=Lc?xo(Lc):zb,Gb="[object Set]";function Vb(r){return Ln(r)&&Mr(r)==Gb}var Cc=si&&si.isSet,Wb=Cc?xo(Cc):Vb,Zb=1,Yb=2,Jb=4,kd="[object Arguments]",Xb="[object Array]",Qb="[object Boolean]",t0="[object Date]",e0="[object Error]",Sd="[object Function]",r0="[object GeneratorFunction]",n0="[object Map]",s0="[object Number]",$d="[object Object]",i0="[object RegExp]",a0="[object Set]",l0="[object String]",o0="[object Symbol]",c0="[object WeakMap]",u0="[object ArrayBuffer]",d0="[object DataView]",f0="[object Float32Array]",h0="[object Float64Array]",p0="[object Int8Array]",v0="[object Int16Array]",m0="[object Int32Array]",g0="[object Uint8Array]",b0="[object Uint8ClampedArray]",_0="[object Uint16Array]",y0="[object Uint32Array]",de={};de[kd]=de[Xb]=de[u0]=de[d0]=de[Qb]=de[t0]=de[f0]=de[h0]=de[p0]=de[v0]=de[m0]=de[n0]=de[s0]=de[$d]=de[i0]=de[a0]=de[l0]=de[o0]=de[g0]=de[b0]=de[_0]=de[y0]=!0;de[e0]=de[Sd]=de[c0]=!1;function ka(r,t,e,n,s,i){var a,o=t&Zb,u=t&Yb,d=t&Jb;if(a!==void 0)return a;if(!ns(r))return r;var p=bs(r);if(p){if(a=bb(r),!o)return cd(r,a)}else{var g=Mr(r),f=g==Sd||g==r0;if(Hi(r))return wd(r,o);if(g==$d||g==kd||f&&!s){if(a=u||f?{}:Nd(r),!o)return u?ob(r,eb(a,r)):ab(r,tb(a,r))}else{if(!de[g])return s?r:{};a=Fb(r,g,o)}}i||(i=new _n);var m=i.get(r);if(m)return m;i.set(r,a),Wb(r)?r.forEach(function(w){a.add(ka(w,t,e,w,r,i))}):Kb(r)&&r.forEach(function(w,x){a.set(x,ka(w,t,e,x,r,i))});var y=d?u?cb:Ml:u?aa:Ao,b=p?void 0:y(r);return bg(b||r,function(w,x){b&&(x=w,w=r[x]),dd(a,x,ka(w,t,e,x,r,i))}),a}var w0=1,x0=4;function Qs(r){return ka(r,w0|x0)}var E0="__lodash_hash_undefined__";function A0(r){return this.__data__.set(r,E0),this}function T0(r){return this.__data__.has(r)}function ja(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new Ts;++t<e;)this.add(r[t])}ja.prototype.add=ja.prototype.push=A0;ja.prototype.has=T0;function N0(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function k0(r,t){return r.has(t)}var S0=1,$0=2;function Od(r,t,e,n,s,i){var a=e&S0,o=r.length,u=t.length;if(o!=u&&!(a&&u>o))return!1;var d=i.get(r),p=i.get(t);if(d&&p)return d==t&&p==r;var g=-1,f=!0,m=e&$0?new ja:void 0;for(i.set(r,t),i.set(t,r);++g<o;){var y=r[g],b=t[g];if(n)var w=a?n(b,y,g,t,r,i):n(y,b,g,r,t,i);if(w!==void 0){if(w)continue;f=!1;break}if(m){if(!N0(t,function(x,T){if(!k0(m,T)&&(y===x||s(y,x,e,n,i)))return m.push(T)})){f=!1;break}}else if(!(y===b||s(y,b,e,n,i))){f=!1;break}}return i.delete(r),i.delete(t),f}function O0(r){var t=-1,e=Array(r.size);return r.forEach(function(n,s){e[++t]=[s,n]}),e}function L0(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var C0=1,q0=2,R0="[object Boolean]",I0="[object Date]",D0="[object Error]",P0="[object Map]",B0="[object Number]",M0="[object RegExp]",j0="[object Set]",U0="[object String]",F0="[object Symbol]",H0="[object ArrayBuffer]",z0="[object DataView]",qc=es?es.prototype:void 0,pl=qc?qc.valueOf:void 0;function K0(r,t,e,n,s,i,a){switch(e){case z0:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case H0:return!(r.byteLength!=t.byteLength||!i(new Ma(r),new Ma(t)));case R0:case I0:case B0:return sa(+r,+t);case D0:return r.name==t.name&&r.message==t.message;case M0:case U0:return r==t+"";case P0:var o=O0;case j0:var u=n&C0;if(o||(o=L0),r.size!=t.size&&!u)return!1;var d=a.get(r);if(d)return d==t;n|=q0,a.set(r,t);var p=Od(o(r),o(t),n,s,i,a);return a.delete(r),p;case F0:if(pl)return pl.call(r)==pl.call(t)}return!1}var G0=1,V0=Object.prototype,W0=V0.hasOwnProperty;function Z0(r,t,e,n,s,i){var a=e&G0,o=Ml(r),u=o.length,d=Ml(t),p=d.length;if(u!=p&&!a)return!1;for(var g=u;g--;){var f=o[g];if(!(a?f in t:W0.call(t,f)))return!1}var m=i.get(r),y=i.get(t);if(m&&y)return m==t&&y==r;var b=!0;i.set(r,t),i.set(t,r);for(var w=a;++g<u;){f=o[g];var x=r[f],T=t[f];if(n)var k=a?n(T,x,f,t,r,i):n(x,T,f,r,t,i);if(!(k===void 0?x===T||s(x,T,e,n,i):k)){b=!1;break}w||(w=f=="constructor")}if(b&&!w){var S=r.constructor,$=t.constructor;S!=$&&"constructor"in r&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof $=="function"&&$ instanceof $)&&(b=!1)}return i.delete(r),i.delete(t),b}var Y0=1,Rc="[object Arguments]",Ic="[object Array]",va="[object Object]",J0=Object.prototype,Dc=J0.hasOwnProperty;function X0(r,t,e,n,s,i){var a=bs(r),o=bs(t),u=a?Ic:Mr(r),d=o?Ic:Mr(t);u=u==Rc?va:u,d=d==Rc?va:d;var p=u==va,g=d==va,f=u==d;if(f&&Hi(r)){if(!Hi(t))return!1;a=!0,p=!1}if(f&&!p)return i||(i=new _n),a||Eo(r)?Od(r,t,e,n,s,i):K0(r,t,u,e,n,s,i);if(!(e&Y0)){var m=p&&Dc.call(r,"__wrapped__"),y=g&&Dc.call(t,"__wrapped__");if(m||y){var b=m?r.value():r,w=y?t.value():t;return i||(i=new _n),s(b,w,e,n,i)}}return f?(i||(i=new _n),Z0(r,t,e,n,s,i)):!1}function Ld(r,t,e,n,s){return r===t?!0:r==null||t==null||!Ln(r)&&!Ln(t)?r!==r&&t!==t:X0(r,t,e,n,Ld,s)}function Q0(r){return function(t,e,n){for(var s=-1,i=Object(t),a=n(t),o=a.length;o--;){var u=a[++s];if(e(i[u],u,i)===!1)break}return t}}var t_=Q0();function Hl(r,t,e){(e!==void 0&&!sa(r[t],e)||e===void 0&&!(t in r))&&yo(r,t,e)}function e_(r){return Ln(r)&&Za(r)}function zl(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function r_(r){return ia(r,aa(r))}function n_(r,t,e,n,s,i,a){var o=zl(r,e),u=zl(t,e),d=a.get(u);if(d){Hl(r,e,d);return}var p=i?i(o,u,e+"",r,t,a):void 0,g=p===void 0;if(g){var f=bs(u),m=!f&&Hi(u),y=!f&&!m&&Eo(u);p=u,f||m||y?bs(o)?p=o:e_(o)?p=cd(o):m?(g=!1,p=wd(u,!0)):y?(g=!1,p=Td(u,!0)):p=[]:V1(u)||Bl(u)?(p=o,Bl(o)?p=r_(o):(!ns(o)||_o(o))&&(p=Nd(u))):g=!1}g&&(a.set(u,p),s(p,u,n,i,a),a.delete(u)),Hl(r,e,p)}function Cd(r,t,e,n,s){r!==t&&t_(t,function(i,a){if(s||(s=new _n),ns(i))n_(r,t,a,e,Cd,n,s);else{var o=n?n(zl(r,a),i,a+"",r,t,s):void 0;o===void 0&&(o=i),Hl(r,a,o)}},aa)}function So(r,t){return Ld(r,t)}var Qn=kg(function(r,t,e){Cd(r,t,e)}),Et=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(Et||{});class wn{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const s=Et.TYPE&Et.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Et.LEVEL|s:Et.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class ti extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const qd=class Kl{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const s=this.query(e);if(s==null)throw new ti(`Unable to create ${e} blot`);const i=s,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(n),o=new i(t,a,n);return Kl.blots.set(o.domNode,o),o}find(t,e=!1){return Kl.find(t,e)}query(t,e=Et.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Et.LEVEL&Et.BLOCK?n=this.types.block:t&Et.LEVEL&Et.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&Et.LEVEL&n.scope&&e&Et.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,s="attrName"in e;if(!n&&!s)throw new ti("Invalid definition");if(n&&e.blotName==="abstract")throw new ti("Cannot register abstract class");const i=n?e.blotName:s?e.attrName:void 0;return this.types[i]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(a=>a.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(a=>{(this.tags[a]==null||e.className==null)&&(this.tags[a]=e)}))),e})}};qd.blots=new WeakMap;let ii=qd;function Pc(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class s_ extends wn{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Pc(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Pc(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const Vr=s_;function vl(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class i_ extends wn{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[vl(this.keyName)]=e,!0):!1}remove(t){t.style[vl(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[vl(this.keyName)];return this.canAdd(t,e)?e:""}}const ss=i_;class a_{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=ii.find(this.domNode);if(t==null)return;const e=wn.keys(this.domNode),n=Vr.keys(this.domNode),s=ss.keys(this.domNode);e.concat(n).concat(s).forEach(i=>{const a=t.scroll.query(i,Et.ATTRIBUTE);a instanceof wn&&(this.attributes[a.attrName]=a)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const Xa=a_,Rd=class{constructor(t,e){this.scroll=t,this.domNode=e,ii.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ti("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),ii.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,s){const i=this.isolate(t,e);if(this.scroll.query(n,Et.BLOT)!=null&&s)i.wrap(n,s);else if(this.scroll.query(n,Et.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);i.wrap(a),a.format(n,s)}}insertAt(t,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),i=this.split(t);this.parent.insertBefore(s,i||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new ti(`Cannot wrap ${t}`);return n.appendChild(this),n}};Rd.blotName="abstract";let Id=Rd;const Dd=class extends Id{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Dd.scope=Et.INLINE_BLOT;let l_=Dd;const Je=l_;class o_{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),s=0;for(;n;){if(n===t)return s;s+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let s=n();for(;s;){const i=s.length();if(t<i||e&&t===i&&(s.next==null||s.next.length()!==0))return[s,t];t-=i,s=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[s,i]=this.find(t);let a=t-i;const o=this.iterator(s);let u=o();for(;u&&a<t+e;){const d=u.length();t>a?n(u,t-a,Math.min(e,a+d-t)):n(u,0,Math.min(d,t+e-a)),a+=d,u=o()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let s=n();for(;s;)e=t(e,s),s=n();return e}}function Bc(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(Et.INLINE);return Array.from(r.childNodes).forEach(s=>{n.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const Pd=class Un extends Id{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Un.uiClass&&this.uiNode.classList.add(Un.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new o_,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Bc(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof ti)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,s,i)=>{n.deleteAt(s,i)})}descendant(t,e=0){const[n,s]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof Un?n.descendant(t,s):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let s=[],i=n;return this.children.forEachAt(e,n,(a,o,u)=>{(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&s.push(a),a instanceof Un&&(s=s.concat(a.descendants(t,o,i))),i-=u}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===Et.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Un?e.unwrap():e.remove())})}formatAt(t,e,n,s){this.children.forEachAt(t,e,(i,a,o)=>{i.formatAt(a,o,n,s)})}insertAt(t,e,n){const[s,i]=this.children.find(t);if(s)s.insertAt(i,e,n);else{const a=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(a)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,s]=this.children.find(t,e),i=[[this,t]];return n instanceof Un?i.concat(n.path(s,e)):(n!=null&&i.push([n,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof Un&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,i,a)=>{const o=s.split(i,e);o!=null&&n.appendChild(o)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],s=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(i);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,a)=>i===a?0:i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let a=null;i.nextSibling!=null&&(a=this.scroll.find(i.nextSibling));const o=Bc(i,this.scroll);(o.next!==a||o.next==null)&&(o.parent!=null&&o.parent.removeChild(this),this.insertBefore(o,a||void 0))}),this.enforceAllowedChildren()}};Pd.uiClass="";let c_=Pd;const Fr=c_;function u_(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const Us=class Fs extends Fr{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Fs.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Xa(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof Fs||(n=n.wrap(Fs.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Et.INLINE);if(n==null)return;n instanceof wn?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.formats()[n]!=null||this.scroll.query(n,Et.ATTRIBUTE)?this.isolate(t,e).format(n,s):super.formatAt(t,e,n,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof Fs&&n.prev===this&&u_(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof Fs&&this.attributes.move(n),n}};Us.allowedChildren=[Us,Je],Us.blotName="inline",Us.scope=Et.INLINE_BLOT,Us.tagName="SPAN";let d_=Us;const $o=d_,Hs=class Gl extends Fr{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Gl.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Xa(this.domNode)}format(t,e){const n=this.scroll.query(t,Et.BLOCK);n!=null&&(n instanceof wn?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(Gl.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.scroll.query(n,Et.BLOCK)!=null?this.format(n,s):super.formatAt(t,e,n,s)}insertAt(t,e,n){if(n==null||this.scroll.query(e,Et.INLINE)!=null)super.insertAt(t,e,n);else{const s=this.split(t);if(s!=null){const i=this.scroll.create(e,n);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Hs.blotName="block",Hs.scope=Et.BLOCK_BLOT,Hs.tagName="P",Hs.allowedChildren=[$o,Hs,Je];let f_=Hs;const Gi=f_,Vl=class extends Fr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Vl.blotName="container",Vl.scope=Et.BLOCK_BLOT;let h_=Vl;const Qa=h_;class p_ extends Je{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,s){t===0&&e===this.length()?this.format(n,s):super.formatAt(t,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const vr=p_,v_={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m_=100,zs=class extends Fr{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,v_),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=Et.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,s){this.update(),super.formatAt(t,e,n,s)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=(u,d=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(n.has(u.domNode)||n.set(u.domNode,[]),d&&i(u.parent))},a=u=>{n.has(u.domNode)&&(u instanceof Fr&&u.children.forEach(a),n.delete(u.domNode),u.optimize(e))};let o=t;for(let u=0;o.length>0;u+=1){if(u>=m_)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(d=>{const p=this.find(d.target,!0);p!=null&&(p.domNode===d.target&&(d.type==="childList"?(i(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const f=this.find(g,!1);i(f,!1),f instanceof Fr&&f.children.forEach(m=>{i(m,!1)})})):d.type==="attributes"&&i(p.prev)),i(p))}),this.children.forEach(a),o=Array.from(this.observer.takeRecords()),s=o.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const i=this.find(s.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(s),null):(n.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};zs.blotName="scroll",zs.defaultChild=Gi,zs.allowedChildren=[Gi,Qa],zs.scope=Et.BLOCK_BLOT,zs.tagName="DIV";let g_=zs;const Oo=g_,Wl=class Bd extends Je{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Bd&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Wl.blotName="text",Wl.scope=Et.INLINE_BLOT;let b_=Wl;const Ua=b_,__=Object.freeze(Object.defineProperty({__proto__:null,Attributor:wn,AttributorStore:Xa,BlockBlot:Gi,ClassAttributor:Vr,ContainerBlot:Qa,EmbedBlot:vr,InlineBlot:$o,LeafBlot:Je,ParentBlot:Fr,Registry:ii,Scope:Et,ScrollBlot:Oo,StyleAttributor:ss,TextBlot:Ua},Symbol.toStringTag,{value:"Module"}));var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Md(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ma={exports:{}},ml,Mc;function y_(){if(Mc)return ml;Mc=1;var r=-1,t=1,e=0;function n(E,C,N,q,D){if(E===C)return E?[[e,E]]:[];if(N!=null){var M=I(E,C,N);if(M)return M}var B=o(E,C),U=E.substring(0,B);E=E.substring(B),C=C.substring(B),B=d(E,C);var Z=E.substring(E.length-B);E=E.substring(0,E.length-B),C=C.substring(0,C.length-B);var W=s(E,C);return U&&W.unshift([e,U]),Z&&W.push([e,Z]),T(W,D),q&&g(W),W}function s(E,C){var N;if(!E)return[[t,C]];if(!C)return[[r,E]];var q=E.length>C.length?E:C,D=E.length>C.length?C:E,M=q.indexOf(D);if(M!==-1)return N=[[t,q.substring(0,M)],[e,D],[t,q.substring(M+D.length)]],E.length>C.length&&(N[0][0]=N[2][0]=r),N;if(D.length===1)return[[r,E],[t,C]];var B=p(E,C);if(B){var U=B[0],Z=B[1],W=B[2],rt=B[3],Q=B[4],tt=n(U,W),at=n(Z,rt);return tt.concat([[e,Q]],at)}return i(E,C)}function i(E,C){for(var N=E.length,q=C.length,D=Math.ceil((N+q)/2),M=D,B=2*D,U=new Array(B),Z=new Array(B),W=0;W<B;W++)U[W]=-1,Z[W]=-1;U[M+1]=0,Z[M+1]=0;for(var rt=N-q,Q=rt%2!==0,tt=0,at=0,G=0,ut=0,_t=0;_t<D;_t++){for(var ct=-_t+tt;ct<=_t-at;ct+=2){var wt=M+ct,dt;ct===-_t||ct!==_t&&U[wt-1]<U[wt+1]?dt=U[wt+1]:dt=U[wt-1]+1;for(var it=dt-ct;dt<N&&it<q&&E.charAt(dt)===C.charAt(it);)dt++,it++;if(U[wt]=dt,dt>N)at+=2;else if(it>q)tt+=2;else if(Q){var lt=M+rt-ct;if(lt>=0&&lt<B&&Z[lt]!==-1){var vt=N-Z[lt];if(dt>=vt)return a(E,C,dt,it)}}}for(var Nt=-_t+G;Nt<=_t-ut;Nt+=2){var lt=M+Nt,vt;Nt===-_t||Nt!==_t&&Z[lt-1]<Z[lt+1]?vt=Z[lt+1]:vt=Z[lt-1]+1;for(var Rt=vt-Nt;vt<N&&Rt<q&&E.charAt(N-vt-1)===C.charAt(q-Rt-1);)vt++,Rt++;if(Z[lt]=vt,vt>N)ut+=2;else if(Rt>q)G+=2;else if(!Q){var wt=M+rt-Nt;if(wt>=0&&wt<B&&U[wt]!==-1){var dt=U[wt],it=M+dt-wt;if(vt=N-vt,dt>=vt)return a(E,C,dt,it)}}}}return[[r,E],[t,C]]}function a(E,C,N,q){var D=E.substring(0,N),M=C.substring(0,q),B=E.substring(N),U=C.substring(q),Z=n(D,M),W=n(B,U);return Z.concat(W)}function o(E,C){if(!E||!C||E.charAt(0)!==C.charAt(0))return 0;for(var N=0,q=Math.min(E.length,C.length),D=q,M=0;N<D;)E.substring(M,D)==C.substring(M,D)?(N=D,M=N):q=D,D=Math.floor((q-N)/2+N);return k(E.charCodeAt(D-1))&&D--,D}function u(E,C){var N=E.length,q=C.length;if(N==0||q==0)return 0;N>q?E=E.substring(N-q):N<q&&(C=C.substring(0,N));var D=Math.min(N,q);if(E==C)return D;for(var M=0,B=1;;){var U=E.substring(D-B),Z=C.indexOf(U);if(Z==-1)return M;B+=Z,(Z==0||E.substring(D-B)==C.substring(0,B))&&(M=B,B++)}}function d(E,C){if(!E||!C||E.slice(-1)!==C.slice(-1))return 0;for(var N=0,q=Math.min(E.length,C.length),D=q,M=0;N<D;)E.substring(E.length-D,E.length-M)==C.substring(C.length-D,C.length-M)?(N=D,M=N):q=D,D=Math.floor((q-N)/2+N);return S(E.charCodeAt(E.length-D))&&D--,D}function p(E,C){var N=E.length>C.length?E:C,q=E.length>C.length?C:E;if(N.length<4||q.length*2<N.length)return null;function D(at,G,ut){for(var _t=at.substring(ut,ut+Math.floor(at.length/4)),ct=-1,wt="",dt,it,lt,vt;(ct=G.indexOf(_t,ct+1))!==-1;){var Nt=o(at.substring(ut),G.substring(ct)),Rt=d(at.substring(0,ut),G.substring(0,ct));wt.length<Rt+Nt&&(wt=G.substring(ct-Rt,ct)+G.substring(ct,ct+Nt),dt=at.substring(0,ut-Rt),it=at.substring(ut+Nt),lt=G.substring(0,ct-Rt),vt=G.substring(ct+Nt))}return wt.length*2>=at.length?[dt,it,lt,vt,wt]:null}var M=D(N,q,Math.ceil(N.length/4)),B=D(N,q,Math.ceil(N.length/2)),U;if(!M&&!B)return null;B?M?U=M[4].length>B[4].length?M:B:U=B:U=M;var Z,W,rt,Q;E.length>C.length?(Z=U[0],W=U[1],rt=U[2],Q=U[3]):(rt=U[0],Q=U[1],Z=U[2],W=U[3]);var tt=U[4];return[Z,W,rt,Q,tt]}function g(E){for(var C=!1,N=[],q=0,D=null,M=0,B=0,U=0,Z=0,W=0;M<E.length;)E[M][0]==e?(N[q++]=M,B=Z,U=W,Z=0,W=0,D=E[M][1]):(E[M][0]==t?Z+=E[M][1].length:W+=E[M][1].length,D&&D.length<=Math.max(B,U)&&D.length<=Math.max(Z,W)&&(E.splice(N[q-1],0,[r,D]),E[N[q-1]+1][0]=t,q--,q--,M=q>0?N[q-1]:-1,B=0,U=0,Z=0,W=0,D=null,C=!0)),M++;for(C&&T(E),x(E),M=1;M<E.length;){if(E[M-1][0]==r&&E[M][0]==t){var rt=E[M-1][1],Q=E[M][1],tt=u(rt,Q),at=u(Q,rt);tt>=at?(tt>=rt.length/2||tt>=Q.length/2)&&(E.splice(M,0,[e,Q.substring(0,tt)]),E[M-1][1]=rt.substring(0,rt.length-tt),E[M+1][1]=Q.substring(tt),M++):(at>=rt.length/2||at>=Q.length/2)&&(E.splice(M,0,[e,rt.substring(0,at)]),E[M-1][0]=t,E[M-1][1]=Q.substring(0,Q.length-at),E[M+1][0]=r,E[M+1][1]=rt.substring(at),M++),M++}M++}}var f=/[^a-zA-Z0-9]/,m=/\s/,y=/[\r\n]/,b=/\n\r?\n$/,w=/^\r?\n\r?\n/;function x(E){function C(at,G){if(!at||!G)return 6;var ut=at.charAt(at.length-1),_t=G.charAt(0),ct=ut.match(f),wt=_t.match(f),dt=ct&&ut.match(m),it=wt&&_t.match(m),lt=dt&&ut.match(y),vt=it&&_t.match(y),Nt=lt&&at.match(b),Rt=vt&&G.match(w);return Nt||Rt?5:lt||vt?4:ct&&!dt&&it?3:dt||it?2:ct||wt?1:0}for(var N=1;N<E.length-1;){if(E[N-1][0]==e&&E[N+1][0]==e){var q=E[N-1][1],D=E[N][1],M=E[N+1][1],B=d(q,D);if(B){var U=D.substring(D.length-B);q=q.substring(0,q.length-B),D=U+D.substring(0,D.length-B),M=U+M}for(var Z=q,W=D,rt=M,Q=C(q,D)+C(D,M);D.charAt(0)===M.charAt(0);){q+=D.charAt(0),D=D.substring(1)+M.charAt(0),M=M.substring(1);var tt=C(q,D)+C(D,M);tt>=Q&&(Q=tt,Z=q,W=D,rt=M)}E[N-1][1]!=Z&&(Z?E[N-1][1]=Z:(E.splice(N-1,1),N--),E[N][1]=W,rt?E[N+1][1]=rt:(E.splice(N+1,1),N--))}N++}}function T(E,C){E.push([e,""]);for(var N=0,q=0,D=0,M="",B="",U;N<E.length;){if(N<E.length-1&&!E[N][1]){E.splice(N,1);continue}switch(E[N][0]){case t:D++,B+=E[N][1],N++;break;case r:q++,M+=E[N][1],N++;break;case e:var Z=N-D-q-1;if(C){if(Z>=0&&R(E[Z][1])){var W=E[Z][1].slice(-1);if(E[Z][1]=E[Z][1].slice(0,-1),M=W+M,B=W+B,!E[Z][1]){E.splice(Z,1),N--;var rt=Z-1;E[rt]&&E[rt][0]===t&&(D++,B=E[rt][1]+B,rt--),E[rt]&&E[rt][0]===r&&(q++,M=E[rt][1]+M,rt--),Z=rt}}if($(E[N][1])){var W=E[N][1].charAt(0);E[N][1]=E[N][1].slice(1),M+=W,B+=W}}if(N<E.length-1&&!E[N][1]){E.splice(N,1);break}if(M.length>0||B.length>0){M.length>0&&B.length>0&&(U=o(B,M),U!==0&&(Z>=0?E[Z][1]+=B.substring(0,U):(E.splice(0,0,[e,B.substring(0,U)]),N++),B=B.substring(U),M=M.substring(U)),U=d(B,M),U!==0&&(E[N][1]=B.substring(B.length-U)+E[N][1],B=B.substring(0,B.length-U),M=M.substring(0,M.length-U)));var Q=D+q;M.length===0&&B.length===0?(E.splice(N-Q,Q),N=N-Q):M.length===0?(E.splice(N-Q,Q,[t,B]),N=N-Q+1):B.length===0?(E.splice(N-Q,Q,[r,M]),N=N-Q+1):(E.splice(N-Q,Q,[r,M],[t,B]),N=N-Q+2)}N!==0&&E[N-1][0]===e?(E[N-1][1]+=E[N][1],E.splice(N,1)):N++,D=0,q=0,M="",B="";break}}E[E.length-1][1]===""&&E.pop();var tt=!1;for(N=1;N<E.length-1;)E[N-1][0]===e&&E[N+1][0]===e&&(E[N][1].substring(E[N][1].length-E[N-1][1].length)===E[N-1][1]?(E[N][1]=E[N-1][1]+E[N][1].substring(0,E[N][1].length-E[N-1][1].length),E[N+1][1]=E[N-1][1]+E[N+1][1],E.splice(N-1,1),tt=!0):E[N][1].substring(0,E[N+1][1].length)==E[N+1][1]&&(E[N-1][1]+=E[N+1][1],E[N][1]=E[N][1].substring(E[N+1][1].length)+E[N+1][1],E.splice(N+1,1),tt=!0)),N++;tt&&T(E,C)}function k(E){return E>=55296&&E<=56319}function S(E){return E>=56320&&E<=57343}function $(E){return S(E.charCodeAt(0))}function R(E){return k(E.charCodeAt(E.length-1))}function F(E){for(var C=[],N=0;N<E.length;N++)E[N][1].length>0&&C.push(E[N]);return C}function j(E,C,N,q){return R(E)||$(q)?null:F([[e,E],[r,C],[t,N],[e,q]])}function I(E,C,N){var q=typeof N=="number"?{index:N,length:0}:N.oldRange,D=typeof N=="number"?null:N.newRange,M=E.length,B=C.length;if(q.length===0&&(D===null||D.length===0)){var U=q.index,Z=E.slice(0,U),W=E.slice(U),rt=D?D.index:null;t:{var Q=U+B-M;if(rt!==null&&rt!==Q||Q<0||Q>B)break t;var tt=C.slice(0,Q),at=C.slice(Q);if(at!==W)break t;var G=Math.min(U,Q),ut=Z.slice(0,G),_t=tt.slice(0,G);if(ut!==_t)break t;var ct=Z.slice(G),wt=tt.slice(G);return j(ut,ct,wt,W)}t:{if(rt!==null&&rt!==U)break t;var dt=U,tt=C.slice(0,dt),at=C.slice(dt);if(tt!==Z)break t;var it=Math.min(M-dt,B-dt),lt=W.slice(W.length-it),vt=at.slice(at.length-it);if(lt!==vt)break t;var ct=W.slice(0,W.length-it),wt=at.slice(0,at.length-it);return j(Z,ct,wt,lt)}}if(q.length>0&&D&&D.length===0)t:{var ut=E.slice(0,q.index),lt=E.slice(q.index+q.length),G=ut.length,it=lt.length;if(B<G+it)break t;var _t=C.slice(0,G),vt=C.slice(B-it);if(ut!==_t||lt!==vt)break t;var ct=E.slice(G,M-it),wt=C.slice(G,B-it);return j(ut,ct,wt,lt)}return null}function K(E,C,N,q){return n(E,C,N,q,!0)}return K.INSERT=t,K.DELETE=r,K.EQUAL=e,ml=K,ml}var Ni={exports:{}};Ni.exports;var jc;function jd(){return jc||(jc=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Array]",o="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",f="[object Map]",m="[object Number]",y="[object Object]",b="[object Promise]",w="[object RegExp]",x="[object Set]",T="[object String]",k="[object Symbol]",S="[object WeakMap]",$="[object ArrayBuffer]",R="[object DataView]",F="[object Float32Array]",j="[object Float64Array]",I="[object Int8Array]",K="[object Int16Array]",E="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",q="[object Uint16Array]",D="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,B=/\w*$/,U=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,W={};W[i]=W[a]=W[$]=W[R]=W[o]=W[u]=W[F]=W[j]=W[I]=W[K]=W[E]=W[f]=W[m]=W[y]=W[w]=W[x]=W[T]=W[k]=W[C]=W[N]=W[q]=W[D]=!0,W[d]=W[p]=W[S]=!1;var rt=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,Q=typeof self=="object"&&self&&self.Object===Object&&self,tt=rt||Q||Function("return this")(),at=t&&!t.nodeType&&t,G=at&&!0&&r&&!r.nodeType&&r,ut=G&&G.exports===at;function _t(c,_){return c.set(_[0],_[1]),c}function ct(c,_){return c.add(_),c}function wt(c,_){for(var O=-1,V=c?c.length:0;++O<V&&_(c[O],O,c)!==!1;);return c}function dt(c,_){for(var O=-1,V=_.length,Ct=c.length;++O<V;)c[Ct+O]=_[O];return c}function it(c,_,O,V){for(var Ct=-1,At=c?c.length:0;++Ct<At;)O=_(O,c[Ct],Ct,c);return O}function lt(c,_){for(var O=-1,V=Array(c);++O<c;)V[O]=_(O);return V}function vt(c,_){return c==null?void 0:c[_]}function Nt(c){var _=!1;if(c!=null&&typeof c.toString!="function")try{_=!!(c+"")}catch{}return _}function Rt(c){var _=-1,O=Array(c.size);return c.forEach(function(V,Ct){O[++_]=[Ct,V]}),O}function Ot(c,_){return function(O){return c(_(O))}}function $t(c){var _=-1,O=Array(c.size);return c.forEach(function(V){O[++_]=V}),O}var Pt=Array.prototype,se=Function.prototype,Wt=Object.prototype,Yt=tt["__core-js_shared__"],le=function(){var c=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),oe=se.toString,Qt=Wt.hasOwnProperty,ce=Wt.toString,we=RegExp("^"+oe.call(Qt).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=ut?tt.Buffer:void 0,ue=tt.Symbol,he=tt.Uint8Array,re=Ot(Object.getPrototypeOf,Object),Te=Object.create,ge=Wt.propertyIsEnumerable,Be=Pt.splice,be=Object.getOwnPropertySymbols,Me=ie?ie.isBuffer:void 0,ke=Ot(Object.keys,Object),Ne=nr(tt,"DataView"),_e=nr(tt,"Map"),ae=nr(tt,"Promise"),Se=nr(tt,"Set"),$e=nr(tt,"WeakMap"),Oe=nr(Object,"create"),Le=Ue(Ne),Ce=Ue(_e),qe=Ue(ae),je=Ue(Se),Tt=Ue($e),J=ue?ue.prototype:void 0,ot=J?J.valueOf:void 0;function ft(c){var _=-1,O=c?c.length:0;for(this.clear();++_<O;){var V=c[_];this.set(V[0],V[1])}}function Lt(){this.__data__=Oe?Oe(null):{}}function zt(c){return this.has(c)&&delete this.__data__[c]}function Yr(c){var _=this.__data__;if(Oe){var O=_[c];return O===n?void 0:O}return Qt.call(_,c)?_[c]:void 0}function mr(c){var _=this.__data__;return Oe?_[c]!==void 0:Qt.call(_,c)}function gr(c,_){var O=this.__data__;return O[c]=Oe&&_===void 0?n:_,this}ft.prototype.clear=Lt,ft.prototype.delete=zt,ft.prototype.get=Yr,ft.prototype.has=mr,ft.prototype.set=gr;function pe(c){var _=-1,O=c?c.length:0;for(this.clear();++_<O;){var V=c[_];this.set(V[0],V[1])}}function Jr(){this.__data__=[]}function Xr(c){var _=this.__data__,O=lr(_,c);if(O<0)return!1;var V=_.length-1;return O==V?_.pop():Be.call(_,O,1),!0}function Nr(c){var _=this.__data__,O=lr(_,c);return O<0?void 0:_[O][1]}function Qr(c){return lr(this.__data__,c)>-1}function tn(c,_){var O=this.__data__,V=lr(O,c);return V<0?O.push([c,_]):O[V][1]=_,this}pe.prototype.clear=Jr,pe.prototype.delete=Xr,pe.prototype.get=Nr,pe.prototype.has=Qr,pe.prototype.set=tn;function ve(c){var _=-1,O=c?c.length:0;for(this.clear();++_<O;){var V=c[_];this.set(V[0],V[1])}}function en(){this.__data__={hash:new ft,map:new(_e||pe),string:new ft}}function kr(c){return yt(this,c).delete(c)}function rn(c){return yt(this,c).get(c)}function nn(c){return yt(this,c).has(c)}function sn(c,_){return yt(this,c).set(c,_),this}ve.prototype.clear=en,ve.prototype.delete=kr,ve.prototype.get=rn,ve.prototype.has=nn,ve.prototype.set=sn;function xe(c){this.__data__=new pe(c)}function Sr(){this.__data__=new pe}function an(c){return this.__data__.delete(c)}function ln(c){return this.__data__.get(c)}function on(c){return this.__data__.has(c)}function cn(c,_){var O=this.__data__;if(O instanceof pe){var V=O.__data__;if(!_e||V.length<e-1)return V.push([c,_]),this;O=this.__data__=new ve(V)}return O.set(c,_),this}xe.prototype.clear=Sr,xe.prototype.delete=an,xe.prototype.get=ln,xe.prototype.has=on,xe.prototype.set=cn;function rr(c,_){var O=jn(c)||Mn(c)?lt(c.length,String):[],V=O.length,Ct=!!V;for(var At in c)Qt.call(c,At)&&!(Ct&&(At=="length"||gi(At,V)))&&O.push(At);return O}function $r(c,_,O){var V=c[_];(!(Qt.call(c,_)&&Ls(V,O))||O===void 0&&!(_ in c))&&(c[_]=O)}function lr(c,_){for(var O=c.length;O--;)if(Ls(c[O][0],_))return O;return-1}function Ge(c,_){return c&&Nn(_,ds(_),c)}function Or(c,_,O,V,Ct,At,Kt){var Mt;if(V&&(Mt=At?V(c,Ct,At,Kt):V(c)),Mt!==void 0)return Mt;if(!cr(c))return c;var ye=jn(c);if(ye){if(Mt=mi(c),!_)return Tn(c,Mt)}else{var Zt=qr(c),Fe=Zt==p||Zt==g;if(Cs(c))return hn(c,_);if(Zt==y||Zt==i||Fe&&!At){if(Nt(c))return At?c:{};if(Mt=or(Fe?{}:c),!_)return as(c,Ge(Mt,c))}else{if(!W[Zt])return At?c:{};Mt=$s(c,Zt,Or,_)}}Kt||(Kt=new xe);var Ve=Kt.get(c);if(Ve)return Ve;if(Kt.set(c,Mt),!ye)var Ee=O?ls(c):ds(c);return wt(Ee||c,function(He,Re){Ee&&(Re=He,He=c[Re]),$r(Mt,Re,Or(He,_,O,V,Re,c,Kt))}),Mt}function Lr(c){return cr(c)?Te(c):{}}function un(c,_,O){var V=_(c);return jn(c)?V:dt(V,O(c))}function dn(c){return ce.call(c)}function fn(c){if(!cr(c)||_i(c))return!1;var _=cs(c)||Nt(c)?we:U;return _.test(Ue(c))}function kt(c){if(!os(c))return ke(c);var _=[];for(var O in Object(c))Qt.call(c,O)&&O!="constructor"&&_.push(O);return _}function hn(c,_){if(_)return c.slice();var O=new c.constructor(c.length);return c.copy(O),O}function pn(c){var _=new c.constructor(c.byteLength);return new he(_).set(new he(c)),_}function br(c,_){var O=_?pn(c.buffer):c.buffer;return new c.constructor(O,c.byteOffset,c.byteLength)}function An(c,_,O){var V=_?O(Rt(c),!0):Rt(c);return it(V,_t,new c.constructor)}function Dn(c){var _=new c.constructor(c.source,B.exec(c));return _.lastIndex=c.lastIndex,_}function Pn(c,_,O){var V=_?O($t(c),!0):$t(c);return it(V,ct,new c.constructor)}function is(c){return ot?Object(ot.call(c)):{}}function Bn(c,_){var O=_?pn(c.buffer):c.buffer;return new c.constructor(O,c.byteOffset,c.length)}function Tn(c,_){var O=-1,V=c.length;for(_||(_=Array(V));++O<V;)_[O]=c[O];return _}function Nn(c,_,O,V){O||(O={});for(var Ct=-1,At=_.length;++Ct<At;){var Kt=_[Ct],Mt=void 0;$r(O,Kt,Mt===void 0?c[Kt]:Mt)}return O}function as(c,_){return Nn(c,Cr(c),_)}function ls(c){return un(c,ds,Cr)}function yt(c,_){var O=c.__data__;return bi(_)?O[typeof _=="string"?"string":"hash"]:O.map}function nr(c,_){var O=vt(c,_);return fn(O)?O:void 0}var Cr=be?Ot(be,Object):wi,qr=dn;(Ne&&qr(new Ne(new ArrayBuffer(1)))!=R||_e&&qr(new _e)!=f||ae&&qr(ae.resolve())!=b||Se&&qr(new Se)!=x||$e&&qr(new $e)!=S)&&(qr=function(c){var _=ce.call(c),O=_==y?c.constructor:void 0,V=O?Ue(O):void 0;if(V)switch(V){case Le:return R;case Ce:return f;case qe:return b;case je:return x;case Tt:return S}return _});function mi(c){var _=c.length,O=c.constructor(_);return _&&typeof c[0]=="string"&&Qt.call(c,"index")&&(O.index=c.index,O.input=c.input),O}function or(c){return typeof c.constructor=="function"&&!os(c)?Lr(re(c)):{}}function $s(c,_,O,V){var Ct=c.constructor;switch(_){case $:return pn(c);case o:case u:return new Ct(+c);case R:return br(c,V);case F:case j:case I:case K:case E:case C:case N:case q:case D:return Bn(c,V);case f:return An(c,V,O);case m:case T:return new Ct(c);case w:return Dn(c);case x:return Pn(c,V,O);case k:return is(c)}}function gi(c,_){return _=_??s,!!_&&(typeof c=="number"||Z.test(c))&&c>-1&&c%1==0&&c<_}function bi(c){var _=typeof c;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?c!=="__proto__":c===null}function _i(c){return!!le&&le in c}function os(c){var _=c&&c.constructor,O=typeof _=="function"&&_.prototype||Wt;return c===O}function Ue(c){if(c!=null){try{return oe.call(c)}catch{}try{return c+""}catch{}}return""}function Os(c){return Or(c,!0,!0)}function Ls(c,_){return c===_||c!==c&&_!==_}function Mn(c){return yi(c)&&Qt.call(c,"callee")&&(!ge.call(c,"callee")||ce.call(c)==i)}var jn=Array.isArray;function kn(c){return c!=null&&us(c.length)&&!cs(c)}function yi(c){return qs(c)&&kn(c)}var Cs=Me||Rs;function cs(c){var _=cr(c)?ce.call(c):"";return _==p||_==g}function us(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function cr(c){var _=typeof c;return!!c&&(_=="object"||_=="function")}function qs(c){return!!c&&typeof c=="object"}function ds(c){return kn(c)?rr(c):kt(c)}function wi(){return[]}function Rs(){return!1}r.exports=Os}(Ni,Ni.exports)),Ni.exports}var ki={exports:{}};ki.exports;var Uc;function Ud(){return Uc||(Uc=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,o="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",p="[object Boolean]",g="[object Date]",f="[object Error]",m="[object Function]",y="[object GeneratorFunction]",b="[object Map]",w="[object Number]",x="[object Null]",T="[object Object]",k="[object Promise]",S="[object Proxy]",$="[object RegExp]",R="[object Set]",F="[object String]",j="[object Symbol]",I="[object Undefined]",K="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",N="[object Float32Array]",q="[object Float64Array]",D="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",Z="[object Uint8ClampedArray]",W="[object Uint16Array]",rt="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,tt=/^\[object .+?Constructor\]$/,at=/^(?:0|[1-9]\d*)$/,G={};G[N]=G[q]=G[D]=G[M]=G[B]=G[U]=G[Z]=G[W]=G[rt]=!0,G[o]=G[u]=G[E]=G[p]=G[C]=G[g]=G[f]=G[m]=G[b]=G[w]=G[T]=G[$]=G[R]=G[F]=G[K]=!1;var ut=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,_t=typeof self=="object"&&self&&self.Object===Object&&self,ct=ut||_t||Function("return this")(),wt=t&&!t.nodeType&&t,dt=wt&&!0&&r&&!r.nodeType&&r,it=dt&&dt.exports===wt,lt=it&&ut.process,vt=function(){try{return lt&&lt.binding&&lt.binding("util")}catch{}}(),Nt=vt&&vt.isTypedArray;function Rt(c,_){for(var O=-1,V=c==null?0:c.length,Ct=0,At=[];++O<V;){var Kt=c[O];_(Kt,O,c)&&(At[Ct++]=Kt)}return At}function Ot(c,_){for(var O=-1,V=_.length,Ct=c.length;++O<V;)c[Ct+O]=_[O];return c}function $t(c,_){for(var O=-1,V=c==null?0:c.length;++O<V;)if(_(c[O],O,c))return!0;return!1}function Pt(c,_){for(var O=-1,V=Array(c);++O<c;)V[O]=_(O);return V}function se(c){return function(_){return c(_)}}function Wt(c,_){return c.has(_)}function Yt(c,_){return c==null?void 0:c[_]}function le(c){var _=-1,O=Array(c.size);return c.forEach(function(V,Ct){O[++_]=[Ct,V]}),O}function oe(c,_){return function(O){return c(_(O))}}function Qt(c){var _=-1,O=Array(c.size);return c.forEach(function(V){O[++_]=V}),O}var ce=Array.prototype,we=Function.prototype,ie=Object.prototype,ue=ct["__core-js_shared__"],he=we.toString,re=ie.hasOwnProperty,Te=function(){var c=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),ge=ie.toString,Be=RegExp("^"+he.call(re).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=it?ct.Buffer:void 0,Me=ct.Symbol,ke=ct.Uint8Array,Ne=ie.propertyIsEnumerable,_e=ce.splice,ae=Me?Me.toStringTag:void 0,Se=Object.getOwnPropertySymbols,$e=be?be.isBuffer:void 0,Oe=oe(Object.keys,Object),Le=Cr(ct,"DataView"),Ce=Cr(ct,"Map"),qe=Cr(ct,"Promise"),je=Cr(ct,"Set"),Tt=Cr(ct,"WeakMap"),J=Cr(Object,"create"),ot=Ue(Le),ft=Ue(Ce),Lt=Ue(qe),zt=Ue(je),Yr=Ue(Tt),mr=Me?Me.prototype:void 0,gr=mr?mr.valueOf:void 0;function pe(c){var _=-1,O=c==null?0:c.length;for(this.clear();++_<O;){var V=c[_];this.set(V[0],V[1])}}function Jr(){this.__data__=J?J(null):{},this.size=0}function Xr(c){var _=this.has(c)&&delete this.__data__[c];return this.size-=_?1:0,_}function Nr(c){var _=this.__data__;if(J){var O=_[c];return O===n?void 0:O}return re.call(_,c)?_[c]:void 0}function Qr(c){var _=this.__data__;return J?_[c]!==void 0:re.call(_,c)}function tn(c,_){var O=this.__data__;return this.size+=this.has(c)?0:1,O[c]=J&&_===void 0?n:_,this}pe.prototype.clear=Jr,pe.prototype.delete=Xr,pe.prototype.get=Nr,pe.prototype.has=Qr,pe.prototype.set=tn;function ve(c){var _=-1,O=c==null?0:c.length;for(this.clear();++_<O;){var V=c[_];this.set(V[0],V[1])}}function en(){this.__data__=[],this.size=0}function kr(c){var _=this.__data__,O=hn(_,c);if(O<0)return!1;var V=_.length-1;return O==V?_.pop():_e.call(_,O,1),--this.size,!0}function rn(c){var _=this.__data__,O=hn(_,c);return O<0?void 0:_[O][1]}function nn(c){return hn(this.__data__,c)>-1}function sn(c,_){var O=this.__data__,V=hn(O,c);return V<0?(++this.size,O.push([c,_])):O[V][1]=_,this}ve.prototype.clear=en,ve.prototype.delete=kr,ve.prototype.get=rn,ve.prototype.has=nn,ve.prototype.set=sn;function xe(c){var _=-1,O=c==null?0:c.length;for(this.clear();++_<O;){var V=c[_];this.set(V[0],V[1])}}function Sr(){this.size=0,this.__data__={hash:new pe,map:new(Ce||ve),string:new pe}}function an(c){var _=nr(this,c).delete(c);return this.size-=_?1:0,_}function ln(c){return nr(this,c).get(c)}function on(c){return nr(this,c).has(c)}function cn(c,_){var O=nr(this,c),V=O.size;return O.set(c,_),this.size+=O.size==V?0:1,this}xe.prototype.clear=Sr,xe.prototype.delete=an,xe.prototype.get=ln,xe.prototype.has=on,xe.prototype.set=cn;function rr(c){var _=-1,O=c==null?0:c.length;for(this.__data__=new xe;++_<O;)this.add(c[_])}function $r(c){return this.__data__.set(c,n),this}function lr(c){return this.__data__.has(c)}rr.prototype.add=rr.prototype.push=$r,rr.prototype.has=lr;function Ge(c){var _=this.__data__=new ve(c);this.size=_.size}function Or(){this.__data__=new ve,this.size=0}function Lr(c){var _=this.__data__,O=_.delete(c);return this.size=_.size,O}function un(c){return this.__data__.get(c)}function dn(c){return this.__data__.has(c)}function fn(c,_){var O=this.__data__;if(O instanceof ve){var V=O.__data__;if(!Ce||V.length<e-1)return V.push([c,_]),this.size=++O.size,this;O=this.__data__=new xe(V)}return O.set(c,_),this.size=O.size,this}Ge.prototype.clear=Or,Ge.prototype.delete=Lr,Ge.prototype.get=un,Ge.prototype.has=dn,Ge.prototype.set=fn;function kt(c,_){var O=Mn(c),V=!O&&Ls(c),Ct=!O&&!V&&kn(c),At=!O&&!V&&!Ct&&qs(c),Kt=O||V||Ct||At,Mt=Kt?Pt(c.length,String):[],ye=Mt.length;for(var Zt in c)re.call(c,Zt)&&!(Kt&&(Zt=="length"||Ct&&(Zt=="offset"||Zt=="parent")||At&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||$s(Zt,ye)))&&Mt.push(Zt);return Mt}function hn(c,_){for(var O=c.length;O--;)if(Os(c[O][0],_))return O;return-1}function pn(c,_,O){var V=_(c);return Mn(c)?V:Ot(V,O(c))}function br(c){return c==null?c===void 0?I:x:ae&&ae in Object(c)?qr(c):os(c)}function An(c){return cr(c)&&br(c)==o}function Dn(c,_,O,V,Ct){return c===_?!0:c==null||_==null||!cr(c)&&!cr(_)?c!==c&&_!==_:Pn(c,_,O,V,Dn,Ct)}function Pn(c,_,O,V,Ct,At){var Kt=Mn(c),Mt=Mn(_),ye=Kt?u:or(c),Zt=Mt?u:or(_);ye=ye==o?T:ye,Zt=Zt==o?T:Zt;var Fe=ye==T,Ve=Zt==T,Ee=ye==Zt;if(Ee&&kn(c)){if(!kn(_))return!1;Kt=!0,Fe=!1}if(Ee&&!Fe)return At||(At=new Ge),Kt||qs(c)?Nn(c,_,O,V,Ct,At):as(c,_,ye,O,V,Ct,At);if(!(O&s)){var He=Fe&&re.call(c,"__wrapped__"),Re=Ve&&re.call(_,"__wrapped__");if(He||Re){var vn=He?c.value():c,Rr=Re?_.value():_;return At||(At=new Ge),Ct(vn,Rr,O,V,At)}}return Ee?(At||(At=new Ge),ls(c,_,O,V,Ct,At)):!1}function is(c){if(!us(c)||bi(c))return!1;var _=Cs(c)?Be:tt;return _.test(Ue(c))}function Bn(c){return cr(c)&&cs(c.length)&&!!G[br(c)]}function Tn(c){if(!_i(c))return Oe(c);var _=[];for(var O in Object(c))re.call(c,O)&&O!="constructor"&&_.push(O);return _}function Nn(c,_,O,V,Ct,At){var Kt=O&s,Mt=c.length,ye=_.length;if(Mt!=ye&&!(Kt&&ye>Mt))return!1;var Zt=At.get(c);if(Zt&&At.get(_))return Zt==_;var Fe=-1,Ve=!0,Ee=O&i?new rr:void 0;for(At.set(c,_),At.set(_,c);++Fe<Mt;){var He=c[Fe],Re=_[Fe];if(V)var vn=Kt?V(Re,He,Fe,_,c,At):V(He,Re,Fe,c,_,At);if(vn!==void 0){if(vn)continue;Ve=!1;break}if(Ee){if(!$t(_,function(Rr,Sn){if(!Wt(Ee,Sn)&&(He===Rr||Ct(He,Rr,O,V,At)))return Ee.push(Sn)})){Ve=!1;break}}else if(!(He===Re||Ct(He,Re,O,V,At))){Ve=!1;break}}return At.delete(c),At.delete(_),Ve}function as(c,_,O,V,Ct,At,Kt){switch(O){case C:if(c.byteLength!=_.byteLength||c.byteOffset!=_.byteOffset)return!1;c=c.buffer,_=_.buffer;case E:return!(c.byteLength!=_.byteLength||!At(new ke(c),new ke(_)));case p:case g:case w:return Os(+c,+_);case f:return c.name==_.name&&c.message==_.message;case $:case F:return c==_+"";case b:var Mt=le;case R:var ye=V&s;if(Mt||(Mt=Qt),c.size!=_.size&&!ye)return!1;var Zt=Kt.get(c);if(Zt)return Zt==_;V|=i,Kt.set(c,_);var Fe=Nn(Mt(c),Mt(_),V,Ct,At,Kt);return Kt.delete(c),Fe;case j:if(gr)return gr.call(c)==gr.call(_)}return!1}function ls(c,_,O,V,Ct,At){var Kt=O&s,Mt=yt(c),ye=Mt.length,Zt=yt(_),Fe=Zt.length;if(ye!=Fe&&!Kt)return!1;for(var Ve=ye;Ve--;){var Ee=Mt[Ve];if(!(Kt?Ee in _:re.call(_,Ee)))return!1}var He=At.get(c);if(He&&At.get(_))return He==_;var Re=!0;At.set(c,_),At.set(_,c);for(var vn=Kt;++Ve<ye;){Ee=Mt[Ve];var Rr=c[Ee],Sn=_[Ee];if(V)var da=Kt?V(Sn,Rr,Ee,_,c,At):V(Rr,Sn,Ee,c,_,At);if(!(da===void 0?Rr===Sn||Ct(Rr,Sn,O,V,At):da)){Re=!1;break}vn||(vn=Ee=="constructor")}if(Re&&!vn){var Is=c.constructor,Ds=_.constructor;Is!=Ds&&"constructor"in c&&"constructor"in _&&!(typeof Is=="function"&&Is instanceof Is&&typeof Ds=="function"&&Ds instanceof Ds)&&(Re=!1)}return At.delete(c),At.delete(_),Re}function yt(c){return pn(c,ds,mi)}function nr(c,_){var O=c.__data__;return gi(_)?O[typeof _=="string"?"string":"hash"]:O.map}function Cr(c,_){var O=Yt(c,_);return is(O)?O:void 0}function qr(c){var _=re.call(c,ae),O=c[ae];try{c[ae]=void 0;var V=!0}catch{}var Ct=ge.call(c);return V&&(_?c[ae]=O:delete c[ae]),Ct}var mi=Se?function(c){return c==null?[]:(c=Object(c),Rt(Se(c),function(_){return Ne.call(c,_)}))}:wi,or=br;(Le&&or(new Le(new ArrayBuffer(1)))!=C||Ce&&or(new Ce)!=b||qe&&or(qe.resolve())!=k||je&&or(new je)!=R||Tt&&or(new Tt)!=K)&&(or=function(c){var _=br(c),O=_==T?c.constructor:void 0,V=O?Ue(O):"";if(V)switch(V){case ot:return C;case ft:return b;case Lt:return k;case zt:return R;case Yr:return K}return _});function $s(c,_){return _=_??a,!!_&&(typeof c=="number"||at.test(c))&&c>-1&&c%1==0&&c<_}function gi(c){var _=typeof c;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?c!=="__proto__":c===null}function bi(c){return!!Te&&Te in c}function _i(c){var _=c&&c.constructor,O=typeof _=="function"&&_.prototype||ie;return c===O}function os(c){return ge.call(c)}function Ue(c){if(c!=null){try{return he.call(c)}catch{}try{return c+""}catch{}}return""}function Os(c,_){return c===_||c!==c&&_!==_}var Ls=An(function(){return arguments}())?An:function(c){return cr(c)&&re.call(c,"callee")&&!Ne.call(c,"callee")},Mn=Array.isArray;function jn(c){return c!=null&&cs(c.length)&&!Cs(c)}var kn=$e||Rs;function yi(c,_){return Dn(c,_)}function Cs(c){if(!us(c))return!1;var _=br(c);return _==m||_==y||_==d||_==S}function cs(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=a}function us(c){var _=typeof c;return c!=null&&(_=="object"||_=="function")}function cr(c){return c!=null&&typeof c=="object"}var qs=Nt?se(Nt):Bn;function ds(c){return jn(c)?kt(c):Tn(c)}function wi(){return[]}function Rs(){return!1}r.exports=yi}(ki,ki.exports)),ki.exports}var ga={},Fc;function w_(){if(Fc)return ga;Fc=1,Object.defineProperty(ga,"__esModule",{value:!0});const r=jd(),t=Ud();var e;return function(n){function s(u={},d={},p=!1){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});let g=r(d);p||(g=Object.keys(g).reduce((f,m)=>(g[m]!=null&&(f[m]=g[m]),f),{}));for(const f in u)u[f]!==void 0&&d[f]===void 0&&(g[f]=u[f]);return Object.keys(g).length>0?g:void 0}n.compose=s;function i(u={},d={}){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});const p=Object.keys(u).concat(Object.keys(d)).reduce((g,f)=>(t(u[f],d[f])||(g[f]=d[f]===void 0?null:d[f]),g),{});return Object.keys(p).length>0?p:void 0}n.diff=i;function a(u={},d={}){u=u||{};const p=Object.keys(d).reduce((g,f)=>(d[f]!==u[f]&&u[f]!==void 0&&(g[f]=d[f]),g),{});return Object.keys(u).reduce((g,f)=>(u[f]!==d[f]&&d[f]===void 0&&(g[f]=null),g),p)}n.invert=a;function o(u,d,p=!1){if(typeof u!="object")return d;if(typeof d!="object")return;if(!p)return d;const g=Object.keys(d).reduce((f,m)=>(u[m]===void 0&&(f[m]=d[m]),f),{});return Object.keys(g).length>0?g:void 0}n.transform=o}(e||(e={})),ga.default=e,ga}var ba={},Hc;function Fd(){if(Hc)return ba;Hc=1,Object.defineProperty(ba,"__esModule",{value:!0});var r;return function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e}(r||(r={})),ba.default=r,ba}var _a={},zc;function x_(){if(zc)return _a;zc=1,Object.defineProperty(_a,"__esModule",{value:!0});const r=Fd();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const s=this.ops[this.index];if(s){const i=this.offset,a=r.default.length(s);if(n>=a-i?(n=a-i,this.index+=1,this.offset=0):this.offset+=n,typeof s.delete=="number")return{delete:n};{const o={};return s.attributes&&(o.attributes=s.attributes),typeof s.retain=="number"?o.retain=n:typeof s.retain=="object"&&s.retain!==null?o.retain=s.retain:typeof s.insert=="string"?o.insert=s.insert.substr(i,n):o.insert=s.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,s=this.index,i=this.next(),a=this.ops.slice(this.index);return this.offset=n,this.index=s,[i].concat(a)}}else return[]}}return _a.default=t,_a}var Kc;function E_(){return Kc||(Kc=1,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=y_(),n=jd(),s=Ud(),i=w_();t.AttributeMap=i.default;const a=Fd();t.Op=a.default;const o=x_();t.OpIterator=o.default;const u="\0",d=(g,f)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(f)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(f)[0]}`);return[m,g[m],f[m]]};class p{constructor(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}static registerEmbed(f,m){this.handlers[f]=m}static unregisterEmbed(f){delete this.handlers[f]}static getHandler(f){const m=this.handlers[f];if(!m)throw new Error(`no handlers for embed type "${f}"`);return m}insert(f,m){const y={};return typeof f=="string"&&f.length===0?this:(y.insert=f,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y))}delete(f){return f<=0?this:this.push({delete:f})}retain(f,m){if(typeof f=="number"&&f<=0)return this;const y={retain:f};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y)}push(f){let m=this.ops.length,y=this.ops[m-1];if(f=n(f),typeof y=="object"){if(typeof f.delete=="number"&&typeof y.delete=="number")return this.ops[m-1]={delete:y.delete+f.delete},this;if(typeof y.delete=="number"&&f.insert!=null&&(m-=1,y=this.ops[m-1],typeof y!="object"))return this.ops.unshift(f),this;if(s(f.attributes,y.attributes)){if(typeof f.insert=="string"&&typeof y.insert=="string")return this.ops[m-1]={insert:y.insert+f.insert},typeof f.attributes=="object"&&(this.ops[m-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof y.retain=="number")return this.ops[m-1]={retain:y.retain+f.retain},typeof f.attributes=="object"&&(this.ops[m-1].attributes=f.attributes),this}}return m===this.ops.length?this.ops.push(f):this.ops.splice(m,0,f),this}chop(){const f=this.ops[this.ops.length-1];return f&&typeof f.retain=="number"&&!f.attributes&&this.ops.pop(),this}filter(f){return this.ops.filter(f)}forEach(f){this.ops.forEach(f)}map(f){return this.ops.map(f)}partition(f){const m=[],y=[];return this.forEach(b=>{(f(b)?m:y).push(b)}),[m,y]}reduce(f,m){return this.ops.reduce(f,m)}changeLength(){return this.reduce((f,m)=>m.insert?f+a.default.length(m):m.delete?f-m.delete:f,0)}length(){return this.reduce((f,m)=>f+a.default.length(m),0)}slice(f=0,m=1/0){const y=[],b=new o.default(this.ops);let w=0;for(;w<m&&b.hasNext();){let x;w<f?x=b.next(f-w):(x=b.next(m-w),y.push(x)),w+=a.default.length(x)}return new p(y)}compose(f){const m=new o.default(this.ops),y=new o.default(f.ops),b=[],w=y.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let T=w.retain;for(;m.peekType()==="insert"&&m.peekLength()<=T;)T-=m.peekLength(),b.push(m.next());w.retain-T>0&&y.next(w.retain-T)}const x=new p(b);for(;m.hasNext()||y.hasNext();)if(y.peekType()==="insert")x.push(y.next());else if(m.peekType()==="delete")x.push(m.next());else{const T=Math.min(m.peekLength(),y.peekLength()),k=m.next(T),S=y.next(T);if(S.retain){const $={};if(typeof k.retain=="number")$.retain=typeof S.retain=="number"?T:S.retain;else if(typeof S.retain=="number")k.retain==null?$.insert=k.insert:$.retain=k.retain;else{const F=k.retain==null?"insert":"retain",[j,I,K]=d(k[F],S.retain),E=p.getHandler(j);$[F]={[j]:E.compose(I,K,F==="retain")}}const R=i.default.compose(k.attributes,S.attributes,typeof k.retain=="number");if(R&&($.attributes=R),x.push($),!y.hasNext()&&s(x.ops[x.ops.length-1],$)){const F=new p(m.rest());return x.concat(F).chop()}}else typeof S.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&x.push(S)}return x.chop()}concat(f){const m=new p(this.ops.slice());return f.ops.length>0&&(m.push(f.ops[0]),m.ops=m.ops.concat(f.ops.slice(1))),m}diff(f,m){if(this.ops===f.ops)return new p;const y=[this,f].map(k=>k.map(S=>{if(S.insert!=null)return typeof S.insert=="string"?S.insert:u;const $=k===f?"on":"with";throw new Error("diff() called "+$+" non-document")}).join("")),b=new p,w=e(y[0],y[1],m,!0),x=new o.default(this.ops),T=new o.default(f.ops);return w.forEach(k=>{let S=k[1].length;for(;S>0;){let $=0;switch(k[0]){case e.INSERT:$=Math.min(T.peekLength(),S),b.push(T.next($));break;case e.DELETE:$=Math.min(S,x.peekLength()),x.next($),b.delete($);break;case e.EQUAL:$=Math.min(x.peekLength(),T.peekLength(),S);const R=x.next($),F=T.next($);s(R.insert,F.insert)?b.retain($,i.default.diff(R.attributes,F.attributes)):b.push(F).delete($);break}S-=$}}),b.chop()}eachLine(f,m=`
`){const y=new o.default(this.ops);let b=new p,w=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const x=y.peek(),T=a.default.length(x)-y.peekLength(),k=typeof x.insert=="string"?x.insert.indexOf(m,T)-T:-1;if(k<0)b.push(y.next());else if(k>0)b.push(y.next(k));else{if(f(b,y.next(1).attributes||{},w)===!1)return;w+=1,b=new p}}b.length()>0&&f(b,{},w)}invert(f){const m=new p;return this.reduce((y,b)=>{if(b.insert)m.delete(a.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return m.retain(b.retain),y+b.retain;if(b.delete||typeof b.retain=="number"){const w=b.delete||b.retain;return f.slice(y,y+w).forEach(T=>{b.delete?m.push(T):b.retain&&b.attributes&&m.retain(a.default.length(T),i.default.invert(b.attributes,T.attributes))}),y+w}else if(typeof b.retain=="object"&&b.retain!==null){const w=f.slice(y,y+1),x=new o.default(w.ops).next(),[T,k,S]=d(b.retain,x.insert),$=p.getHandler(T);return m.retain({[T]:$.invert(k,S)},i.default.invert(b.attributes,x.attributes)),y+1}}return y},0),m.chop()}transform(f,m=!1){if(m=!!m,typeof f=="number")return this.transformPosition(f,m);const y=f,b=new o.default(this.ops),w=new o.default(y.ops),x=new p;for(;b.hasNext()||w.hasNext();)if(b.peekType()==="insert"&&(m||w.peekType()!=="insert"))x.retain(a.default.length(b.next()));else if(w.peekType()==="insert")x.push(w.next());else{const T=Math.min(b.peekLength(),w.peekLength()),k=b.next(T),S=w.next(T);if(k.delete)continue;if(S.delete)x.push(S);else{const $=k.retain,R=S.retain;let F=typeof R=="object"&&R!==null?R:T;if(typeof $=="object"&&$!==null&&typeof R=="object"&&R!==null){const j=Object.keys($)[0];if(j===Object.keys(R)[0]){const I=p.getHandler(j);I&&(F={[j]:I.transform($[j],R[j],m)})}}x.retain(F,i.default.transform(k.attributes,S.attributes,m))}}return x.chop()}transformPosition(f,m=!1){m=!!m;const y=new o.default(this.ops);let b=0;for(;y.hasNext()&&b<=f;){const w=y.peekLength(),x=y.peekType();if(y.next(),x==="delete"){f-=Math.min(w,f-b);continue}else x==="insert"&&(b<f||!m)&&(f+=w);b+=w}return f}}p.Op=a.default,p.OpIterator=o.default,p.AttributeMap=i.default,p.handlers={},t.default=p,r.exports=p,r.exports.default=p}(ma,ma.exports)),ma.exports}var Er=E_();const xt=Md(Er);class Wr extends vr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Wr.blotName="break";Wr.tagName="BR";let zr=class extends Ua{};const A_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tl(r){return r.replace(/[&<>"']/g,t=>A_[t])}const mn=class mn extends $o{static compare(t,e){const n=mn.order.indexOf(t),s=mn.order.indexOf(e);return n>=0||s>=0?n-s:t===e?0:t<e?-1:1}formatAt(t,e,n,s){if(mn.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Et.BLOT)){const i=this.isolate(t,e);s&&i.wrap(n,s)}else super.formatAt(t,e,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof mn&&mn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};pt(mn,"allowedChildren",[mn,Wr,vr,zr]),pt(mn,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let xn=mn;const Gc=1;class We extends Gi{constructor(){super(...arguments);pt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Hd(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,i){n<=0||(this.scroll.query(s,Et.BLOCK)?e+n===this.length()&&this.format(s,i):super.formatAt(e,Math.min(n,this.length()-e-1),s,i),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),a=i.shift();a.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let o=this;i.reduce((u,d)=>(o=o.split(u,!0),o.insertAt(0,d),d.length),e+a.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof Wr&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Gc),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-Gc)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(e,n);return this.cache={},s}}We.blotName="block";We.tagName="P";We.defaultChild=Wr;We.allowedChildren=[Wr,xn,vr,zr];class xr extends vr{attach(){super.attach(),this.attributes=new Xa(this.domNode)}delta(){return new xt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,Et.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,s){this.format(n,s)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const s=e.split(`
`),i=s.pop(),a=s.map(u=>{const d=this.scroll.create(We.blotName);return d.insertAt(0,u),d}),o=this.split(t);a.forEach(u=>{this.parent.insertBefore(u,o)}),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}}xr.scope=Et.BLOCK_BLOT;function Hd(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(Je).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),yr(n,{},t)),new xt).insert(`
`,yr(r))}function yr(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:yr(r.parent,t,e)}const _r=class _r extends vr{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(_r.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==Et.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=_r.CONTENTS.length,n.optimize(),n.formatAt(s,_r.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof zr?this.prev:null,n=e?e.length():0,s=this.next instanceof zr?this.next:null,i=s?s.text:"",{textNode:a}=this,o=a.data.split(_r.CONTENTS).join("");a.data=_r.CONTENTS;let u;if(e)u=e,(o||s)&&(e.insertAt(e.length(),o+i),s&&s.remove());else if(s)u=s,s.insertAt(0,o);else{const d=document.createTextNode(o);u=this.scroll.create(d),this.parent.insertBefore(u,this)}if(this.remove(),t){const d=(f,m)=>e&&f===e.domNode?m:f===a?n+m-1:s&&f===s.domNode?n+o.length+m:null,p=d(t.start.node,t.start.offset),g=d(t.end.node,t.end.offset);if(p!==null&&g!==null)return{startNode:u.domNode,startOffset:p,endNode:u.domNode,endOffset:g}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=_r.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};pt(_r,"blotName","cursor"),pt(_r,"className","ql-cursor"),pt(_r,"tagName","span"),pt(_r,"CONTENTS","\uFEFF");let ai=_r;var gl={exports:{}},Vc;function T_(){return Vc||(Vc=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function i(u,d,p,g,f){if(typeof p!="function")throw new TypeError("The listener must be a function");var m=new s(p,g||u,f),y=e?e+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],m]:u._events[y].push(m):(u._events[y]=m,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)t.call(p,g)&&d.push(e?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},o.prototype.listeners=function(d){var p=e?e+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var f=0,m=g.length,y=new Array(m);f<m;f++)y[f]=g[f].fn;return y},o.prototype.listenerCount=function(d){var p=e?e+d:d,g=this._events[p];return g?g.fn?1:g.length:0},o.prototype.emit=function(d,p,g,f,m,y){var b=e?e+d:d;if(!this._events[b])return!1;var w=this._events[b],x=arguments.length,T,k;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,g),!0;case 4:return w.fn.call(w.context,p,g,f),!0;case 5:return w.fn.call(w.context,p,g,f,m),!0;case 6:return w.fn.call(w.context,p,g,f,m,y),!0}for(k=1,T=new Array(x-1);k<x;k++)T[k-1]=arguments[k];w.fn.apply(w.context,T)}else{var S=w.length,$;for(k=0;k<S;k++)switch(w[k].once&&this.removeListener(d,w[k].fn,void 0,!0),x){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,p);break;case 3:w[k].fn.call(w[k].context,p,g);break;case 4:w[k].fn.call(w[k].context,p,g,f);break;default:if(!T)for($=1,T=new Array(x-1);$<x;$++)T[$-1]=arguments[$];w[k].fn.apply(w[k].context,T)}}return!0},o.prototype.on=function(d,p,g){return i(this,d,p,g,!1)},o.prototype.once=function(d,p,g){return i(this,d,p,g,!0)},o.prototype.removeListener=function(d,p,g,f){var m=e?e+d:d;if(!this._events[m])return this;if(!p)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===p&&(!f||y.once)&&(!g||y.context===g)&&a(this,m);else{for(var b=0,w=[],x=y.length;b<x;b++)(y[b].fn!==p||f&&!y[b].once||g&&y[b].context!==g)&&w.push(y[b]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},o.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&a(this,p)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,r.exports=o}(gl)),gl.exports}var N_=T_();const k_=Md(N_),Zl=new WeakMap,Yl=["error","warn","log","info"];let Jl="warn";function zd(r){if(Jl&&Yl.indexOf(r)<=Yl.indexOf(Jl)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function In(r){return Yl.reduce((t,e)=>(t[e]=zd.bind(console,e,r),t),{})}In.level=r=>{Jl=r};zd.level=In.level;const bl=In("quill:events"),S_=["selectionchange","mousedown","mouseup","click"];S_.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=Zl.get(s);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class bt extends k_{constructor(){super(),this.domListeners={},this.on("error",bl.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return bl.log.call(bl,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(i=>{let{node:a,handler:o}=i;(t.target===a||a.contains(t.target))&&o(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}pt(bt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),pt(bt,"sources",{API:"api",SILENT:"silent",USER:"user"});const _l=In("quill:selection");class ys{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class $_{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ys(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,bt.sources.USER),1)}),this.emitter.on(bt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(bt.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const a=i.some(o=>o.type==="characterData"||o.type==="childList"||o.type==="attributes"&&o.target===this.root);this.update(a?bt.sources.SILENT:s)}catch{}})}),this.emitter.on(bt.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:i,startOffset:a,endNode:o,endOffset:u}=s.range;this.setNativeRange(i,a,o,u),this.update(bt.sources.SILENT)}}),this.update(bt.sources.SILENT)}handleComposition(){this.emitter.on(bt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(bt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(bt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Et.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof Je){const i=s.split(n.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let s,[i,a]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&a===i.length()){const[p]=this.scroll.leaf(t+1);if(p){const[g]=this.scroll.line(t),[f]=this.scroll.line(t+1);g===f&&(i=p,a=0)}}[s,a]=i.position(a,!0);const o=document.createRange();if(e>0)return o.setStart(s,a),[i,a]=this.scroll.leaf(t+e),i==null?null:([s,a]=i.position(a,!0),o.setEnd(s,a),o.getBoundingClientRect());let u="left",d;if(s instanceof Text){if(!s.data.length)return null;a<s.data.length?(o.setStart(s,a),o.setEnd(s,a+1)):(o.setStart(s,a-1),o.setEnd(s,a),u="right"),d=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;d=i.domNode.getBoundingClientRect(),a>0&&(u="right")}return{bottom:d.top+d.height,height:d.height,left:d[u],right:d[u],top:d.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return _l.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&yl(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(a=>{const[o,u]=a,d=this.scroll.find(o,!0),p=d.offset(this.scroll);return u===0?p:d instanceof Je?p+d.index(o,u):p+d.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(s,...n);return new ys(i,s-i)}normalizeNative(t){if(!yl(this.root,t.startContainer)||!t.collapsed&&!yl(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:s,offset:i}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;n.node=s,n.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),n=(s,i)=>{s=Math.min(e-1,s);const[a,o]=this.scroll.leaf(s);return a?a.position(o,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_l.info("setNativeRange",t,e,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const a=document.getSelection();if(a!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(o==null||i||t!==o.startContainer||e!==o.startOffset||n!==o.endContainer||s!==o.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const u=document.createRange();u.setStart(t,e),u.setEnd(n,s),a.removeAllRanges(),a.addRange(u)}}else a.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bt.sources.API;if(typeof e=="string"&&(n=e,e=!1),_l.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bt.sources.USER;const e=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!So(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const i=[bt.events.SELECTION_CHANGE,Qs(this.lastRange),Qs(e),t];this.emitter.emit(bt.events.EDITOR_CHANGE,...i),t!==bt.sources.SILENT&&this.emitter.emit(...i)}}}function yl(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const O_=/^[ -~]*$/;class L_{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=Wc(t),s=new xt;return q_(n.ops.slice()).reduce((a,o)=>{const u=Er.Op.length(o);let d=o.attributes||{},p=!1,g=!1;if(o.insert!=null){if(s.retain(u),typeof o.insert=="string"){const y=o.insert;g=!y.endsWith(`
`)&&(e<=a||!!this.scroll.descendant(xr,a)[0]),this.scroll.insertAt(a,y);const[b,w]=this.scroll.line(a);let x=Qn({},yr(b));if(b instanceof We){const[T]=b.descendant(Je,w);T&&(x=Qn(x,yr(T)))}d=Er.AttributeMap.diff(x,d)||{}}else if(typeof o.insert=="object"){const y=Object.keys(o.insert)[0];if(y==null)return a;const b=this.scroll.query(y,Et.INLINE)!=null;if(b)(e<=a||this.scroll.descendant(xr,a)[0])&&(g=!0);else if(a>0){const[w,x]=this.scroll.descendant(Je,a-1);w instanceof zr?w.value()[x]!==`
`&&(p=!0):w instanceof vr&&w.statics.scope===Et.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(a,y,o.insert[y]),b){const[w]=this.scroll.descendant(Je,a);if(w){const x=Qn({},yr(w));d=Er.AttributeMap.diff(x,d)||{}}}}e+=u}else if(s.push(o),o.retain!==null&&typeof o.retain=="object"){const y=Object.keys(o.retain)[0];if(y==null)return a;this.scroll.updateEmbedAt(a,y,o.retain[y])}Object.keys(d).forEach(y=>{this.scroll.formatAt(a,u,y,d[y])});const f=p?1:0,m=g?1:0;return e+=f+m,s.retain(f),s.delete(m),a+u+f+m},0),s.reduce((a,o)=>typeof o.delete=="number"?(this.scroll.deleteAt(a,o.delete),a):a+Er.Op.length(o),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new xt().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(a=>{a.format(i,n[i])})}),this.scroll.optimize();const s=new xt().retain(t).retain(e,Qs(n));return this.update(s)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,e,i,n[i])});const s=new xt().retain(t).retain(e,Qs(n));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new xt)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];e===0?this.scroll.path(t).forEach(o=>{const[u]=o;u instanceof We?n.push(u):u instanceof Je&&s.push(u)}):(n=this.scroll.lines(t,e),s=this.scroll.descendants(Je,t,e));const[i,a]=[n,s].map(o=>{const u=o.shift();if(u==null)return{};let d=yr(u);for(;Object.keys(d).length>0;){const p=o.shift();if(p==null)return d;d=C_(yr(p),d)}return d});return{...i,...a}}getHTML(t,e){const[n,s]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=s+e&&!(s===0&&e===i)?Vi(n,s,e,!0):Vi(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=Wc(e),s=new xt().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new xt().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e.length,s,n[s])}),this.update(new xt().retain(t).insert(e,Qs(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==We.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Wr}removeFormat(t,e){const n=this.getText(t,e),[s,i]=this.scroll.line(t+e);let a=0,o=new xt;s!=null&&(a=s.length()-i,o=s.delta().slice(i,i+a-1).insert(`
`));const d=this.getContents(t,e+a).diff(new xt().insert(n).concat(o)),p=new xt().retain(t).concat(d);return this.applyDelta(p)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(O_)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),a=yr(i),o=i.offset(this.scroll),u=e[0].oldValue.replace(ai.CONTENTS,""),d=new xt().insert(u),p=new xt().insert(i.value()),g=n&&{oldRange:Zc(n.oldRange,-o),newRange:Zc(n.newRange,-o)};t=new xt().retain(o).concat(d.diff(p,g)).reduce((m,y)=>y.insert?m.insert(y.insert,a):m.push(y),new xt),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!So(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function Ks(r,t,e){if(r.length===0){const[m]=wl(e.pop());return t<=0?`</li></${m}>`:`</li></${m}>${Ks([],t-1,e)}`}const[{child:n,offset:s,length:i,indent:a,type:o},...u]=r,[d,p]=wl(o);if(a>t)return e.push(o),a===t+1?`<${d}><li${p}>${Vi(n,s,i)}${Ks(u,a,e)}`:`<${d}><li>${Ks(r,t+1,e)}`;const g=e[e.length-1];if(a===t&&o===g)return`</li><li${p}>${Vi(n,s,i)}${Ks(u,a,e)}`;const[f]=wl(e.pop());return`</li></${f}>${Ks(r,t-1,e)}`}function Vi(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof zr)return tl(r.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(r instanceof Fr){if(r.statics.blotName==="list-container"){const d=[];return r.children.forEachAt(t,e,(p,g,f)=>{const m="formats"in p&&typeof p.formats=="function"?p.formats():{};d.push({child:p,offset:g,length:f,indent:m.indent||0,type:m.list})}),Ks(d,-1,[])}const s=[];if(r.children.forEachAt(t,e,(d,p,g)=>{s.push(Vi(d,p,g))}),n||r.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:a}=r.domNode,[o,u]=i.split(`>${a}<`);return o==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${u}`:`${o}>${s.join("")}<${u}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function C_(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const s=t[n];return s===r[n]?e[n]=s:Array.isArray(s)?s.indexOf(r[n])<0?e[n]=s.concat([r[n]]):e[n]=s:e[n]=[s,r[n]],e},{})}function wl(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Wc(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new xt)}function Zc(r,t){let{index:e,length:n}=r;return new ys(e+t,n)}function q_(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class Zr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}pt(Zr,"DEFAULTS",{});const ya="\uFEFF";class Lo extends vr{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(ya),this.rightGuard=document.createTextNode(ya),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const s=t.data.split(ya).join("");if(t===this.leftGuard)if(this.prev instanceof zr){const i=this.prev.length();this.prev.insertAt(i,s),e={startNode:this.prev.domNode,startOffset:i+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof zr?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:s.length}));return t.data=ya,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(e.range=s)}})}}class R_{constructor(t,e){pt(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Lo)&&(this.emitter.emit(bt.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(bt.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(bt.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(bt.events.COMPOSITION_END,t),this.isComposing=!1}}const Ci=class Ci{constructor(t,e){pt(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};pt(Ci,"DEFAULTS",{modules:{}}),pt(Ci,"themes",{default:Ci});let li=Ci;const I_=r=>r.parentElement||r.getRootNode().host||null,D_=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},wa=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},Yc=(r,t,e,n,s,i)=>r<e&&t>n?0:r<e?-(e-r+s):t>n?t-r>n-e?r+s-e:t-n+i:0,P_=(r,t)=>{var i,a,o;const e=r.ownerDocument;let n=t,s=r;for(;s;){const u=s===e.body,d=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??e.documentElement.clientHeight,left:0}:D_(s),p=getComputedStyle(s),g=Yc(n.left,n.right,d.left,d.right,wa(p.scrollPaddingLeft),wa(p.scrollPaddingRight)),f=Yc(n.top,n.bottom,d.top,d.bottom,wa(p.scrollPaddingTop),wa(p.scrollPaddingBottom));if(g||f)if(u)(o=e.defaultView)==null||o.scrollBy(g,f);else{const{scrollLeft:m,scrollTop:y}=s;f&&(s.scrollTop+=f),g&&(s.scrollLeft+=g);const b=s.scrollLeft-m,w=s.scrollTop-y;n={left:n.left-b,top:n.top-w,right:n.right-b,bottom:n.bottom-w}}s=u||p.position==="fixed"?null:I_(s)}},B_=100,M_=["block","break","cursor","inline","scroll","text"],j_=(r,t,e)=>{const n=new ii;return M_.forEach(s=>{const i=t.query(s);i&&n.register(i)}),r.forEach(s=>{let i=t.query(s);i||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,a+=1,a>B_){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},ei=In("quill"),xa=new ii;Fr.uiClass="ql-ui";const Br=class Br{static debug(t){t===!0&&(t="log"),In.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Zl.get(t)||xa.find(t,e)}static import(t){return this.imports[t]==null&&ei.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&ei.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&xa.register(e),typeof e.register=="function"&&e.register(xa)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=U_(t,e),this.container=this.options.container,this.container==null){ei.error("Invalid Quill container",t);return}this.options.debug&&Br.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Zl.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new bt;const s=Oo.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new L_(this.scroll),this.selection=new $_(this.scroll,this.emitter),this.composition=new R_(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(bt.events.EDITOR_CHANGE,a=>{a===bt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(bt.events.SCROLL_UPDATE,(a,o)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),p=u&&d?{oldRange:u,newRange:d}:void 0;Pr.call(this,()=>this.editor.update(null,o,p),a)}),this.emitter.on(bt.events.SCROLL_EMBED_UPDATE,(a,o)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),p=u&&d?{oldRange:u,newRange:d}:void 0;Pr.call(this,()=>{const g=new xt().retain(a.offset(this)).retain({[a.statics.blotName]:o});return this.editor.update(g,[],p)},Br.sources.USER)}),n){const a=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=$n(t,e,n),Pr.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bt.sources.API;return Pr.call(this,()=>{const s=this.getSelection(!0);let i=new xt;if(s==null)return i;if(this.scroll.query(t,Et.BLOCK))i=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,bt.sources.SILENT),i},n)}formatLine(t,e,n,s,i){let a;return[t,e,a,i]=$n(t,e,n,s,i),Pr.call(this,()=>this.editor.formatLine(t,e,a),i,t,0)}formatText(t,e,n,s,i){let a;return[t,e,a,i]=$n(t,e,n,s,i),Pr.call(this,()=>this.editor.formatText(t,e,a),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=$n(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=$n(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=$n(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Br.sources.API;return Pr.call(this,()=>this.editor.insertEmbed(t,e,n),s,t)}insertText(t,e,n,s,i){let a;return[t,,a,i]=$n(t,0,n,s,i),Pr.call(this,()=>this.editor.insertText(t,e,a),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=$n(t,e,n),Pr.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){P_(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt.sources.API;return Pr.call(this,()=>{t=new xt(t);const n=this.getLength(),s=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),a=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(a)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||Br.sources.API):([t,e,,n]=$n(t,e,n),this.selection.setRange(new ys(Math.max(0,t),e),n),n!==bt.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt.sources.API;const n=new xt().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bt.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt.sources.API;return Pr.call(this,()=>(t=new xt(t),this.editor.applyDelta(t)),e,!0)}};pt(Br,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:xa,theme:"default"}),pt(Br,"events",bt.events),pt(Br,"sources",bt.sources),pt(Br,"version","2.0.3"),pt(Br,"imports",{delta:xt,parchment:__,"core/module":Zr,"core/theme":li});let Y=Br;function Jc(r){return typeof r=="string"?document.querySelector(r):r}function xl(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,s]=e;return{...t,[n]:s===!0?{}:s}},{})}function Xc(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function U_(r,t){const e=Jc(r);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===Y.DEFAULTS.theme?li:Y.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...a}=Y.DEFAULTS,{modules:o,...u}=s.DEFAULTS;let d=xl(t.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const p=Qn({},xl(i),xl(o),d),g={...a,...Xc(u),...Xc(t)};let f=t.registry;return f?t.formats&&ei.warn('Ignoring "formats" option because "registry" is specified'):f=t.formats?j_(t.formats,g.registry,ei):g.registry,{...g,registry:f,container:e,theme:s,modules:Object.entries(p).reduce((m,y)=>{let[b,w]=y;if(!w)return m;const x=Y.import(`modules/${b}`);return x==null?(ei.error(`Cannot load ${b} module. Are you sure you registered it?`),m):{...m,[b]:Qn({},x.DEFAULTS||{},w)}},{}),bounds:Jc(g.bounds)}}function Pr(r,t,e,n){if(!this.isEnabled()&&t===bt.sources.USER&&!this.allowReadOnlyEdits)return new xt;let s=e==null?null:this.getSelection();const i=this.editor.delta,a=r();if(s!=null&&(e===!0&&(e=s.index),n==null?s=Qc(s,a,t):n!==0&&(s=Qc(s,e,n,t)),this.setSelection(s,bt.sources.SILENT)),a.length()>0){const o=[bt.events.TEXT_CHANGE,a,i,t];this.emitter.emit(bt.events.EDITOR_CHANGE,...o),t!==bt.sources.SILENT&&this.emitter.emit(...o)}return a}function $n(r,t,e,n,s){let i={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(s=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(s=n,n=e,e=t,t=0),typeof e=="object"?(i=e,s=n):typeof e=="string"&&(n!=null?i[e]=n:s=e),s=s||bt.sources.API,[r,t,i,s]}function Qc(r,t,e,n){const s=typeof e=="number"?e:0;if(r==null)return null;let i,a;return t&&typeof t.transformPosition=="function"?[i,a]=[r.index,r.index+r.length].map(o=>t.transformPosition(o,n!==bt.sources.USER)):[i,a]=[r.index,r.index+r.length].map(o=>o<t||o===t&&n===bt.sources.USER?o:s>=0?o+s:Math.max(t,o+s)),new ys(i,a-i)}class Ns extends Qa{}function tu(r){return r instanceof We||r instanceof xr}function eu(r){return typeof r.updateContent=="function"}class Gs extends Oo{constructor(t,e,n){let{emitter:s}=n;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(bt.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(bt.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(bt.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,s]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&n!==i&&s>0){if(n instanceof xr||i instanceof xr){this.optimize();return}const a=i.children.head instanceof Wr?null:i.children.head;n.moveChildren(i,a),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,Et.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),n):s.insertAt(0,e,n)}else{const s=this.scroll.create(e,n);this.appendChild(s)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===Et.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new xt().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const i=n.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(xr,t)[0]&&t<this.length()),d=i.type==="block"?i.delta:new xt().insert({[i.key]:i.value});El(this,t,d);const p=i.type==="block"?1:0,g=t+d.length()+p;u&&this.insertAt(g-1,`
`);const f=yr(this.line(t)[0]),m=Er.AttributeMap.diff(f,i.attributes)||{};Object.keys(m).forEach(y=>{this.formatAt(g-1,1,y,m[y])}),t=g}let[a,o]=this.children.find(t);if(n.length&&(a&&(a=a.split(o),o=0),n.forEach(u=>{if(u.type==="block"){const d=this.createBlock(u.attributes,a||void 0);El(d,0,u.delta)}else{const d=this.create(u.key,u.value);this.insertBefore(d,a||void 0),Object.keys(u.attributes).forEach(p=>{d.format(p,u.attributes[p])})}})),s.type==="block"&&s.delta.length()){const u=a?a.offset(a.scroll)+o:this.length();El(this,u,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,s]=e;return n instanceof Je?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(tu,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,i,a)=>{let o=[],u=a;return s.children.forEachAt(i,a,(d,p,g)=>{tu(d)?o.push(d):d instanceof Qa&&(o=o.concat(n(d,p,u))),u-=g}),o};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(bt.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=bt.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const i=this.find(s,!0);return i&&!eu(i)}),t.length>0&&this.emitter.emit(bt.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(bt.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[s]=this.descendant(i=>i instanceof xr,t);s&&s.statics.blotName===e&&eu(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new xt;return t.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const a=i.split(`
`);a.slice(0,-1).forEach(u=>{n.insert(u,s.attributes),e.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new xt});const o=a[a.length-1];o&&n.insert(o,s.attributes)}else{const a=Object.keys(i)[0];if(!a)return;this.query(a,Et.INLINE)?n.push(s):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new xt,e.push({type:"blockEmbed",key:a,value:i[a],attributes:s.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const s={};Object.entries(t).forEach(o=>{let[u,d]=o;this.query(u,Et.BLOCK&Et.BLOT)!=null?n=u:s[u]=d});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,e||void 0);const a=i.length();return Object.entries(s).forEach(o=>{let[u,d]=o;i.formatAt(0,a,u,d)}),i}}pt(Gs,"blotName","scroll"),pt(Gs,"className","ql-editor"),pt(Gs,"tagName","DIV"),pt(Gs,"defaultChild",We),pt(Gs,"allowedChildren",[We,xr,Ns]);function El(r,t,e){e.reduce((n,s)=>{const i=Er.Op.length(s);let a=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const o=s.insert;r.insertAt(n,o);const[u]=r.descendant(Je,n),d=yr(u);a=Er.AttributeMap.diff(d,a)||{}}else if(typeof s.insert=="object"){const o=Object.keys(s.insert)[0];if(o==null)return n;if(r.insertAt(n,o,s.insert[o]),r.scroll.query(o,Et.INLINE)!=null){const[d]=r.descendant(Je,n),p=yr(d);a=Er.AttributeMap.diff(p,a)||{}}}}return Object.keys(a).forEach(o=>{r.formatAt(n,i,o,a[o])}),n+i},t)}const Co={scope:Et.BLOCK,whitelist:["right","center","justify"]},F_=new wn("align","align",Co),Kd=new Vr("align","ql-align",Co),Gd=new ss("align","text-align",Co);class Vd extends ss{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const H_=new Vr("color","ql-color",{scope:Et.INLINE}),qo=new Vd("color","color",{scope:Et.INLINE}),z_=new Vr("background","ql-bg",{scope:Et.INLINE}),Ro=new Vd("background","background-color",{scope:Et.INLINE});class ks extends Ns{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${tl(this.code(t,e))}
</pre>`}}class Xe extends We{static register(){Y.register(ks)}}pt(Xe,"TAB","  ");class Io extends xn{}Io.blotName="code";Io.tagName="CODE";Xe.blotName="code-block";Xe.className="ql-code-block";Xe.tagName="DIV";ks.blotName="code-block-container";ks.className="ql-code-block-container";ks.tagName="DIV";ks.allowedChildren=[Xe];Xe.allowedChildren=[zr,Wr,ai];Xe.requiredContainer=ks;const Do={scope:Et.BLOCK,whitelist:["rtl"]},Wd=new wn("direction","dir",Do),Zd=new Vr("direction","ql-direction",Do),Yd=new ss("direction","direction",Do),Jd={scope:Et.INLINE,whitelist:["serif","monospace"]},Xd=new Vr("font","ql-font",Jd);class K_ extends ss{value(t){return super.value(t).replace(/["']/g,"")}}const Qd=new K_("font","font-family",Jd),tf=new Vr("size","ql-size",{scope:Et.INLINE,whitelist:["small","large","huge"]}),ef=new ss("size","font-size",{scope:Et.INLINE,whitelist:["10px","18px","32px"]}),G_=In("quill:keyboard"),V_=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class el extends Zr{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=Z_(t);if(s==null){G_.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(a=>{const o={...s,key:a,...e,...n};this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(x=>el.match(t,x));if(s.length===0)return;const i=Y.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[o,u]=this.quill.getLine(a.index),[d,p]=this.quill.getLeaf(a.index),[g,f]=a.length===0?[d,p]:this.quill.getLeaf(a.index+a.length),m=d instanceof Ua?d.value().slice(0,p):"",y=g instanceof Ua?g.value().slice(f):"",b={collapsed:a.length===0,empty:a.length===0&&o.length()<=1,format:this.quill.getFormat(a),line:o,offset:u,prefix:m,suffix:y,event:t};s.some(x=>{if(x.collapsed!=null&&x.collapsed!==b.collapsed||x.empty!=null&&x.empty!==b.empty||x.offset!=null&&x.offset!==b.offset)return!1;if(Array.isArray(x.format)){if(x.format.every(T=>b.format[T]==null))return!1}else if(typeof x.format=="object"&&!Object.keys(x.format).every(T=>x.format[T]===!0?b.format[T]!=null:x.format[T]===!1?b.format[T]==null:So(x.format[T],b.format[T])))return!1;return x.prefix!=null&&!x.prefix.test(b.prefix)||x.suffix!=null&&!x.suffix.test(b.suffix)?!1:x.handler.call(this,a,b,x)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(t.index);let a=new xt().retain(t.index-n).delete(n);if(e.offset===0){const[o]=this.quill.getLine(t.index-1);if(o&&!(o.statics.blotName==="block"&&o.length()<=1)){const d=i.formats(),p=this.quill.getFormat(t.index-1,1);if(s=Er.AttributeMap.diff(d,p)||{},Object.keys(s).length>0){const g=new xt().retain(t.index+i.length()-2).retain(1,s);a=a.compose(g)}}}this.quill.updateContents(a,Y.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[i]=this.quill.getLine(t.index);let a=new xt().retain(t.index).delete(n);if(e.offset>=i.length()-1){const[o]=this.quill.getLine(t.index+1);if(o){const u=i.formats(),d=this.quill.getFormat(t.index,1);s=Er.AttributeMap.diff(u,d)||{},Object.keys(s).length>0&&(a=a.retain(o.length()-1).retain(1,s))}}this.quill.updateContents(a,Y.sources.USER),this.quill.focus()}handleDeleteRange(t){Po({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((i,a)=>(this.quill.scroll.query(a,Et.BLOCK)&&!Array.isArray(e.format[a])&&(i[a]=e.format[a]),i),{}),s=new xt().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(t.index+1,Y.sources.SILENT),this.quill.focus()}}const W_={bindings:{bold:Al("bold"),italic:Al("italic"),underline:Al("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",Y.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",Y.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",Y.sources.USER):t.format.list!=null&&this.quill.format("list",!1,Y.sources.USER)}},"indent code-block":ru(!0),"outdent code-block":ru(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,Y.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new xt().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,Y.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,Y.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Y.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,Y.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},s=new xt().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(r.index+1,Y.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),s=new xt().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(r.index+1,Y.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,s,i]=t.getTable(r),a=Y_(e,n,s,i);if(a==null)return;let o=e.offset();if(a<0){const u=new xt().retain(o).insert(`
`);this.quill.updateContents(u,Y.sources.USER),this.quill.setSelection(r.index+1,r.length,Y.sources.SILENT)}else if(a>0){o+=e.length();const u=new xt().retain(o).insert(`
`);this.quill.updateContents(u,Y.sources.USER),this.quill.setSelection(o,Y.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,s=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,Y.sources.USER):this.quill.setSelection(s+n.length(),Y.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,s]=this.quill.getLine(r.index);if(s>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(r.index," ",Y.sources.USER),this.quill.history.cutoff();const a=new xt().retain(r.index-s).delete(e+1).retain(n.length()-2-s).retain(1,{list:i});return this.quill.updateContents(a,Y.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,Y.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const i=new xt().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,Y.sources.USER),this.quill.setSelection(r.index-1,Y.sources.SILENT),!1}return!0}},"embed left":Ea("ArrowLeft",!1),"embed left shift":Ea("ArrowLeft",!0),"embed right":Ea("ArrowRight",!1),"embed right shift":Ea("ArrowRight",!0),"table down":nu(!1),"table up":nu(!0)}};el.DEFAULTS=W_;function ru(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,Y.sources.USER),this.quill.setSelection(t.index+i.length,Y.sources.SILENT);return}const a=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:o,length:u}=t;a.forEach((d,p)=>{r?(d.insertAt(0,i),p===0?o+=i.length:u+=i.length):d.domNode.textContent.startsWith(i)&&(d.deleteAt(0,i.length),p===0?o-=i.length:u-=i.length)}),this.quill.update(Y.sources.USER),this.quill.setSelection(o,u,Y.sources.SILENT)}}}function Ea(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;r==="ArrowRight"&&(s+=n.length+1);const[i]=this.quill.getLeaf(s);return i instanceof vr?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,Y.sources.USER):this.quill.setSelection(n.index-1,Y.sources.USER):t?this.quill.setSelection(n.index,n.length+1,Y.sources.USER):this.quill.setSelection(n.index+n.length+1,Y.sources.USER),!1):!0}}}function Al(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],Y.sources.USER)}}}function nu(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",s=e.line,i=s.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let a=i.children.head,o=s;for(;o.prev!=null;)o=o.prev,a=a.next;const u=a.offset(this.quill.scroll)+Math.min(e.offset,a.length()-1);this.quill.setSelection(u,0,Y.sources.USER)}}else{const a=s.table()[n];a!=null&&(r?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,Y.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,Y.sources.USER))}return!1}}}function Z_(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=Qs(r);else return null;return r.shortKey&&(r[V_]=r.shortKey,delete r.shortKey),r}function Po(r){let{quill:t,range:e}=r;const n=t.getLines(e);let s={};if(n.length>1){const i=n[0].formats(),a=n[n.length-1].formats();s=Er.AttributeMap.diff(a,i)||{}}t.deleteText(e,Y.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,Y.sources.USER),t.setSelection(e.index,Y.sources.SILENT)}function Y_(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const J_=/font-weight:\s*normal/,X_=["P","OL","UL"],su=r=>r&&X_.includes(r.tagName),Q_=r=>{Array.from(r.querySelectorAll("br")).filter(t=>su(t.previousElementSibling)&&su(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},ty=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(J_)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function ey(r){r.querySelector('[id^="docs-internal-guid-"]')&&(ty(r),Q_(r))}const ry=/\bmso-list:[^;]*ignore/i,ny=/\bmso-list:[^;]*\bl(\d+)/i,sy=/\bmso-list:[^;]*\blevel(\d+)/i,iy=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(ny);if(!n)return null;const s=Number(n[1]),i=e==null?void 0:e.match(sy),a=i?Number(i[1]):1,o=new RegExp(`@list l${s}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=t.match(o),d=u&&u[1]==="bullet"?"bullet":"ordered";return{id:s,indent:a,type:d,element:r}},ay=r=>{var a,o;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(u=>{(u.getAttribute("style")||"").match(ry)?e.push(u):n.push(u)}),e.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)});const s=r.documentElement.innerHTML,i=n.map(u=>iy(u,s)).filter(u=>u);for(;i.length;){const u=[];let d=i.shift();for(;d;)u.push(d),d=i.length&&((a=i[0])==null?void 0:a.element)===d.element.nextElementSibling&&i[0].id===d.id?i.shift():null;const p=document.createElement("ul");u.forEach(m=>{const y=document.createElement("li");y.setAttribute("data-list",m.type),m.indent>1&&y.setAttribute("class",`ql-indent-${m.indent-1}`),y.innerHTML=m.element.innerHTML,p.appendChild(y)});const g=(o=u[0])==null?void 0:o.element,{parentNode:f}=g??{};g&&(f==null||f.replaceChild(p,g)),u.slice(1).forEach(m=>{let{element:y}=m;f==null||f.removeChild(y)})}};function ly(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&ay(r)}const oy=[ly,ey],cy=r=>{r.documentElement&&oy.forEach(t=>{t(r)})},uy=In("quill:clipboard"),dy=[[Node.TEXT_NODE,Ey],[Node.TEXT_NODE,au],["br",my],[Node.ELEMENT_NODE,au],[Node.ELEMENT_NODE,vy],[Node.ELEMENT_NODE,py],[Node.ELEMENT_NODE,wy],["li",_y],["ol, ul",yy],["pre",gy],["tr",xy],["b",Tl("bold")],["i",Tl("italic")],["strike",Tl("strike")],["style",by]],fy=[F_,Wd].reduce((r,t)=>(r[t.keyName]=t,r),{}),iu=[Gd,Ro,qo,Yd,Qd,ef].reduce((r,t)=>(r[t.keyName]=t,r),{});class rf extends Zr{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],dy.concat(this.options.matchers??[]).forEach(n=>{let[s,i]=n;this.addMatcher(s,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Xe.blotName])return new xt().insert(n||"",{[Xe.blotName]:s[Xe.blotName]});if(!e)return new xt().insert(n||"",s);const i=this.convertHTML(e);return la(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new xt().retain(i.length()-1).delete(1)):i}normalizeHTML(t){cy(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,s=new WeakMap,[i,a]=this.prepareMatching(n,s);return Bo(this.quill.scroll,n,i,a,s)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,Y.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new xt().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),Y.sources.SILENT)}}onCaptureCopy(t){var a,o;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:i}=this.onCopy(n,e);(a=t.clipboardData)==null||a.setData("text/plain",i),(o=t.clipboardData)==null||o.setData("text/html",s),e&&Po({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var a,o,u,d,p;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(a=t.clipboardData)==null?void 0:a.getData("text/html");let s=(o=t.clipboardData)==null?void 0:o.getData("text/plain");if(!n&&!s){const g=(u=t.clipboardData)==null?void 0:u.getData("text/uri-list");g&&(s=this.normalizeURIList(g))}const i=Array.from(((d=t.clipboardData)==null?void 0:d.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(e,i);return}if(n&&i.length>0){const g=new DOMParser().parseFromString(n,"text/html");if(g.body.childElementCount===1&&((p=g.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:n,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:s}=e;const i=this.quill.getFormat(t.index),a=this.convert({text:n,html:s},i);uy.log("onPaste",a,{text:n,html:s});const o=new xt().retain(t.index).delete(t.length).concat(a);this.quill.updateContents(o,Y.sources.USER),this.quill.setSelection(o.length()-t.length,Y.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],s=[];return this.matchers.forEach(i=>{const[a,o]=i;switch(a){case Node.TEXT_NODE:s.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(t.querySelectorAll(a)).forEach(u=>{if(e.has(u)){const d=e.get(u);d==null||d.push(o)}else e.set(u,[o])});break}}),[n,s]}}pt(rf,"DEFAULTS",{matchers:[]});function Ss(r,t,e,n){return n.query(t)?r.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[t])return s.push(i);const a=e?{[t]:e}:{};return s.insert(i.insert,{...a,...i.attributes})},new xt):r}function la(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const s=r.ops[n];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function Vn(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof vr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function hy(r,t){return r.previousElementSibling&&r.nextElementSibling&&!Vn(r.previousElementSibling,t)&&!Vn(r.nextElementSibling,t)}const Aa=new WeakMap;function nf(r){return r==null?!1:(Aa.has(r)||(r.tagName==="PRE"?Aa.set(r,!0):Aa.set(r,nf(r.parentNode))),Aa.get(r))}function Bo(r,t,e,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((i,a)=>a(t,i,r),new xt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,a)=>{let o=Bo(r,a,e,n,s);return a.nodeType===t.ELEMENT_NODE&&(o=e.reduce((u,d)=>d(a,u,r),o),o=(s.get(a)||[]).reduce((u,d)=>d(a,u,r),o)),i.concat(o)},new xt):new xt}function Tl(r){return(t,e,n)=>Ss(e,r,!0,n)}function py(r,t,e){const n=wn.keys(r),s=Vr.keys(r),i=ss.keys(r),a={};return n.concat(s).concat(i).forEach(o=>{let u=e.query(o,Et.ATTRIBUTE);u!=null&&(a[u.attrName]=u.value(r),a[u.attrName])||(u=fy[o],u!=null&&(u.attrName===o||u.keyName===o)&&(a[u.attrName]=u.value(r)||void 0),u=iu[o],u!=null&&(u.attrName===o||u.keyName===o)&&(u=iu[o],a[u.attrName]=u.value(r)||void 0))}),Object.entries(a).reduce((o,u)=>{let[d,p]=u;return Ss(o,d,p,e)},t)}function vy(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof vr){const s={},i=n.value(r);if(i!=null)return s[n.blotName]=i,new xt().insert(s,n.formats(r,e))}else if(n.prototype instanceof Gi&&!la(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Ss(t,n.blotName,n.formats(r,e),e);return t}function my(r,t){return la(t,`
`)||t.insert(`
`),t}function gy(r,t,e){const n=e.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return Ss(t,"code-block",s,e)}function by(){return new xt}function _y(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!la(t,`
`))return t;let s=-1,i=r.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce((a,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?a.push(o):a.insert(o.insert,{indent:s,...o.attributes||{}}):a,new xt)}function yy(r,t,e){const n=r;let s=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),Ss(t,"list",s,e)}function au(r,t,e){if(!la(t,`
`)){if(Vn(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(Vn(n,e))return t.insert(`
`);const s=e.query(n);if(s&&s.prototype instanceof xr)return t.insert(`
`);n=n.firstChild}}}return t}function wy(r,t,e){var i;const n={},s=r.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((a,o)=>{let[u,d]=o;return Ss(a,u,d,e)},t),parseFloat(s.textIndent||0)>0?new xt().insert("	").concat(t):t}function xy(r,t,e){var s,i;const n=((s=r.parentElement)==null?void 0:s.tagName)==="TABLE"?r.parentElement:(i=r.parentElement)==null?void 0:i.parentElement;if(n!=null){const o=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return Ss(t,"table",o,e)}return t}function Ey(r,t,e){var s;let n=r.data;if(((s=r.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!nf(r)){if(n.trim().length===0&&n.includes(`
`)&&!hy(r,e))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&Vn(r.parentElement,e)||r.previousSibling instanceof Element&&Vn(r.previousSibling,e))&&(n=n.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&Vn(r.parentElement,e)||r.nextSibling instanceof Element&&Vn(r.nextSibling,e))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class sf extends Zr{constructor(e,n){super(e,n);pt(this,"lastRecorded",0);pt(this,"ignoreChange",!1);pt(this,"stack",{undo:[],redo:[]});pt(this,"currentRange",null);this.quill.on(Y.events.EDITOR_CHANGE,(s,i,a,o)=>{s===Y.events.SELECTION_CHANGE?i&&o!==Y.sources.SILENT&&(this.currentRange=i):s===Y.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===Y.sources.USER?this.record(i,a):this.transform(i)),this.currentRange=Xl(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const i=this.quill.getContents(),a=s.delta.invert(i);this.stack[n].push({delta:a,range:Xl(s.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,Y.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),i=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(s=s.compose(o.delta),i=o.range)}else this.lastRecorded=a;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){lu(this.stack.undo,e),lu(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,Y.sources.USER);else{const n=Ty(this.quill.scroll,e.delta);this.quill.setSelection(n,Y.sources.USER)}}}pt(sf,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function lu(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const s=r[n];r[n]={delta:e.transform(s.delta,!0),range:s.range&&Xl(s.range,e)},e=s.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function Ay(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,Et.BLOCK)!=null):!1}function Ty(r,t){const e=t.reduce((s,i)=>s+(i.delete||0),0);let n=t.length()-e;return Ay(r,t)&&(n-=1),n}function Xl(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class af extends Zr{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var a;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(o.offsetNode,o.offset),s.setEnd(o.offsetNode,o.offset)}const i=s&&t.selection.normalizeNative(s);if(i){const o=t.selection.normalizedToRange(i);(a=n.dataTransfer)!=null&&a.files&&this.upload(o,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}af.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(n)}));Promise.all(e).then(n=>{const s=n.reduce((i,a)=>i.insert({image:a}),new xt().retain(r.index).delete(r.length));this.quill.updateContents(s,bt.sources.USER),this.quill.setSelection(r.index+n.length,bt.sources.SILENT)})}};const Ny=["insertText","insertReplacementText"];class ky extends Zr{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(Y.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Po({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new xt().retain(t.index).insert(e,n),Y.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,Y.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Ny.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=Sy(t);if(n==null)return;const s=this.quill.selection.normalizeNative(e),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function Sy(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const $y=/Mac/i.test(navigator.platform),Oy=100,Ly=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||$y&&r.key==="a"&&r.ctrlKey===!0);class Cy extends Zr{constructor(e,n){super(e,n);pt(this,"isListening",!1);pt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:i}=n;if(!(s instanceof Fr)||!s.uiNode)return!0;const a=getComputedStyle(s.domNode).direction==="rtl";return a&&i.key!=="ArrowRight"||!a&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),Y.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&Ly(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Oy,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof Fr)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(i)}}Y.register({"blots/block":We,"blots/block/embed":xr,"blots/break":Wr,"blots/container":Ns,"blots/cursor":ai,"blots/embed":Lo,"blots/inline":xn,"blots/scroll":Gs,"blots/text":zr,"modules/clipboard":rf,"modules/history":sf,"modules/keyboard":el,"modules/uploader":af,"modules/input":ky,"modules/uiNode":Cy});class qy extends Vr{add(t,e){let n=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;n=e==="+1"?s+1:s-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Ry=new qy("indent","ql-indent",{scope:Et.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ql extends We{}pt(Ql,"blotName","blockquote"),pt(Ql,"tagName","blockquote");class to extends We{static formats(t){return this.tagName.indexOf(t.tagName)+1}}pt(to,"blotName","header"),pt(to,"tagName",["H1","H2","H3","H4","H5","H6"]);class oa extends Ns{}oa.blotName="list-container";oa.tagName="OL";class ca extends We{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){Y.register(oa)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),s=i=>{if(!t.isEnabled())return;const a=this.statics.formats(e,t);a==="checked"?(this.format("list","unchecked"),i.preventDefault()):a==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}ca.blotName="list";ca.tagName="LI";oa.allowedChildren=[ca];ca.requiredContainer=oa;class Wi extends xn{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}pt(Wi,"blotName","bold"),pt(Wi,"tagName",["STRONG","B"]);class eo extends Wi{}pt(eo,"blotName","italic"),pt(eo,"tagName",["EM","I"]);class Wn extends xn{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return lf(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}pt(Wn,"blotName","link"),pt(Wn,"tagName","A"),pt(Wn,"SANITIZED_URL","about:blank"),pt(Wn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function lf(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class ro extends xn{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}pt(ro,"blotName","script"),pt(ro,"tagName",["SUB","SUP"]);class no extends Wi{}pt(no,"blotName","strike"),pt(no,"tagName",["S","STRIKE"]);class so extends xn{}pt(so,"blotName","underline"),pt(so,"tagName","U");class Sa extends Lo{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}pt(Sa,"blotName","formula"),pt(Sa,"className","ql-formula"),pt(Sa,"tagName","SPAN");const ou=["alt","height","width"];class io extends vr{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return ou.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return lf(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){ou.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}pt(io,"blotName","image"),pt(io,"tagName","IMG");const cu=["height","width"];class $a extends xr{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return cu.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Wn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){cu.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}pt($a,"blotName","video"),pt($a,"className","ql-video"),pt($a,"tagName","IFRAME");const Si=new Vr("code-token","hljs",{scope:Et.INLINE});class Cn extends xn{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Xe.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),Si.add(this.domNode,n)}format(t,e){t!==Cn.blotName?super.format(t,e):e?Si.add(this.domNode,e):(Si.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Si.value(this.domNode)||this.unwrap()}}Cn.blotName="code-token";Cn.className="ql-token";class wr extends Xe{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Cn.blotName,!1),super.replaceWith(t,e)}}class Li extends ks{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===wr.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,s){n===wr.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,i=wr.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const a=this.children.reduce((u,d)=>u.concat(Hd(d,!1)),new xt),o=t(s,i);a.diff(o).reduce((u,d)=>{let{retain:p,attributes:g}=d;return p?(g&&Object.keys(g).forEach(f=>{[wr.blotName,Cn.blotName].includes(f)&&this.formatAt(u,p,f,g[f])}),u+p):u},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?wr.formats(n.domNode):"plain"}">
${tl(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=wr.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Li.allowedChildren=[wr];wr.requiredContainer=Li;wr.allowedChildren=[Cn,ai,zr,Wr];const Iy=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class of extends Zr{static register(){Y.register(Cn,!0),Y.register(wr,!0),Y.register(Li,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:i}=s;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Y.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Li))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:i}=n;const a=e.ownerDocument.createElement("option");a.textContent=i,a.setAttribute("value",s),e.appendChild(a)}),e.addEventListener("change",()=>{t.format(wr.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=wr.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(Y.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Y.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Li):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(Y.sources.SILENT),n!=null&&this.quill.setSelection(n,Y.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return tl(t).split(`
`).reduce((s,i,a)=>(a!==0&&s.insert(`
`,{[Xe.blotName]:e}),s.insert(i)),new xt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Xe.className),n.innerHTML=Iy(this.options.hljs,e,t),Bo(this.quill.scroll,n,[(s,i)=>{const a=Si.value(s);return a?i.compose(new xt().retain(i.length(),{[Cn.blotName]:a})):i}],[(s,i)=>s.data.split(`
`).reduce((a,o,u)=>(u!==0&&a.insert(`
`,{[Xe.blotName]:e}),a.insert(o)),i)],new WeakMap)}}of.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const qi=class qi extends We{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Mo()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===qi.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};pt(qi,"blotName","table"),pt(qi,"tagName","TD");let jr=qi;class qn extends Ns{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),s=e.next.formats();if(n.table!==s.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}pt(qn,"blotName","table-row"),pt(qn,"tagName","TR");class yn extends Ns{}pt(yn,"blotName","table-body"),pt(yn,"tagName","TBODY");class oi extends Ns{balanceCells(){const t=this.descendants(qn),e=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=jr.formats(n.children.head.domNode));const i=this.scroll.create(jr.blotName,s);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(yn);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(yn);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t),i=jr.formats(n.children.head.domNode),a=this.scroll.create(jr.blotName,i);n.insertBefore(a,s)})}insertRow(t){const[e]=this.descendant(yn);if(e==null||e.children.head==null)return;const n=Mo(),s=this.scroll.create(qn.blotName);e.children.head.children.forEach(()=>{const a=this.scroll.create(jr.blotName,n);s.appendChild(a)});const i=e.children.at(t);e.insertBefore(s,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}pt(oi,"blotName","table-container"),pt(oi,"tagName","TABLE");oi.allowedChildren=[yn];yn.requiredContainer=oi;yn.allowedChildren=[qn];qn.requiredContainer=yn;qn.allowedChildren=[jr];jr.requiredContainer=qn;function Mo(){return`row-${Math.random().toString(36).slice(2,6)}`}class Dy extends Zr{static register(){Y.register(jr),Y.register(qn),Y.register(yn),Y.register(oi)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(oi).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(Y.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(Y.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(Y.sources.USER),this.quill.setSelection(e,Y.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==jr.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,s,i]=this.getTable(e);if(i==null)return;const a=i.cellOffset();n.insertColumn(a+t),this.quill.update(Y.sources.USER);let o=s.rowOffset();t===0&&(o+=1),this.quill.setSelection(e.index+o,e.length,Y.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,s,i]=this.getTable(e);if(i==null)return;const a=s.rowOffset();n.insertRow(a+t),this.quill.update(Y.sources.USER),t>0?this.quill.setSelection(e,Y.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,Y.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(i=>{const a=new Array(e).fill(`
`).join("");return i.insert(a,{table:Mo()})},new xt().retain(n.index));this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(n.index,Y.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Y.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(Y.events.TEXT_CHANGE,(n,s,i)=>{i===Y.sources.USER&&this.balanceTables()}),!0):!1)})}}const uu=In("quill:toolbar");class jo extends Zr{constructor(t,e){var n,s;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),Py(i,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){uu.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var o;const a=(o=this.options.handlers)==null?void 0:o[i];a&&this.addHandler(i,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(Y.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){uu.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const o=t.options[t.selectedIndex];o.hasAttribute("selected")?i=!1:i=o.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof vr){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new xt().retain(a.index).delete(a.length).insert({[e]:i}),Y.sources.USER)}else this.quill.format(e,i,Y.sources.USER);this.update(a)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,i]=n;if(i.tagName==="SELECT"){let a=null;if(t==null)a=null;else if(e[s]==null)a=i.querySelector("option[selected]");else if(!Array.isArray(e[s])){let o=e[s];typeof o=="string"&&(o=o.replace(/"/g,'\\"')),a=i.querySelector(`option[value="${o}"]`)}a==null?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const a=e[s],o=a===i.getAttribute("value")||a!=null&&a.toString()===i.getAttribute("value")||a==null&&!i.getAttribute("value");i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}else{const a=e[s]!=null;i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}})}}jo.DEFAULTS={};function du(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function Py(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")du(n,s);else{const i=Object.keys(s)[0],a=s[i];Array.isArray(a)?By(n,i,a):du(n,i,a)}}),r.appendChild(n)})}function By(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),n.appendChild(i)}),r.appendChild(n)}jo.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,Et.INLINE)!=null&&this.quill.format(e,!1,Y.sources.USER)})}else this.quill.removeFormat(r.index,r.length,Y.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",Y.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,Y.sources.USER),this.quill.format("direction",r,Y.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let s=r==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,Y.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,Y.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,Y.sources.USER):this.quill.format("list","unchecked",Y.sources.USER):this.quill.format("list",r,Y.sources.USER)}}};const My='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',jy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Uy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Fy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Hy='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',zy='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Ky='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Gy='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',fu='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Vy='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Wy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Zy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Yy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Jy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Xy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Qy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',t2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',e2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',r2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',n2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',s2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',i2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',a2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',l2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',o2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',c2='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',u2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',d2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',f2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',h2='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',p2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',v2='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',m2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Zi={align:{"":My,center:jy,right:Uy,justify:Fy},background:Hy,blockquote:zy,bold:Ky,clean:Gy,code:fu,"code-block":fu,color:Vy,direction:{"":Wy,rtl:Zy},formula:Yy,header:{1:Jy,2:Xy,3:Qy,4:t2,5:e2,6:r2},italic:n2,image:s2,indent:{"+1":i2,"-1":a2},link:l2,list:{bullet:o2,check:c2,ordered:u2},script:{sub:d2,super:f2},strike:h2,table:p2,underline:v2,video:m2},g2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let hu=0;function pu(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class rl{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),pu(this.label,"aria-expanded"),pu(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=g2,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${hu}`,hu+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class cf extends rl{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class uf extends rl{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const b2=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class df{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,b2(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let a=0;if(i.right>s.right&&(a=s.right-i.right,this.root.style.left=`${e+a}px`),i.left<s.left&&(a=s.left-i.left,this.root.style.left=`${e+a}px`),i.bottom>s.bottom){const o=i.bottom-i.top,u=t.bottom-t.top+o;this.root.style.top=`${n-u}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const _2=[!1,"center","right","justify"],y2=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],w2=[!1,"serif","monospace"],x2=["1","2","3",!1],E2=["small",!1,"large","huge"];class ua extends li{constructor(t,e){super(t,e);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")n.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")n.innerHTML=e[i];else{const a=n.value||"";a!=null&&e[i][a]&&(n.innerHTML=e[i][a])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Ai(s,_2),typeof e.align=="object"))return new uf(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Ai(s,y2,i==="background"?"#ffffff":"#000000"),new cf(s,e[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Ai(s,w2):s.classList.contains("ql-header")?Ai(s,x2):s.classList.contains("ql-size")&&Ai(s,E2)),new rl(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(bt.events.EDITOR_CHANGE,n)}}ua.DEFAULTS=Qn({},li.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ff extends df{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,bt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,bt.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=A2(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,bt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",bt.sources.USER),this.quill.setSelection(n+2,bt.sources.USER)}break}}this.textbox.value="",this.hide()}}function A2(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function Ai(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),r.appendChild(s)})}const T2=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class hf extends ff{constructor(t,e){super(t,e),this.quill.on(bt.events.EDITOR_CHANGE,(n,s,i,a)=>{if(n===bt.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&a===bt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const o=this.quill.getLines(s.index,s.length);if(o.length===1){const u=this.quill.getBounds(s);u!=null&&this.position(u)}else{const u=o[o.length-1],d=this.quill.getIndex(u),p=Math.min(u.length()-1,s.index+s.length-d),g=this.quill.getBounds(new ys(d,p));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(bt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}pt(hf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class pf extends ua{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=T2),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new hf(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Zi),this.buildPickers(t.container.querySelectorAll("select"),Zi))}}pf.DEFAULTS=Qn({},ua.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Y.sources.USER)}}}}});const N2=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class vf extends ff{constructor(){super(...arguments);pt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,bt.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(bt.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===bt.sources.USER){const[i,a]=this.quill.scroll.descendant(Wn,e.index);if(i!=null){this.linkRange=new ys(e.index-a,i.length());const o=Wn.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}pt(vf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class mf extends ua{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=N2),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Zi),this.buildPickers(t.container.querySelectorAll("select"),Zi),this.tooltip=new vf(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}mf.DEFAULTS=Qn({},ua.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,Y.sources.USER)}}}}});Y.register({"attributors/attribute/direction":Wd,"attributors/class/align":Kd,"attributors/class/background":z_,"attributors/class/color":H_,"attributors/class/direction":Zd,"attributors/class/font":Xd,"attributors/class/size":tf,"attributors/style/align":Gd,"attributors/style/background":Ro,"attributors/style/color":qo,"attributors/style/direction":Yd,"attributors/style/font":Qd,"attributors/style/size":ef},!0);Y.register({"formats/align":Kd,"formats/direction":Zd,"formats/indent":Ry,"formats/background":Ro,"formats/color":qo,"formats/font":Xd,"formats/size":tf,"formats/blockquote":Ql,"formats/code-block":Xe,"formats/header":to,"formats/list":ca,"formats/bold":Wi,"formats/code":Io,"formats/italic":eo,"formats/link":Wn,"formats/script":ro,"formats/strike":no,"formats/underline":so,"formats/formula":Sa,"formats/image":io,"formats/video":$a,"modules/syntax":of,"modules/table":Dy,"modules/toolbar":jo,"themes/bubble":pf,"themes/snow":mf,"ui/icons":Zi,"ui/picker":rl,"ui/icon-picker":uf,"ui/color-picker":cf,"ui/tooltip":df},!0);var k2=z('<div class="margin svelte-1unbvg"></div> <div class="table-outline main_data svelte-1unbvg"><div class="table-head table-title svelte-1unbvg"><input type="text" id="title" class="svelte-1unbvg"></div> <div class="table-contents-gray svelte-1unbvg"><select class="namewidth svelte-1unbvg"><option>자유</option><option>거래</option><option>공략</option></select></div> <div class="table-contents-white svelte-1unbvg"><div id="editor" class="svelte-1unbvg"></div></div> <div class="form-group svelte-1unbvg"><button class="emphasis-button">작성하기</button> <button class="simple-button">취소하기</button></div></div>',1);function S2(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e),s=()=>nt(Pe,"$myaccount",e),i=()=>nt(Dl,"$modify_postid",e);let a=L(""),o="",u,d=L("free");const p=n()?"/mpk":"/babapk";async function g(){const N=document.createElement("input");N.setAttribute("type","file"),N.setAttribute("accept","image/*"),N.click(),N.onchange=async()=>{const q=N.files?N.files[0]:null;if(!q)return alert("파일이 선택되지 않았습니다.");const D=new FileReader;D.onloadend=async()=>{const M=D.result;try{const B=await f(M);if(B){const U=u.getSelection();u.insertEmbed((U==null?void 0:U.index)||0,"image",B)}}catch(B){console.error("이미지 업로드 오류:",B)}},D.readAsDataURL(q)}}async function f(N){const q=await Dt("/cloudinary/upload","POST",{image:N});if(!q.ok)throw new Error("이미지 업로드 실패");return(await q.json()).url}async function m(){const N={title:l(a),category:l(d),content:o,nickname:s(),postId:i()};try{(await Dt("/board/write","POST",N)).ok&&(alert("글을 성공적으로 작성하였습니다"),b(),ni(`${p}/boardlist`))}catch(q){console.error("네트워크 오류:",q),alert(`네트워크 오류: ${q.message}`)}}async function y(){if(i()!=="none")try{const q=await(await fetch(`/board/post?post_id=${i()}`)).json();A(a,q.title),o=q.content,A(d,q.category)}catch{alert("게시물 로드 중 오류 발생")}}Ke(async()=>{await y(),u=new Y("#editor",{theme:"snow",placeholder:"",modules:{toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]],handlers:{image:g}}}}),o&&u.clipboard.dangerouslyPasteHTML(o),u.on("text-change",()=>{o=u.root.innerHTML})});function b(){Dl.set("none")}function w(){b(),ni(`${p}/boardlist`)}ee();var x=k2(),T=v(ht(x),2),k=h(T),S=h(k),$=v(k,2),R=h($);st(()=>{l(d),Bi(()=>{})});var F=h(R);F.value=(F.__value="free")==null?"":"free";var j=v(F);j.value=(j.__value="trade")==null?"":"trade";var I=v(j);I.value=(I.__value="setting")==null?"":"setting";var K=v($,4),E=h(K),C=v(E,2);H(S,()=>l(a),N=>A(a,N)),ji(R,()=>l(d),N=>A(d,N)),X("click",E,m),X("click",C,w),P(r,x),Ht()}var $2=z('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),O2=z('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),L2=z('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),C2=z('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),q2=z('<table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table>'),R2=z('<div class="table-outline main_data"><table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table> <div class="toggle-wrapper"><button class="simple-button"> </button></div> <!></div>');function I2(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(Jt,"$mode",e);let s=n()?[{season:"2024.10 랭킹전",first:"우리",second:"스티븐",third:"제트",details:"24. 10. 정규대회 인내전 : 1위 스티븐 2위 Hell 3위 Madon<br/>24. 10. 정규대회 비인내전 : 1위 우리 2위 파괴 3위 LoPala"},{season:"2024.9 랭킹전",first:"스티븐",second:"독재",third:"BallistaBB",details:"24. 9. 정규대회 : 1위 스티븐 2위 독재 3위 Art"},{season:"2024.8 랭킹전",first:"스티븐",second:"Art",third:"허경영",details:"-"},{season:"2024.7 랭킹전",first:"카니아",second:"BallistaBB",third:"Art",details:"-"},{season:"2024.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"kissa",details:"-"},{season:"2024.5 랭킹전",first:"BallistaBB",second:"스티븐",third:"MAX",details:"-"},{season:"2024.2 랭킹전",first:"Jay",second:"제트",third:"MAX",details:"-"},{season:"2024.1 랭킹전",first:"Jay",second:"스티븐",third:"제트",details:"23.12 정기전 : 1위 Robe 2위 스티븐 3위 제트<br>23.11 정기전 : 1위 파괴 2위 스티븐 3위 Robe"}]:[{season:"2024.10-11 랭킹전",first:"마스터",second:"DTBar",third:"Jay",details:"비고뇌 정식전 : 1위 DTBAR 2위 Jay 3위 IRONKIM<br/>고뇌 정식전 : 1위 마스터 2위 DTBAR 3위 Jay<br/>2:2 정식전 : 1위 오찬물 수수깡수수 2위 DTBAR IRONKIM 3위 퓨리 마스터<br/>조드 정식전 : 1위 봐바 2위 DUKY 3위 Az"},{season:"2024.9 랭킹전",first:"DTbar",second:"Duky",third:"오찬물",details:"고뇌 정식전 : 1위 스티븐 2위 Jay 3위 오찬물<br/>비고뇌 정식전 : 1위 BallistaBB 2위 지존 3위 수수깡수수"},{season:"2024.8 랭킹전",first:"Duky",second:"마스터",third:"옥땅",details:"정식전 : 1위 IRONKIM 2위 배로나 3위 듀키"},{season:"2024.7 랭킹전",first:"Duky",second:"Jay",third:"바아바아",details:"플레이오프 : 1위 Jay 2위 옥례 3위 Duky<br/>3티어 정식전 : 1위 배로나 2위 오찬물 3위 duky<br/>고뇌 정규전 : 1위 바아바아 2위 오찬물 3위 Duky<br/>레어 정규전 : 1위 낑깡 2위 Ari 3위 su"},{season:"2024.6 랭킹전",first:"Head",second:"Jay",third:"Duky",details:"3티어 정식전 : 1위 Duky 2위 Jay 3위 IRONKIM<br/>고뇌 정규전 : 1위 Head 2위 jay 3위 봐바<br/>레어 정규전 : 1위 Jay 2위 지존 3위 스티븐"},{season:"2024.5 랭킹전",first:"Duky",second:"Head",third:"IRONKIM",details:"정식전 : 1위 줍줍 2위 Duky 3위 쭈니바바리안<br/>테마전 : 1위 금복이 2위 goyard 3위 IRONKIM"},{season:"2024.4 랭킹전",first:"Jay",second:"Duky",third:"줍줍",details:"정식전 : 1위 aerts 2위 Head 3위 jay<br/>테마전 : 아리앗옥례 & 오찬물 & Jay"},{season:"2024.3 랭킹전",first:"Duky",second:"BigMara",third:"팍씨",details:"정식전 : 1위 Joral_Sinsa 2위 Jak 3위 바바<br/>테마전 : 1위 Jay 2위 아이언킴 3위 오찬물 <br/> 테마전 : 1위 Jay 2위 아이언킴 3위 오찬물"},{season:"2024.2 랭킹전",first:"barbar",second:"오찬물",third:"Duky",details:"정식전 : 1위 오찬물 2위 BallistaBB 3위 GeonDal<br/>테마전 : 1위 옥례 2위 옥땅 3위 IRONKIM"},{season:"2024.1 랭킹전",first:"오찬물",second:"Duky",third:"Head",details:"정식전 : 1위 Duky 2위 Jay 3위 오찬물"}],i=n()?[{season:"2023.10 랭킹전",first:"스티븐",second:"달빛",third:"스티븐",details:"정기전 : 1위 CASINO 2위 Queen 3위 드루<br/>23.7 정기전 : 1위 Edward 2위 스티븐 3위 모팔모"},{season:"2023.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"yakuza",details:"정기전 : 1위 yakuza 2위 BallistaBB 3위 모팔모"},{season:"2023.5 랭킹전",first:"Robe",second:"달건",third:"Boss",details:"정기전 : 1위 달건 2위 Robe 3위 Joy<br/>테마전 : 1위 Robe 2위 Southbank 3위 Art_ist"}]:[{season:"2023.12 랭킹전",first:"Duky",second:"Jak",third:"아리",details:"정식전 : 1위 아리 2위 도라라 3위 Duky "},{season:"2023.11 랭킹전",first:"Jak",second:"Duky",third:"오찬물",details:"정식전 : 1위 봐바 2위 도라라 3위 Art_ist <br/> 테마전 : 1위 잼재미 2위 Jak 3위 아리앗옥례"},{season:"2023.10 랭킹전",first:"오찬물",second:"ALO",third:"오찬물",details:"정식전 : 1위 봐바 2위 배로나 3위 잼재미<br/> 테마전 : 아리 & 오찬물 & 아리앗옥례"},{season:"2023.9 랭킹전",first:"오찬물",second:"Jak",third:"바바",details:"정식전 : 1위 오찬물 2위 봐바 3위 IRONKIM"},{season:"2023.8 랭킹전",first:"Duky",second:"Duky",third:"IRONKIM",details:"정식전 : 1위 Jak 2위 BB 3위 도적"},{season:"2023.7 랭킹전",first:"BB(통합우승)",second:"BB(고뇌우승)",third:"BB(비고뇌우승)",details:"정식전 : 1위 Duky 2위 묵선 3위 오찬물"},{season:"시즌 10",first:"ALO",second:"ADOOBA",third:"Duky",details:"정식전 10회 : 1위 도적 2위 ALO 3위 Jak"},{season:"시즌 9",first:"스티븐",second:"ADOOBA",third:"Duky",details:"정식전 9회 : 1위 Duky 2위 ADOOBA 3위 Jak"},{season:"시즌 8",first:"스티븐",second:"Duky",third:"ALO",details:"정식전 8회 : 1위 배로나 2위 Duky 3위 Art_ist<br/>테마전 8회 : 1위 GeonDal 2위 BallistaBB 3위 오찬물"},{season:"시즌 7",first:"봐바",second:"ALO",third:"도라라",details:"정식전 7회 : 1위 PABLO 2위 야토신 3위 DUTY<br/>테마전 7회 : 1위 ADOOBA & 스티븐 & 도라라 2위  3위 "},{season:"시즌 6",first:"PABLO",second:"오찬물",third:"ADOOBA",details:"정식전 6회 : 1위 Joral_Sinsa 2위 GeonDal 3위 RFHH<br/>테마전 6회 : 1위 도적 & Jak 2위  3위 "},{season:"시즌 5",first:"ADOOBA",second:"오찬물",third:"Joral_Sinsa",details:"정식전 5회 : 1위 ALO 2위 RFHH 3위 TOONGTANG<br/>테마전 5회 : 1위 돌아돌아 & 파멸 2위  3위 "},{season:"시즌 4",first:"Joral_Sinsa",second:"오찬물",third:"ADOOBA",details:"정식전 4회 : 1위 파멸 2위 GG 3위 좀건들지마봐<br/>테마전 4회 : 1위 Az 2위 TOONGTANG 3위 행복한우빈이네"},{season:"시즌 3",first:"TOONGTANG",second:"Joral_Sinsa",third:"ALO",details:"정식전 3회 : 1위 Thanos 2위 MikeTyson 3위 Az<br/>테마전 3회 : 1위 GG 2위 돌아돌아 3위 TOONGTANG"},{season:"시즌 2",first:"TOONGTANG",second:"BABBARIAN",third:"Thanos",details:"정식전 2회 : 1위 TOONGTANG 2위 AlwaysReview 3위 Az<br/>테마전 2회 : 1위 BABBARIAN & Thanos 2위  3위 "},{season:"시즌 1",first:"TOONGTANG",second:"Thanos",third:"AlwaysReview",details:"정식전 1회 : 1위 돌아돌아 2위 FBI멀더 3위 BallistaBB<br/>테마전 1회 : 1위 TOONGTANG 2위 BallistaBB 3위 PK"}],a=L(Array(s.length).fill(!1)),o=L(Array(i.length).fill(!1)),u=L(!1);function d(k){A(a,l(a).map((S,$)=>$===k?!S:S))}function p(k){A(o,l(o).map((S,$)=>$===k?!S:S))}function g(){A(u,!l(u))}ee();var f=R2(),m=h(f),y=v(h(m));Vt(y,5,()=>s,Gt,(k,S,$)=>{let R=()=>l(S).season,F=()=>l(S).first,j=()=>l(S).second,I=()=>l(S).third,K=()=>l(S).details;var E=O2(),C=ht(E),N=h(C),q=h(N),D=v(N),M=h(D),B=v(D),U=h(B),Z=v(B),W=h(Z),rt=v(C,2);gt(rt,()=>l(a)[$],Q=>{var tt=$2(),at=h(tt),G=h(at);Cl(G,K),P(Q,tt)}),st(()=>{et(q,R()),et(M,F()),et(U,j()),et(W,I())}),X("click",C,()=>d($)),P(k,E)});var b=v(m,2),w=h(b),x=h(w),T=v(b,2);gt(T,()=>l(u),k=>{var S=q2(),$=v(h(S));Vt($,5,()=>i,Gt,(R,F,j)=>{let I=()=>l(F).season,K=()=>l(F).first,E=()=>l(F).second,C=()=>l(F).third,N=()=>l(F).details;var q=C2(),D=ht(q),M=h(D),B=h(M),U=v(M),Z=h(U),W=v(U),rt=h(W),Q=v(W),tt=h(Q),at=v(D,2);gt(at,()=>l(o)[j],G=>{var ut=L2(),_t=h(ut),ct=h(_t);Cl(ct,N),P(G,ut)}),st(()=>{et(B,I()),et(Z,K()),et(rt,E()),et(tt,C())}),X("click",D,()=>p(j)),P(R,q)}),P(k,S)}),st(()=>et(x,l(u)?"이전 시즌 결과 숨기기":"이전 시즌 결과 보기")),X("click",w,g),P(r,f),Ht()}var D2=z('<tr class="svelte-o4nmjd"><td class="svelte-o4nmjd"><!></td></tr>'),P2=z('<div class="info-container"><table class="svelte-o4nmjd"><thead><tr class="svelte-o4nmjd"><th class="svelte-o4nmjd"> </th></tr></thead><tbody></tbody></table></div>');function B2(r){const t=Xt(),e=()=>nt(Jt,"$mode",t),n=e()?[{href:"/mpk/pscore",title:"질딘 파워점수 계산기"},{href:"/mpk/ring",title:"링 스탯 측정기"},{href:"/mpk/elo",title:"Elo 점수 예상계산기"}]:[{href:"/babapk/pscore",title:"파워점수 계산기"},{href:"/babapk/visio",title:"렙당뚜껑 계산기"},{href:"/babapk/simul",title:"시뮬레이터"},{href:"/babapk/ring",title:"링 스탯 측정기"}];var s=P2(),i=h(s),a=h(i),o=h(a),u=h(o),d=h(u),p=v(a);Vt(p,5,()=>n,Gt,(f,m)=>{var y=D2(),b=h(y),w=h(b);Kn(w,{get to(){return l(m).href},children:(x,T)=>{var k=fr();st(()=>et(k,l(m).title)),P(x,k)},$$slots:{default:!0}}),P(f,y)}),st(()=>et(d,`${(e()?"밀리PK":"정통바바")??""}계산기 들어가기`)),P(r,s)}var M2=z('<table><thead><tr><th colspan="4">질딘용 파워 점수 계산기</th></tr></thead><tbody><tr><td>방어</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>+ 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>% 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>오버 힘</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>오버 민첩</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 오버 스탯</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>활력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>생명력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>민뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>맥뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>데미지 추가(추뎀)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>증뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 기술 레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>모든 성기사 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>공격 오라 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>방깎</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>강타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>치타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 스탯(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function j2(r,t){Ft(t,!1);const e=L(),n=L(),s=L(),i=L(),a=L(),o=L(),u=L(),d=L(),p=L(),g=L();let f=L(0),m=L(0),y=L(0),b=L(0),w=L(0),x=L(0),T=L(0),k=L(0),S=L(0),$=L(0),R=L(0),F=L(0),j=L(0),I=L(0),K=0,E=L(0),C=L(0),N=L(0),q=L(0),D=L(0),M=L(0),B=L(0),U=L(0),Z=L(0),W,rt,Q,tt,at,G,ut,_t,ct,wt,dt,it,lt,vt,Nt,Rt,Ot,$t,Pt,se;const Wt=()=>{W=Math.floor((133+l($)+l(F))*(100+(492+l(j))+K*6+l(Z)*17+480+378+23*(l(I)+l(U)+7)-138+(232+l(b)+l(x)))/100),rt=Math.floor((552+l(R)+l(F))*(100+(492+l(j))+K*6+l(Z)*17+480+378+23*(l(I)+l(U)+7)-138+(232+l(b)+l(x)))/100),Q=Math.floor((148*5+(l(w)+l(x))*5-15+l(m)+2743)*(199+l(y)+170+20+270+K*10+l(Z)*5+15*(l(I)+l(U)+7)-15*6)/100),tt=Math.floor((3139+l(f)+Math.floor((148+l(w)+l(x))/4))*(860+15*(l(U)+l(I)+K+7)-15*6)/100),at=Math.round((55+99*2-2+(420+l(D)+l(M)*2)*3-25*3+60+l(k)+740)*(l(E)+100+71+(5+l(I))*3-9)/100)+l(S)+148+(l(x)+l(M)+80+l(T))*3,G=l(o)+l(C),ut=l(u)+l(N),_t=l(d)+l(q),ct=0,wt=(_t/100+(100-_t)/100*ct/100)*100,dt=(l(e)+l(n))/6/2/2,it=(W+rt)/6/2/2,lt=at/2/10*l(u)/100/2,vt=l(a)/2/10*ut/100/2,Nt=dt*(l(g)/100+1)+lt,Rt=it*(wt/100+1)+vt,Ot=l(s)/(l(s)+tt*(100-l(o)/2)/100)*.25,$t=Q/(Q+l(i)*(100-G/2)/100)*.25,Pt=at/Nt*4/25/Ot,se=l(a)/Rt*4/25/$t,A(B,Math.round((Pt/se*100-100)*100*100)/100)};qt(()=>{},()=>{A(e,2267)}),qt(()=>{},()=>{A(n,9411)}),qt(()=>{},()=>{A(s,23374)}),qt(()=>{},()=>{A(i,27790)}),qt(()=>{},()=>{A(a,4346)}),qt(()=>{},()=>{A(o,0)}),qt(()=>{},()=>{A(u,25)}),qt(()=>{},()=>{A(d,52)}),qt(()=>{},()=>{A(p,0)}),qt(()=>{},()=>{A(g,52)}),ar();var Yt=M2(),le=v(h(Yt)),oe=h(le),Qt=v(h(oe)),ce=h(Qt),we=v(Qt,2),ie=h(we),ue=v(oe),he=v(h(ue)),re=h(he),Te=v(he,2),ge=h(Te),Be=v(ue),be=v(h(Be)),Me=h(be),ke=v(be,2),Ne=h(ke),_e=v(Be),ae=v(h(_e)),Se=h(ae),$e=v(ae,2),Oe=h($e),Le=v(_e),Ce=v(h(Le)),qe=h(Ce),je=v(Ce,2),Tt=h(je),J=v(Le),ot=v(h(J)),ft=h(ot),Lt=v(ot,2),zt=h(Lt),Yr=v(J),mr=v(h(Yr)),gr=h(mr),pe=v(mr,2),Jr=h(pe),Xr=v(Yr),Nr=v(h(Xr)),Qr=h(Nr),tn=v(Nr,2),ve=h(tn),en=v(Xr),kr=v(h(en)),rn=h(kr),nn=v(kr,2),sn=h(nn),xe=v(en),Sr=v(h(xe)),an=h(Sr),ln=v(Sr,2),on=h(ln),cn=v(xe),rr=v(h(cn)),$r=h(rr),lr=v(rr,2),Ge=h(lr),Or=v(cn),Lr=h(Or),un=h(Lr),dn=v(Lr),fn=h(dn);st(()=>et(fn,`당신의 아이템 파워 점수는 ${l(B)??""}점 입니다`)),H(ce,()=>l(f),kt=>A(f,kt)),H(ie,()=>l(m),kt=>A(m,kt)),H(re,()=>l(y),kt=>A(y,kt)),H(ge,()=>l(b),kt=>A(b,kt)),H(Me,()=>l(w),kt=>A(w,kt)),H(Ne,()=>l(x),kt=>A(x,kt)),H(Se,()=>l(T),kt=>A(T,kt)),H(Oe,()=>l(k),kt=>A(k,kt)),H(qe,()=>l(S),kt=>A(S,kt)),H(Tt,()=>l($),kt=>A($,kt)),H(ft,()=>l(R),kt=>A(R,kt)),H(zt,()=>l(F),kt=>A(F,kt)),H(gr,()=>l(j),kt=>A(j,kt)),H(Jr,()=>l(I),kt=>A(I,kt)),H(Qr,()=>l(U),kt=>A(U,kt)),H(ve,()=>l(Z),kt=>A(Z,kt)),H(rn,()=>l(E),kt=>A(E,kt)),H(sn,()=>l(C),kt=>A(C,kt)),H(an,()=>l(N),kt=>A(N,kt)),H(on,()=>l(q),kt=>A(q,kt)),H($r,()=>l(D),kt=>A(D,kt)),H(Ge,()=>l(M),kt=>A(M,kt)),X("click",un,Wt),P(r,Yt),Ht()}var U2=z('<table><thead><tr><th colspan="4">바바용 파워 점수 계산기</th></tr></thead><tbody><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>방어</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 어레</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>% 어레</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 힘</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 민첩</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 오버 스탯</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>활력</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>생명력</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>민뎀</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>맥뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>데미지 추가(추뎀)</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>증뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+모든(바바) 스킬</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>전투지시</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>외침</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>철갑피부</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 함성 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 숙련 기술 레벨</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 전투 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>방깎</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>강타</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>치타</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 스탯(노오버)</td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function F2(r,t){Ft(t,!1);const e=L(),n=L(),s=L(),i=L(),a=L(),o=L(),u=L(),d=L(),p=L(),g=L();let f=L(0),m=L(0),y=L(0),b=L(0),w=L(0),x=L(0),T=L(0),k=L(0),S=L(0),$=L(0),R=L(0),F=L(0),j=L(0),I=L(0),K=L(0),E=L(0),C=L(0),N=L(0),q=L(0),D=L(0),M=L(0),B=L(0),U=L(0),Z=L(0),W=L(0),rt=L(0),Q=L(0),tt,at,G,ut,_t,ct,wt,dt,it,lt,vt,Nt,Rt,Ot,$t,Pt,se,Wt,Yt,le;const oe=()=>{tt=Math.floor((427+l($)+l(F))*(100+(440+l(j))+(258+6*10+l(I)*10)+(10+l(D)*5+l(q)*5)+(232+l(b)+l(x)))/100),at=Math.floor((592+l(R)+l(F))*(100+(440+l(j))+(258+6*10+l(I)*10)+(10+l(D)*5+l(q)*5)+(232+l(b)+l(x)))/100),G=Math.floor((222*5+(l(w)+l(x))*5-15+l(m)+3119)*(120+l(y)+248+180+13*(l(I)+6)-13*6+(l(D)+2)*5+l(q)*8)/100),ut=Math.floor((3583+l(f)+Math.floor((222+l(w)+l(x))/4))*(690+20*(l(I)+6)+(l(K)+l(C)+l(q)+l(N))*10)/100),_t=Math.round((55+99*2-2+(306+l(W)+l(rt)*2)*4-25*4+60+l(k)+855)*(l(M)+100+113+(6+l(I)+l(E))*3)/100)+l(S)+148+(l(x)+l(rt)+80+l(T))*4,ct=l(o)+l(B),wt=l(u)+l(U),dt=l(d)+l(Z),it=l(p)+(l(I)+l(q)>=4?1:0),lt=(dt/100+(100-dt)/100*it/100)*100,vt=(l(e)+l(n))/6/2/2,Nt=(tt+at)/6/2/2,Rt=_t/2/10*l(u)/100/2,Ot=l(a)/2/10*wt/100/2,$t=vt*(l(g)/100+1)+Rt,Pt=Nt*(lt/100+1)+Ot,se=l(s)/(l(s)+ut*(100-l(o)/2)/100)*.25,Wt=G/(G+l(i)*(100-ct/2)/100)*.25,Yt=_t/$t*4/25/se,le=l(a)/Pt*4/25/Wt,A(Q,Math.round((Yt/le*100-100)*100*100)/100)};qt(()=>{},()=>{A(e,4697)}),qt(()=>{},()=>{A(n,6512)}),qt(()=>{},()=>{A(s,23514)}),qt(()=>{},()=>{A(i,29467)}),qt(()=>{},()=>{A(a,5758)}),qt(()=>{},()=>{A(o,25)}),qt(()=>{},()=>{A(u,25)}),qt(()=>{},()=>{A(d,35)}),qt(()=>{},()=>{A(p,31)}),qt(()=>{},()=>{A(g,55.15)}),ar();var Qt=U2(),ce=v(h(Qt)),we=h(ce),ie=h(we),ue=h(ie),he=v(ie,2),re=h(he),Te=v(we),ge=h(Te),Be=h(ge),be=v(ge,2),Me=h(be),ke=v(Te),Ne=h(ke),_e=h(Ne),ae=v(Ne,2),Se=h(ae),$e=v(ke),Oe=h($e),Le=h(Oe),Ce=v(Oe,2),qe=h(Ce),je=v($e),Tt=h(je),J=h(Tt),ot=v(Tt,2),ft=h(ot),Lt=v(je),zt=h(Lt),Yr=h(zt),mr=v(zt,2),gr=h(mr),pe=v(Lt),Jr=h(pe),Xr=h(Jr),Nr=v(Jr,2),Qr=h(Nr),tn=v(pe),ve=h(tn),en=h(ve),kr=v(ve,2),rn=h(kr),nn=v(tn),sn=h(nn),xe=h(sn),Sr=v(sn,2),an=h(Sr),ln=v(nn),on=h(ln),cn=h(on),rr=v(on,2),$r=h(rr),lr=v(ln),Ge=h(lr),Or=h(Ge),Lr=v(Ge,2),un=h(Lr),dn=v(lr),fn=h(dn),kt=h(fn),hn=v(fn,2),pn=h(hn),br=v(dn),An=h(br),Dn=h(An),Pn=v(An,2),is=h(Pn),Bn=v(br),Tn=h(Bn),Nn=h(Tn),as=v(Tn),ls=h(as);st(()=>et(ls,`당신의 아이템 파워 점수는 ${l(Q)??""}점 입니다`)),H(ue,()=>l(f),yt=>A(f,yt)),H(re,()=>l(m),yt=>A(m,yt)),H(Be,()=>l(y),yt=>A(y,yt)),H(Me,()=>l(b),yt=>A(b,yt)),H(_e,()=>l(w),yt=>A(w,yt)),H(Se,()=>l(x),yt=>A(x,yt)),H(Le,()=>l(T),yt=>A(T,yt)),H(qe,()=>l(k),yt=>A(k,yt)),H(J,()=>l(S),yt=>A(S,yt)),H(ft,()=>l($),yt=>A($,yt)),H(Yr,()=>l(R),yt=>A(R,yt)),H(gr,()=>l(F),yt=>A(F,yt)),H(Xr,()=>l(j),yt=>A(j,yt)),H(Qr,()=>l(I),yt=>A(I,yt)),H(en,()=>l(E),yt=>A(E,yt)),H(rn,()=>l(K),yt=>A(K,yt)),H(xe,()=>l(C),yt=>A(C,yt)),H(an,()=>l(N),yt=>A(N,yt)),H(cn,()=>l(q),yt=>A(q,yt)),H($r,()=>l(D),yt=>A(D,yt)),H(Or,()=>l(M),yt=>A(M,yt)),H(un,()=>l(B),yt=>A(B,yt)),H(kt,()=>l(U),yt=>A(U,yt)),H(pn,()=>l(Z),yt=>A(Z,yt)),H(Dn,()=>l(W),yt=>A(W,yt)),H(is,()=>l(rt),yt=>A(rt,yt)),X("click",Nn,oe),P(r,Qt),Ht()}var H2=z(`<table><thead><tr><th colspan="4">BABAPK 렙당뚜껑 계산기</th></tr></thead><tbody><tr><td colspan="4">아이템 기본 스탯</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>방어</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 모든(바바) 스킬</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>% 어레 보너스</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>전투지시</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>외침</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>철갑피부</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 어레</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td></td><td></td></tr><tr><td colspan="4">2 소켓일 시 추가 주얼 스탯(1소켓일 시에는 모두 0 입력)</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>어레</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+방어</td></tr><tr><td colspan="4"><button class="emphasis-button" type="button">가치 계산</button><br> </td></tr><tr><td class="text svelte-synbn7" colspan="4">유니크 뚜껑과 비교<br> 504 방어 슬가 점수 = 100<br> 756 방어 에테 슬가 점수 = 95.54<br> 408 방어 3/3/3 스킬 악마뿔의 날 점수 = 95.77<br> 611 방어 3/3/3 스킬 에테 악마뿔의 날 점수 = 91.47</td></tr><tr><td class="text svelte-synbn7" colspan="4">이 계산기는 발리스타에 의해 만들어졌습니다<br> 99레벨, 으뜸 슬가, 3/20/20 부적, 강철찢개, 버석고뇌 : 100점<br> 만약 점수가 100점을 넘는다면 그만큼 슬가보다 좋은 뚜껑임을 나타냅니다.</td></tr><tr><td class="text svelte-synbn7" colspan="4">어떻게 사용하나요?<br> 뚜껑의 스탯을 입력하세요<br> 만약 1소켓인 경우 주얼 입력을 모두 0으로 하세요. 만약 그렇지 않다면, 지증속
          주얼 2개를 제외한 자신이 사용할 전투주얼 수치를 넣으세요<br> % 상승 어레와 + 상승 어레를 구별해서 넣어주세요</td></tr></tbody></table>`);function z2(r){let t=L(0),e=L(0),n=L(0),s=L(0),i=L(0),a=L(0),o=L(0),u=L(0),d=L(0),p=L(0),g=L(0),f=L(0),m=L(0),y=L(0),b=L(0),w=L(0),x=L(0),T=L(0),k=L(0),S=L(0),$=L(0),R=L(0);function F(){A(R,Math.round((2130+l(a)+l(k)+4*(l(s)+l(i)+l(T)+l(x)))*(2.25+(l(e)+l(o))*.03)+468)/(.25*23514/(23514+Math.floor((3134+l(t)+l($))*(.2*l(e)+7.7+.1*(l(d)+l(u)))*.875))*5604.5/12)/(5758/(.25*Math.floor((4214+l(p)+l(S))*(5.02+l(e)*.13+l(n)*.01))/(Math.floor((l(p)+l(S)+4214)*(5.02+l(e)*.13+l(n)*.01))+29467*.875)*(((219+l(f)+l(m)+l(w)+l(b))/2+400)*(10.7+.1*l(e)+.01*(l(g)+l(y))))/12))*100)}var j=H2(),I=v(h(j)),K=v(h(I)),E=h(K),C=h(E),N=v(E,2),q=h(N),D=v(K),M=h(D),B=h(M),U=v(M,2),Z=h(U),W=v(D),rt=h(W),Q=h(rt),tt=v(rt,2),at=h(tt),G=v(W),ut=h(G),_t=h(ut),ct=v(ut,2),wt=h(ct),dt=v(G),it=h(dt),lt=h(it),vt=v(it,2),Nt=h(vt),Rt=v(dt),Ot=h(Rt),$t=h(Ot),Pt=v(Ot,2),se=h(Pt),Wt=v(Rt),Yt=h(Wt),le=h(Yt),oe=v(Wt,2),Qt=h(oe),ce=h(Qt),we=v(Qt,2),ie=h(we),ue=v(oe),he=h(ue),re=h(he),Te=v(he,2),ge=h(Te),Be=v(ue),be=h(Be),Me=h(be),ke=v(be,2),Ne=h(ke),_e=v(Be),ae=h(_e),Se=h(ae),$e=v(ae,2),Oe=h($e),Le=v(_e),Ce=h(Le),qe=h(Ce),je=v(qe,2);st(()=>et(je,` 당신의 렙당 뚜껑의 점수는 ${l(R)??""}입니다`)),H(C,()=>l(t),Tt=>A(t,Tt)),H(q,()=>l(e),Tt=>A(e,Tt)),H(B,()=>l(n),Tt=>A(n,Tt)),H(Z,()=>l(s),Tt=>A(s,Tt)),H(Q,()=>l(i),Tt=>A(i,Tt)),H(at,()=>l(a),Tt=>A(a,Tt)),H(_t,()=>l(o),Tt=>A(o,Tt)),H(wt,()=>l(u),Tt=>A(u,Tt)),H(lt,()=>l(d),Tt=>A(d,Tt)),H(Nt,()=>l(p),Tt=>A(p,Tt)),H($t,()=>l(g),Tt=>A(g,Tt)),H(se,()=>l(f),Tt=>A(f,Tt)),H(le,()=>l(m),Tt=>A(m,Tt)),H(ce,()=>l(y),Tt=>A(y,Tt)),H(ie,()=>l(b),Tt=>A(b,Tt)),H(re,()=>l(w),Tt=>A(w,Tt)),H(ge,()=>l(x),Tt=>A(x,Tt)),H(Me,()=>l(T),Tt=>A(T,Tt)),H(Ne,()=>l(k),Tt=>A(k,Tt)),H(Se,()=>l(S),Tt=>A(S,Tt)),H(Oe,()=>l($),Tt=>A($,Tt)),X("click",qe,F),P(r,j)}var K2=z('<table><thead><tr><th>링 스탯 측정기</th></tr></thead><tbody><tr><td><select class="input-text short svelte-1d6dr2d"><option>야만용사</option><option>성기사</option><option>드루이드</option><option>아마존</option></select></td></tr><tr><td><label><input class="input-text short svelte-1d6dr2d" type="checkbox"> + 5% 추가어레</label> <input class="input-text short svelte-1d6dr2d" type="number"> 최소 데미지</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 최대 데미지 <input class="input-text short svelte-1d6dr2d" type="number"> 어레</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 힘 <input class="input-text short svelte-1d6dr2d" type="number"> 민첩</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 생명력</td></tr><tr><td><button class="emphasis-button">계산</button><br> <br> 단순히 스탯만을 계산하므로 전체적인 성능과는 차이가 있을 수 있습니다.</td></tr></tbody></table>');function G2(r,t){Ft(t,!1);const e=L();let n=L(0),s=L(0),i=L(0),a=L(0),o=L(0),u=L(0),d=L(4),p=L(0),g=L(!1);qt(()=>(l(s),l(i),l(n),l(u),l(o),l(a),l(d),l(g)),()=>{A(e,()=>{let G=l(s)+l(i)+l(n)/5+(l(u)+l(o))*1.5+l(a)/l(d);l(g)&&(G+=38/5),A(p,G)})}),ar();var f=K2(),m=v(h(f)),y=h(m),b=h(y),w=h(b);st(()=>{l(d),Bi(()=>{l(e)})});var x=h(w);x.value=(x.__value="4")==null?"":"4";var T=v(x);T.value=(T.__value="3")==null?"":"3";var k=v(T);k.value=(k.__value="2")==null?"":"2";var S=v(k);S.value=(S.__value="3")==null?"":"3";var $=v(y),R=h($),F=h(R),j=h(F),I=v(F,2),K=v($),E=h(K),C=h(E),N=v(C,2),q=v(K),D=h(q),M=h(D),B=v(M,2),U=v(q),Z=h(U),W=h(Z),rt=v(U),Q=h(rt),tt=h(Q),at=v(tt,2);st(()=>et(at,` 이 링의 전체 스탯은 ${l(p)??""} 스탯 입니다. `)),ji(w,()=>l(d),G=>A(d,G)),X("change",w,function(...G){var ut;(ut=l(e))==null||ut.apply(this,G)}),Hh(j,()=>l(g),G=>A(g,G)),H(I,()=>l(o),G=>A(o,G)),H(C,()=>l(u),G=>A(u,G)),H(N,()=>l(n),G=>A(n,G)),H(M,()=>l(s),G=>A(s,G)),H(B,()=>l(i),G=>A(i,G)),H(W,()=>l(a),G=>A(a,G)),X("click",tt,function(...G){var ut;(ut=l(e))==null||ut.apply(this,G)}),P(r,f),Ht()}var V2=z(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>내 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 내 스탯으로 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상대 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 상대 스탯으로 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr></tbody></table></div>`);function W2(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(at,"$mycharlv",e),s=()=>nt(G,"$myhp",e),i=()=>nt(_t,"$mymaxdmg",e),a=()=>nt(ut,"$mymindmg",e),o=()=>nt(ct,"$myar",e),u=()=>nt(wt,"$mydf",e),d=()=>nt(dt,"$myframe",e),p=()=>nt(it,"$mydfoff",e),g=()=>nt(lt,"$myreduce",e),f=()=>nt(vt,"$mycrush",e),m=()=>nt(Nt,"$mycs",e),y=()=>nt(Rt,"$myds",e),b=()=>nt(Ot,"$mydodge",e),w=()=>nt($t,"$myopenwound",e),x=()=>nt(Pt,"$mythorns",e),T=()=>nt(se,"$myclass",e),k=()=>nt(Wt,"$yourcharlv",e),S=()=>nt(Yt,"$yourhp",e),$=()=>nt(oe,"$yourmaxdmg",e),R=()=>nt(le,"$yourmindmg",e),F=()=>nt(Qt,"$yourar",e),j=()=>nt(ce,"$yourdf",e),I=()=>nt(we,"$yourframe",e),K=()=>nt(ie,"$yourdfoff",e),E=()=>nt(ue,"$yourreduce",e),C=()=>nt(he,"$yourcrush",e),N=()=>nt(re,"$yourcs",e),q=()=>nt(Te,"$yourds",e),D=()=>nt(ge,"$yourdodge",e),M=()=>nt(Be,"$youropenwound",e),B=()=>nt(be,"$yourthorns",e),U=()=>nt(Me,"$yourclass",e),Z=()=>nt(ke,"$iterations",e),W=()=>nt(Ne,"$win",e),rt=()=>nt(_e,"$lose",e),Q=()=>nt(ae,"$draw",e),tt=()=>nt(Se,"$winRate",e);let at=St(99),G=St(0),ut=St(0),_t=St(0),ct=St(0),wt=St(0),dt=St(4),it=St(0),lt=St(0),vt=St(0),Nt=St(0),Rt=St(0),Ot=St(0),$t=St(0),Pt=St(0),se=St(1),Wt=St(99),Yt=St(0),le=St(0),oe=St(0),Qt=St(0),ce=St(0),we=St(4),ie=St(0),ue=St(50),he=St(0),re=St(0),Te=St(0),ge=St(0),Be=St(0),be=St(0),Me=St(1),ke=St(2e3),Ne=St(0),_e=St(0),ae=St(0),Se=St(0);const $e=()=>{const mt={charlv:n(),hp:s(),maxdmg:i(),mindmg:a(),ar:o(),df:u(),frame:d(),dfoff:p(),reduce:g(),crush:f(),cs:m(),ds:y(),dodge:b(),openwound:w(),thorns:x(),class:T()},Qe=JSON.stringify(mt),sr=new Blob([Qe],{type:"application/json"}),Ir=URL.createObjectURL(sr),Dr=document.createElement("a");Dr.download="my_stat.json",Dr.href=Ir,Dr.click()},Oe=()=>{const mt={charlv:k(),hp:S(),maxdmg:$(),mindmg:R(),ar:F(),df:j(),frame:I(),dfoff:K(),reduce:E(),crush:C(),cs:N(),ds:q(),dodge:D(),openwound:M(),thorns:B(),class:U()},Qe=JSON.stringify(mt),sr=new Blob([Qe],{type:"application/json"}),Ir=URL.createObjectURL(sr),Dr=document.createElement("a");Dr.download="opponent_stat.json",Dr.href=Ir,Dr.click()},Le=mt=>{var Ir;const Qe=(Ir=mt.target.files)==null?void 0:Ir[0];if(!Qe)return;const sr=new FileReader;sr.onload=Dr=>{var xi;try{const It=JSON.parse((xi=Dr.target)==null?void 0:xi.result);Object.keys(It).forEach(nl=>{if(It[nl]===void 0)throw Error}),at.set(It.charlv),G.set(It.hp),_t.set(It.maxdmg),ut.set(It.mindmg),ct.set(It.ar),wt.set(It.df),dt.set(It.frame),it.set(It.dfoff),lt.set(It.reduce),vt.set(It.crush),Nt.set(It.cs),Rt.set(It.ds),Ot.set(It.dodge),$t.set(It.openwound),Pt.set(It.thorns),se.set(It.class)}catch{alert("Invalid JSON file")}},sr.readAsText(Qe)},Ce=mt=>{var Ir;const Qe=(Ir=mt.target.files)==null?void 0:Ir[0];if(!Qe)return;const sr=new FileReader;sr.onload=Dr=>{var xi;try{const It=JSON.parse((xi=Dr.target)==null?void 0:xi.result);Object.keys(It).forEach(nl=>{if(It[nl]===void 0)throw Error}),Wt.set(It.charlv),Yt.set(It.hp),oe.set(It.maxdmg),le.set(It.mindmg),Qt.set(It.ar),ce.set(It.df),we.set(It.frame),ie.set(It.dfoff),ue.set(It.reduce),he.set(It.crush),re.set(It.cs),Te.set(It.ds),ge.set(It.dodge),Be.set(It.openwound),be.set(It.thorns),Me.set(It.class)}catch{alert("Invalid JSON file")}},sr.readAsText(Qe)},qe=async()=>{Ne.set(0),_e.set(0),ae.set(0),Se.set(0);const mt={myhp:s(),yourhp:S(),myframe:d(),yourframe:I(),myclass:T(),yourclass:U(),mycharlv:n(),yourcharlv:k(),iterations:Z(),myar:o(),yourar:F(),mydf:u(),yourdf:j(),mydfoff:p(),yourdfoff:K(),mydodge:b(),yourdodge:D(),mycrush:f(),yourcrush:C(),myopenwound:w(),youropenwound:M(),mymaxdmg:i(),mymindmg:a(),yourmaxdmg:$(),yourmindmg:R(),myreduce:g(),yourreduce:E(),mycs:m(),myds:y(),yourcs:N(),yourds:q(),mythorns:x(),yourthorns:B()};try{const Qe=await Dt("/calculate","POST",mt);if(Qe.ok){const sr=await Qe.json();Ne.set(sr.winCount),_e.set(sr.loseCount),ae.set(sr.drawCount);const Ir=Number(sr.winRate.toFixed(2));Se.set(Ir)}else console.error("Error calculating:",Qe.statusText)}catch(Qe){console.error("Error calculating:",Qe),alert("Calculation failed.")}};ee();var je=V2(),Tt=v(h(je),2),J=h(Tt),ot=h(J),ft=v(h(ot)),Lt=h(ft),zt=v(ft,2),Yr=h(zt),mr=v(ot),gr=v(h(mr)),pe=h(gr),Jr=v(gr,2),Xr=h(Jr),Nr=v(mr),Qr=v(h(Nr)),tn=h(Qr),ve=v(Qr,2),en=h(ve),kr=v(Nr),rn=v(h(kr)),nn=h(rn),sn=v(rn,2),xe=h(sn),Sr=v(kr),an=v(h(Sr)),ln=h(an),on=v(an,2),cn=h(on),rr=v(Sr),$r=v(h(rr)),lr=h($r),Ge=v($r,2),Or=h(Ge),Lr=v(rr),un=v(h(Lr)),dn=h(un),fn=v(un,2),kt=h(fn),hn=v(Lr),pn=v(h(hn)),br=h(pn),An=v(pn,2),Dn=h(An),Pn=v(Tt,4),is=h(Pn),Bn=h(is),Tn=v(h(Bn)),Nn=h(Tn),as=v(Tn,2),ls=h(as),yt=v(Bn),nr=v(h(yt)),Cr=h(nr),qr=v(nr,2),mi=h(qr),or=v(yt),$s=v(h(or)),gi=h($s),bi=v($s,2),_i=h(bi),os=v(or),Ue=v(h(os)),Os=h(Ue),Ls=v(Ue,2),Mn=h(Ls),jn=v(os),kn=v(h(jn)),yi=h(kn),Cs=v(kn,2),cs=h(Cs),us=v(jn),cr=v(h(us)),qs=h(cr),ds=v(cr,2),wi=h(ds),Rs=v(us),c=v(h(Rs)),_=h(c),O=v(c,2),V=h(O),Ct=v(Rs),At=v(h(Ct)),Kt=h(At),Mt=v(At,2),ye=h(Mt),Zt=v(Pn,2),Fe=h(Zt),Ve=h(Fe),Ee=v(h(Ve)),He=h(Ee),Re=v(Ve),vn=v(h(Re)),Rr=h(vn),Sn=v(Zt,2),da=h(Sn),Is=h(da),Ds=v(h(Is)),Uo=h(Ds),Fo=v(Uo,2),Ho=v(Fo,2),gf=v(Ho,2);st(()=>{et(Uo,`승 : ${W()??""}`),et(Fo,` 패 : ${rt()??""}`),et(Ho,` 무승부 : ${Q()??""}`),et(gf,` 승률 : ${tt()??""} %`)}),H(Lt,n,mt=>te(at,mt)),H(Yr,a,mt=>te(ut,mt)),H(pe,i,mt=>te(_t,mt)),H(Xr,o,mt=>te(ct,mt)),H(tn,p,mt=>te(it,mt)),H(en,u,mt=>te(wt,mt)),H(nn,s,mt=>te(G,mt)),H(xe,d,mt=>te(dt,mt)),H(ln,g,mt=>te(lt,mt)),H(cn,f,mt=>te(vt,mt)),H(lr,y,mt=>te(Rt,mt)),H(Or,m,mt=>te(Nt,mt)),H(dn,w,mt=>te($t,mt)),H(kt,x,mt=>te(Pt,mt)),X("click",br,$e),X("change",Dn,Le),H(Nn,k,mt=>te(Wt,mt)),H(ls,R,mt=>te(le,mt)),H(Cr,$,mt=>te(oe,mt)),H(mi,F,mt=>te(Qt,mt)),H(gi,K,mt=>te(ie,mt)),H(_i,j,mt=>te(ce,mt)),H(Os,S,mt=>te(Yt,mt)),H(Mn,I,mt=>te(we,mt)),H(yi,E,mt=>te(ue,mt)),H(cs,C,mt=>te(he,mt)),H(qs,q,mt=>te(Te,mt)),H(wi,N,mt=>te(re,mt)),H(_,M,mt=>te(Be,mt)),H(V,B,mt=>te(be,mt)),X("click",Kt,Oe),X("change",ye,Ce),H(He,Z,mt=>te(ke,mt)),X("click",Rr,qe),P(r,je),Ht()}var Z2=z('<div class="main-container svelte-h7jwtc"><div class="table-head svelte-h7jwtc">Elo점수 예상 계산기</div> <div class="form-wrapper svelte-h7jwtc"><div class="input-group svelte-h7jwtc"><label for="wScore" class="svelte-h7jwtc">승자 점수</label> <input type="number" id="wScore" class="input-text name svelte-h7jwtc"></div> <div class="input-group svelte-h7jwtc"><label for="lScore" class="svelte-h7jwtc">패자 점수</label> <input type="number" id="lScore" class="input-text name svelte-h7jwtc"></div></div> <div class="result-wrapper svelte-h7jwtc"><button class="emphasis-button">계산</button> <p class="result-text svelte-h7jwtc"> </p></div></div>');function Y2(r,t){Ft(t,!1);const e=L();let n=L(),s=L(),i=L();const a=32,o=400;qt(()=>(l(n),l(s)),()=>{A(e,()=>{if(l(n)!==void 0&&l(s)!==void 0){const T=1/(1+Math.pow(10,(l(s)-l(n))/o));A(i,Math.round(a*(1-T)))}else A(i,void 0)})}),ar();var u=Z2(),d=v(h(u),2),p=h(d),g=v(h(p),2),f=v(p,2),m=v(h(f),2),y=v(d,2),b=h(y),w=v(b,2),x=h(w);st(()=>et(x,`예상 득실 점수: ${(l(i)!==void 0?l(i):"값을 입력하세요")??""}`)),H(g,()=>l(n),T=>A(n,T)),H(m,()=>l(s),T=>A(s,T)),X("click",b,function(...T){var k;(k=l(e))==null||k.apply(this,T)}),P(r,u),Ht()}var J2=z("<option> </option>"),X2=z('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-18a1swj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="input-text score svelte-18a1swj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br></div>'),Q2=z('<div class="left">권한이 없습니다.</div>'),tw=z('<div class="main_data"><!></div>');function ew(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(gs,"$nicknames",e),s=()=>nt(Jt,"$mode",e),i=()=>nt(Pe,"$myaccount",e);let a=L(),o=L();function u(b){A(a,p(b.target.value,n()))}function d(b){A(o,b.target.value)}function p(b,w){return w.includes(b)?b:""}Ke(()=>{na(s())});async function g(){const b={player:l(a),playerScore:l(o)};try{(await Dt("/admin-score/m_user/submit","POST",b)).status===201&&alert("점수 부여 완료")}catch{alert("오류 발생")}}async function f(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const w=await Dt("/admin-score/m_user/reset","DELETE");w&&w.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${w.status}`)}catch{alert("오류 발생")}}ee();var m=tw(),y=h(m);gt(y,()=>i()==="admin_m",b=>{var w=X2(),x=v(h(w)),T=v(x,2);Vt(T,5,n,Gt,(R,F)=>{var j=J2(),I={},K=h(j);st(()=>{I!==(I=l(F))&&(j.value=(j.__value=l(F))==null?"":l(F)),et(K,l(F))}),P(R,j)});var k=v(T,2),S=v(k,2),$=v(S,8);H(x,()=>l(a),R=>A(a,R)),X("blur",x,u),H(k,()=>l(o),R=>A(o,R)),X("change",k,d),X("click",S,g),X("click",$,f),P(b,w)},b=>{var w=Q2();P(b,w)}),P(r,m),Ht()}var rw=z("<option> </option>"),nw=z('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button></div>'),sw=z('<div class="left">권한이 없습니다.</div>'),iw=z('<div class="main_data"><!></div>');function aw(r,t){Ft(t,!1);const e=Xt(),n=()=>nt(gs,"$nicknames",e),s=()=>nt(Jt,"$mode",e),i=()=>nt(Pe,"$myaccount",e);let a=L(),o=L();function u(b){A(a,p(b.target.value,n()))}function d(b){A(o,b.target.value)}function p(b,w){return w.includes(b)?b:""}Ke(async()=>{na(s())});async function g(){const b={player:l(a),playerScore:l(o)};try{const w=await Dt("/admin-score/b_user/submit","POST",b);w&&w.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${w.status}`)}catch{alert("오류 발생")}}async function f(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const w=await Dt("/admin-score/b_user/reset","DELETE");w&&w.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${w.status}`)}catch{alert("오류 발생")}}ee();var m=iw(),y=h(m);gt(y,()=>i()==="admin",b=>{var w=nw(),x=v(h(w)),T=v(x,2);Vt(T,5,n,Gt,(R,F)=>{var j=rw(),I={},K=h(j);st(()=>{I!==(I=l(F))&&(j.value=(j.__value=l(F))==null?"":l(F)),et(K,l(F))}),P(R,j)});var k=v(T,2),S=v(k,2),$=v(S,8);H(x,()=>l(a),R=>A(a,R)),X("blur",x,u),H(k,()=>l(o),R=>A(o,R)),X("change",k,d),X("click",S,g),X("click",$,f),P(b,w)},b=>{var w=sw();P(b,w)}),P(r,m),Ht()}var lw=z('<nav><!></nav> <header><!></header> <main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main> <div class="form-container"><!></div> <footer><!></footer>',1);function ow(r){vp(r,{children:(t,e)=>{var n=lw(),s=ht(n),i=h(s);yp(i,{});var a=v(s,2),o=h(a);Np(o,{});var u=v(a,2),d=h(u);Ie(d,{path:"/:type/info",component:$p});var p=v(d,2);Ie(p,{path:"/",component:dc});var g=v(p,2);Ie(g,{path:"/mpk",component:dc});var f=v(g,2);Ie(f,{path:"/:type/rank",component:Yv});var m=v(f,2);Ie(m,{path:"/:type/record",component:cm});var y=v(m,2);Ie(y,{path:"/:type/tournament",component:_m});var b=v(y,2);Ie(b,{path:"/:type/boardlist",component:km});var w=v(b,2);Ie(w,{path:"/:type/post/:id",component:Pm});var x=v(w,2);Ie(x,{path:"/:type/write",component:S2});var T=v(x,2);Ie(T,{path:"/:type/winners",component:I2});var k=v(T,2);Ie(k,{path:"/:type/calculator",component:B2});var S=v(k,2);Ie(S,{path:"/mpk/pscore",component:j2});var $=v(S,2);Ie($,{path:"/babapk/pscore",component:F2});var R=v($,2);Ie(R,{path:"/babapk/visio",component:z2});var F=v(R,2);Ie(F,{path:"/:type/ring",component:G2});var j=v(F,2);Ie(j,{path:"/babapk/simul",component:W2});var I=v(j,2);Ie(I,{path:"/mpk/elo",component:Y2});var K=v(I,2);Ie(K,{path:"/mpk/admin",component:ew});var E=v(K,2);Ie(E,{path:"/babapk/admin",component:aw});var C=v(u,2),N=h(C);Dv(N,{});var q=v(C,2),D=h(q);Ap(D,{}),P(t,n)},$$slots:{default:!0}})}kh(ow,{target:document.getElementById("app")})});export default cw();
