var zf=Object.defineProperty;var Kf=(r,t,e)=>t in r?zf(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Gf=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var gt=(r,t,e)=>Kf(r,typeof t!="symbol"?t+"":t,e);var Mw=Gf((Gr,Vr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const Lu=!1;var ro=Array.isArray,wl=Array.from,Vf=Object.defineProperty,ys=Object.getOwnPropertyDescriptor,Cu=Object.getOwnPropertyDescriptors,Wf=Object.prototype,Jf=Array.prototype,zi=Object.getPrototypeOf;function aa(r){return typeof r=="function"}const zr=()=>{};function Zf(r){return typeof(r==null?void 0:r.then)=="function"}function Yf(r){return r()}function Ki(r){for(var t=0;t<r.length;t++)r[t]()}const un=2,qu=4,di=8,no=16,Nn=32,fi=64,Uo=128,Ks=256,Gi=512,vr=1024,Ts=2048,Sa=4096,Bn=8192,Oa=16384,Ru=32768,hi=65536,Iu=1<<17,Xf=1<<19,Du=1<<20,Qn=Symbol("$state"),Pu=Symbol("legacy props"),Qf=Symbol("");function Bu(r){return r===this.v}function xl(r,t){return r!=r?t==t:r!==t||r!==null&&typeof r=="object"||typeof r=="function"}function th(r,t){return r!==t}function El(r){return!xl(r,this.v)}function eh(r){throw new Error("effect_in_teardown")}function rh(){throw new Error("effect_in_unowned_derived")}function nh(r){throw new Error("effect_orphan")}function sh(){throw new Error("effect_update_depth_exceeded")}function ah(r){throw new Error("props_invalid_value")}function ih(){throw new Error("state_descriptors_fixed")}function oh(){throw new Error("state_prototype_fixed")}function lh(){throw new Error("state_unsafe_local_read")}function ch(){throw new Error("state_unsafe_mutation")}let La=!1;function uh(){La=!0}function pr(r){return{f:0,v:r,reactions:null,equals:Bu,version:0}}function xa(r,t=!1){var n;const e=pr(r);return t||(e.equals=El),La&&Qt!==null&&Qt.l!==null&&((n=Qt.l).s??(n.s=[])).push(e),e}function C(r,t=!1){return dh(xa(r,t))}function dh(r){return fe!==null&&fe.f&un&&(Mn===null?qh([r]):Mn.push(r)),r}function Ds(r,t){return A(r,An(()=>o(r))),t}function A(r,t){return fe!==null&&qa()&&fe.f&(un|no)&&(Mn===null||!Mn.includes(r))&&ch(),va(r,t)}function va(r,t){return r.equals(t)||(r.v=t,r.version=ad(),Mu(r,Ts),qa()&&Wt!==null&&Wt.f&vr&&!(Wt.f&Nn)&&(or!==null&&or.includes(r)?(kn(Wt,Ts),lo(Wt)):xs===null?Rh([r]):xs.push(r))),t}function Mu(r,t){var e=r.reactions;if(e!==null)for(var n=qa(),s=e.length,a=0;a<s;a++){var i=e[a],l=i.f;l&Ts||!n&&i===Wt||(kn(i,t),l&(vr|Ks)&&(l&un?Mu(i,Sa):lo(i)))}}const Al=1,Tl=2,ju=4,fh=8,hh=16,ph=1,vh=2,Uu=4,mh=8,gh=16,bh=1,_h=2,yh=4,wh=1,xh=2,ir=Symbol();let Fu=!1;function ia(r,t=null,e){if(typeof r!="object"||r===null||Qn in r)return r;const n=zi(r);if(n!==Wf&&n!==Jf)return r;var s=new Map,a=ro(r),i=pr(0);a&&s.set("length",pr(r.length));var l;return new Proxy(r,{defineProperty(c,d,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&ih();var g=s.get(d);return g===void 0?(g=pr(v.value),s.set(d,g)):A(g,ia(v.value,l)),!0},deleteProperty(c,d){var v=s.get(d);if(v===void 0)d in c&&s.set(d,pr(ir));else{if(a&&typeof d=="string"){var g=s.get("length"),p=Number(d);Number.isInteger(p)&&p<g.v&&A(g,p)}A(v,ir),ic(i)}return!0},get(c,d,v){var y;if(d===Qn)return r;var g=s.get(d),p=d in c;if(g===void 0&&(!p||(y=ys(c,d))!=null&&y.writable)&&(g=pr(ia(p?c[d]:ir,l)),s.set(d,g)),g!==void 0){var m=o(g);return m===ir?void 0:m}return Reflect.get(c,d,v)},getOwnPropertyDescriptor(c,d){var v=Reflect.getOwnPropertyDescriptor(c,d);if(v&&"value"in v){var g=s.get(d);g&&(v.value=o(g))}else if(v===void 0){var p=s.get(d),m=p==null?void 0:p.v;if(p!==void 0&&m!==ir)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return v},has(c,d){var m;if(d===Qn)return!0;var v=s.get(d),g=v!==void 0&&v.v!==ir||Reflect.has(c,d);if(v!==void 0||Wt!==null&&(!g||(m=ys(c,d))!=null&&m.writable)){v===void 0&&(v=pr(g?ia(c[d],l):ir),s.set(d,v));var p=o(v);if(p===ir)return!1}return g},set(c,d,v,g){var k;var p=s.get(d),m=d in c;if(a&&d==="length")for(var y=v;y<p.v;y+=1){var b=s.get(y+"");b!==void 0?A(b,ir):y in c&&(b=pr(ir),s.set(y+"",b))}p===void 0?(!m||(k=ys(c,d))!=null&&k.writable)&&(p=pr(void 0),A(p,ia(v,l)),s.set(d,p)):(m=p.v!==ir,A(p,ia(v,l)));var w=Reflect.getOwnPropertyDescriptor(c,d);if(w!=null&&w.set&&w.set.call(g,v),!m){if(a&&typeof d=="string"){var E=s.get("length"),T=Number(d);Number.isInteger(T)&&T>=E.v&&A(E,T+1)}ic(i)}return!0},ownKeys(c){o(i);var d=Reflect.ownKeys(c).filter(p=>{var m=s.get(p);return m===void 0||m.v!==ir});for(var[v,g]of s)g.v!==ir&&!(v in c)&&d.push(v);return d},setPrototypeOf(){oh()}})}function ic(r,t=1){A(r,r.v+t)}function oc(r){return r!==null&&typeof r=="object"&&Qn in r?r[Qn]:r}function Eh(r,t){return Object.is(oc(r),oc(t))}var lc,Hu,zu;function Ah(){if(lc===void 0){lc=window;var r=Element.prototype,t=Node.prototype;Hu=ys(t,"firstChild").get,zu=ys(t,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function so(r=""){return document.createTextNode(r)}function Ya(r){return Hu.call(r)}function ao(r){return zu.call(r)}function f(r,t){return Ya(r)}function mt(r,t){{var e=Ya(r);return e instanceof Comment&&e.data===""?ao(e):e}}function h(r,t=1,e=!1){let n=r;for(;t--;)n=ao(n);return n}function Th(r){r.textContent=""}function Vi(r){var t=un|Ts;Wt===null?t|=Ks:Wt.f|=Du;var e=fe!==null&&fe.f&un?fe:null;const n={children:null,ctx:Qt,deps:null,equals:Bu,f:t,fn:r,reactions:null,v:null,version:0,parent:e??Wt};return e!==null&&(e.children??(e.children=[])).push(n),n}function Ze(r){const t=Vi(r);return t.equals=El,t}function Ku(r){var t=r.children;if(t!==null){r.children=null;for(var e=0;e<t.length;e+=1){var n=t[e];n.f&un?Nl(n):ks(n)}}}function Nh(r){for(var t=r.parent;t!==null;){if(!(t.f&un))return t;t=t.parent}return null}function Gu(r){var t,e=Wt;yr(Nh(r));try{Ku(r),t=id(r)}finally{yr(e)}return t}function Vu(r){var t=Gu(r),e=(ha||r.f&Ks)&&r.deps!==null?Sa:vr;kn(r,e),r.equals(t)||(r.v=t,r.version=ad())}function Nl(r){Ku(r),ti(r,0),kn(r,Oa),r.v=r.children=r.deps=r.ctx=r.reactions=null}function Wu(r){Wt===null&&fe===null&&nh(),fe!==null&&fe.f&Ks&&rh(),$l&&eh()}function kh(r,t){var e=t.last;e===null?t.last=t.first=r:(e.next=r,r.prev=e,t.last=r)}function Ca(r,t,e,n=!0){var s=(r&fi)!==0,a=Wt,i={ctx:Qt,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:r|Ts,first:null,fn:t,last:null,next:null,parent:s?null:a,prev:null,teardown:null,transitions:null,version:0};if(e){var l=ma;try{cc(!0),gi(i),i.f|=Ru}catch(v){throw ks(i),v}finally{cc(l)}}else t!==null&&lo(i);var c=e&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Du)===0;if(!c&&!s&&n&&(a!==null&&kh(i,a),fe!==null&&fe.f&un)){var d=fe;(d.children??(d.children=[])).push(i)}return i}function Ju(r){const t=Ca(di,null,!1);return kn(t,vr),t.teardown=r,t}function Fo(r){Wu();var t=Wt!==null&&(Wt.f&Nn)!==0&&Qt!==null&&!Qt.m;if(t){var e=Qt;(e.e??(e.e=[])).push({fn:r,effect:Wt,reaction:fe})}else{var n=pi(r);return n}}function $h(r){return Wu(),vi(r)}function Sh(r){const t=Ca(fi,r,!0);return()=>{ks(t)}}function pi(r){return Ca(qu,r,!1)}function Dt(r,t,e,n){var s=Qt,a={effect:null,ran:!1};s.l.r1.push(a),a.effect=vi(()=>{r(),!a.ran&&(a.ran=!0,A(s.l.r2,!0),An(t))})}function wr(){var r=Qt;vi(()=>{if(o(r.l.r2)){for(var t of r.l.r1){var e=t.effect;e.f&vr&&kn(e,Sa),Ra(e)&&gi(e),t.ran=!1}r.l.r2.v=!1}})}function vi(r){return Ca(di,r,!0)}function st(r){return Gs(r)}function Gs(r,t=0){return Ca(di|no|t,r,!0)}function xn(r,t=!0){return Ca(di|Nn,r,!0,t)}function Zu(r){var t=r.teardown;if(t!==null){const e=$l,n=fe;uc(!0),dn(null);try{t.call(null)}finally{uc(e),dn(n)}}}function Yu(r){var t=r.deriveds;if(t!==null){r.deriveds=null;for(var e=0;e<t.length;e+=1)Nl(t[e])}}function Xu(r,t=!1){var e=r.first;for(r.first=r.last=null;e!==null;){var n=e.next;ks(e,t),e=n}}function Oh(r){for(var t=r.first;t!==null;){var e=t.next;t.f&Nn||ks(t),t=e}}function ks(r,t=!0){var e=!1;if((t||r.f&Xf)&&r.nodes_start!==null){for(var n=r.nodes_start,s=r.nodes_end;n!==null;){var a=n===s?null:ao(n);n.remove(),n=a}e=!0}Xu(r,t&&!e),Yu(r),ti(r,0),kn(r,Oa);var i=r.transitions;if(i!==null)for(const c of i)c.stop();Zu(r);var l=r.parent;l!==null&&l.first!==null&&Qu(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Qu(r){var t=r.parent,e=r.prev,n=r.next;e!==null&&(e.next=n),n!==null&&(n.prev=e),t!==null&&(t.first===r&&(t.first=n),t.last===r&&(t.last=e))}function ws(r,t){var e=[];kl(r,e,!0),td(e,()=>{ks(r),t&&t()})}function td(r,t){var e=r.length;if(e>0){var n=()=>--e||t();for(var s of r)s.out(n)}else t()}function kl(r,t,e){if(!(r.f&Bn)){if(r.f^=Bn,r.transitions!==null)for(const i of r.transitions)(i.is_global||e)&&t.push(i);for(var n=r.first;n!==null;){var s=n.next,a=(n.f&hi)!==0||(n.f&Nn)!==0;kl(n,t,a?e:!1),n=s}}}function Bs(r){ed(r,!0)}function ed(r,t){if(r.f&Bn){Ra(r)&&gi(r),r.f^=Bn;for(var e=r.first;e!==null;){var n=e.next,s=(e.f&hi)!==0||(e.f&Nn)!==0;ed(e,s?t:!1),e=n}if(r.transitions!==null)for(const a of r.transitions)(a.is_global||t)&&a.in()}}let Wi=!1,Ho=[];function rd(){Wi=!1;const r=Ho.slice();Ho=[],Ki(r)}function mi(r){Wi||(Wi=!0,queueMicrotask(rd)),Ho.push(r)}function Lh(){Wi&&rd()}function io(r){throw new Error("lifecycle_outside_component")}const nd=0,Ch=1;let Mi=!1,ji=nd,Xa=!1,Qa=null,ma=!1,$l=!1;function cc(r){ma=r}function uc(r){$l=r}let Ps=[],ga=0,fe=null;function dn(r){fe=r}let Wt=null;function yr(r){Wt=r}let Mn=null;function qh(r){Mn=r}let or=null,Hr=0,xs=null;function Rh(r){xs=r}let sd=0,ha=!1,ps=null,Qt=null;function dc(r){Qt=r}function ad(){return++sd}function qa(){return!La||Qt!==null&&Qt.l===null}function Ra(r){var i,l;var t=r.f;if(t&Ts)return!0;if(t&Sa){var e=r.deps,n=(t&Ks)!==0;if(e!==null){var s;if(t&Gi){for(s=0;s<e.length;s++)((i=e[s]).reactions??(i.reactions=[])).push(r);r.f^=Gi}for(s=0;s<e.length;s++){var a=e[s];if(Ra(a)&&Vu(a),n&&Wt!==null&&!ha&&!((l=a==null?void 0:a.reactions)!=null&&l.includes(r))&&(a.reactions??(a.reactions=[])).push(r),a.version>r.version)return!0}}n||kn(r,vr)}return!1}function Ih(r,t){for(var e=t;e!==null;){if(e.f&Uo)try{e.fn(r);return}catch{e.f^=Uo}e=e.parent}throw Mi=!1,r}function Dh(r){return(r.f&Oa)===0&&(r.parent===null||(r.parent.f&Uo)===0)}function oo(r,t,e,n){if(Mi){if(e===null&&(Mi=!1),Dh(t))throw r;return}e!==null&&(Mi=!0);{Ih(r,t);return}}function id(r){var p;var t=or,e=Hr,n=xs,s=fe,a=ha,i=Mn,l=Qt,c=r.f;or=null,Hr=0,xs=null,fe=c&(Nn|fi)?null:r,ha=!ma&&(c&Ks)!==0,Mn=null,Qt=r.ctx;try{var d=(0,r.fn)(),v=r.deps;if(or!==null){var g;if(ti(r,Hr),v!==null&&Hr>0)for(v.length=Hr+or.length,g=0;g<or.length;g++)v[Hr+g]=or[g];else r.deps=v=or;if(!ha)for(g=Hr;g<v.length;g++)((p=v[g]).reactions??(p.reactions=[])).push(r)}else v!==null&&Hr<v.length&&(ti(r,Hr),v.length=Hr);return d}finally{or=t,Hr=e,xs=n,fe=s,ha=a,Mn=i,Qt=l}}function Ph(r,t){let e=t.reactions;if(e!==null){var n=e.indexOf(r);if(n!==-1){var s=e.length-1;s===0?e=t.reactions=null:(e[n]=e[s],e.pop())}}e===null&&t.f&un&&(or===null||!or.includes(t))&&(kn(t,Sa),t.f&(Ks|Gi)||(t.f^=Gi),ti(t,0))}function ti(r,t){var e=r.deps;if(e!==null)for(var n=t;n<e.length;n++)Ph(r,e[n])}function gi(r){var t=r.f;if(!(t&Oa)){kn(r,vr);var e=Wt,n=Qt;Wt=r;try{t&no?Oh(r):Xu(r),Yu(r),Zu(r);var s=id(r);r.teardown=typeof s=="function"?s:null,r.version=sd}catch(a){oo(a,r,e,n||r.ctx)}finally{Wt=e}}}function od(){if(ga>1e3){ga=0;try{sh()}catch(r){if(Qa!==null)oo(r,Qa,null);else throw r}}ga++}function ld(r){var t=r.length;if(t!==0){od();var e=ma;ma=!0;try{for(var n=0;n<t;n++){var s=r[n];s.f&vr||(s.f^=vr);var a=[];cd(s,a),Bh(a)}}finally{ma=e}}}function Bh(r){var t=r.length;if(t!==0)for(var e=0;e<t;e++){var n=r[e];if(!(n.f&(Oa|Bn)))try{Ra(n)&&(gi(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Qu(n):n.fn=null))}catch(s){oo(s,n,null,n.ctx)}}}function Mh(){if(Xa=!1,ga>1001)return;const r=Ps;Ps=[],ld(r),Xa||(ga=0,Qa=null)}function lo(r){ji===nd&&(Xa||(Xa=!0,queueMicrotask(Mh))),Qa=r;for(var t=r;t.parent!==null;){t=t.parent;var e=t.f;if(e&(fi|Nn)){if(!(e&vr))return;t.f^=vr}}Ps.push(t)}function cd(r,t){var e=r.first,n=[];t:for(;e!==null;){var s=e.f,a=(s&Nn)!==0,i=a&&(s&vr)!==0,l=e.next;if(!i&&!(s&Bn))if(s&di){if(a)e.f^=vr;else try{Ra(e)&&gi(e)}catch(g){oo(g,e,null,e.ctx)}var c=e.first;if(c!==null){e=c;continue}}else s&qu&&n.push(e);if(l===null){let g=e.parent;for(;g!==null;){if(r===g)break t;var d=g.next;if(d!==null){e=d;continue t}g=g.parent}}e=l}for(var v=0;v<n.length;v++)c=n[v],t.push(c),cd(c,t)}function ud(r){var t=ji,e=Ps;try{od();const s=[];ji=Ch,Ps=s,Xa=!1,ld(e);var n=r==null?void 0:r();return Lh(),(Ps.length>0||s.length>0)&&ud(),ga=0,Qa=null,n}finally{ji=t,Ps=e}}function o(r){var v;var t=r.f,e=(t&un)!==0;if(e&&t&Oa){var n=Gu(r);return Nl(r),n}if(ps!==null&&ps.add(r),fe!==null){Mn!==null&&Mn.includes(r)&&lh();var s=fe.deps;or===null&&s!==null&&s[Hr]===r?Hr++:or===null?or=[r]:or.push(r),xs!==null&&Wt!==null&&Wt.f&vr&&!(Wt.f&Nn)&&xs.includes(r)&&(kn(Wt,Ts),lo(Wt))}else if(e&&r.deps===null)for(var a=r,i=a.parent,l=a;i!==null;)if(i.f&un){var c=i;l=c,i=c.parent}else{var d=i;(v=d.deriveds)!=null&&v.includes(l)||(d.deriveds??(d.deriveds=[])).push(l);break}return e&&(a=r,Ra(a)&&Vu(a)),r.v}function jh(r){var t=ps;ps=new Set;var e=ps,n;try{if(An(r),t!==null)for(n of ps)t.add(n)}finally{ps=t}return e}function Yn(r){var t=jh(()=>An(r));for(var e of t)if(e.f&Iu)for(const n of e.deps||[])n.f&un||Ds(n,null);else Ds(e,null)}function An(r){const t=fe;try{return fe=null,r()}finally{fe=t}}const Uh=~(Ts|Sa|vr);function kn(r,t){r.f=r.f&Uh|t}function Ms(r){return dd().get(r)}function _o(r,t){return dd().set(r,t),t}function dd(r){return Qt===null&&io(),Qt.c??(Qt.c=new Map(Fh(Qt)||void 0))}function Fh(r){let t=r.p;for(;t!==null;){const e=t.c;if(e!==null)return e;t=t.p}return null}function fc(r,t=1){var e=o(r),n=t===1?e++:e--;return A(r,e),n}function Jt(r,t=!1,e){Qt={p:Qt,c:null,e:null,m:!1,s:r,x:null,l:null},La&&!t&&(Qt.l={s:null,u:null,r1:[],r2:pr(!1)})}function Zt(r){const t=Qt;if(t!==null){const i=t.e;if(i!==null){var e=Wt,n=fe;t.e=null;try{for(var s=0;s<i.length;s++){var a=i[s];yr(a.effect),dn(a.reaction),pi(a.fn)}}finally{yr(e),dn(n)}}Qt=t.p,t.m=!0}return{}}function js(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(Qn in r)zo(r);else if(!Array.isArray(r))for(let t in r){const e=r[t];typeof e=="object"&&e&&Qn in e&&zo(e)}}}function zo(r,t=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!t.has(r)){t.add(r),r instanceof Date&&r.getTime();for(let n in r)try{zo(r[n],t)}catch{}const e=zi(r);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const n=Cu(e);for(let s in n){const a=n[s].get;if(a)try{a.call(r)}catch{}}}}}function Hh(r,t){if(t){const e=document.body;r.autofocus=!0,mi(()=>{document.activeElement===e&&r.focus()})}}let hc=!1;function zh(){hc||(hc=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function fd(r){var t=fe,e=Wt;dn(null),yr(null);try{return r()}finally{dn(t),yr(e)}}function Sl(r,t,e,n=e){r.addEventListener(t,()=>fd(e));const s=r.__on_r;s?r.__on_r=()=>{s(),n()}:r.__on_r=n,zh()}const hd=new Set,Ko=new Set;function pd(r,t,e,n){function s(a){if(n.capture||Fa.call(t,a),!a.cancelBubble)return fd(()=>e.call(this,a))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?mi(()=>{t.addEventListener(r,s,n)}):t.addEventListener(r,s,n),s}function X(r,t,e,n,s){var a={capture:n,passive:s},i=pd(r,t,e,a);(t===document.body||t===window||t===document)&&Ju(()=>{t.removeEventListener(r,i,a)})}function Kh(r){for(var t=0;t<r.length;t++)hd.add(r[t]);for(var e of Ko)e(r)}function Fa(r){var T;var t=this,e=t.ownerDocument,n=r.type,s=((T=r.composedPath)==null?void 0:T.call(r))||[],a=s[0]||r.target,i=0,l=r.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){r.__root=t;return}var d=s.indexOf(t);if(d===-1)return;c<=d&&(i=c)}if(a=s[i]||r.target,a!==t){Vf(r,"currentTarget",{configurable:!0,get(){return a||e}});var v=fe,g=Wt;dn(null),yr(null);try{for(var p,m=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var b=a["__"+n];if(b!==void 0&&!a.disabled)if(ro(b)){var[w,...E]=b;w.apply(a,[r,...E])}else b.call(a,r)}catch(k){p?m.push(k):p=k}if(r.cancelBubble||y===t||y===null)break;a=y}if(p){for(let k of m)queueMicrotask(()=>{throw k});throw p}}finally{r.__root=t,delete r.currentTarget,dn(v),yr(g)}}}function vd(r){var t=document.createElement("template");return t.innerHTML=r,t.content}function ei(r,t){var e=Wt;e.nodes_start===null&&(e.nodes_start=r,e.nodes_end=t)}function G(r,t){var e=(t&wh)!==0,n=(t&xh)!==0,s,a=!r.startsWith("<!>");return()=>{s===void 0&&(s=vd(a?r:"<!>"+r),e||(s=Ya(s)));var i=n?document.importNode(s,!0):s.cloneNode(!0);if(e){var l=Ya(i),c=i.lastChild;ei(l,c)}else ei(i,i);return i}}function Kr(r=""){{var t=so(r+"");return ei(t,t),t}}function Xt(){var r=document.createDocumentFragment(),t=document.createComment(""),e=so();return r.append(t,e),ei(t,e),r}function B(r,t){r!==null&&r.before(t)}function Gh(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const Vh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Wh(r){return Vh.includes(r)}const Jh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function Zh(r){return r=r.toLowerCase(),Jh[r]??r}const Yh=["touchstart","touchmove"];function Xh(r){return Yh.includes(r)}let Go=!0;function tt(r,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function Qh(r,t){return tp(r,t)}const na=new Map;function tp(r,{target:t,anchor:e,props:n={},events:s,context:a,intro:i=!0}){Ah();var l=new Set,c=g=>{for(var p=0;p<g.length;p++){var m=g[p];if(!l.has(m)){l.add(m);var y=Xh(m);t.addEventListener(m,Fa,{passive:y});var b=na.get(m);b===void 0?(document.addEventListener(m,Fa,{passive:y}),na.set(m,1)):na.set(m,b+1)}}};c(wl(hd)),Ko.add(c);var d=void 0,v=Sh(()=>{var g=e??t.appendChild(so());return xn(()=>{if(a){Jt({});var p=Qt;p.c=a}s&&(n.$$events=s),Go=i,d=r(g,n)||{},Go=!0,a&&Zt()}),()=>{var y;for(var p of l){t.removeEventListener(p,Fa);var m=na.get(p);--m===0?(document.removeEventListener(p,Fa),na.delete(p)):na.set(p,m)}Ko.delete(c),pc.delete(d),g!==e&&((y=g.parentNode)==null||y.removeChild(g))}});return pc.set(d,v),d}let pc=new WeakMap;const yo=0,Ni=1,wo=2;function ep(r,t,e,n,s){var a=r,i=qa(),l=Qt,c=ir,d,v,g,p=(i?pr:xa)(void 0),m=(i?pr:xa)(void 0),y=!1;function b(E,T){y=!0,T&&(yr(w),dn(w),dc(l));try{E===yo&&e&&(d?Bs(d):d=xn(()=>e(a))),E===Ni&&n&&(v?Bs(v):v=xn(()=>n(a,p))),E===wo&&s&&(g?Bs(g):g=xn(()=>s(a,m))),E!==yo&&d&&ws(d,()=>d=null),E!==Ni&&v&&ws(v,()=>v=null),E!==wo&&g&&ws(g,()=>g=null)}finally{T&&(dc(null),dn(null),yr(null),ud())}}var w=Gs(()=>{if(c!==(c=t())){if(Zf(c)){var E=c;y=!1,E.then(T=>{E===c&&(va(p,T),b(Ni,!0))},T=>{if(E===c)throw va(m,T),b(wo,!0),m.v}),mi(()=>{y||b(yo,!0)})}else va(p,c),b(Ni,!1);return()=>c=ir}})}function yt(r,t,e,n=null,s=!1){var a=r,i=null,l=null,c=null,d=s?hi:0;Gs(()=>{c!==(c=!!t())&&(c?(i?Bs(i):i=xn(()=>e(a)),l&&ws(l,()=>{l=null})):(l?Bs(l):n&&(l=xn(()=>n(a))),i&&ws(i,()=>{i=null})))},d)}function rp(r,t,e){var n=r,s=ir,a,i=qa()?th:xl;Gs(()=>{i(s,s=t())&&(a&&ws(a),a=xn(()=>e(n)))})}function ee(r,t){return t}function np(r,t,e,n){for(var s=[],a=t.length,i=0;i<a;i++)kl(t[i].e,s,!0);var l=a>0&&s.length===0&&e!==null;if(l){var c=e.parentNode;Th(c),c.append(e),n.clear(),hs(r,t[0].prev,t[a-1].next)}td(s,()=>{for(var d=0;d<a;d++){var v=t[d];l||(n.delete(v.k),hs(r,v.prev,v.next)),ks(v.e,!l)}})}function Vt(r,t,e,n,s,a=null){var i=r,l={flags:t,items:new Map,first:null},c=(t&ju)!==0;if(c){var d=r;i=d.appendChild(so())}var v=null,g=!1;Gs(()=>{var p=e(),m=ro(p)?p:p==null?[]:wl(p),y=m.length;if(!(g&&y===0)){g=y===0;{var b=fe;sp(m,l,i,s,t,(b.f&Bn)!==0,n)}a!==null&&(y===0?v?Bs(v):v=xn(()=>a(i)):v!==null&&ws(v,()=>{v=null})),e()}})}function sp(r,t,e,n,s,a,i){var q,D,P,M;var l=(s&fh)!==0,c=(s&(Al|Tl))!==0,d=r.length,v=t.items,g=t.first,p=g,m,y=null,b,w=[],E=[],T,k,$,S;if(l)for(S=0;S<d;S+=1)T=r[S],k=i(T,S),$=v.get(k),$!==void 0&&((q=$.a)==null||q.measure(),(b??(b=new Set)).add($));for(S=0;S<d;S+=1){if(T=r[S],k=i(T,S),$=v.get(k),$===void 0){var I=p?p.e.nodes_start:e;y=ip(I,t,y,y===null?t.first:y.next,T,k,S,n,s),v.set(k,y),w=[],E=[],p=y.next;continue}if(c&&ap($,T,S,s),$.e.f&Bn&&(Bs($.e),l&&((D=$.a)==null||D.unfix(),(b??(b=new Set)).delete($))),$!==p){if(m!==void 0&&m.has($)){if(w.length<E.length){var H=E[0],U;y=H.prev;var R=w[0],K=w[w.length-1];for(U=0;U<w.length;U+=1)vc(w[U],H,e);for(U=0;U<E.length;U+=1)m.delete(E[U]);hs(t,R.prev,K.next),hs(t,y,R),hs(t,K,H),p=H,y=K,S-=1,w=[],E=[]}else m.delete($),vc($,p,e),hs(t,$.prev,$.next),hs(t,$,y===null?t.first:y.next),hs(t,y,$),y=$;continue}for(w=[],E=[];p!==null&&p.k!==k;)(a||!(p.e.f&Bn))&&(m??(m=new Set)).add(p),E.push(p),p=p.next;if(p===null)continue;$=p}w.push($),y=$,p=$.next}if(p!==null||m!==void 0){for(var x=m===void 0?[]:wl(m);p!==null;)(a||!(p.e.f&Bn))&&x.push(p),p=p.next;var L=x.length;if(L>0){var N=s&ju&&d===0?e:null;if(l){for(S=0;S<L;S+=1)(P=x[S].a)==null||P.measure();for(S=0;S<L;S+=1)(M=x[S].a)==null||M.fix()}np(t,x,N,v)}}l&&mi(()=>{var j;if(b!==void 0)for($ of b)(j=$.a)==null||j.apply()}),Wt.first=t.first&&t.first.e,Wt.last=y&&y.e}function ap(r,t,e,n){n&Al&&va(r.v,t),n&Tl?va(r.i,e):r.i=e}function ip(r,t,e,n,s,a,i,l,c){var d=(c&Al)!==0,v=(c&hh)===0,g=d?v?xa(s):pr(s):s,p=c&Tl?pr(i):i,m={i:p,v:g,k:a,a:null,e:null,prev:e,next:n};try{return m.e=xn(()=>l(r,g,p),Fu),m.e.prev=e&&e.e,m.e.next=n&&n.e,e===null?t.first=m:(e.next=m,e.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function vc(r,t,e){for(var n=r.next?r.next.e.nodes_start:e,s=t?t.e.nodes_start:e,a=r.e.nodes_start;a!==n;){var i=ao(a);s.before(a),a=i}}function hs(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function Vo(r,t,e,n,s){var a=r,i="",l;Gs(()=>{i!==(i=t()??"")&&(l!==void 0&&(ks(l),l=void 0),i!==""&&(l=xn(()=>{var c=i+"",d=vd(c);ei(Ya(d),d.lastChild),a.before(d)})))})}function Ji(r,t,e,n,s){var l;var a=(l=t.$$slots)==null?void 0:l[e],i=!1;a===!0&&(a=t.children,i=!0),a===void 0||a(r,i?()=>n:n)}function op(r,t,e){var n=r,s,a;Gs(()=>{s!==(s=t())&&(a&&(ws(a),a=null),s&&(a=xn(()=>e(n,s))))},hi)}function pa(r,t,e,n){var s=r.__attributes??(r.__attributes={});s[t]!==(s[t]=e)&&(t==="style"&&"__styles"in r&&(r.__styles={}),t==="loading"&&(r[Qf]=e),e==null?r.removeAttribute(t):typeof e!="string"&&md(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function lp(r,t,e,n,s=!1,a=!1,i=!1){var l=t||{},c=r.tagName==="OPTION";for(var d in t)d in e||(e[d]=null);var v=md(r),g=r.__attributes??(r.__attributes={});for(const E in e){let T=e[E];if(c&&E==="value"&&T==null){r.value=r.__value="",l[E]=T;continue}var p=l[E];if(T!==p){l[E]=T;var m=E[0]+E[1];if(m!=="$$"){if(m==="on"){const k={},$="$$"+E;let S=E.slice(2);var y=Wh(S);if(Gh(S)&&(S=S.slice(0,-7),k.capture=!0),!y&&p){if(T!=null)continue;r.removeEventListener(S,l[$],k),l[$]=null}if(T!=null)if(y)r[`__${S}`]=T,Kh([S]);else{let I=function(H){l[E].call(this,H)};var w=I;l[$]=pd(S,r,I,k)}}else if(E==="style"&&T!=null)r.style.cssText=T+"";else if(E==="autofocus")Hh(r,!!T);else if(E==="__value"||E==="value"&&T!=null)r.value=r[E]=r.__value=T;else{var b=E;s||(b=Zh(b)),T==null&&!a?(g[E]=null,r.removeAttribute(E)):v.includes(b)&&(a||typeof T!="string")?r[b]=T:typeof T!="function"&&pa(r,b,T)}E==="style"&&"__styles"in r&&(r.__styles={})}}}return l}var mc=new Map;function md(r){var t=mc.get(r.nodeName);if(t)return t;mc.set(r.nodeName,t=[]);for(var e,n=zi(r),s=Element.prototype;s!==n;){e=Cu(n);for(var a in e)e[a].set&&t.push(a);n=zi(n)}return t}function Fe(r,t){var e=r.__className,n=cp(t);(e!==n||Fu)&&(t==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function cp(r){return r??""}function up(r,t,e){if(e){if(r.classList.contains(t))return;r.classList.add(t)}else{if(!r.classList.contains(t))return;r.classList.remove(t)}}function xo(r,t,e,n){var s=r.__styles??(r.__styles={});s[t]!==e&&(s[t]=e,e==null?r.style.removeProperty(t):r.style.setProperty(t,e,""))}const dp=()=>performance.now(),vs={tick:r=>requestAnimationFrame(r),now:()=>dp(),tasks:new Set};function gd(r){vs.tasks.forEach(t=>{t.c(r)||(vs.tasks.delete(t),t.f())}),vs.tasks.size!==0&&vs.tick(gd)}function fp(r){let t;return vs.tasks.size===0&&vs.tick(gd),{promise:new Promise(e=>{vs.tasks.add(t={c:r,f:e})}),abort(){vs.tasks.delete(t)}}}function ki(r,t){r.dispatchEvent(new CustomEvent(t))}function hp(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function gc(r){const t={},e=r.split(";");for(const n of e){const[s,a]=n.split(":");if(!s||a===void 0)break;const i=hp(s.trim());t[i]=a.trim()}return t}const pp=r=>r;function bc(r,t,e,n){var s=(r&bh)!==0,a=(r&_h)!==0,i=s&&a,l=(r&yh)!==0,c=i?"both":s?"in":"out",d,v=t.inert,g,p;function m(){var T=fe,k=Wt;dn(null),yr(null);try{return d??(d=e()(t,(n==null?void 0:n())??{},{direction:c}))}finally{dn(T),yr(k)}}var y={is_global:l,in(){var T;if(t.inert=v,!s){p==null||p.abort(),(T=p==null?void 0:p.reset)==null||T.call(p);return}a||g==null||g.abort(),ki(t,"introstart"),g=Wo(t,m(),p,1,()=>{ki(t,"introend"),g==null||g.abort(),g=d=void 0})},out(T){if(!a){T==null||T(),d=void 0;return}t.inert=!0,ki(t,"outrostart"),p=Wo(t,m(),g,0,()=>{ki(t,"outroend"),T==null||T()})},stop:()=>{g==null||g.abort(),p==null||p.abort()}},b=Wt;if((b.transitions??(b.transitions=[])).push(y),s&&Go){var w=l;if(!w){for(var E=b.parent;E&&E.f&hi;)for(;(E=E.parent)&&!(E.f&no););w=!E||(E.f&Ru)!==0}w&&pi(()=>{An(()=>y.in())})}}function Wo(r,t,e,n,s){var a=n===1;if(aa(t)){var i,l=!1;return mi(()=>{if(!l){var w=t({direction:a?"in":"out"});i=Wo(r,w,e,n,s)}}),{abort:()=>{l=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return s(),{abort:zr,deactivate:zr,reset:zr,t:()=>n};const{delay:c=0,css:d,tick:v,easing:g=pp}=t;var p=[];if(a&&e===void 0&&(v&&v(0,1),d)){var m=gc(d(0,1));p.push(m,m)}var y=()=>1-n,b=r.animate(p,{duration:c});return b.onfinish=()=>{var w=(e==null?void 0:e.t())??1-n;e==null||e.abort();var E=n-w,T=t.duration*Math.abs(E),k=[];if(T>0){if(d)for(var $=Math.ceil(T/16.666666666666668),S=0;S<=$;S+=1){var I=w+E*g(S/$),H=d(I,1-I);k.push(gc(H))}y=()=>{var U=b.currentTime;return w+E*g(U/T)},v&&fp(()=>{if(b.playState!=="running")return!1;var U=y();return v(U,1-U),!0})}b=r.animate(k,{duration:T,fill:"forwards"}),b.onfinish=()=>{y=()=>n,v==null||v(n,1-n),s()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=zr)},deactivate:()=>{s=zr},reset:()=>{n===0&&(v==null||v(1,0))},t:()=>y()}}function F(r,t,e=t){var n=qa();Sl(r,"input",()=>{var s=_c(r)?yc(r.value):r.value;e(s),n&&s!==(s=t())&&(r.value=s??"")}),vi(()=>{var s=t();_c(r)&&s===yc(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function vp(r,t,e=t){Sl(r,"change",()=>{var n=r.checked;e(n)}),t()==null&&e(!1),vi(()=>{var n=t();r.checked=!!n})}function _c(r){var t=r.type;return t==="number"||t==="range"}function yc(r){return r===""?null:+r}function bd(r,t,e){if(r.multiple)return gp(r,t);for(var n of r.options){var s=Ga(n);if(Eh(s,t)){n.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function mp(r,t){pi(()=>{var e=new MutationObserver(()=>{var n=r.__value;bd(r,n)});return e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function Xn(r,t,e=t){var n=!0;Sl(r,"change",()=>{var s;if(r.multiple)s=[].map.call(r.querySelectorAll(":checked"),Ga);else{var a=r.querySelector(":checked");s=a&&Ga(a)}e(s)}),pi(()=>{var s=t();if(bd(r,s,n),n&&s===void 0){var a=r.querySelector(":checked");a!==null&&(s=Ga(a),e(s))}r.__value=s,n=!1}),mp(r)}function gp(r,t){for(var e of r.options)e.selected=~t.indexOf(Ga(e))}function Ga(r){return"__value"in r?r.__value:r.value}function le(r=!1){const t=Qt,e=t.l.u;if(!e)return;let n=()=>js(t.s);if(r){let s=0,a={};const i=Vi(()=>{let l=!1;const c=t.s;for(const d in c)c[d]!==a[d]&&(a[d]=c[d],l=!0);return l&&s++,s});n=()=>o(i)}e.b.length&&$h(()=>{wc(t,n),Ki(e.b)}),Fo(()=>{const s=An(()=>e.m.map(Yf));return()=>{for(const a of s)typeof a=="function"&&a()}}),e.a.length&&Fo(()=>{wc(t,n),Ki(e.a)})}function wc(r,t){if(r.l.s)for(const e of r.l.s)o(e);t()}function Ol(r,t,e){if(r==null)return t(void 0),e&&e(void 0),zr;const n=An(()=>r.subscribe(t,e));return n.unsubscribe?()=>n.unsubscribe():n}let $i=!1;function z(r,t,e){const n=e[t]??(e[t]={store:null,source:xa(void 0),unsubscribe:zr});if(n.store!==r)if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=zr;else{var s=!0;n.unsubscribe=Ol(r,a=>{s?n.source.v=a:A(n.source,a)}),s=!1}return o(n.source)}function At(r,t){return r.set(t),t}function ne(){const r={};return Ju(()=>{for(var t in r)r[t].unsubscribe()}),r}function bp(r){var t=$i;try{return $i=!1,[r(),$i]}finally{$i=t}}const _p={get(r,t){if(!r.exclude.includes(t))return o(r.version),t in r.special?r.special[t]():r.props[t]},set(r,t,e){return t in r.special||(r.special[t]=We({get[t](){return r.props[t]}},t,Uu)),r.special[t](e),fc(r.version),!0},getOwnPropertyDescriptor(r,t){if(!r.exclude.includes(t)&&t in r.props)return{enumerable:!0,configurable:!0,value:r.props[t]}},deleteProperty(r,t){return r.exclude.includes(t)||(r.exclude.push(t),fc(r.version)),!0},has(r,t){return r.exclude.includes(t)?!1:t in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(t=>!r.exclude.includes(t))}};function Jo(r,t){return new Proxy({props:r,exclude:t,special:{},version:pr(0)},_p)}const yp={get(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(aa(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(r,t,e){let n=r.props.length;for(;n--;){let s=r.props[n];aa(s)&&(s=s());const a=ys(s,t);if(a&&a.set)return a.set(e),!0}return!1},getOwnPropertyDescriptor(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(aa(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=ys(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(r,t){if(t===Qn||t===Pu)return!1;for(let e of r.props)if(aa(e)&&(e=e()),e!=null&&t in e)return!0;return!1},ownKeys(r){const t=[];for(let e of r.props){aa(e)&&(e=e());for(const n in e)t.includes(n)||t.push(n)}return t}};function wp(...r){return new Proxy({props:r},yp)}function xc(r){for(var t=Wt,e=Wt;t!==null&&!(t.f&(Nn|fi));)t=t.parent;try{return yr(t),r()}finally{yr(e)}}function We(r,t,e,n){var H;var s=(e&ph)!==0,a=!La||(e&vh)!==0,i=(e&mh)!==0,l=(e&gh)!==0,c=!1,d;i?[d,c]=bp(()=>r[t]):d=r[t];var v=Qn in r||Pu in r,g=((H=ys(r,t))==null?void 0:H.set)??(v&&i&&t in r?U=>r[t]=U:void 0),p=n,m=!0,y=!1,b=()=>(y=!0,m&&(m=!1,l?p=An(n):p=n),p);d===void 0&&n!==void 0&&(g&&a&&ah(),d=b(),g&&g(d));var w;if(a)w=()=>{var U=r[t];return U===void 0?b():(m=!0,y=!1,U)};else{var E=xc(()=>(s?Vi:Ze)(()=>r[t]));E.f|=Iu,w=()=>{var U=o(E);return U!==void 0&&(p=void 0),U===void 0?p:U}}if(!(e&Uu))return w;if(g){var T=r.$$legacy;return function(U,R){return arguments.length>0?((!a||!R||T||c)&&g(R?w():U),U):w()}}var k=!1,$=!1,S=xa(d),I=xc(()=>Vi(()=>{var U=w(),R=o(S);return k?(k=!1,$=!0,R):($=!1,S.v=U)}));return s||(I.equals=El),function(U,R){if(ps!==null&&(k=$,w(),o(S)),arguments.length>0){const K=R?o(I):a&&i?ia(U):U;return I.equals(K)||(k=!0,A(S,K),y&&p!==void 0&&(p=K),An(()=>o(I))),U}return o(I)}}function Ye(r){Qt===null&&io(),La&&Qt.l!==null?Ap(Qt).m.push(r):Fo(()=>{const t=An(r);if(typeof t=="function")return t})}function Ll(r){Qt===null&&io(),Ye(()=>()=>An(r))}function xp(r,t,{bubbles:e=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:n})}function Ep(){const r=Qt;return r===null&&io(),(t,e,n)=>{var a;const s=(a=r.s.$$events)==null?void 0:a[t];if(s){const i=ro(s)?s.slice():[s],l=xp(t,e,n);for(const c of i)c.call(r.x,l);return!l.defaultPrevented}return!0}}function Ap(r){var t=r.l;return t.u??(t.u={a:[],b:[],m:[]})}const Tp="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tp);uh();const Zi={},Yi={},_d={},Cl=()=>Ms(Zi),yd=/^:(.+)/,Ec=4,Np=3,kp=2,$p=1,Sp=1,ri=r=>r.replace(/(^\/+|\/+$)/g,"").split("/"),Eo=r=>r.replace(/(^\/+|\/+$)/g,""),Op=(r,t)=>{const e=r.default?0:ri(r.path).reduce((n,s)=>(n+=Ec,s===""?n+=Sp:yd.test(s)?n+=kp:s[0]==="*"?n-=Ec+$p:n+=Np,n),0);return{route:r,score:e,index:t}},Lp=r=>r.map(Op).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),Ac=(r,t)=>{let e,n;const[s]=t.split("?"),a=ri(s),i=a[0]==="",l=Lp(r);for(let c=0,d=l.length;c<d;c++){const v=l[c].route;let g=!1;if(v.default){n={route:v,params:{},uri:t};continue}const p=ri(v.path),m={},y=Math.max(a.length,p.length);let b=0;for(;b<y;b++){const w=p[b],E=a[b];if(w&&w[0]==="*"){const k=w==="*"?"*":w.slice(1);m[k]=a.slice(b).map(decodeURIComponent).join("/");break}if(typeof E>"u"){g=!0;break}const T=yd.exec(w);if(T&&!i){const k=decodeURIComponent(E);m[T[1]]=k}else if(w!==E){g=!0;break}}if(!g){e={route:v,params:m,uri:"/"+a.slice(0,b).join("/")};break}}return e||n||null},Ao=(r,t)=>r+(t?`?${t}`:""),Cp=(r,t)=>{if(r.startsWith("/"))return r;const[e,n]=r.split("?"),[s]=t.split("?"),a=ri(e),i=ri(s);if(a[0]==="")return Ao(s,n);if(!a[0].startsWith(".")){const d=i.concat(a).join("/");return Ao((s==="/"?"":"/")+d,n)}const l=i.concat(a),c=[];return l.forEach(d=>{d===".."?c.pop():d!=="."&&c.push(d)}),Ao("/"+c.join("/"),n)},To=(r,t)=>`${Eo(t==="/"?r:`${Eo(r)}/${Eo(t)}`)}/`,qp=r=>!r.defaultPrevented&&r.button===0&&!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey),Zo=()=>typeof window<"u"&&"document"in window&&"location"in window;var Rp=G("<a><!></a>");function ms(r,t){const e=Jo(t,["children","$$slots","$$events","$$legacy"]),n=Jo(e,["to","replace","state","getProps","preserveScroll"]);Jt(t,!1);const s=ne(),a=()=>z(y,"$base",s),i=()=>z(m,"$location",s),l=C();let c=We(t,"to",8,"#"),d=We(t,"replace",8,!1),v=We(t,"state",24,()=>({})),g=We(t,"getProps",8,()=>({})),p=We(t,"preserveScroll",8,!1);const m=Ms(Zi),{base:y}=Ms(Yi),{navigate:b}=Ms(_d),w=Ep();let E=C(),T=C(),k=C(),$=C();const S=R=>{if(w("click",R),qp(R)){R.preventDefault();const K=i().pathname===o(E)||d();b(o(E),{state:v(),replace:K,preserveScroll:p()})}};Dt(()=>(js(c()),a()),()=>{A(E,Cp(c(),a().uri))}),Dt(()=>(i(),o(E)),()=>{A(T,i().pathname.startsWith(o(E)))}),Dt(()=>(o(E),i()),()=>{A(k,o(E)===i().pathname)}),Dt(()=>o(k),()=>{A(l,o(k)?"page":void 0)}),Dt(()=>(js(g()),i(),o(E),o(T),o(k),js(n)),()=>{A($,g()({location:i(),href:o(E),isPartiallyCurrent:o(T),isCurrent:o(k),existingProps:n}))}),wr(),le();var I=Rp();let H;var U=f(I);Ji(U,t,"default",{get active(){return!!o(l)}}),st(()=>H=lp(I,H,{href:o(E),"aria-current":o(l),...o($),...n})),X("click",I,S),B(r,I),Zt()}function Ke(r,t){const e=Jo(t,["children","$$slots","$$events","$$legacy"]);Jt(t,!1);const n=ne(),s=()=>z(g,"$activeRoute",n);let a=We(t,"path",8,""),i=We(t,"component",12,null),l=C({}),c=C({});const{registerRoute:d,unregisterRoute:v,activeRoute:g}=Ms(Yi),p={path:a(),default:a()===""};d(p),Ll(()=>{v(p)}),Dt(()=>(s(),js(e),Zo),()=>{if(s()&&s().route===p){A(l,s().params);const{component:b,path:w,...E}=e;A(c,E),b&&(b.toString().startsWith("class ")?i(b):i(b())),Zo()&&!s().preserveScroll&&(window==null||window.scrollTo(0,0))}}),wr(),le();var m=Xt(),y=mt(m);yt(y,()=>s()&&s().route===p,b=>{var w=Xt(),E=mt(w);yt(E,i,T=>{var k=Xt(),$=mt(k);ep($,i,null,(S,I)=>{var H=Xt(),U=mt(H);op(U,()=>{var R;return((R=o(I))==null?void 0:R.default)||o(I)},(R,K)=>{K(R,wp(()=>o(l),()=>o(c)))}),B(S,H)}),B(T,k)},T=>{var k=Xt(),$=mt(k);Ji($,t,"default",{get params(){return o(l)}}),B(T,k)}),B(b,w)}),B(r,m),Zt()}const sa=[];function Ip(r,t){return{subscribe:it(r,t).subscribe}}function it(r,t=zr){let e=null;const n=new Set;function s(l){if(xl(r,l)&&(r=l,e)){const c=!sa.length;for(const d of n)d[1](),sa.push(d,r);if(c){for(let d=0;d<sa.length;d+=2)sa[d][0](sa[d+1]);sa.length=0}}}function a(l){s(l(r))}function i(l,c=zr){const d=[l,c];return n.add(d),n.size===1&&(e=t(s,a)||zr),l(r),()=>{n.delete(d),n.size===0&&e&&(e(),e=null)}}return{set:s,update:a,subscribe:i}}function Dp(r,t,e){const n=!Array.isArray(r),s=n?[r]:r;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Ip(e,(i,l)=>{let c=!1;const d=[];let v=0,g=zr;const p=()=>{if(v)return;g();const y=t(n?d[0]:d,i,l);a?i(y):g=typeof y=="function"?y:zr},m=s.map((y,b)=>Ol(y,w=>{d[b]=w,v&=~(1<<b),c&&p()},()=>{v|=1<<b}));return c=!0,p(),function(){Ki(m),g(),c=!1}})}function Pp(r){let t;return Ol(r,e=>t=e)(),t}const No=r=>({...r.location,state:r.history.state,key:r.history.state&&r.history.state.key||"initial"}),Bp=r=>{const t=[];let e=No(r);return{get location(){return e},listen(n){t.push(n);const s=()=>{e=No(r),n({location:e,action:"POP"})};return r.addEventListener("popstate",s),()=>{r.removeEventListener("popstate",s);const a=t.indexOf(n);t.splice(a,1)}},navigate(n,{state:s,replace:a=!1,preserveScroll:i=!1,blurActiveElement:l=!0}={}){s={...s,key:Date.now()+""};try{a?r.history.replaceState(s,"",n):r.history.pushState(s,"",n)}catch{r.location[a?"replace":"assign"](n)}e=No(r),t.forEach(c=>c({location:e,action:"PUSH",preserveScroll:i})),l&&document.activeElement.blur()}}},Mp=(r="/")=>{let t=0;const e=[{pathname:r,search:""}],n=[];return{get location(){return e[t]},addEventListener(s,a){},removeEventListener(s,a){},history:{get entries(){return e},get index(){return t},get state(){return n[t]},pushState(s,a,i){const[l,c=""]=i.split("?");t++,e.push({pathname:l,search:c}),n.push(s)},replaceState(s,a,i){const[l,c=""]=i.split("?");e[t]={pathname:l,search:c},n[t]=s}}}},wd=Bp(Zo()?window:Mp()),{navigate:Ea}=wd;var jp=G("<div><!></div>");function Up(r,t){Jt(t,!1);const e=ne(),n=()=>z(T,"$base",e),s=()=>z(E,"$location",e),a=()=>z(y,"$routes",e),i=()=>z(b,"$activeRoute",e);let l=We(t,"basepath",8,"/"),c=We(t,"url",8,null),d=We(t,"viewtransition",8,null),v=We(t,"history",8,wd);const g=(R,K,x)=>{const L=d()(x);return typeof(L==null?void 0:L.fn)=="function"?L.fn(R,L):L};_o(_d,v());const p=Ms(Zi),m=Ms(Yi),y=it([]),b=it(null);let w=!1;const E=p||it(c()?{pathname:c()}:v().location),T=m?m.routerBase:it({path:l(),uri:l()}),k=Dp([T,b],([R,K])=>{if(!K)return R;const{path:x}=R,{route:L,uri:N}=K;return{path:L.default?x:L.path.replace(/\*.*$/,""),uri:N}}),$=R=>{const{path:K}=n();let{path:x}=R;if(R._path=x,R.path=To(K,x),typeof window>"u"){if(w)return;const L=Ac([R],s().pathname);L&&(b.set(L),w=!0)}else y.update(L=>[...L,R])},S=R=>{y.update(K=>K.filter(x=>x!==R))};let I=C(!1);p||(Ye(()=>v().listen(K=>{A(I,K.preserveScroll||!1),E.set(K.location)})),_o(Zi,E)),_o(Yi,{activeRoute:b,base:T,routerBase:k,registerRoute:$,unregisterRoute:S}),Dt(()=>(n(),To),()=>{const{path:R}=n();y.update(K=>K.map(x=>Object.assign(x,{path:To(R,x._path)})))}),Dt(()=>(a(),s(),o(I)),()=>{const R=Ac(a(),s().pathname);b.set(R&&{...R,preserveScroll:o(I)})}),wr(),le();var H=Xt(),U=mt(H);yt(U,d,R=>{var K=Xt(),x=mt(K);rp(x,()=>s().pathname,L=>{var N=jp(),q=f(N);Ji(q,t,"default",{get route(){return i()&&i().uri},get location(){return s()}}),bc(1,N,()=>g),bc(2,N,()=>g),B(L,N)}),B(R,K)},R=>{var K=Xt(),x=mt(K);Ji(x,t,"default",{get route(){return i()&&i().uri},get location(){return s()}}),B(R,K)}),B(r,H),Zt()}const oe=it(!1),Es=it("");function Fp(r){var n;const e=`; ${document.cookie}`.split(`; ${r}=`);if(e.length===2)return(n=e.pop())==null?void 0:n.split(";").shift()}async function Mt(r,t,e=null){const n=Pp(Es)||null,s=Fp("csrfToken")||null,a={"Content-Type":"application/json"};n&&(a.d2rpvpjwttoken=n),s&&(a["X-CSRF-Token"]=s);const i={method:t,headers:a,credentials:"include"};e&&(i.body=JSON.stringify(e));try{const l=await fetch(r,i),c=l.headers.get("d2rpvpjwttoken");return typeof c=="string"&&Es.set(c),l}catch(l){throw console.error("Error during fetch:",l),l}}const ni=it(""),Je=it(""),Us=it([]);async function bi(r){try{const e=await Mt(r?"/nicknames/m-user":"/nicknames/b-user","GET");if(e.ok){const n=await e.json();r?Us.set(n.map(s=>s.replace("_m",""))):Us.set(n)}else console.error("닉네임을 가져오는데 실패했습니다.")}catch(t){console.error("닉네임을 가져오는 중 오류가 발생했습니다:",t)}}function ba(r){const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${r}`);const e={month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",e).format(t)}const Tc=it(1),Nc=it("all"),Yo=it("none"),Re=it("none");var Hp=G('<button class="emphasis-button inline-block">로그인</button> <!>',1),zp=G('<button class="simple-button">나의정보</button>'),Kp=G('<div class="menu-container svelte-eqoifg"><div class="menu-logo svelte-eqoifg"><!></div> <div class="menu-items svelte-eqoifg"></div> <button class="hamburger svelte-eqoifg"><span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span> <span class="svelte-eqoifg"></span></button></div> <div></div> <div class="floating-button"><!></div>',1);function Gp(r,t){Jt(t,!1);const e=ne(),n=()=>z(v,"$location",e),s=()=>z(Je,"$myaccount",e),a=()=>z(oe,"$mode",e),i=()=>z(Es,"$jwtToken",e),l=C(),c=C();let d=We(t,"isOpen",12,!1);const v=Cl();let g=C("");const p=()=>{d(!d())};async function m(){try{const L=await(await Mt("/auth/check-jwt","POST")).json();L.authenticated?(Je.set(L.username),Es.set(L.token),oe.set(L.mode),Ea(L.mode?"/mpk":"/")):(Je.set(""),Es.set("")),console.log(i())}catch{alert("서버 연결에 실패하였습니다")}}Ye(async()=>{await m()}),Dt(()=>n(),()=>{A(g,n().pathname)}),Dt(()=>s(),()=>{A(l,[{label:"공지사항",href:"/info"},{label:"랭킹조회",href:"/rank"},{label:"대전기록",href:"/record"},{label:"대회기록",href:"/tournament"},{label:"커뮤니티",href:"/boardlist"},{label:"역대우승",href:"/winners"},{label:"계산하기",href:"/calculator"},...s()==="admin"||s()==="admin_m"?[{label:"관리설정",href:"/admin"}]:[]])}),Dt(()=>o(g),()=>{oe.set(o(g).includes("mpk"))}),Dt(()=>a(),()=>{A(c,a()?"/mpk":"/babapk")}),wr(),le();var y=Kp(),b=mt(y),w=f(b),E=f(w),T=Ze(()=>o(c)==="/mpk"?"/mpk":"/");ms(E,{class:"menu-logo-link",get to(){return o(T)},children:(x,L)=>{var N=Kr("D2RPvP");B(x,N)},$$slots:{default:!0}});var k=h(w,2);Vt(k,5,()=>o(l),ee,(x,L)=>{var N=Ze(()=>o(c)+o(L).href);ms(x,{class:"link",get to(){return o(N)},$$events:{click:()=>d(!1)},children:(q,D)=>{var P=Kr();st(()=>tt(P,o(L).label)),B(q,P)},$$slots:{default:!0}})});var $=h(k,2),S=f($),I=h(S,2),H=h(I,2),U=h(b,2);Vt(U,5,()=>o(l),ee,(x,L)=>{var N=Ze(()=>o(c)+o(L).href);ms(x,{class:"link",get to(){return o(N)},$$events:{click:()=>d(!1)},children:(q,D)=>{var P=Kr();st(()=>tt(P,o(L).label)),B(q,P)},$$slots:{default:!0}})});var R=h(U,2),K=f(R);yt(K,()=>s()==="",x=>{var L=Hp(),N=mt(L),q=h(N,2),D=Ze(()=>a()?"/":"/mpk");ms(q,{class:"simple-button",get to(){return o(D)},children:(P,M)=>{var j=Kr();st(()=>tt(j,a()?"정통바바":"밀리PK")),B(P,j)},$$slots:{default:!0}}),X("click",N,()=>Re.set("login")),B(x,L)},x=>{var L=zp();X("click",L,()=>Re.set("myinfo")),B(x,L)}),st(()=>{xo(S,"transform",d()?"rotate(45deg)":""),xo(I,"opacity",d()?"0":"1"),xo(H,"transform",d()?"rotate(-45deg)":""),Fe(U,`${`mobile-menu ${d()?"open":""}`??""} svelte-eqoifg`)}),X("click",$,p),B(r,y),Zt()}var Vp=G('<a class="svelte-1vl6564"> </a>'),Wp=G('<a target="_blank" rel="noopener noreferrer" class="svelte-1vl6564"><img class="social-icon svelte-1vl6564"></a>'),Jp=G('<footer class="svelte-1vl6564"><div class="footer-links svelte-1vl6564"></div> <div class="social-links svelte-1vl6564"></div> <div class="copyright svelte-1vl6564"> </div></footer>');function Zp(r,t){Jt(t,!1);const e=ne(),n=()=>z(s,"$location",e),s=Cl();let a=C("");const i=[{label:"문의하기",href:"https://open.kakao.com/me/balli"},{label:"개인정보 보호정책",href:"/privacy.html"},{label:"이용 약관",href:"/terms.html"}],l=o(a).includes("mpk")?[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/QFKDTKqbmy",alt:"mpk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/gPUHe6kf",alt:"mpk Kakaotalk"}]:[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/AqvAJJKCag",alt:"babapk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/giHO7Mzg",alt:"babapk Kakaotalk"}];Dt(()=>n(),()=>{A(a,n().pathname)}),wr(),le();var c=Jp(),d=f(c);Vt(d,5,()=>i,ee,(m,y)=>{var b=Vp(),w=f(b);st(()=>{pa(b,"href",o(y).href),tt(w,o(y).label)}),B(m,b)});var v=h(d,2);Vt(v,5,()=>l,ee,(m,y)=>{var b=Wp(),w=f(b);st(()=>{pa(b,"href",o(y).href),pa(w,"src",o(y).icon),pa(w,"alt",o(y).alt)}),B(m,b)});var g=h(v,2),p=f(g);st(()=>tt(p,`© ${new Date().getFullYear()??""} D2RPvP. All rights reserved.`)),B(r,c),Zt()}var Yp=G("<div><h1> </h1></div>");function Xp(r,t){Jt(t,!1);const e=ne(),n=()=>z(a,"$location",e),s=()=>z(oe,"$mode",e),a=Cl();let i=C(""),l=C(""),c=C("");Dt(()=>n(),()=>{A(i,n().pathname)}),Dt(()=>o(i),()=>{o(i).includes("rank")?A(c,"랭킹조회"):o(i).includes("info")?A(c,"공지사항"):o(i).includes("record")?A(c,"대전기록"):o(i).includes("tournament")?A(c,"대회기록"):o(i).includes("boardlist")?A(c,"커뮤니티"):o(i).includes("winners")?A(c,"역대우승"):o(i).includes("calculator")?A(c,"계산하기"):o(i).includes("admin")?A(c,"관리설정"):A(c,"")}),Dt(()=>s(),()=>{s()?A(l,"밀리PK"):s()?A(l,""):A(l,"정통바바")}),Dt(()=>(o(l),o(c)),()=>{document.title="D2RPvP "+o(l)+" "+o(c)}),wr(),le();var d=Yp();const v=Ze(()=>`header-container ${(o(i).includes("post")||o(i).includes("write")?"hidden":"")??""} svelte-1yjukfn`);var g=f(d),p=f(g);st(()=>{Fe(d,o(v)),tt(p,`${o(l)??""} ${o(c)??""}`)}),B(r,d),Zt()}var Qp=G('<tr class="svelte-1vck7sz"><td class="svelte-1vck7sz"><a> </a></td></tr>'),tv=G('<div class="info-container"><table><thead><tr class="svelte-1vck7sz"><th class="svelte-1vck7sz">공지사항 들어가기(구글 문서 링크)</th></tr></thead><tbody></tbody></table></div>');function ev(r){const t=ne(),n=z(oe,"$mode",t)?[{href:"https://docs.google.com/spreadsheets/d/18jJ3WYsWZEdV8oXeJYt1-aMrACN1IHsFnCV3-gir5pk/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12jpQH4QP7QyPRhLPuXJSuU3lJdA_3SzCE5dBYl2jYZg/",title:"듀얼 규칙 안내"},{href:"https://docs.google.com/document/d/1Wj31FLkeFLZp-N2Bohkj_ZKoUrJU5LXkUABH7x9zxC8/",title:"대회 및 랭킹 시스템 안내"}]:[{href:"https://docs.google.com/spreadsheets/d/19a-_44yVj04BnlUK6QQY9U3jXtlDAgOmdHCgdis1toI/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12EBBA8c9K-KzaE-cC6QvRb8vOB07V9Mi90D44-dzOPw/",title:"인게임 방 안내"},{href:"https://docs.google.com/document/d/1b-vnUyLaDrSnSMouTOoFAYz5K3lq8hS-kzjh_R-JuD8/",title:"월별 랭킹 시스템 안내"},{href:"https://docs.google.com/document/d/1RBDp8SzVp-epjIdekWOWPYt0f6XBpreVbQnPD1qv3-o/",title:"미니대회 운영 안내"},{href:"https://docs.google.com/document/d/1m50GKaWyszyBSslQn3348Fz1CAp55DFbKNwNyj5dLnw/",title:"내부 랭킹전 안내"},{href:"https://docs.google.com/document/d/1_4E8_YqotTmRaVcbthmYuCnQbLKTwhSRPJ8rGk_Nybc/",title:"무기의 분류 안내"}];var s=tv(),a=f(s),i=h(f(a));Vt(i,5,()=>n,ee,(c,d)=>{var v=Qp(),g=f(v),p=f(g),m=f(p);st(()=>{pa(p,"href",o(d).href),tt(m,o(d).title)}),B(c,v)}),B(r,s)}var rv=G('<td class="empty svelte-5k5sfe"></td>'),nv=G('<input class="calendar-input svelte-5k5sfe" type="text"> <button class="emphasis-button small svelte-5k5sfe">저장</button>',1),sv=G('<div class="inside-tooltip pointer svelte-5k5sfe"> </div> <div class="tooltiptext svelte-5k5sfe"> </div>',1),av=G('<td class="day-cell svelte-5k5sfe" role="button" tabindex="0"><div> </div> <!></td>'),iv=G('<tr class="svelte-5k5sfe"></tr>'),ov=G('<div class="calendar-container"><table class="calendar-table svelte-5k5sfe"><thead><tr class="svelte-5k5sfe"><th class="day-header svelte-5k5sfe">일</th><th class="day-header svelte-5k5sfe">월</th><th class="day-header svelte-5k5sfe">화</th><th class="day-header svelte-5k5sfe">수</th><th class="day-header svelte-5k5sfe">목</th><th class="day-header svelte-5k5sfe">금</th><th class="day-header svelte-5k5sfe">토</th></tr></thead><tbody></tbody></table></div>');function lv(r,t){Jt(t,!1);const e=ne(),n=()=>z(Je,"$myaccount",e),s=()=>z(oe,"$mode",e),a=C(),i=C(),l=C();let c=We(t,"year",8),d=We(t,"month",8),v=We(t,"date",8),g=We(t,"events",12),p=We(t,"eventname",8),m=We(t,"getCalendartext",8),y=C(null),b=C("");function w(R,K){const x=new Date(R,K,1),L=new Date(R,K+1,0),N=[];let q=new Date(x);for(;q<=L;)N.push(new Date(q)),q.setDate(q.getDate()+1);const D=x.getDay();return{daysInMonth:N,startDayOfWeek:D}}const E=(R,K)=>{(n()==="admin"||n()==="admin_m")&&(A(y,R.toDateString()),A(b,K||""))},T=async R=>{const K=R.toDateString(),x={year:R.getFullYear(),month:R.getMonth()+1,day:R.getDate(),event:o(b),mode:s()};try{const N=await Mt("/calendar/event","POST",x);if(N.ok){alert("이벤트 기록을 저장하였습니다"),g({...g(),[K]:o(b)}),A(y,null),A(b,"");const q=c(),D=d();await m()(q,D)}else alert(`오류 발생: ${N.status}`)}catch(L){console.error("Error:",L)}};function k(R,K){const x=[];let L=[],N=0;for(let q=0;q<K;q++)L.push("empty"),N++;if(R.forEach(q=>{N===7&&(x.push(L),L=[],N=0);const D=q.getDate()===v()&&q.getMonth()===d()&&q.getFullYear()===c(),P=q.getDate();L.push({day:q,isToday:D,dayKey:P}),N++}),L.length>0){for(;L.length<7;)L.push("empty");x.push(L)}return x}let $=C(null);function S(R){o($)===`${R}`?A($,null):A($,`${R}`)}Dt(()=>(o(a),o(i),js(c()),js(d())),()=>{(R=>(A(a,R.daysInMonth),A(i,R.startDayOfWeek)))(w(c(),d()))}),Dt(()=>(o(a),o(i)),()=>{A(l,k(o(a),o(i)))}),wr(),le();var I=ov(),H=f(I),U=h(f(H));Vt(U,5,()=>o(l),ee,(R,K)=>{var x=iv();Vt(x,5,()=>o(K),ee,(L,N)=>{var q=Xt(),D=mt(q);yt(D,()=>o(N)==="empty",P=>{var M=rv();B(P,M)},P=>{var M=av(),j=f(M),Z=f(j);st(()=>tt(Z,o(N).day.getDate()));var J=h(j,2);yt(J,()=>o(y)===o(N).day.toDateString(),nt=>{var et=nv(),rt=mt(et),ot=h(rt,2);F(rt,()=>o(b),V=>A(b,V)),X("keydown",rt,V=>{V.key==="Enter"&&T(o(N).day)}),X("click",ot,()=>T(o(N).day)),B(nt,et)},nt=>{var et=sv(),rt=mt(et),ot=f(rt),V=h(rt,2),ft=f(V);st(()=>{tt(ot,p()[o(N).dayKey]||""),up(V,"visible",o($)===`${o(N).dayKey}`),tt(ft,p()[o(N).dayKey]||"이벤트 없음")}),X("click",rt,()=>S(o(N).dayKey)),B(nt,et)}),st(()=>Fe(j,`day-number ${(n()==="admin"||n()==="admin_m"?"pointer":"")??""} svelte-5k5sfe`)),X("click",j,()=>E(o(N).day,p()[o(N).dayKey])),B(P,M)}),B(L,q)}),B(R,x)}),B(r,I),Zt()}var cv=G('<div class="calendar-header svelte-fc2pud"><button class="simple-button">지난달</button> <div class="calendar-header-text svelte-fc2pud"> </div> <button class="simple-button">다음달</button></div> <!>',1);function kc(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C({});const a=new Date,i=a.getFullYear(),l=a.getMonth(),c=a.getDate();let d=C(i),v=C(l),g=C(c),p={};const m=()=>{let H=o(v)+1,U=o(d);H===12&&(H=0,U+=1),A(v,H),A(d,U),A(g,null),U===a.getFullYear()&&H===a.getMonth()&&A(g,a.getDate()),b(U,H)},y=()=>{let H=o(v)-1,U=o(d);H===-1&&(H=11,U-=1),A(v,H),A(d,U),A(g,null),U===a.getFullYear()&&H===a.getMonth()&&A(g,a.getDate()),b(U,H)};async function b(H,U){try{const R=`/calendar/event?year=${H}&month=${U+1}&isM=${n()}`,K=await Mt(R,"GET");if(!K.ok)throw new Error("Network response was not ok");const x=await K.json(),L={};x.forEach(N=>{L[N.date]=N.text}),A(s,L)}catch(R){alert("달력 DB 에러"),console.error("Error:",R)}}Ye(()=>{b(a.getFullYear(),a.getMonth())}),le();var w=cv(),E=mt(w),T=f(E),k=h(T,2),$=f(k),S=h(k,2),I=h(E,2);lv(I,{get year(){return o(d)},get month(){return o(v)},get date(){return o(g)},events:p,get eventname(){return o(s)},getCalendartext:b}),st(()=>tt($,`${o(d)??""}년 ${o(v)+1}월`)),X("click",T,y),X("click",S,m),B(r,w),Zt()}var uv=G('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">로그인</button></div> <button class="message-button">계정찾기</button> <button class="message-button">회원가입</button>',1);function dv(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C(""),a=C("");async function i(){let w={nickname:o(s),password:o(a)};try{const E=n()?"/auth/m-user/login":"/auth/b-user/login",T=await Mt(E,"POST",w);if(T.status===200){const k=await T.json(),$=k.accessToken;$&&Es.set($),Je.set(k.username),Re.set("none")}else alert("로그인 실패")}catch(E){alert(E)}}le();var l=uv(),c=mt(l),d=f(c),v=h(c,2),g=f(v),p=h(g,2),m=h(p,2),y=h(v,2),b=h(y,2);st(()=>tt(d,`${(n()?"밀리PK":"정통바바")??""} 로그인하기`)),F(g,()=>o(s),w=>A(s,w)),F(p,()=>o(a),w=>A(a,w)),X("click",m,()=>i()),X("click",y,()=>Re.set("findaccount")),X("click",b,()=>Re.set("register")),B(r,l),Zt()}var fv=G('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="text" placeholder="닉네임"> <input type="text" placeholder="이메일 입력"> <button class="emphasis-button block">계정찾기</button></div>',1);function hv(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C(!0),a=C(""),i=C("");const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function c(){A(s,l.test(o(i)))}async function d(){const w={findpw_nickname:o(a),findpw_email:o(i)};try{const E=n()?"/reset-pw/m-user":"/reset-pw/b-user";(await Mt(E,"POST",w)).ok?(alert("이메일을 확인하세요"),Re.set("none")):alert("에러 발생")}catch(E){alert(E)}}le();var v=fv(),g=mt(v);g.textContent=`${(oe?"밀리PK":"정통바바")??""} 계정찾기`;var p=h(g,2),m=f(p),y=h(m,2),b=h(y,2);st(()=>Fe(y,`input-text ${(o(s)?"":"invalid")??""}`)),F(m,()=>o(a),w=>A(a,w)),F(y,()=>o(i),w=>A(i,w)),X("input",y,c),X("click",b,d),B(r,v),Zt()}var pv=G(`<strong>웹사이트 이용 약관</strong> <p>D2R PvP는 Diablo 2: Resurrected에서 PvP(플레이어 대 플레이어) 매치에
  참여하는 사용자들을 위한 랭킹 시스템을 제공하는 웹사이트입니다.</p> <p>사이트에서 자신의 랭킹을 확인하려면 서버에 계정을 등록하고 매치 결과를
  기록해야 합니다.</p> <p>등록 과정에서 제공된 정보는 사이트 운영을 위해서만 사용되며, 다른
  목적으로는 사용되지 않습니다.</p>`,1);function vv(r){var t=pv();B(r,t)}var mv=G(`<strong>개인정보 처리방침</strong> <p>이 페이지는 서비스를 사용하기로 결정한 경우, 개인 정보의 수집, 사용 및
  공개에 관한 제 정책을 방문자에게 알리기 위해 사용됩니다.</p> <p>서비스를 사용하기로 선택하면, 이 정책과 관련하여 정보 수집 및 사용에
  동의하는 것입니다. 수집된 개인 정보는 서비스 제공 및 개선을 위해
  사용됩니다. 이 개인정보 처리방침에 설명된 경우를 제외하고는 귀하의 정보를
  사용하거나 제3자와 공유하지 않습니다.</p> <p>이 개인정보 처리방침에서 사용되는 용어는 D2R PvP에서 접근할 수 있는 이용
  약관과 동일한 의미를 가지며, 본 개인정보 처리방침에서 달리 정의되지 않는
  한 이용 약관과 동일한 의미를 가집니다.</p> <p><strong>정보 수집 및 사용</strong></p> <p>더 나은 경험을 제공하기 위해, 서비스 사용 중 특정 개인 식별 정보를
  제공해야 할 수 있습니다. 이 정보에는 닉네임, 비밀번호, 이메일, 플레이
  데이터 등이 포함될 수 있습니다. 요청된 정보는 귀하의 장치에 보관되며,
  당사에 의해 수집되지 않습니다.</p> <div><p>이 사이트는 개인 정보를 제3자 서비스 제공자에게 제공하지 않습니다.</p> <p><strong>로그 데이터</strong></p> <p>서비스 사용 시, 오류가 발생할 경우 귀하의 전화에서 로그 데이터라는
    정보를 (제3자 제품을 통해) 수집함을 알려드립니다. 이 로그 데이터에는
    장치의 인터넷 프로토콜(IP) 주소, 장치 이름, 운영 체제 버전, 서비스 사용
    시의 사이트 구성, 사용 날짜 및 시간, 기타 통계 정보가 포함될 수
    있습니다.</p> <p><strong>쿠키</strong></p> <p>쿠키는 일반적으로 익명의 고유 식별자로 사용되는 소량의 데이터가 포함된
    파일입니다. 이러한 파일은 귀하가 방문하는 웹사이트에서 브라우저로
    전송되어 귀하의 장치 내부 메모리에 저장됩니다.</p> <p>이 서비스는 이러한 "쿠키"를 명시적으로 사용하지 않습니다. 그러나
    사이트는 정보 수집 및 서비스 개선을 위해 "쿠키"를 사용하는 제3자 코드 및
    라이브러리를 사용할 수 있습니다. 쿠키 수신 시 이를 허용하거나 거부할 수
    있는 옵션이 있으며, 쿠키가 귀하의 장치로 전송될 때 알림을 받도록 설정할
    수 있습니다. 쿠키를 거부하기로 선택하면 이 서비스의 일부를 사용하지 못할
    수도 있습니다.</p> <p><strong>서비스 제공자</strong></p> <p>당사는 다음과 같은 이유로 제3자 회사 및 개인을 고용할 수 있습니다:</p> <ul><li>당사 서비스를 용이하게 하기 위해;</li> <li>당사를 대신하여 서비스를 제공하기 위해;</li> <li>서비스 관련 서비스를 수행하기 위해; 또는</li> <li>당사 서비스 사용 방식을 분석하는 데 도움을 주기 위해.</li></ul> <p>이 서비스의 사용자에게 제3자가 귀하의 개인 정보에 접근할 수 있음을
    알리고자 합니다. 이는 당사를 대신하여 할당된 작업을 수행하기 위한
    것입니다. 그러나 그들은 정보를 다른 목적으로 사용하거나 공개하지 않을
    의무가 있습니다.</p> <p><strong>보안</strong></p> <p>귀하의 개인 정보를 제공받는 것을 신뢰하며, 이를 보호하기 위해 상업적으로
    합리적인 수단을 사용하고 있습니다. 그러나 인터넷을 통한 전송 방법 또는
    전자 저장 방법은 100% 안전하고 신뢰할 수 없으며, 절대적인 보안을 보장할
    수는 없습니다.</p> <p><strong>다른 사이트로의 링크</strong></p> <p>이 서비스에는 다른 사이트로의 링크가 포함될 수 있습니다. 제3자 링크를
    클릭하면 해당 사이트로 이동됩니다. 이러한 외부 사이트는 당사에서
    운영하지 않음을 유의하시기 바랍니다. 따라서 이러한 웹사이트의 개인정보
    처리방침을 검토할 것을 강력히 권장합니다. 당사는 제3자 사이트나 서비스의
    콘텐츠, 개인정보 처리방침 또는 관행에 대해 책임을 지지 않습니다.</p> <p><strong>어린이 개인정보</strong></p> <div><p>이 서비스는 13세 미만의 어린이를 대상으로 하지 않습니다. 당사는 13세
      미만의 어린이로부터 개인 식별 정보를 고의로 수집하지 않습니다. 만약
      13세 미만의 어린이가 개인 정보를 제공한 것으로 발견될 경우, 이를 즉시
      서버에서 삭제합니다. 부모나 보호자이시고, 자녀가 개인 정보를 제공한
      사실을 알게 된 경우, 저에게 연락해 주시면 필요한 조치를 취하겠습니다.</p></div> <p><strong>개인정보 처리방침의 변경</strong></p> <p>당사는 개인정보 처리방침을 수시로 업데이트할 수 있습니다. 따라서 이
    페이지를 주기적으로 검토하여 변경 사항을 확인할 것을 권장합니다.
    개인정보 처리방침의 변경 사항은 이 페이지에 게시하여 알릴 것입니다.</p> <p>이 정책은 2024-01-17부터 유효합니다.</p> <p><strong>문의하기</strong></p> <p>개인정보 처리방침에 대해 질문이나 제안사항이 있는 경우,
    kor8240@gmail.com으로 주저하지 말고 연락해 주시기 바랍니다.</p> <p>이 개인정보 처리방침 페이지는 <a href="https://privacypolicytemplate.net" target="_blank" rel="noopener noreferrer">privacypolicytemplate.net</a>에서 작성되었으며, <a href="https://app-privacy-policy-generator.nisrulz.com/" target="_blank" rel="noopener noreferrer">사이트 개인정보 처리방침 생성기</a>에서 수정/생성되었습니다.</p></div>`,1);function gv(r){var t=mv();B(r,t)}var bv=G('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),_v=G('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),yv=G('<button class="simple-button">이용약관</button> <button class="simple-button">개인정보 정책</button> <input class="input-text" type="text" placeholder="닉네임"> <button class="emphasis-button">닉네임 확인</button>',1),wv=G('<div class="nickname-input svelte-18sr952"> </div> <input type="text" placeholder="이메일 입력"> <input class="input-text" type="password" placeholder="비밀번호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">회원가입</button>',1),xv=G('<h3 class="message-title"></h3> <div class="message-body"><!></div>',1);function Ev(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C(!0),a=C(""),i=C("");const l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let c=C(""),d=C(""),v=C(""),g=C(!1);function p(){A(s,l.test(o(i)))}function m($){return!$||$.trim()===""?{isValid:!1,message:"닉네임을 입력해주세요."}:/^[a-zA-Z가-힣]{3,20}$/.test($)?{isValid:!0,message:"닉네임이 유효합니다."}:{isValid:!1,message:"닉네임은 3~20자의 알파벳, 한글만 허용됩니다."}}async function y(){const $=m(o(c));if(!$.isValid){alert($.message);return}if(o(g))alert("닉네임을 이미 확인하였습니다");else{const S=n()?"/auth/m-user/check-nickname":"/auth/b-user/check-nickname",I={nickname:o(c)};try{(await Mt(S,"POST",I)).status===200&&(alert("해당 닉네임은 사용 가능합니다"),A(g,!0))}catch(H){console.error("Error occurred while checking nickname:",H),alert(H)}}}async function b(){const $={nickname:o(c),password:o(d),email:o(i)};try{const S=n()?"/auth/m-user/register":"/auth/b-user/register",I=await Mt(S,"POST",$);if(!I.ok)throw new Error("회원가입에 실패했습니다.");I.status===201&&(alert("회원가입이 성공적으로 완료되었습니다."),Re.set("none"))}catch(S){alert(S)}}le();var w=xv(),E=mt(w);E.textContent=`${(oe?"밀리PK":"정통바바")??""} 가입하기`;var T=h(E,2),k=f(T);yt(k,()=>o(a)==="terms",$=>{var S=bv(),I=mt(S),H=f(I);vv(H);var U=h(I,2);X("click",U,()=>A(a,"")),B($,S)},$=>{var S=Xt(),I=mt(S);yt(I,()=>o(a)==="privacy",H=>{var U=_v(),R=mt(U),K=f(R);gv(K);var x=h(R,2);X("click",x,()=>A(a,"")),B(H,U)},H=>{var U=Xt(),R=mt(U);yt(R,()=>!o(g),K=>{var x=yv(),L=mt(x),N=h(L,2),q=h(N,2),D=h(q,2);X("click",L,()=>A(a,"terms")),X("click",N,()=>A(a,"privacy")),F(q,()=>o(c),P=>A(c,P)),X("click",D,y),B(K,x)},K=>{var x=wv(),L=mt(x),N=f(L),q=h(L,2),D=h(q,2),P=h(D,2),M=h(P,3);st(()=>{tt(N,`닉네임 :${o(c)??""}`),Fe(q,`input-text ${(o(s)?"":"invalid")??""}`)}),F(q,()=>o(i),j=>A(i,j)),X("input",q,p),F(D,()=>o(d),j=>A(d,j)),F(P,()=>o(v),j=>A(v,j)),X("click",M,b),B(K,x)}),B(H,U)},!0),B($,S)}),B(r,w),Zt()}var Av=G('<tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 신청</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>도전 취소</button></td></tr> <tr class="svelte-cga3fb"><td class="svelte-cga3fb">도전 날짜</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button>자동 승리</button></td></tr>',1),Tv=G('<h3 class="message-title">내 정보 확인</h3> <div class="message-body"><table class="info-table svelte-cga3fb"><tbody><tr class="svelte-cga3fb"><td class="svelte-cga3fb">계정</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">로그아웃</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">메일</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">암호</td><td class="svelte-cga3fb">********</td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">변경</button></td></tr><!><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대전점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">대회점수</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">승/패</td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb">탈퇴</td><td class="svelte-cga3fb"></td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb">탈퇴</button></td></tr></tbody></table></div>',1);function Nv(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Je,"$myaccount",e);let a=C("Loading"),i=C("Loading"),l=C("Loading"),c=C("Loading"),d=C("Loading"),v=C(""),g=C("");async function p(){const ht=n()?"/userdata/info/m-user":"/userdata/info/b-user";try{const at=await Mt(ht,"POST");if(at.ok){const lt=await at.json();n()&&(A(v,lt.challenge),A(g,lt.challengeDate)),A(a,lt.email),A(i,lt.bscore),A(l,lt.lscore),A(c,lt.countwin),A(d,lt.countlose)}}catch(at){console.error("정보를 불러오는 중 오류가 발생하였습니다:",at),alert("정보를 불러오는 중 오류가 발생하였습니다")}}async function m(){const ht={mode:n(),challenge:o(v)};try{(await Mt("/userdata/challenge/cancel","DELETE",ht)).status===200&&alert("도전 중인 게임 정보를 삭제하였습니다")}catch(at){console.error("요청에 실패하였습니다",at),alert("요청에 실패하였습니다")}}async function y(){const ht={mode:n(),challenge:o(v)};try{const at=await Mt("/record/challenge/check","POST",ht),lt=await at.json();at.status===201?alert("도전 기간에 상대가 응답하지 않아 자동 승리로 입력되었습니다"):at.status===400?alert(lt.message||"도전 중이 아니거나 응답 기간이 끝나지 않았습니다"):alert("알 수 없는 상태 코드: "+at.status)}catch(at){console.error("요청에 실패하였습니다:",at),alert("요청 처리 중 오류가 발생했습니다. 네트워크 상태를 확인해주세요.")}}Ye(()=>{p()});async function b(){try{await Mt("/auth/logout","POST"),alert("로그아웃하였습니다"),Ea(n()?"/mpk":"/"),Re.set("none"),Je.set(""),Es.set("")}catch(ht){alert(ht)}}le();var w=Tv(),E=h(mt(w),2),T=f(E),k=f(T),$=f(k),S=h(f($)),I=f(S);st(()=>tt(I,s().replace("_m","")));var H=h(S),U=f(H),R=h($),K=h(f(R)),x=f(K),L=h(K),N=f(L),q=h(R),D=h(f(q),2),P=f(D),M=h(q);yt(M,n,ht=>{var at=Av(),lt=mt(at),vt=h(f(lt)),St=f(vt);st(()=>tt(St,o(v)?o(v).replace("_m",""):""));var It=h(vt),Ct=f(It),Lt=h(lt,2),Pt=h(f(Lt)),se=f(Pt),Ut=h(Pt),zt=f(Ut);st(()=>{Fe(Ct,`simple-button ${(o(v)===""?"hidden":null)??""} svelte-cga3fb`),tt(se,o(g)||""),Fe(zt,`simple-button ${(o(v)===""?"hidden":null)??""} svelte-cga3fb`)}),X("click",Ct,()=>m()),X("click",zt,()=>y()),B(ht,at)});var j=h(M),Z=h(f(j)),J=f(Z),nt=h(j),et=h(f(nt)),rt=f(et),ot=h(nt),V=h(f(ot)),ft=f(V),_t=h(ot),ut=h(f(_t),2),wt=f(ut);st(()=>{tt(x,o(a)),tt(J,o(i)),tt(rt,o(l)),tt(ft,`${o(c)??""}/${o(d)??""}`)}),X("click",U,()=>b()),X("click",N,()=>Re.set("changeemail")),X("click",P,()=>Re.set("changepw")),X("click",wt,()=>Re.set("deleteaccount")),B(r,w),Zt()}var kv=G('<h3 class="message-title">이메일 변경</h3> <div class="message-body"><input class="input-text" type="text" placeholder="새 이메일"> <input class="input-text" type="password" placeholder="비밀번호"> <br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function $v(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C(""),a=C("");async function i(){const m={nowpw:o(s),newemail:o(a)};try{const y=n()?"/userdata/change-email/m-user":"/userdata/change-email/b-user",b=await Mt(y,"POST",m);b.ok?(alert("이메일 변경 완료"),Re.set("none")):alert(`오류 발생: ${b.status}`)}catch(y){console.error("오류 발생:",y),alert("오류 발생: "+y)}}le();var l=kv(),c=h(mt(l),2),d=f(c),v=h(d,2),g=h(v,4),p=h(c,2);F(d,()=>o(a),m=>A(a,m)),F(v,()=>o(s),m=>A(s,m)),X("click",g,()=>i()),X("click",p,()=>Re.set("myinfo")),B(r,l),Zt()}var Sv=G('<h3 class="message-title">암호 변경</h3> <div class="message-body"><input class="input-text" type="password" placeholder="현재암호"> <input class="input-text" type="password" placeholder="새 암호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">변경하기</button></div> <button class="message-button">돌아가기</button>',1);function Ov(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C(""),a=C(""),i=C("");async function l(){if(o(a)!==o(i)){alert("암호 확인이 일치하지 않습니다. 다시 확인해주세요.");return}const b={nowpw:o(s),newpw:o(a)};try{const w=n()?"/userdata/change-pw/m-user":"/userdata/change-pw/b-user",E=await Mt(w,"POST",b);E.ok?(alert("암호 변경 완료"),Re.set("none")):alert(`오류 발생: ${E.status}`)}catch(w){console.error("오류 발생:",w),alert("오류 발생: "+w)}}le();var c=Sv(),d=h(mt(c),2),v=f(d),g=h(v,2),p=h(g,2),m=h(p,3),y=h(d,2);F(v,()=>o(s),b=>A(s,b)),F(g,()=>o(a),b=>A(a,b)),F(p,()=>o(i),b=>A(i,b)),X("click",m,()=>l()),X("click",y,()=>Re.set("myinfo")),B(r,c),Zt()}var Lv=G('<h3 class="message-title"></h3> <div class="message-body"><input class="input-text" type="password" placeholder="비밀번호"> <button class="emphasis-button block">계정삭제</button></div>',1);function Cv(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C("");async function a(){const g={nowpw:o(s)};try{const p=n()?"/auth/m-user/delete":"/auth/b-user/delete",m=await Mt(p,"DELETE",g);m.status===200?(alert("계정 삭제 완료"),Re.set("none"),Je.set(""),Es.set("")):alert(`오류 발생: ${m.status}`)}catch(p){console.error("오류 발생:",p),alert("오류 발생: "+p)}}le();var i=Lv(),l=mt(i);l.textContent=`${(oe?"밀리PK":"정통바바")??""} 계정 삭제`;var c=h(l,2),d=f(c),v=h(d,2);F(d,()=>o(s),g=>A(s,g)),X("click",v,()=>a()),B(r,i),Zt()}var qv=G("<option> </option>"),Rv=G('<h3 class="message-title"> </h3> <div class="message-body"><input list="nicknames_list" class="input-text" placeholder="승자를 선택하세요"> <datalist id="nicknames_list"></datalist> <button class="emphasis-button block">보내기</button></div>',1);function Iv(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Us,"$nicknames",e),a=()=>z(Je,"$myaccount",e);let i=C([]),l=C();Ye(()=>{bi(n()),A(i,n()?s().filter(T=>T!==a().replace("_m","")):s().filter(T=>T!==a()))});function c(T,k){return k.includes(T)?T:null}function d(T){const $=T.target.value;typeof $=="string"&&A(l,c($,o(i)))}async function v(){const T=n()?{winner:o(l)+"_m",mode:n()}:{winner:o(l),mode:n()};try{const k=await Mt("/record/submit","POST",T);k.ok?alert("기록 전송 완료"):alert(`오류 발생: ${k.status}`)}catch(k){console.error("오류 발생:",k),alert("오류 발생: "+k)}}le();var g=Rv(),p=mt(g),m=f(p),y=h(p,2),b=f(y),w=h(b,2);Vt(w,5,()=>o(i),ee,(T,k)=>{var $=qv(),S={},I=f($);st(()=>{S!==(S=o(k))&&($.value=($.__value=o(k))==null?"":o(k)),tt(I,o(k))}),B(T,$)});var E=h(w,2);st(()=>tt(m,`${(n()?"밀리PK":"정통바바")??""} 기록 보내기`)),F(b,()=>o(l),T=>A(l,T)),X("blur",b,d),X("click",E,v),B(r,g),Zt()}var Dv=G('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">로딩 중...</td></tr>'),Pv=G('<tr class="svelte-y61ocg"><td colspan="4" class="text-center svelte-y61ocg">기록이 없습니다</td></tr>'),Bv=G('<tr class="svelte-y61ocg"><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"><button class="simple-button svelte-y61ocg">승인</button> <button class="simple-button svelte-y61ocg">삭제</button></td></tr>'),Mv=G('<h3 class="message-title"> </h3> <div class="message-body"><table class="temp-table svelte-y61ocg"><thead><tr><th class="record-table-date">날짜</th><th class="record-table-loser">패자</th><th class="record-table-score">점수</th><th class="record-table-ok">승인</th></tr></thead><tbody><!></tbody></table></div>',1);function jv(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C(),a=C(!0);async function i(){const b="/record/pending",w={mode:n()};try{const E=await Mt(b,"POST",w);if(!E.ok)throw new Error(`오류 발생: ${E.status}`);A(s,await E.json())}catch(E){console.error("데이터 불러오기 오류:",E),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{A(a,!1)}}async function l(b,w){const E=b==="approve"?"/record/approve":"/record/cancel",T={orderNum:w,mode:n()};try{const k=await Mt(E,b==="approve"?"POST":"DELETE",T);if(k.ok)alert(`${b==="approve"?"승인":"삭제"} 완료`),i();else throw new Error(`오류 발생: ${k.status}`)}catch(k){console.error(`${b==="approve"?"승인":"삭제"} 오류:`,k),alert(`오류 발생: ${k}`)}}Ye(async()=>{await i()}),le();var c=Mv(),d=mt(c),v=f(d),g=h(d,2),p=f(g),m=h(f(p)),y=f(m);yt(y,()=>o(a),b=>{var w=Dv();B(b,w)},b=>{var w=Xt(),E=mt(w);yt(E,()=>o(s).length===0,T=>{var k=Pv();B(T,k)},T=>{var k=Xt(),$=mt(k);Vt($,1,()=>o(s),ee,(S,I)=>{var H=Bv(),U=f(H),R=f(U);st(()=>tt(R,new Date(o(I).date).toLocaleDateString()));var K=h(U),x=f(K);st(()=>tt(x,n()?o(I).loser.replace("_m",""):o(I).loser));var L=h(K),N=f(L),q=h(L),D=f(q),P=h(D,2);st(()=>tt(N,o(I).lScore)),X("click",D,()=>l("approve",o(I).orderNum)),X("click",P,()=>l("delete",o(I).orderNum)),B(S,H)}),B(T,k)},!0),B(b,w)}),st(()=>tt(v,`${(n()?"밀리PK":"정통바바")??""} 기록 승인하기`)),B(r,c),Zt()}var Uv=G("<option> </option>"),Fv=G("<option> </option>"),Hv=G("<option> </option>"),zv=G("<option> </option>"),Kv=G("<option> </option>"),Gv=G("<option> </option>"),Vv=G("<option> </option>"),Wv=G("<option> </option>"),Jv=G("<option> </option>"),Zv=G("<option> </option>"),Yv=G("<option> </option>"),Xv=G("<option> </option>"),Qv=G('<h3 class="message-title"> </h3> <div class="message-body svelte-anctt3"><input type="text" class="titlewidth input-text svelte-anctt3" placeholder="대회 이름"> <select class="optionwidth input-text svelte-anctt3"><option>2팀(듀얼)</option><option>3-5팀(4강)</option><option>6-11팀(8강)</option><option>12팀 이상(16강)</option><option>정식전</option></select> <select class="optionwidth input-text svelte-anctt3"><option>1인 1팀</option><option>2인 1팀</option><option>3인 1팀</option><option>4인 1팀</option></select> <br> 우승 <input list="nicknames1" class="namewidth input-text svelte-anctt3" placeholder="선택하세요"> <datalist id="nicknames1"></datalist> <input list="nicknames2" placeholder="선택하세요"> <datalist id="nicknames2"></datalist> <input list="nicknames3" placeholder="선택하세요"> <datalist id="nicknames3"></datalist> <input list="nicknames4" placeholder="선택하세요"> <datalist id="nicknames4"></datalist> <br> <span>2위</span> <input list="nicknames5" placeholder="선택하세요"> <datalist id="nicknames5"></datalist> <input list="nicknames6" placeholder="선택하세요"> <datalist id="nicknames6"></datalist> <input list="nicknames7" placeholder="선택하세요"> <datalist id="nicknames7"></datalist> <input list="nicknames8" placeholder="선택하세요"> <datalist id="nicknames8"></datalist> <br> <span>3위</span> <input list="nicknames9" placeholder="선택하세요"> <datalist id="nicknames9"></datalist> <input list="nicknames10" placeholder="선택하세요"> <datalist id="nicknames10"></datalist> <input list="nicknames11" placeholder="선택하세요"> <datalist id="nicknames11"></datalist> <input list="nicknames12" placeholder="선택하세요"> <datalist id="nicknames12"></datalist> <br> <button class="emphasis-button">대회 기록 전송</button></div>',1);function tm(r,t){Jt(t,!1);const e=ne(),n=()=>z(ni,"$key",e),s=()=>z(oe,"$mode",e),a=()=>z(Je,"$myaccount",e),i=()=>z(Us,"$nicknames",e),l=C();Ll(()=>{ni.set(n()+1)}),Ye(async()=>{const Q=window.location.href;oe.set(Q.includes("/mpk")),bi(s())});let c=C(),d=C(),v=C(),g=C(),p=C(),m=C(),y=C(),b=C(),w=C(),E=C(),T=C(),k=C(),$=C(),S=C(),I=C();function H(Q,dt){return dt.includes(Q)?Q:""}function U(){o($)<2&&A(d,A(m,A(E,""))),o($)<3&&A(v,A(y,A(T,""))),o($)<4&&A(g,A(b,A(k,""))),o(S)<4&&A(p,A(m,A(y,A(b,"")))),o(S)<8&&A(w,A(E,A(T,A(k,""))));const Q=[o(c),o(d),o(v),o(g),o(p),o(m),o(y),o(b),o(w),o(E),o(T),o(k)];return new Set(Q.filter(Boolean)).size===Q.filter(Boolean).length}async function R(){if(!U()){alert("중복 기록된 선수가 있습니다");return}const Q={Championship1:o(c),Championship2:o(d),Championship3:o(v),Championship4:o(g),Runner_up1:o(p),Runner_up2:o(m),Runner_up3:o(y),Runner_up4:o(b),Place3rd1:o(w),Place3rd2:o(E),Place3rd3:o(T),Place3rd4:o(k),eventname:o(I),numberteams:o(S),teamSize:o($),Eventhost:o(l)};try{(await Mt(s()?"/event/m-user/submit":"/event/b-user/submit","POST",Q)).status===201&&alert("대회 기록 전송 완료")}catch(dt){console.error("오류 발생:",dt),alert(`오류 발생: ${dt}`)}}function K(Q){A(c,H(Q.target.value,i()))}function x(Q){A(d,H(Q.target.value,i()))}function L(Q){A(v,H(Q.target.value,i()))}function N(Q){A(g,H(Q.target.value,i()))}function q(Q){A(p,H(Q.target.value,i()))}function D(Q){A(m,H(Q.target.value,i()))}function P(Q){A(y,H(Q.target.value,i()))}function M(Q){A(b,H(Q.target.value,i()))}function j(Q){A(w,H(Q.target.value,i()))}function Z(Q){A(E,H(Q.target.value,i()))}function J(Q){A(T,H(Q.target.value,i()))}function nt(Q){A(k,H(Q.target.value,i()))}function et(Q){A(I,Q.target.value)}function rt(Q){A(S,Q.target.value)}function ot(Q){A($,Q.target.value)}Dt(()=>(s(),a()),()=>{A(l,s()===!0?a().replace("_m",""):a())}),wr(),le();var V=Qv(),ft=mt(V),_t=f(ft),ut=h(ft,2),wt=f(ut),ht=h(wt,2);st(()=>{o(S),Yn(()=>{})});var at=f(ht);at.value=(at.__value="2")==null?"":"2";var lt=h(at);lt.value=(lt.__value="4")==null?"":"4";var vt=h(lt);vt.value=(vt.__value="8")==null?"":"8";var St=h(vt);St.value=(St.__value="16")==null?"":"16";var It=h(St);It.value=(It.__value="24")==null?"":"24";var Ct=h(ht,2);st(()=>{o($),Yn(()=>{})});var Lt=f(Ct);Lt.value=(Lt.__value="1")==null?"":"1";var Pt=h(Lt);Pt.value=(Pt.__value="2")==null?"":"2";var se=h(Pt);se.value=(se.__value="3")==null?"":"3";var Ut=h(se);Ut.value=(Ut.__value="4")==null?"":"4";var zt=h(Ct,4),ae=h(zt,2);Vt(ae,5,i,ee,(Q,dt)=>{var pt=Uv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var ce=h(ae,2),Yt=h(ce,2);Vt(Yt,5,i,ee,(Q,dt)=>{var pt=Fv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var ue=h(Yt,2),_e=h(ue,2);Vt(_e,5,i,ee,(Q,dt)=>{var pt=Hv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var ie=h(_e,2),de=h(ie,2);Vt(de,5,i,ee,(Q,dt)=>{var pt=zv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var he=h(de,4),re=h(he,2),Ee=h(re,2);Vt(Ee,5,i,ee,(Q,dt)=>{var pt=Kv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var ve=h(Ee,2),Ie=h(ve,2);Vt(Ie,5,i,ee,(Q,dt)=>{var pt=Gv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var me=h(Ie,2),De=h(me,2);Vt(De,5,i,ee,(Q,dt)=>{var pt=Vv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var ke=h(De,2),Ae=h(ke,2);Vt(Ae,5,i,ee,(Q,dt)=>{var pt=Wv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var ge=h(Ae,4),te=h(ge,2),Pe=h(te,2);Vt(Pe,5,i,ee,(Q,dt)=>{var pt=Jv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var $e=h(Pe,2),Se=h($e,2);Vt(Se,5,i,ee,(Q,dt)=>{var pt=Zv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var Oe=h(Se,2),Le=h(Oe,2);Vt(Le,5,i,ee,(Q,dt)=>{var pt=Yv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var Me=h(Le,2),He=h(Me,2);Vt(He,5,i,ee,(Q,dt)=>{var pt=Xv(),qt={},Ft=f(pt);st(()=>{qt!==(qt=o(dt))&&(pt.value=(pt.__value=o(dt))==null?"":o(dt)),tt(Ft,o(dt))}),B(Q,pt)});var $t=h(He,4);st(()=>{tt(_t,`${(s()?"밀리PK":"정통바바")??""} 토너먼트 기록`),Fe(ce,`namewidth input-text ${(o($)<2?"hidden":null)??""} svelte-anctt3`),Fe(ue,`namewidth input-text ${(o($)<3?"hidden":null)??""} svelte-anctt3`),Fe(ie,`namewidth input-text ${(o($)<4?"hidden":null)??""} svelte-anctt3`),Fe(he,`${(o(S)<4?"hidden":null)??""} svelte-anctt3`),Fe(re,`namewidth input-text ${(o(S)<4?"hidden":null)??""} svelte-anctt3`),Fe(ve,`namewidth input-text ${(o(S)<4||o($)<2?"hidden":null)??""} svelte-anctt3`),Fe(me,`namewidth input-text ${(o(S)<4||o($)<3?"hidden":null)??""} svelte-anctt3`),Fe(ke,`namewidth input-text ${(o(S)<4||o($)<4?"hidden":null)??""} svelte-anctt3`),Fe(ge,`${(o(S)<8?"hidden":null)??""} svelte-anctt3`),Fe(te,`namewidth input-text ${(o(S)<8?"hidden":null)??""} svelte-anctt3`),Fe($e,`namewidth input-text ${(o(S)<8||o($)<2?"hidden":null)??""} svelte-anctt3`),Fe(Oe,`namewidth input-text ${(o(S)<8||o($)<3?"hidden":null)??""} svelte-anctt3`),Fe(Me,`namewidth input-text ${(o(S)<8||o($)<4?"hidden":null)??""} svelte-anctt3`)}),F(wt,()=>o(I),Q=>A(I,Q)),X("change",wt,et),Xn(ht,()=>o(S),Q=>A(S,Q)),X("change",ht,rt),Xn(Ct,()=>o($),Q=>A($,Q)),X("change",Ct,ot),F(zt,()=>o(c),Q=>A(c,Q)),X("blur",zt,K),F(ce,()=>o(d),Q=>A(d,Q)),X("blur",ce,x),F(ue,()=>o(v),Q=>A(v,Q)),X("blur",ue,L),F(ie,()=>o(g),Q=>A(g,Q)),X("blur",ie,N),F(re,()=>o(p),Q=>A(p,Q)),X("blur",re,q),F(ve,()=>o(m),Q=>A(m,Q)),X("blur",ve,D),F(me,()=>o(y),Q=>A(y,Q)),X("blur",me,P),F(ke,()=>o(b),Q=>A(b,Q)),X("blur",ke,M),F(te,()=>o(w),Q=>A(w,Q)),X("blur",te,j),F($e,()=>o(E),Q=>A(E,Q)),X("blur",$e,Z),F(Oe,()=>o(T),Q=>A(T,Q)),X("blur",Oe,J),F(Me,()=>o(k),Q=>A(k,Q)),X("blur",Me,nt),X("click",$t,()=>R()),B(r,V),Zt()}var em=G('<tbody><tr><td colspan="3" class="text-center svelte-1j9xfi1">로딩 중...</td></tr></tbody>'),rm=G('<tbody><tr><td colspan="3" class="text-center svelte-1j9xfi1">기록이 없습니다</td></tr></tbody>'),nm=G('<tr><td> </td><td> </td><td><button class="small simple-button svelte-1j9xfi1">경기</button> <button class="small simple-button svelte-1j9xfi1">기권</button></td></tr>'),sm=G("<tbody></tbody>"),am=G('<h3 class="message-title">도전 승인하기</h3> <div class="message-body"><table><thead><tr><th class="record-table-date svelte-1j9xfi1">날짜</th><th class="record-table-loser svelte-1j9xfi1">도전자</th><th class="record-table-score svelte-1j9xfi1">결과</th></tr></thead><!></table></div>',1);function im(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=C([]),a=C(!0);async function i(){const p=n()?"/rank/challenge/show/m-user":"/rank/challenge/show/b-user";try{const m=await Mt(p,"POST");if(!m.ok)throw new Error(`오류 발생: ${m.status}`);A(s,await m.json())}catch(m){console.error("데이터 불러오기 오류:",m.message),alert("정보를 불러오는 중 오류가 발생하였습니다")}finally{A(a,!1)}}async function l(p,m){const y=p==="win"?"/record/challenge/win":"/record/challenge/lose",b={challenger:m,mode:n()};try{const w=await Mt(y,"POST",b);if(w.ok)alert(p==="win"?"도전을 승인하였습니다, 결과는 대전 기록에서 입력해주세요.":"경기를 포기하여 자동 패배처리합니다"),i();else throw new Error(`오류 발생: ${w.status}`)}catch(w){console.error(`${p==="win"?"승인":"삭제"} 오류:`,w.message),alert(`오류 발생: ${w.message}`)}}Ye(()=>{i()}),le();var c=am(),d=h(mt(c),2),v=f(d),g=h(f(v));yt(g,()=>o(a),p=>{var m=em();B(p,m)},p=>{var m=Xt(),y=mt(m);yt(y,()=>o(s).length===0,b=>{var w=rm();B(b,w)},b=>{var w=sm();Vt(w,5,()=>o(s),ee,(E,T)=>{var k=nm(),$=f(k),S=f($);st(()=>tt(S,new Date(o(T).challengeDate).toLocaleDateString()));var I=h($),H=f(I);st(()=>tt(H,n()?o(T).nickname.replace("_m",""):o(T).nickname));var U=h(I),R=f(U),K=h(R,2);X("click",R,()=>l("win",o(T).nickname)),X("click",K,()=>l("lose",o(T).nickname)),B(E,k)}),B(b,w)},!0),B(p,m)}),B(r,c),Zt()}var om=G('<div class="message-container"><div class="message-box"><button class="close-button">&times;</button> <!></div></div>');function lm(r,t){Jt(t,!1);const e=ne(),n=()=>z(Re,"$form",e);function s(l){l.key==="Escape"&&Re.set("none")}Ye(()=>{window.addEventListener("keydown",s)}),Ll(()=>{window.removeEventListener("keydown",s)}),le();var a=Xt(),i=mt(a);yt(i,()=>n()!=="none",l=>{var c=om(),d=f(c),v=f(d),g=h(v,2);yt(g,()=>n()==="login",p=>{dv(p,{})},p=>{var m=Xt(),y=mt(m);yt(y,()=>n()==="findaccount",b=>{hv(b,{})},b=>{var w=Xt(),E=mt(w);yt(E,()=>n()==="register",T=>{Ev(T,{})},T=>{var k=Xt(),$=mt(k);yt($,()=>n()==="myinfo",S=>{Nv(S,{})},S=>{var I=Xt(),H=mt(I);yt(H,()=>n()==="changeemail",U=>{$v(U,{})},U=>{var R=Xt(),K=mt(R);yt(K,()=>n()==="changepw",x=>{Ov(x,{})},x=>{var L=Xt(),N=mt(L);yt(N,()=>n()==="deleteaccount",q=>{Cv(q,{})},q=>{var D=Xt(),P=mt(D);yt(P,()=>n()==="recordcreate",M=>{Iv(M,{})},M=>{var j=Xt(),Z=mt(j);yt(Z,()=>n()==="recordok",J=>{jv(J,{})},J=>{var nt=Xt(),et=mt(nt);yt(et,()=>n()==="newevent",rt=>{tm(rt,{})},rt=>{var ot=Xt(),V=mt(ot);yt(V,()=>n()==="challenge",ft=>{im(ft,{})},null,!0),B(rt,ot)},!0),B(J,nt)},!0),B(M,j)},!0),B(q,D)},!0),B(x,L)},!0),B(U,R)},!0),B(S,I)},!0),B(T,k)},!0),B(b,w)},!0),B(p,m)}),X("click",v,()=>Re.set("none")),B(l,c)}),B(r,a),Zt()}var cm=G("<p>로딩 중...</p>"),um=G("<p> </p>"),dm=G('<img class="ranksize svelte-15p3va8" src="/img/diamond.png" alt="10%">'),fm=G('<img class="ranksize svelte-15p3va8" src="/img/platinum.png" alt="25%">'),hm=G('<img class="ranksize svelte-15p3va8" src="/img/gold.png" alt="45%">'),pm=G('<img class="ranksize svelte-15p3va8" src="/img/silver.png" alt="70%">'),vm=G('<img class="ranksize svelte-15p3va8" src="/img/bronze.png" alt="100%">'),mm=G('<button class="simple-button">도전하기</button>'),gm=G('<tr class="svelte-15p3va8"><td colspan="5" class="detail-row svelte-15p3va8"> <br> <br> <br> <br> <br> <!></td></tr>'),bm=G('<tr class="svelte-15p3va8"><td class="svelte-15p3va8"><!></td><td class="svelte-15p3va8"> </td><td class="svelte-15p3va8"> </td><td class="svelte-15p3va8"> </td></tr> <!>',1),_m=G('<table class="rank-table svelte-15p3va8"><thead><tr class="svelte-15p3va8"><th class="svelte-15p3va8">등급</th><th class="svelte-15p3va8">닉네임</th><th class="svelte-15p3va8">승률</th><th class="svelte-15p3va8">점수</th></tr></thead><tbody></tbody></table>'),ym=G('<div class="fixed-button-div"><button class="simple-button">도전승인</button></div>'),wm=G('<div class="table-outline"><!></div> <!>',1);function xm(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Je,"$myaccount",e);let a=C([]),i=C(!0),l=C(null),c=C(null),d=C([]);async function v(){let E,T=1,k=1,$=n()?"/rank/m-user":"/rank/b-user";try{const S=await fetch($);if(!S.ok)throw new Error("연결 에러입니다");A(a,await S.json()),o(a).sort((I,H)=>H.TScore-I.TScore),E=o(a).length||1;for(let I=0;I<o(a).length;I++)o(a)[I].wins+o(a)[I].loses!==0?(I>0&&o(a)[I].TScore===o(a)[I-1].TScore?Ds(a,o(a)[I].rank=T):(Ds(a,o(a)[I].rank=k),T=k),k++):Ds(a,o(a)[I].rank=E),s()===o(a)[I].nickname&&A(c,o(a)[I].rank)}catch(S){A(l,S)}finally{A(i,!1)}}async function g(E){const T={nickname:E,mode:n()},k=n()?"/m-user":"b-user";try{const $=await Mt("/rank/challenge"+k,"POST",T);$.status===201?alert(`${E.replace("_m","")}님에게 도전을 신청하였습니다`):$.status===400?alert("당신은 이미 도전 신청을 한 상태입니다"):$.status===403?alert(`${E.replace("_m","")}님은 휴가중으로 도전을 받을 수 없는 상태입니다`):$.status===404&&alert("서버 에러입니다")}catch{alert("서버 오류입니다")}}function p(E){Ds(d,o(d)[E]=!o(d)[E]),A(d,[...o(d)])}Ye(()=>{const E=ni.subscribe(T=>{v()});return()=>{E()}}),le();var m=wm(),y=mt(m),b=f(y);yt(b,()=>o(i),E=>{var T=cm();B(E,T)},E=>{var T=Xt(),k=mt(T);yt(k,()=>o(l),$=>{var S=um(),I=f(S);st(()=>tt(I,`Error: ${o(l).message??""}`)),B($,S)},$=>{var S=_m(),I=h(f(S));Vt(I,5,()=>o(a),ee,(H,U,R)=>{var K=bm(),x=mt(K),L=f(x),N=f(L);yt(N,()=>o(U).rank/o(a).length<=.1,nt=>{var et=dm();B(nt,et)},nt=>{var et=Xt(),rt=mt(et);yt(rt,()=>o(U).rank/o(a).length<=.25,ot=>{var V=fm();B(ot,V)},ot=>{var V=Xt(),ft=mt(V);yt(ft,()=>o(U).rank/o(a).length<=.45,_t=>{var ut=hm();B(_t,ut)},_t=>{var ut=Xt(),wt=mt(ut);yt(wt,()=>o(U).rank/o(a).length<=.7,ht=>{var at=pm();B(ht,at)},ht=>{var at=vm();B(ht,at)},!0),B(_t,ut)},!0),B(ot,V)},!0),B(nt,et)});var q=h(L),D=f(q);st(()=>tt(D,o(U).nickname.replace("_m","")));var P=h(q),M=f(P);st(()=>tt(M,o(U).wins+o(U).losses>0?Math.round(1e4*(o(U).wins/(o(U).wins+o(U).losses)))/100:0));var j=h(P),Z=f(j);st(()=>tt(Z,Math.round(o(U).TScore*100)/100));var J=h(x,2);yt(J,()=>o(d)[R],nt=>{var et=gm(),rt=f(et),ot=f(rt);st(()=>tt(ot,`대전점수: ${Math.round(o(U).BScore*100)/100}`));var V=h(ot,2),ft=h(V,2),_t=h(ft,2);st(()=>tt(_t,` Elo: ${Math.round(o(U).Elo*100)/100}`));var ut=h(_t,2),wt=h(ut,3);yt(wt,()=>Number(o(c))>Number(o(U).rank),ht=>{var at=mm();X("click",at,()=>g(o(U).nickname)),B(ht,at)}),st(()=>{tt(V,` 대회점수: ${o(U).LScore??""}`),tt(ft,` 순위: ${o(U).rank??""}`),tt(ut,` ${o(U).wins??""} 승 / ${o(U).losses??""} 패`)}),B(nt,et)}),X("click",x,()=>p(R)),B(H,K)}),B($,S)},!0),B(E,T)});var w=h(y,2);yt(w,()=>n()&&s()!=null&&s()!="admin_m",E=>{var T=ym(),k=f(T);X("click",k,()=>Re.set("challenge")),B(E,T)}),B(r,m),Zt()}var Em=G("<option> </option>"),Am=G("<p>로딩 중...</p>"),Tm=G("<p></p>"),Nm=G('<th class="svelte-13ak1b3">관리</th>'),km=G('<td class="svelte-13ak1b3"><button class="simple-button small svelte-13ak1b3">삭제</button></td>'),$m=G('<tr class="svelte-13ak1b3"><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><td class="svelte-13ak1b3"> </td><!></tr>'),Sm=G('<button class="simple-button">처음</button> <button class="simple-button">이전</button>',1),Om=G("<button> </button>"),Lm=G('<button class="simple-button">다음</button> <button class="simple-button">마지막</button>',1),Cm=G('<table class="data-table svelte-13ak1b3"><thead><tr class="svelte-13ak1b3"><th class="svelte-13ak1b3">번호</th><th class="svelte-13ak1b3">승자</th><th class="svelte-13ak1b3">패자</th><th class="svelte-13ak1b3">날짜</th><!></tr></thead><tbody></tbody></table> <div class="pagination"><!> <!> <!></div>',1),qm=G('<div class="fixed-button-div"><button class="simple-button">기록하기</button> <button class="simple-button">승인하기</button></div>'),Rm=G('<div class="filter svelte-13ak1b3"><input list="nicknames_filter" class="input-text" placeholder="필터 선택"> <datalist id="nicknames_filter"><option>모두 보기</option><!></datalist></div> <div class="table-outline"><!> <!></div>',1);function Im(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Us,"$nicknames",e),a=()=>z(Je,"$myaccount",e),i=C(),l=C();let c=[],d=C(!0),v=null,g=C(1);const p=10;let m=C("All"),y=C([]),b=C([]);async function w(){const M=n()?"/record/data?mode=true":"/record/data?mode=false";try{await bi(n());const j=await Mt(M,"GET");if(!j.ok)throw new Error("연결 에러입니다");c=await j.json(),A(y,T(c)),k()}catch{alert("서버 오류가 발생하여 자료를 불러올 수 없습니다")}finally{A(d,!1)}}Ye(()=>{const M=ni.subscribe(()=>{w()});return()=>{M()}});function E(M){A(g,M),k()}function T(M){return o(m)==="All"?M:M.filter(j=>j.winner&&j.loser&&(j.winner.replace("_m","")===o(m)||j.loser.replace("_m","")===o(m)))}function k(){const M=(o(g)-1)*p,j=M+p;A(b,o(y).slice(M,j))}function $(M){const j=M.target;A(m,I(j.value,s())||"All"),A(g,1),A(y,T(c)),k()}function S(M,j){const J=[];let nt=Math.max(M-Math.floor(2.5),1),et=nt+5-1;et>j&&(et=j,nt=Math.max(et-5+1,1));for(let rt=nt;rt<=et;rt++)J.push(rt);return J}function I(M,j){return j.includes(M)?M:"All"}async function H(M){const j={OrderNum:M,mode:n()};try{const Z=await Mt("/record/delete","DELETE",j);Z.status===200?(alert("삭제 완료하였습니다"),w()):alert(`오류 발생: ${Z.status}`)}catch(Z){alert(`오류 발생: ${Z instanceof Error?Z.message:"알 수 없는 오류"}`)}}Dt(()=>o(y),()=>{A(i,Math.ceil(o(y).length/p))}),Dt(()=>(o(g),o(i)),()=>{A(l,S(o(g),o(i)))}),wr(),le();var U=Rm(),R=mt(U),K=f(R),x=h(K,2),L=f(x);L.value=(L.__value="All")==null?"":"All";var N=h(L);Vt(N,1,()=>s().map(M=>M.replace("_m","")),ee,(M,j)=>{var Z=Em(),J={},nt=f(Z);st(()=>{J!==(J=o(j))&&(Z.value=(Z.__value=o(j))==null?"":o(j)),tt(nt,o(j))}),B(M,Z)});var q=h(R,2),D=f(q);yt(D,()=>o(d),M=>{var j=Am();B(M,j)},M=>{var j=Xt(),Z=mt(j);yt(Z,()=>v,J=>{var nt=Tm();nt.textContent="Error: ",B(J,nt)},J=>{var nt=Cm(),et=mt(nt),rt=f(et),ot=f(rt),V=h(f(ot),4);yt(V,()=>a()==="admin_m"||a()==="admin",at=>{var lt=Nm();B(at,lt)});var ft=h(rt);Vt(ft,5,()=>o(b),ee,(at,lt)=>{let vt=()=>o(lt).orderNum,St=()=>o(lt).winner,It=()=>o(lt).loser,Ct=()=>o(lt).date;var Lt=$m(),Pt=f(Lt),se=f(Pt),Ut=h(Pt),zt=f(Ut);st(()=>tt(zt,St().replace("_m","")));var ae=h(Ut),ce=f(ae);st(()=>tt(ce,It().replace("_m","")));var Yt=h(ae),ue=f(Yt),_e=h(Yt);yt(_e,()=>a()==="admin_m"||a()==="admin",ie=>{var de=km(),he=f(de);X("click",he,()=>H(vt())),B(ie,de)}),st(()=>{tt(se,vt()),tt(ue,Ct())}),B(at,Lt)});var _t=h(et,2),ut=f(_t);yt(ut,()=>o(g)>1,at=>{var lt=Sm(),vt=mt(lt),St=h(vt,2);X("click",vt,()=>E(1)),X("click",St,()=>E(o(g)-1)),B(at,lt)});var wt=h(ut,2);Vt(wt,1,()=>o(l),ee,(at,lt)=>{var vt=Om(),St=f(vt);st(()=>{Fe(vt,o(lt)===o(g)?"emphasis-button":"simple-button"),tt(St,o(lt))}),X("click",vt,()=>E(o(lt))),B(at,vt)});var ht=h(wt,2);yt(ht,()=>o(g)<o(i),at=>{var lt=Lm(),vt=mt(lt),St=h(vt,2);X("click",vt,()=>E(o(g)+1)),X("click",St,()=>E(o(i))),B(at,lt)}),B(J,nt)},!0),B(M,j)});var P=h(D,2);yt(P,()=>a()!=""&&a()!="admin_m"&&a()!="admin",M=>{var j=qm(),Z=f(j),J=h(Z,2);X("click",Z,()=>Re.set("recordcreate")),X("click",J,()=>Re.set("recordok")),B(M,j)}),F(K,()=>o(m),M=>A(m,M)),X("blur",K,$),B(r,U),Zt()}var Dm=G("<p>로딩 중...</p>"),Pm=G("<p> </p>"),Bm=G('<button class="simple-button small svelte-bpwny9">승인</button> <button class="simple-button small svelte-bpwny9">삭제</button>',1),Mm=G('<button class="simple-button small svelte-bpwny9">삭제</button>'),jm=G('<tr class="svelte-bpwny9"><td colspan="4" class="svelte-bpwny9"><div class="details svelte-bpwny9"><strong>토너먼트 정보</strong><br> <br> <br> <br> </div></td></tr>'),Um=G('<tr class="svelte-bpwny9"><td class="svelte-bpwny9"> </td><td class="svelte-bpwny9"><!></td><td class="svelte-bpwny9"> </td><td class="svelte-bpwny9"><!></td></tr> <!>',1),Fm=G('<table class="svelte-bpwny9"><thead><tr class="svelte-bpwny9"><th class="svelte-bpwny9">대회명</th><th class="svelte-bpwny9">규모</th><th class="svelte-bpwny9">우승자</th><th class="svelte-bpwny9">승인</th></tr></thead><tbody></tbody></table>'),Hm=G('<div class="fixed-button-div"><button class="simple-button">등록하기</button></div>'),zm=G('<div class="table-container"><!></div> <!>',1);function Km(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Je,"$myaccount",e);let a=C([]),i=C(!0),l=C(null),c=C([]);async function d(T){try{const k=n()?"/event/m-user/cancel":"/event/b-user/cancel",$=await Mt(k,"DELETE",o(a)[T]);$&&$.ok&&alert("토너먼트 히스토리를 삭제하고 점수를 초기화하였습니다")}catch(k){alert("에러가 발생하였습니다: "+k)}finally{p()}}async function v(T){try{const k=n()?"/event/m-user/accept":"/event/b-user/accept",$=await Mt(k,"POST",o(a)[T]);$&&$.status===201&&alert("토너먼트 히스토리를 승인하였습니다")}catch(k){alert("에러가 발생하였습니다: "+k)}finally{p()}}async function g(T){try{const k=n()?"/event/m-user/delete":"/event/b-user/delete",$={eventname:o(a)[T].eventname},S=await Mt(k,"DELETE",$);S&&S.status===200&&alert("토너먼트 히스토리를 삭제하였습니다")}catch(k){alert("에러가 발생하였습니다: "+k)}finally{p()}}async function p(){try{const T=await Mt(n()?"/event/m-user/history":"/event/b-user/history","GET");if(!T.ok)throw new Error("연결 에러입니다");A(a,await T.json()),A(a,o(a).map(k=>({...k,ok:k.accept===1?"대기":k.accept===2?"승인":k.ok}))),A(c,new Array(o(a).length).fill(!1))}catch(T){A(l,T)}finally{A(i,!1)}}Ye(()=>{const T=ni.subscribe(()=>{p()});return()=>{T()}});function m(T){A(c,[...o(c)]),Ds(c,o(c)[T]=!o(c)[T])}le();var y=zm(),b=mt(y),w=f(b);yt(w,()=>o(i),T=>{var k=Dm();B(T,k)},T=>{var k=Xt(),$=mt(k);yt($,()=>o(l),S=>{var I=Pm(),H=f(I);st(()=>tt(H,`Error: ${o(l)??""}`)),B(S,I)},S=>{var I=Fm(),H=h(f(I));Vt(H,5,()=>o(a),ee,(U,R,K)=>{var x=Um(),L=mt(x),N=f(L),q=f(N),D=h(N),P=f(D);yt(P,()=>o(R).numberteams===24,et=>{var rt=Kr("정식전");B(et,rt)},et=>{var rt=Kr();st(()=>tt(rt,`${o(R).numberteams??""}x${o(R).teamSize??""}`)),B(et,rt)});var M=h(D),j=f(M);st(()=>tt(j,o(R).Championship1.replace("_m","")));var Z=h(M),J=f(Z);yt(J,()=>s()==="admin"||s()==="admin_m",et=>{var rt=Xt(),ot=mt(rt);yt(ot,()=>o(R).ok==="대기",V=>{var ft=Bm(),_t=mt(ft),ut=h(_t,2);X("click",_t,()=>v(K)),X("click",ut,()=>g(K)),B(V,ft)},V=>{var ft=Mm();X("click",ft,()=>d(K)),B(V,ft)}),B(et,rt)},et=>{var rt=Kr();st(()=>tt(rt,o(R).ok)),B(et,rt)});var nt=h(L,2);yt(nt,()=>o(c)[K],et=>{var rt=jm(),ot=f(rt),V=f(ot),ft=h(f(V),2);st(()=>tt(ft,` 주최자: ${o(R).Eventhost.replace("_m","")??""}`));const _t=Ze(()=>(o(R).Championship1?o(R).Championship1.replace("_m",""):"")??""),ut=Ze(()=>(o(R).Championship2?o(R).Championship2.replace("_m",""):"")??""),wt=Ze(()=>(o(R).Championship3?o(R).Championship3.replace("_m",""):"")??""),ht=Ze(()=>(o(R).Championship4?o(R).Championship4.replace("_m",""):"")??"");var at=h(ft,2);st(()=>tt(at,` 우승: ${o(_t)}
                    ${o(ut)}
                    ${o(wt)}
                    ${o(ht)}`));const lt=Ze(()=>(o(R).Runner_up1?o(R).Runner_up1.replace("_m",""):"")??""),vt=Ze(()=>(o(R).Runner_up2?o(R).Runner_up2.replace("_m",""):"")??""),St=Ze(()=>(o(R).Runner_up3?o(R).Runner_up3.replace("_m",""):"")??""),It=Ze(()=>(o(R).Runner_up4?o(R).Runner_up4.replace("_m",""):"")??"");var Ct=h(at,2);st(()=>tt(Ct,` 준우승: ${o(lt)}
                    ${o(vt)}
                    ${o(St)}
                    ${o(It)}`));const Lt=Ze(()=>(o(R).Place3rd1?o(R).Place3rd1.replace("_m",""):"")??""),Pt=Ze(()=>(o(R).Place3rd2?o(R).Place3rd2.replace("_m",""):"")??""),se=Ze(()=>(o(R).Place3rd3?o(R).Place3rd3.replace("_m",""):"")??""),Ut=Ze(()=>(o(R).Place3rd4?o(R).Place3rd4.replace("_m",""):"")??"");var zt=h(Ct,2);st(()=>tt(zt,` 3위: ${o(Lt)}
                    ${o(Pt)}
                    ${o(se)}
                    ${o(Ut)}`)),B(et,rt)}),st(()=>tt(q,o(R).eventname)),X("click",L,()=>m(K)),B(U,x)}),B(S,I)},!0),B(T,k)});var E=h(b,2);yt(E,s,T=>{var k=Hm(),$=f(k);X("click",$,()=>Re.set("newevent")),B(T,k)}),B(r,y),Zt()}var Gm=G('<div class="fixed-button-div"><!></div>'),Vm=G('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m">로딩 중...</td></tr>'),Wm=G('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),Jm=G('<tr class="svelte-1puu09m"><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"> </td><td class="svelte-1puu09m"> </td></tr>'),Zm=G('<button class="simple-button">이전</button>'),Ym=G('<button class="simple-button">다음</button>'),Xm=G('<!> <select class="input-text svelte-1puu09m"><option>모든 글 보기</option><option>자유 글 보기</option><option>거래 글 보기</option><option>공략 글 보기</option></select> <input class="input-text svelte-1puu09m" type="text"> <button class="simple-button small svelte-1puu09m">검색</button> <table class="svelte-1puu09m"><thead><tr class="svelte-1puu09m"><th class="table-head_board_date svelte-1puu09m">날짜</th><th class="table-head_board_title svelte-1puu09m">제목</th><th class="table-head_board_writter svelte-1puu09m">작성자</th><th class="table-head_board_views svelte-1puu09m">조회수</th></tr></thead><tbody><!></tbody></table> <div class="pagination svelte-1puu09m"><!> <!></div>',1);function Qm(r,t){Jt(t,!1);const e=ne(),n=()=>z(Nc,"$category",e),s=()=>z(Tc,"$page",e),a=()=>z(oe,"$mode",e),i=()=>z(Je,"$myaccount",e);let l=C(null),c=C(!0),d=C(null),v=C([]);Ye(()=>{y(n())});function g(q){Tc.set(s()+q),y(n())}const p=a()?"/mpk":"/babapk";async function m(q){try{const D=`/board/search?data=${q}&find=${o(l)}`,P=await fetch(D);if(!P.ok)throw new Error("Network response was not ok");const M=await P.json();M.length===0?A(v,[{post_id:"-",date:"-",title:"검색 결과가 없습니다",writter:"-",views:0}]):A(v,M.map(j=>({...j,date:ba(j.date)}))),A(c,!1)}catch(D){console.error("Error:",D),A(d,D instanceof Error?D.message:String(D))}}async function y(q){try{const D=`/board/list?data=${q}&page=${s()}`,P=await Mt(D,"GET");if(!P.ok)throw new Error("Network response was not ok");const M=await P.json();A(v,M.map(j=>({...j,date:ba(j.date)}))),A(c,!1),A(l,"")}catch(D){console.error("Error:",D),A(d,D instanceof Error?D.message:String(D))}}le();var b=Xm(),w=mt(b);yt(w,i,q=>{var D=Gm(),P=f(D);ms(P,{to:`${p}/write`,class:"simple-button",children:(M,j)=>{var Z=Kr("작성하기");B(M,Z)},$$slots:{default:!0}}),B(q,D)});var E=h(w,2);st(()=>{n(),Yn(()=>{})});var T=f(E);T.value=(T.__value="all")==null?"":"all";var k=h(T);k.value=(k.__value="free")==null?"":"free";var $=h(k);$.value=($.__value="trade")==null?"":"trade";var S=h($);S.value=(S.__value="setting")==null?"":"setting";var I=h(E,2),H=h(I,2),U=h(H,2),R=h(f(U)),K=f(R);yt(K,()=>o(c),q=>{var D=Vm();B(q,D)},q=>{var D=Xt(),P=mt(D);yt(P,()=>o(d),M=>{var j=Wm(),Z=f(j),J=f(Z);st(()=>tt(J,`Error: ${o(d)??""}`)),B(M,j)},M=>{var j=Xt(),Z=mt(j);Vt(Z,1,()=>o(v),ee,(J,nt)=>{let et=()=>o(nt).post_id,rt=()=>o(nt).date,ot=()=>o(nt).title,V=()=>o(nt).writter,ft=()=>o(nt).views;var _t=Jm(),ut=f(_t),wt=f(ut);yt(wt,()=>rt()===ba(String(new Date)),Ct=>{var Lt=Kr("new");B(Ct,Lt)},Ct=>{var Lt=Kr();st(()=>tt(Lt,rt())),B(Ct,Lt)});var ht=h(ut),at=f(ht);ms(at,{get to(){return`${p??""}/post/${et()??""}`},class:"fontBasic",children:(Ct,Lt)=>{var Pt=Kr();st(()=>tt(Pt,ot())),B(Ct,Pt)},$$slots:{default:!0}});var lt=h(ht),vt=f(lt),St=h(lt),It=f(St);st(()=>{tt(vt,V()),tt(It,ft())}),B(J,_t)}),B(M,j)},!0),B(q,D)});var x=h(U,2),L=f(x);yt(L,()=>s()!=1,q=>{var D=Zm();X("click",D,()=>g(-1)),B(q,D)});var N=h(L,2);yt(N,()=>o(v).length===20,q=>{var D=Ym();X("click",D,()=>g(1)),B(q,D)}),Xn(E,n,q=>At(Nc,q)),X("change",E,()=>y(n())),F(I,()=>o(l),q=>A(l,q)),X("click",H,()=>m(n())),B(r,b),Zt()}var t1=G('<div class="text-center">Loading...</div>'),e1=G('<div class="text-center"> </div>'),r1=G('<button class="simple-button">수정하기</button>'),n1=G('<button class="simple-button">삭제하기</button>'),s1=G('<button class="simple-button small svelte-1s9ldo5">삭제</button>'),a1=G('<tr class="svelte-1s9ldo5"><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"> </td><td class="svelte-1s9ldo5"><!></td></tr>'),i1=G('<div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-comment table-contents_cell"><input class="input-text svelte-1s9ldo5" type="text"> <button class="simple-button small svelte-1s9ldo5">댓글 작성</button></div></div></div>'),o1=G('<div class="table-outline main_data svelte-1s9ldo5"><div class="table-head table-title fontBasic svelte-1s9ldo5"> </div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-info-no-line flex"><div class="table-info-writter table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-date table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-date table-contents_cell svelte-1s9ldo5"> </div> <div class="table-info-views table-contents_cell svelte-1s9ldo5"> </div></div></div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-content fontBasic svelte-1s9ldo5"><!></div></div></div> <div class="table-contents-wrapper svelte-1s9ldo5"><div class="table-contents-no-line"><div class="table-info-button svelte-1s9ldo5"><!> <!> <!></div></div></div></div> <table class="comment-table svelte-1s9ldo5"><thead><tr class="svelte-1s9ldo5"><th class="svelte-1s9ldo5">작성자</th><th class="svelte-1s9ldo5">내용</th><th class="svelte-1s9ldo5">작성일</th><th class="svelte-1s9ldo5">관리</th></tr></thead><tbody></tbody></table> <!>',1),l1=G('<div class="margin svelte-1s9ldo5"></div> <!>',1);function c1(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Je,"$myaccount",e),a=C();let i=C(""),l=C({}),c=C(""),d=C([]),v=C("");const g=n()?"/mpk":"/babapk";async function p(S){try{console.log(`Fetching post with ID: ${S}`);const I=await fetch(`/board/post?post_id=${S}`);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const H=await I.json();console.log("Fetched data:",H),A(l,{...H}),A(a,!1),console.log("Loading state after fetch:",o(a))}catch(I){console.error(`Error fetching post: ${I}`),A(a,!1),A(c,`네트워크 오류: ${I.message}`)}}async function m(S){try{const I=await fetch(`/board/comments?post_id=${S}`);A(d,await I.json())}catch(I){console.error("댓글 가져오기 오류:",I)}}function y(S){const I=S.match(/\/post\/(\d+)$/);return I?I[1]:null}Ye(()=>{const S=y(window.location.pathname);console.log("Extracted ID:",S),A(i,S??""),o(i)?(p(o(i)),m(o(i))):(A(a,!1),A(c,"잘못된 주소입니다"))});async function b(S){const I={post_id:S,content:o(v),writter:s()};try{(await Mt("/board/comment/add","POST",I)).ok&&(alert("댓글을 등록하였습니다"),A(v,""),m(S))}catch(H){console.error("댓글 작성 오류:",H)}}async function w(S,I){const H={comment_id:I};try{(await Mt("/board/comment/delete","DELETE",H)).ok&&(alert("댓글을 삭제하였습니다"),m(S))}catch(U){console.error("댓글 삭제 오류:",U)}}function E(){At(Yo,o(i)),Ea(`${g}/write`)}async function T(S){const I={post_id:S};try{(await Mt("/board/delete","DELETE",I)).ok&&(alert("글을 삭제하였습니다"),Ea(`${g}/boardlist`))}catch(H){console.error("글 삭제 오류:",H)}}Dt(()=>{},()=>{A(a,!0)}),wr(),le();var k=l1(),$=h(mt(k),2);yt($,()=>o(a),S=>{var I=t1();B(S,I)},S=>{var I=Xt(),H=mt(I);yt(H,()=>o(c),U=>{var R=e1(),K=f(R);st(()=>tt(K,`Error: ${o(c)??""}`)),B(U,R)},U=>{var R=o1(),K=mt(R),x=f(K),L=f(x),N=h(x,2),q=f(N),D=f(q),P=f(D),M=h(D,2),j=f(M);st(()=>tt(j,`작성일 : ${(ba(o(l).createdAt)||"")??""}`));var Z=h(M,2),J=f(Z);st(()=>tt(J,`수정일 : ${(ba(o(l).updatedAt)||"")??""}`));var nt=h(Z,2),et=f(nt),rt=h(N,2),ot=f(rt),V=f(ot),ft=f(V);Vo(ft,()=>o(l).content);var _t=h(rt,2),ut=f(_t),wt=f(ut),ht=f(wt);yt(ht,()=>o(l).nickname===s(),Ct=>{var Lt=r1();X("click",Lt,E),B(Ct,Lt)});var at=h(ht,2);yt(at,()=>s()==="admin"||s()==="admin_m"||o(l).writter===Je,Ct=>{var Lt=n1();X("click",Lt,()=>T(o(i))),B(Ct,Lt)});var lt=h(at,2);ms(lt,{class:"simple-button",to:`${g}/boardlist`,children:(Ct,Lt)=>{var Pt=Kr("목록보기");B(Ct,Pt)},$$slots:{default:!0}});var vt=h(K,2),St=h(f(vt));Vt(St,5,()=>o(d),ee,(Ct,Lt)=>{let Pt=()=>o(Lt).nickname,se=()=>o(Lt).content,Ut=()=>o(Lt).createdAt,zt=()=>o(Lt).commentId;var ae=a1(),ce=f(ae),Yt=f(ce),ue=h(ce),_e=f(ue),ie=h(ue),de=f(ie);st(()=>tt(de,ba(Ut())));var he=h(ie),re=f(he);yt(re,()=>Pt()===s()||s()==="admin"||s()==="admin_m",Ee=>{var ve=s1();X("click",ve,()=>w(o(i),zt())),B(Ee,ve)}),st(()=>{tt(Yt,Pt()),tt(_e,se())}),B(Ct,ae)});var It=h(vt,2);yt(It,s,Ct=>{var Lt=i1(),Pt=f(Lt),se=f(Pt),Ut=f(se),zt=h(Ut,2);F(Ut,()=>o(v),ae=>A(v,ae)),X("click",zt,()=>b(o(i))),B(Ct,Lt)}),st(()=>{tt(L,o(l).title||""),tt(P,o(l).nickname||""),tt(et,`조회수 : ${(o(l).views||"")??""}`)}),B(U,R)},!0),B(S,I)}),B(r,k),Zt()}var xd=typeof global=="object"&&global&&global.Object===Object&&global,u1=typeof self=="object"&&self&&self.Object===Object&&self,zn=xd||u1||Function("return this")(),Ns=zn.Symbol,Ed=Object.prototype,d1=Ed.hasOwnProperty,f1=Ed.toString,ja=Ns?Ns.toStringTag:void 0;function h1(r){var t=d1.call(r,ja),e=r[ja];try{r[ja]=void 0;var n=!0}catch{}var s=f1.call(r);return n&&(t?r[ja]=e:delete r[ja]),s}var p1=Object.prototype,v1=p1.toString;function m1(r){return v1.call(r)}var g1="[object Null]",b1="[object Undefined]",$c=Ns?Ns.toStringTag:void 0;function Ia(r){return r==null?r===void 0?b1:g1:$c&&$c in Object(r)?h1(r):m1(r)}function ts(r){return r!=null&&typeof r=="object"}var Fs=Array.isArray;function $s(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function Ad(r){return r}var _1="[object AsyncFunction]",y1="[object Function]",w1="[object GeneratorFunction]",x1="[object Proxy]";function ql(r){if(!$s(r))return!1;var t=Ia(r);return t==y1||t==w1||t==_1||t==x1}var ko=zn["__core-js_shared__"],Sc=function(){var r=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function E1(r){return!!Sc&&Sc in r}var A1=Function.prototype,T1=A1.toString;function Vs(r){if(r!=null){try{return T1.call(r)}catch{}try{return r+""}catch{}}return""}var N1=/[\\^$.*+?()[\]{}|]/g,k1=/^\[object .+?Constructor\]$/,$1=Function.prototype,S1=Object.prototype,O1=$1.toString,L1=S1.hasOwnProperty,C1=RegExp("^"+O1.call(L1).replace(N1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q1(r){if(!$s(r)||E1(r))return!1;var t=ql(r)?C1:k1;return t.test(Vs(r))}function R1(r,t){return r==null?void 0:r[t]}function Ws(r,t){var e=R1(r,t);return q1(e)?e:void 0}var Xo=Ws(zn,"WeakMap"),Oc=Object.create,I1=function(){function r(){}return function(t){if(!$s(t))return{};if(Oc)return Oc(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function D1(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function Td(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var P1=800,B1=16,M1=Date.now;function j1(r){var t=0,e=0;return function(){var n=M1(),s=B1-(n-e);if(e=n,s>0){if(++t>=P1)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function U1(r){return function(){return r}}var Xi=function(){try{var r=Ws(Object,"defineProperty");return r({},"",{}),r}catch{}}(),F1=Xi?function(r,t){return Xi(r,"toString",{configurable:!0,enumerable:!1,value:U1(t),writable:!0})}:Ad,H1=j1(F1);function z1(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var K1=9007199254740991,G1=/^(?:0|[1-9]\d*)$/;function Nd(r,t){var e=typeof r;return t=t??K1,!!t&&(e=="number"||e!="symbol"&&G1.test(r))&&r>-1&&r%1==0&&r<t}function Rl(r,t,e){t=="__proto__"&&Xi?Xi(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function _i(r,t){return r===t||r!==r&&t!==t}var V1=Object.prototype,W1=V1.hasOwnProperty;function kd(r,t,e){var n=r[t];(!(W1.call(r,t)&&_i(n,e))||e===void 0&&!(t in r))&&Rl(r,t,e)}function yi(r,t,e,n){var s=!e;e||(e={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=void 0;c===void 0&&(c=r[l]),s?Rl(e,l,c):kd(e,l,c)}return e}var Lc=Math.max;function J1(r,t,e){return t=Lc(t===void 0?r.length-1:t,0),function(){for(var n=arguments,s=-1,a=Lc(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=e(i),D1(r,this,l)}}function Z1(r,t){return H1(J1(r,t,Ad),r+"")}var Y1=9007199254740991;function $d(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Y1}function co(r){return r!=null&&$d(r.length)&&!ql(r)}function X1(r,t,e){if(!$s(e))return!1;var n=typeof t;return(n=="number"?co(e)&&Nd(t,e.length):n=="string"&&t in e)?_i(e[t],r):!1}function Q1(r){return Z1(function(t,e){var n=-1,s=e.length,a=s>1?e[s-1]:void 0,i=s>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(s--,a):void 0,i&&X1(e[0],e[1],i)&&(a=s<3?void 0:a,s=1),t=Object(t);++n<s;){var l=e[n];l&&r(t,l,n,a)}return t})}var tg=Object.prototype;function Il(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||tg;return r===e}function eg(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var rg="[object Arguments]";function Cc(r){return ts(r)&&Ia(r)==rg}var Sd=Object.prototype,ng=Sd.hasOwnProperty,sg=Sd.propertyIsEnumerable,Qo=Cc(function(){return arguments}())?Cc:function(r){return ts(r)&&ng.call(r,"callee")&&!sg.call(r,"callee")};function ag(){return!1}var Od=typeof Gr=="object"&&Gr&&!Gr.nodeType&&Gr,qc=Od&&typeof Vr=="object"&&Vr&&!Vr.nodeType&&Vr,ig=qc&&qc.exports===Od,Rc=ig?zn.Buffer:void 0,og=Rc?Rc.isBuffer:void 0,si=og||ag,lg="[object Arguments]",cg="[object Array]",ug="[object Boolean]",dg="[object Date]",fg="[object Error]",hg="[object Function]",pg="[object Map]",vg="[object Number]",mg="[object Object]",gg="[object RegExp]",bg="[object Set]",_g="[object String]",yg="[object WeakMap]",wg="[object ArrayBuffer]",xg="[object DataView]",Eg="[object Float32Array]",Ag="[object Float64Array]",Tg="[object Int8Array]",Ng="[object Int16Array]",kg="[object Int32Array]",$g="[object Uint8Array]",Sg="[object Uint8ClampedArray]",Og="[object Uint16Array]",Lg="[object Uint32Array]",xe={};xe[Eg]=xe[Ag]=xe[Tg]=xe[Ng]=xe[kg]=xe[$g]=xe[Sg]=xe[Og]=xe[Lg]=!0;xe[lg]=xe[cg]=xe[wg]=xe[ug]=xe[xg]=xe[dg]=xe[fg]=xe[hg]=xe[pg]=xe[vg]=xe[mg]=xe[gg]=xe[bg]=xe[_g]=xe[yg]=!1;function Cg(r){return ts(r)&&$d(r.length)&&!!xe[Ia(r)]}function Dl(r){return function(t){return r(t)}}var Ld=typeof Gr=="object"&&Gr&&!Gr.nodeType&&Gr,Va=Ld&&typeof Vr=="object"&&Vr&&!Vr.nodeType&&Vr,qg=Va&&Va.exports===Ld,$o=qg&&xd.process,Aa=function(){try{var r=Va&&Va.require&&Va.require("util").types;return r||$o&&$o.binding&&$o.binding("util")}catch{}}(),Ic=Aa&&Aa.isTypedArray,Pl=Ic?Dl(Ic):Cg,Rg=Object.prototype,Ig=Rg.hasOwnProperty;function Cd(r,t){var e=Fs(r),n=!e&&Qo(r),s=!e&&!n&&si(r),a=!e&&!n&&!s&&Pl(r),i=e||n||s||a,l=i?eg(r.length,String):[],c=l.length;for(var d in r)(t||Ig.call(r,d))&&!(i&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Nd(d,c)))&&l.push(d);return l}function qd(r,t){return function(e){return r(t(e))}}var Dg=qd(Object.keys,Object),Pg=Object.prototype,Bg=Pg.hasOwnProperty;function Mg(r){if(!Il(r))return Dg(r);var t=[];for(var e in Object(r))Bg.call(r,e)&&e!="constructor"&&t.push(e);return t}function Bl(r){return co(r)?Cd(r):Mg(r)}function jg(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var Ug=Object.prototype,Fg=Ug.hasOwnProperty;function Hg(r){if(!$s(r))return jg(r);var t=Il(r),e=[];for(var n in r)n=="constructor"&&(t||!Fg.call(r,n))||e.push(n);return e}function wi(r){return co(r)?Cd(r,!0):Hg(r)}var ai=Ws(Object,"create");function zg(){this.__data__=ai?ai(null):{},this.size=0}function Kg(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var Gg="__lodash_hash_undefined__",Vg=Object.prototype,Wg=Vg.hasOwnProperty;function Jg(r){var t=this.__data__;if(ai){var e=t[r];return e===Gg?void 0:e}return Wg.call(t,r)?t[r]:void 0}var Zg=Object.prototype,Yg=Zg.hasOwnProperty;function Xg(r){var t=this.__data__;return ai?t[r]!==void 0:Yg.call(t,r)}var Qg="__lodash_hash_undefined__";function tb(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=ai&&t===void 0?Qg:t,this}function Hs(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Hs.prototype.clear=zg;Hs.prototype.delete=Kg;Hs.prototype.get=Jg;Hs.prototype.has=Xg;Hs.prototype.set=tb;function eb(){this.__data__=[],this.size=0}function uo(r,t){for(var e=r.length;e--;)if(_i(r[e][0],t))return e;return-1}var rb=Array.prototype,nb=rb.splice;function sb(r){var t=this.__data__,e=uo(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():nb.call(t,e,1),--this.size,!0}function ab(r){var t=this.__data__,e=uo(t,r);return e<0?void 0:t[e][1]}function ib(r){return uo(this.__data__,r)>-1}function ob(r,t){var e=this.__data__,n=uo(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function ns(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ns.prototype.clear=eb;ns.prototype.delete=sb;ns.prototype.get=ab;ns.prototype.has=ib;ns.prototype.set=ob;var ii=Ws(zn,"Map");function lb(){this.size=0,this.__data__={hash:new Hs,map:new(ii||ns),string:new Hs}}function cb(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function fo(r,t){var e=r.__data__;return cb(t)?e[typeof t=="string"?"string":"hash"]:e.map}function ub(r){var t=fo(this,r).delete(r);return this.size-=t?1:0,t}function db(r){return fo(this,r).get(r)}function fb(r){return fo(this,r).has(r)}function hb(r,t){var e=fo(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function Js(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Js.prototype.clear=lb;Js.prototype.delete=ub;Js.prototype.get=db;Js.prototype.has=fb;Js.prototype.set=hb;function Rd(r,t){for(var e=-1,n=t.length,s=r.length;++e<n;)r[s+e]=t[e];return r}var Ml=qd(Object.getPrototypeOf,Object),pb="[object Object]",vb=Function.prototype,mb=Object.prototype,Id=vb.toString,gb=mb.hasOwnProperty,bb=Id.call(Object);function _b(r){if(!ts(r)||Ia(r)!=pb)return!1;var t=Ml(r);if(t===null)return!0;var e=gb.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Id.call(e)==bb}function yb(){this.__data__=new ns,this.size=0}function wb(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function xb(r){return this.__data__.get(r)}function Eb(r){return this.__data__.has(r)}var Ab=200;function Tb(r,t){var e=this.__data__;if(e instanceof ns){var n=e.__data__;if(!ii||n.length<Ab-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new Js(n)}return e.set(r,t),this.size=e.size,this}function jn(r){var t=this.__data__=new ns(r);this.size=t.size}jn.prototype.clear=yb;jn.prototype.delete=wb;jn.prototype.get=xb;jn.prototype.has=Eb;jn.prototype.set=Tb;function Nb(r,t){return r&&yi(t,Bl(t),r)}function kb(r,t){return r&&yi(t,wi(t),r)}var Dd=typeof Gr=="object"&&Gr&&!Gr.nodeType&&Gr,Dc=Dd&&typeof Vr=="object"&&Vr&&!Vr.nodeType&&Vr,$b=Dc&&Dc.exports===Dd,Pc=$b?zn.Buffer:void 0,Bc=Pc?Pc.allocUnsafe:void 0;function Pd(r,t){if(t)return r.slice();var e=r.length,n=Bc?Bc(e):new r.constructor(e);return r.copy(n),n}function Sb(r,t){for(var e=-1,n=r==null?0:r.length,s=0,a=[];++e<n;){var i=r[e];t(i,e,r)&&(a[s++]=i)}return a}function Bd(){return[]}var Ob=Object.prototype,Lb=Ob.propertyIsEnumerable,Mc=Object.getOwnPropertySymbols,jl=Mc?function(r){return r==null?[]:(r=Object(r),Sb(Mc(r),function(t){return Lb.call(r,t)}))}:Bd;function Cb(r,t){return yi(r,jl(r),t)}var qb=Object.getOwnPropertySymbols,Md=qb?function(r){for(var t=[];r;)Rd(t,jl(r)),r=Ml(r);return t}:Bd;function Rb(r,t){return yi(r,Md(r),t)}function jd(r,t,e){var n=t(r);return Fs(r)?n:Rd(n,e(r))}function tl(r){return jd(r,Bl,jl)}function Ib(r){return jd(r,wi,Md)}var el=Ws(zn,"DataView"),rl=Ws(zn,"Promise"),nl=Ws(zn,"Set"),jc="[object Map]",Db="[object Object]",Uc="[object Promise]",Fc="[object Set]",Hc="[object WeakMap]",zc="[object DataView]",Pb=Vs(el),Bb=Vs(ii),Mb=Vs(rl),jb=Vs(nl),Ub=Vs(Xo),yn=Ia;(el&&yn(new el(new ArrayBuffer(1)))!=zc||ii&&yn(new ii)!=jc||rl&&yn(rl.resolve())!=Uc||nl&&yn(new nl)!=Fc||Xo&&yn(new Xo)!=Hc)&&(yn=function(r){var t=Ia(r),e=t==Db?r.constructor:void 0,n=e?Vs(e):"";if(n)switch(n){case Pb:return zc;case Bb:return jc;case Mb:return Uc;case jb:return Fc;case Ub:return Hc}return t});var Fb=Object.prototype,Hb=Fb.hasOwnProperty;function zb(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&Hb.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var Qi=zn.Uint8Array;function Ul(r){var t=new r.constructor(r.byteLength);return new Qi(t).set(new Qi(r)),t}function Kb(r,t){var e=t?Ul(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var Gb=/\w*$/;function Vb(r){var t=new r.constructor(r.source,Gb.exec(r));return t.lastIndex=r.lastIndex,t}var Kc=Ns?Ns.prototype:void 0,Gc=Kc?Kc.valueOf:void 0;function Wb(r){return Gc?Object(Gc.call(r)):{}}function Ud(r,t){var e=t?Ul(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var Jb="[object Boolean]",Zb="[object Date]",Yb="[object Map]",Xb="[object Number]",Qb="[object RegExp]",t0="[object Set]",e0="[object String]",r0="[object Symbol]",n0="[object ArrayBuffer]",s0="[object DataView]",a0="[object Float32Array]",i0="[object Float64Array]",o0="[object Int8Array]",l0="[object Int16Array]",c0="[object Int32Array]",u0="[object Uint8Array]",d0="[object Uint8ClampedArray]",f0="[object Uint16Array]",h0="[object Uint32Array]";function p0(r,t,e){var n=r.constructor;switch(t){case n0:return Ul(r);case Jb:case Zb:return new n(+r);case s0:return Kb(r,e);case a0:case i0:case o0:case l0:case c0:case u0:case d0:case f0:case h0:return Ud(r,e);case Yb:return new n;case Xb:case e0:return new n(r);case Qb:return Vb(r);case t0:return new n;case r0:return Wb(r)}}function Fd(r){return typeof r.constructor=="function"&&!Il(r)?I1(Ml(r)):{}}var v0="[object Map]";function m0(r){return ts(r)&&yn(r)==v0}var Vc=Aa&&Aa.isMap,g0=Vc?Dl(Vc):m0,b0="[object Set]";function _0(r){return ts(r)&&yn(r)==b0}var Wc=Aa&&Aa.isSet,y0=Wc?Dl(Wc):_0,w0=1,x0=2,E0=4,Hd="[object Arguments]",A0="[object Array]",T0="[object Boolean]",N0="[object Date]",k0="[object Error]",zd="[object Function]",$0="[object GeneratorFunction]",S0="[object Map]",O0="[object Number]",Kd="[object Object]",L0="[object RegExp]",C0="[object Set]",q0="[object String]",R0="[object Symbol]",I0="[object WeakMap]",D0="[object ArrayBuffer]",P0="[object DataView]",B0="[object Float32Array]",M0="[object Float64Array]",j0="[object Int8Array]",U0="[object Int16Array]",F0="[object Int32Array]",H0="[object Uint8Array]",z0="[object Uint8ClampedArray]",K0="[object Uint16Array]",G0="[object Uint32Array]",be={};be[Hd]=be[A0]=be[D0]=be[P0]=be[T0]=be[N0]=be[B0]=be[M0]=be[j0]=be[U0]=be[F0]=be[S0]=be[O0]=be[Kd]=be[L0]=be[C0]=be[q0]=be[R0]=be[H0]=be[z0]=be[K0]=be[G0]=!0;be[k0]=be[zd]=be[I0]=!1;function Ui(r,t,e,n,s,a){var i,l=t&w0,c=t&x0,d=t&E0;if(i!==void 0)return i;if(!$s(r))return r;var v=Fs(r);if(v){if(i=zb(r),!l)return Td(r,i)}else{var g=yn(r),p=g==zd||g==$0;if(si(r))return Pd(r,l);if(g==Kd||g==Hd||p&&!s){if(i=c||p?{}:Fd(r),!l)return c?Rb(r,kb(i,r)):Cb(r,Nb(i,r))}else{if(!be[g])return s?r:{};i=p0(r,g,l)}}a||(a=new jn);var m=a.get(r);if(m)return m;a.set(r,i),y0(r)?r.forEach(function(w){i.add(Ui(w,t,e,w,r,a))}):g0(r)&&r.forEach(function(w,E){i.set(E,Ui(w,t,e,E,r,a))});var y=d?c?Ib:tl:c?wi:Bl,b=v?void 0:y(r);return z1(b||r,function(w,E){b&&(E=w,w=r[E]),kd(i,E,Ui(w,t,e,E,r,a))}),i}var V0=1,W0=4;function _a(r){return Ui(r,V0|W0)}var J0="__lodash_hash_undefined__";function Z0(r){return this.__data__.set(r,J0),this}function Y0(r){return this.__data__.has(r)}function to(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new Js;++t<e;)this.add(r[t])}to.prototype.add=to.prototype.push=Z0;to.prototype.has=Y0;function X0(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function Q0(r,t){return r.has(t)}var t_=1,e_=2;function Gd(r,t,e,n,s,a){var i=e&t_,l=r.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var d=a.get(r),v=a.get(t);if(d&&v)return d==t&&v==r;var g=-1,p=!0,m=e&e_?new to:void 0;for(a.set(r,t),a.set(t,r);++g<l;){var y=r[g],b=t[g];if(n)var w=i?n(b,y,g,t,r,a):n(y,b,g,r,t,a);if(w!==void 0){if(w)continue;p=!1;break}if(m){if(!X0(t,function(E,T){if(!Q0(m,T)&&(y===E||s(y,E,e,n,a)))return m.push(T)})){p=!1;break}}else if(!(y===b||s(y,b,e,n,a))){p=!1;break}}return a.delete(r),a.delete(t),p}function r_(r){var t=-1,e=Array(r.size);return r.forEach(function(n,s){e[++t]=[s,n]}),e}function n_(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var s_=1,a_=2,i_="[object Boolean]",o_="[object Date]",l_="[object Error]",c_="[object Map]",u_="[object Number]",d_="[object RegExp]",f_="[object Set]",h_="[object String]",p_="[object Symbol]",v_="[object ArrayBuffer]",m_="[object DataView]",Jc=Ns?Ns.prototype:void 0,So=Jc?Jc.valueOf:void 0;function g_(r,t,e,n,s,a,i){switch(e){case m_:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case v_:return!(r.byteLength!=t.byteLength||!a(new Qi(r),new Qi(t)));case i_:case o_:case u_:return _i(+r,+t);case l_:return r.name==t.name&&r.message==t.message;case d_:case h_:return r==t+"";case c_:var l=r_;case f_:var c=n&s_;if(l||(l=n_),r.size!=t.size&&!c)return!1;var d=i.get(r);if(d)return d==t;n|=a_,i.set(r,t);var v=Gd(l(r),l(t),n,s,a,i);return i.delete(r),v;case p_:if(So)return So.call(r)==So.call(t)}return!1}var b_=1,__=Object.prototype,y_=__.hasOwnProperty;function w_(r,t,e,n,s,a){var i=e&b_,l=tl(r),c=l.length,d=tl(t),v=d.length;if(c!=v&&!i)return!1;for(var g=c;g--;){var p=l[g];if(!(i?p in t:y_.call(t,p)))return!1}var m=a.get(r),y=a.get(t);if(m&&y)return m==t&&y==r;var b=!0;a.set(r,t),a.set(t,r);for(var w=i;++g<c;){p=l[g];var E=r[p],T=t[p];if(n)var k=i?n(T,E,p,t,r,a):n(E,T,p,r,t,a);if(!(k===void 0?E===T||s(E,T,e,n,a):k)){b=!1;break}w||(w=p=="constructor")}if(b&&!w){var $=r.constructor,S=t.constructor;$!=S&&"constructor"in r&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof S=="function"&&S instanceof S)&&(b=!1)}return a.delete(r),a.delete(t),b}var x_=1,Zc="[object Arguments]",Yc="[object Array]",Si="[object Object]",E_=Object.prototype,Xc=E_.hasOwnProperty;function A_(r,t,e,n,s,a){var i=Fs(r),l=Fs(t),c=i?Yc:yn(r),d=l?Yc:yn(t);c=c==Zc?Si:c,d=d==Zc?Si:d;var v=c==Si,g=d==Si,p=c==d;if(p&&si(r)){if(!si(t))return!1;i=!0,v=!1}if(p&&!v)return a||(a=new jn),i||Pl(r)?Gd(r,t,e,n,s,a):g_(r,t,c,e,n,s,a);if(!(e&x_)){var m=v&&Xc.call(r,"__wrapped__"),y=g&&Xc.call(t,"__wrapped__");if(m||y){var b=m?r.value():r,w=y?t.value():t;return a||(a=new jn),s(b,w,e,n,a)}}return p?(a||(a=new jn),w_(r,t,e,n,s,a)):!1}function Vd(r,t,e,n,s){return r===t?!0:r==null||t==null||!ts(r)&&!ts(t)?r!==r&&t!==t:A_(r,t,e,n,Vd,s)}function T_(r){return function(t,e,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[++s];if(e(a[c],c,a)===!1)break}return t}}var N_=T_();function sl(r,t,e){(e!==void 0&&!_i(r[t],e)||e===void 0&&!(t in r))&&Rl(r,t,e)}function k_(r){return ts(r)&&co(r)}function al(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function $_(r){return yi(r,wi(r))}function S_(r,t,e,n,s,a,i){var l=al(r,e),c=al(t,e),d=i.get(c);if(d){sl(r,e,d);return}var v=a?a(l,c,e+"",r,t,i):void 0,g=v===void 0;if(g){var p=Fs(c),m=!p&&si(c),y=!p&&!m&&Pl(c);v=c,p||m||y?Fs(l)?v=l:k_(l)?v=Td(l):m?(g=!1,v=Pd(c,!0)):y?(g=!1,v=Ud(c,!0)):v=[]:_b(c)||Qo(c)?(v=l,Qo(l)?v=$_(l):(!$s(l)||ql(l))&&(v=Fd(c))):g=!1}g&&(i.set(c,v),s(v,c,n,a,i),i.delete(c)),sl(r,e,v)}function Wd(r,t,e,n,s){r!==t&&N_(t,function(a,i){if(s||(s=new jn),$s(a))S_(r,t,i,e,Wd,n,s);else{var l=n?n(al(r,i),a,i+"",r,t,s):void 0;l===void 0&&(l=a),sl(r,i,l)}},wi)}function Fl(r,t){return Vd(r,t)}var As=Q1(function(r,t,e){Wd(r,t,e)}),kt=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(kt||{});class Fn{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const s=kt.TYPE&kt.ATTRIBUTE;this.scope=n.scope!=null?n.scope&kt.LEVEL|s:kt.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class ya extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Jd=class il{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const s=this.query(e);if(s==null)throw new ya(`Unable to create ${e} blot`);const a=s,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(n),l=new a(t,i,n);return il.blots.set(l.domNode,l),l}find(t,e=!1){return il.find(t,e)}query(t,e=kt.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&kt.LEVEL&kt.BLOCK?n=this.types.block:t&kt.LEVEL&kt.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&kt.LEVEL&n.scope&&e&kt.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,s="attrName"in e;if(!n&&!s)throw new ya("Invalid definition");if(n&&e.blotName==="abstract")throw new ya("Cannot register abstract class");const a=n?e.blotName:s?e.attrName:void 0;return this.types[a]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(i=>i.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(i=>{(this.tags[i]==null||e.className==null)&&(this.tags[i]=e)}))),e})}};Jd.blots=new WeakMap;let Ta=Jd;function Qc(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class O_ extends Fn{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Qc(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Qc(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const $n=O_;function Oo(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class L_ extends Fn{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Oo(this.keyName)]=e,!0):!1}remove(t){t.style[Oo(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Oo(this.keyName)];return this.canAdd(t,e)?e:""}}const Ss=L_;class C_{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Ta.find(this.domNode);if(t==null)return;const e=Fn.keys(this.domNode),n=$n.keys(this.domNode),s=Ss.keys(this.domNode);e.concat(n).concat(s).forEach(a=>{const i=t.scroll.query(a,kt.ATTRIBUTE);i instanceof Fn&&(this.attributes[i.attrName]=i)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const ho=C_,Zd=class{constructor(t,e){this.scroll=t,this.domNode=e,Ta.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ya("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Ta.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,s){const a=this.isolate(t,e);if(this.scroll.query(n,kt.BLOT)!=null&&s)a.wrap(n,s);else if(this.scroll.query(n,kt.ATTRIBUTE)!=null){const i=this.scroll.create(this.statics.scope);a.wrap(i),i.format(n,s)}}insertAt(t,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),a=this.split(t);this.parent.insertBefore(s,a||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new ya(`Cannot wrap ${t}`);return n.appendChild(this),n}};Zd.blotName="abstract";let Yd=Zd;const Xd=class extends Yd{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Xd.scope=kt.INLINE_BLOT;let q_=Xd;const lr=q_;class R_{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),s=0;for(;n;){if(n===t)return s;s+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let s=n();for(;s;){const a=s.length();if(t<a||e&&t===a&&(s.next==null||s.next.length()!==0))return[s,t];t-=a,s=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[s,a]=this.find(t);let i=t-a;const l=this.iterator(s);let c=l();for(;c&&i<t+e;){const d=c.length();t>i?n(c,t-i,Math.min(e,i+d-t)):n(c,0,Math.min(d,t+e-i)),i+=d,c=l()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let s=n();for(;s;)e=t(e,s),s=n();return e}}function tu(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(kt.INLINE);return Array.from(r.childNodes).forEach(s=>{n.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const Qd=class fs extends Yd{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,fs.uiClass&&this.uiNode.classList.add(fs.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new R_,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=tu(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof ya)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,s,a)=>{n.deleteAt(s,a)})}descendant(t,e=0){const[n,s]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof fs?n.descendant(t,s):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let s=[],a=n;return this.children.forEachAt(e,n,(i,l,c)=>{(t.blotName==null&&t(i)||t.blotName!=null&&i instanceof t)&&s.push(i),i instanceof fs&&(s=s.concat(i.descendants(t,l,a))),a-=c}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===kt.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof fs?e.unwrap():e.remove())})}formatAt(t,e,n,s){this.children.forEachAt(t,e,(a,i,l)=>{a.formatAt(i,l,n,s)})}insertAt(t,e,n){const[s,a]=this.children.find(t);if(s)s.insertAt(a,e,n);else{const i=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(i)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,s]=this.children.find(t,e),a=[[this,t]];return n instanceof fs?a.concat(n.path(s,e)):(n!=null&&a.push([n,s]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof fs&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,a,i)=>{const l=s.split(a,e);l!=null&&n.appendChild(l)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],s=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(n.push(...a.addedNodes),s.push(...a.removedNodes))}),s.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const i=this.scroll.find(a);i!=null&&(i.domNode.parentNode==null||i.domNode.parentNode===this.domNode)&&i.detach()}),n.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,i)=>a===i?0:a.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let i=null;a.nextSibling!=null&&(i=this.scroll.find(a.nextSibling));const l=tu(a,this.scroll);(l.next!==i||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,i||void 0))}),this.enforceAllowedChildren()}};Qd.uiClass="";let I_=Qd;const En=I_;function D_(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const oa=class la extends En{static create(t){return super.create(t)}static formats(t,e){const n=e.query(la.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ho(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof la||(n=n.wrap(la.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,kt.INLINE);if(n==null)return;n instanceof Fn?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.formats()[n]!=null||this.scroll.query(n,kt.ATTRIBUTE)?this.isolate(t,e).format(n,s):super.formatAt(t,e,n,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof la&&n.prev===this&&D_(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof la&&this.attributes.move(n),n}};oa.allowedChildren=[oa,lr],oa.blotName="inline",oa.scope=kt.INLINE_BLOT,oa.tagName="SPAN";let P_=oa;const Hl=P_,ca=class ol extends En{static create(t){return super.create(t)}static formats(t,e){const n=e.query(ol.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ho(this.domNode)}format(t,e){const n=this.scroll.query(t,kt.BLOCK);n!=null&&(n instanceof Fn?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(ol.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.scroll.query(n,kt.BLOCK)!=null?this.format(n,s):super.formatAt(t,e,n,s)}insertAt(t,e,n){if(n==null||this.scroll.query(e,kt.INLINE)!=null)super.insertAt(t,e,n);else{const s=this.split(t);if(s!=null){const a=this.scroll.create(e,n);s.parent.insertBefore(a,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};ca.blotName="block",ca.scope=kt.BLOCK_BLOT,ca.tagName="P",ca.allowedChildren=[Hl,ca,lr];let B_=ca;const oi=B_,ll=class extends En{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ll.blotName="container",ll.scope=kt.BLOCK_BLOT;let M_=ll;const po=M_;class j_ extends lr{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,s){t===0&&e===this.length()?this.format(n,s):super.formatAt(t,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Wr=j_,U_={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},F_=100,ua=class extends En{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,U_),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=kt.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,s){this.update(),super.formatAt(t,e,n,s)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const a=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(n.has(c.domNode)||n.set(c.domNode,[]),d&&a(c.parent))},i=c=>{n.has(c.domNode)&&(c instanceof En&&c.children.forEach(i),n.delete(c.domNode),c.optimize(e))};let l=t;for(let c=0;l.length>0;c+=1){if(c>=F_)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const v=this.find(d.target,!0);v!=null&&(v.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const p=this.find(g,!1);a(p,!1),p instanceof En&&p.children.forEach(m=>{a(m,!1)})})):d.type==="attributes"&&a(v.prev)),a(v))}),this.children.forEach(i),l=Array.from(this.observer.takeRecords()),s=l.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const a=this.find(s.target,!0);return a==null?null:n.has(a.domNode)?(n.get(a.domNode).push(s),null):(n.set(a.domNode,[s]),a)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};ua.blotName="scroll",ua.defaultChild=oi,ua.allowedChildren=[oi,po],ua.scope=kt.BLOCK_BLOT,ua.tagName="DIV";let H_=ua;const zl=H_,cl=class tf extends lr{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof tf&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};cl.blotName="text",cl.scope=kt.INLINE_BLOT;let z_=cl;const eo=z_,K_=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Fn,AttributorStore:ho,BlockBlot:oi,ClassAttributor:$n,ContainerBlot:po,EmbedBlot:Wr,InlineBlot:Hl,LeafBlot:lr,ParentBlot:En,Registry:Ta,Scope:kt,ScrollBlot:zl,StyleAttributor:Ss,TextBlot:eo},Symbol.toStringTag,{value:"Module"}));var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Oi={exports:{}},Lo,eu;function G_(){if(eu)return Lo;eu=1;var r=-1,t=1,e=0;function n(x,L,N,q,D){if(x===L)return x?[[e,x]]:[];if(N!=null){var P=R(x,L,N);if(P)return P}var M=l(x,L),j=x.substring(0,M);x=x.substring(M),L=L.substring(M),M=d(x,L);var Z=x.substring(x.length-M);x=x.substring(0,x.length-M),L=L.substring(0,L.length-M);var J=s(x,L);return j&&J.unshift([e,j]),Z&&J.push([e,Z]),T(J,D),q&&g(J),J}function s(x,L){var N;if(!x)return[[t,L]];if(!L)return[[r,x]];var q=x.length>L.length?x:L,D=x.length>L.length?L:x,P=q.indexOf(D);if(P!==-1)return N=[[t,q.substring(0,P)],[e,D],[t,q.substring(P+D.length)]],x.length>L.length&&(N[0][0]=N[2][0]=r),N;if(D.length===1)return[[r,x],[t,L]];var M=v(x,L);if(M){var j=M[0],Z=M[1],J=M[2],nt=M[3],et=M[4],rt=n(j,J),ot=n(Z,nt);return rt.concat([[e,et]],ot)}return a(x,L)}function a(x,L){for(var N=x.length,q=L.length,D=Math.ceil((N+q)/2),P=D,M=2*D,j=new Array(M),Z=new Array(M),J=0;J<M;J++)j[J]=-1,Z[J]=-1;j[P+1]=0,Z[P+1]=0;for(var nt=N-q,et=nt%2!==0,rt=0,ot=0,V=0,ft=0,_t=0;_t<D;_t++){for(var ut=-_t+rt;ut<=_t-ot;ut+=2){var wt=P+ut,ht;ut===-_t||ut!==_t&&j[wt-1]<j[wt+1]?ht=j[wt+1]:ht=j[wt-1]+1;for(var at=ht-ut;ht<N&&at<q&&x.charAt(ht)===L.charAt(at);)ht++,at++;if(j[wt]=ht,ht>N)ot+=2;else if(at>q)rt+=2;else if(et){var lt=P+nt-ut;if(lt>=0&&lt<M&&Z[lt]!==-1){var vt=N-Z[lt];if(ht>=vt)return i(x,L,ht,at)}}}for(var St=-_t+V;St<=_t-ft;St+=2){var lt=P+St,vt;St===-_t||St!==_t&&Z[lt-1]<Z[lt+1]?vt=Z[lt+1]:vt=Z[lt-1]+1;for(var It=vt-St;vt<N&&It<q&&x.charAt(N-vt-1)===L.charAt(q-It-1);)vt++,It++;if(Z[lt]=vt,vt>N)ft+=2;else if(It>q)V+=2;else if(!et){var wt=P+nt-St;if(wt>=0&&wt<M&&j[wt]!==-1){var ht=j[wt],at=P+ht-wt;if(vt=N-vt,ht>=vt)return i(x,L,ht,at)}}}}return[[r,x],[t,L]]}function i(x,L,N,q){var D=x.substring(0,N),P=L.substring(0,q),M=x.substring(N),j=L.substring(q),Z=n(D,P),J=n(M,j);return Z.concat(J)}function l(x,L){if(!x||!L||x.charAt(0)!==L.charAt(0))return 0;for(var N=0,q=Math.min(x.length,L.length),D=q,P=0;N<D;)x.substring(P,D)==L.substring(P,D)?(N=D,P=N):q=D,D=Math.floor((q-N)/2+N);return k(x.charCodeAt(D-1))&&D--,D}function c(x,L){var N=x.length,q=L.length;if(N==0||q==0)return 0;N>q?x=x.substring(N-q):N<q&&(L=L.substring(0,N));var D=Math.min(N,q);if(x==L)return D;for(var P=0,M=1;;){var j=x.substring(D-M),Z=L.indexOf(j);if(Z==-1)return P;M+=Z,(Z==0||x.substring(D-M)==L.substring(0,M))&&(P=M,M++)}}function d(x,L){if(!x||!L||x.slice(-1)!==L.slice(-1))return 0;for(var N=0,q=Math.min(x.length,L.length),D=q,P=0;N<D;)x.substring(x.length-D,x.length-P)==L.substring(L.length-D,L.length-P)?(N=D,P=N):q=D,D=Math.floor((q-N)/2+N);return $(x.charCodeAt(x.length-D))&&D--,D}function v(x,L){var N=x.length>L.length?x:L,q=x.length>L.length?L:x;if(N.length<4||q.length*2<N.length)return null;function D(ot,V,ft){for(var _t=ot.substring(ft,ft+Math.floor(ot.length/4)),ut=-1,wt="",ht,at,lt,vt;(ut=V.indexOf(_t,ut+1))!==-1;){var St=l(ot.substring(ft),V.substring(ut)),It=d(ot.substring(0,ft),V.substring(0,ut));wt.length<It+St&&(wt=V.substring(ut-It,ut)+V.substring(ut,ut+St),ht=ot.substring(0,ft-It),at=ot.substring(ft+St),lt=V.substring(0,ut-It),vt=V.substring(ut+St))}return wt.length*2>=ot.length?[ht,at,lt,vt,wt]:null}var P=D(N,q,Math.ceil(N.length/4)),M=D(N,q,Math.ceil(N.length/2)),j;if(!P&&!M)return null;M?P?j=P[4].length>M[4].length?P:M:j=M:j=P;var Z,J,nt,et;x.length>L.length?(Z=j[0],J=j[1],nt=j[2],et=j[3]):(nt=j[0],et=j[1],Z=j[2],J=j[3]);var rt=j[4];return[Z,J,nt,et,rt]}function g(x){for(var L=!1,N=[],q=0,D=null,P=0,M=0,j=0,Z=0,J=0;P<x.length;)x[P][0]==e?(N[q++]=P,M=Z,j=J,Z=0,J=0,D=x[P][1]):(x[P][0]==t?Z+=x[P][1].length:J+=x[P][1].length,D&&D.length<=Math.max(M,j)&&D.length<=Math.max(Z,J)&&(x.splice(N[q-1],0,[r,D]),x[N[q-1]+1][0]=t,q--,q--,P=q>0?N[q-1]:-1,M=0,j=0,Z=0,J=0,D=null,L=!0)),P++;for(L&&T(x),E(x),P=1;P<x.length;){if(x[P-1][0]==r&&x[P][0]==t){var nt=x[P-1][1],et=x[P][1],rt=c(nt,et),ot=c(et,nt);rt>=ot?(rt>=nt.length/2||rt>=et.length/2)&&(x.splice(P,0,[e,et.substring(0,rt)]),x[P-1][1]=nt.substring(0,nt.length-rt),x[P+1][1]=et.substring(rt),P++):(ot>=nt.length/2||ot>=et.length/2)&&(x.splice(P,0,[e,nt.substring(0,ot)]),x[P-1][0]=t,x[P-1][1]=et.substring(0,et.length-ot),x[P+1][0]=r,x[P+1][1]=nt.substring(ot),P++),P++}P++}}var p=/[^a-zA-Z0-9]/,m=/\s/,y=/[\r\n]/,b=/\n\r?\n$/,w=/^\r?\n\r?\n/;function E(x){function L(ot,V){if(!ot||!V)return 6;var ft=ot.charAt(ot.length-1),_t=V.charAt(0),ut=ft.match(p),wt=_t.match(p),ht=ut&&ft.match(m),at=wt&&_t.match(m),lt=ht&&ft.match(y),vt=at&&_t.match(y),St=lt&&ot.match(b),It=vt&&V.match(w);return St||It?5:lt||vt?4:ut&&!ht&&at?3:ht||at?2:ut||wt?1:0}for(var N=1;N<x.length-1;){if(x[N-1][0]==e&&x[N+1][0]==e){var q=x[N-1][1],D=x[N][1],P=x[N+1][1],M=d(q,D);if(M){var j=D.substring(D.length-M);q=q.substring(0,q.length-M),D=j+D.substring(0,D.length-M),P=j+P}for(var Z=q,J=D,nt=P,et=L(q,D)+L(D,P);D.charAt(0)===P.charAt(0);){q+=D.charAt(0),D=D.substring(1)+P.charAt(0),P=P.substring(1);var rt=L(q,D)+L(D,P);rt>=et&&(et=rt,Z=q,J=D,nt=P)}x[N-1][1]!=Z&&(Z?x[N-1][1]=Z:(x.splice(N-1,1),N--),x[N][1]=J,nt?x[N+1][1]=nt:(x.splice(N+1,1),N--))}N++}}function T(x,L){x.push([e,""]);for(var N=0,q=0,D=0,P="",M="",j;N<x.length;){if(N<x.length-1&&!x[N][1]){x.splice(N,1);continue}switch(x[N][0]){case t:D++,M+=x[N][1],N++;break;case r:q++,P+=x[N][1],N++;break;case e:var Z=N-D-q-1;if(L){if(Z>=0&&I(x[Z][1])){var J=x[Z][1].slice(-1);if(x[Z][1]=x[Z][1].slice(0,-1),P=J+P,M=J+M,!x[Z][1]){x.splice(Z,1),N--;var nt=Z-1;x[nt]&&x[nt][0]===t&&(D++,M=x[nt][1]+M,nt--),x[nt]&&x[nt][0]===r&&(q++,P=x[nt][1]+P,nt--),Z=nt}}if(S(x[N][1])){var J=x[N][1].charAt(0);x[N][1]=x[N][1].slice(1),P+=J,M+=J}}if(N<x.length-1&&!x[N][1]){x.splice(N,1);break}if(P.length>0||M.length>0){P.length>0&&M.length>0&&(j=l(M,P),j!==0&&(Z>=0?x[Z][1]+=M.substring(0,j):(x.splice(0,0,[e,M.substring(0,j)]),N++),M=M.substring(j),P=P.substring(j)),j=d(M,P),j!==0&&(x[N][1]=M.substring(M.length-j)+x[N][1],M=M.substring(0,M.length-j),P=P.substring(0,P.length-j)));var et=D+q;P.length===0&&M.length===0?(x.splice(N-et,et),N=N-et):P.length===0?(x.splice(N-et,et,[t,M]),N=N-et+1):M.length===0?(x.splice(N-et,et,[r,P]),N=N-et+1):(x.splice(N-et,et,[r,P],[t,M]),N=N-et+2)}N!==0&&x[N-1][0]===e?(x[N-1][1]+=x[N][1],x.splice(N,1)):N++,D=0,q=0,P="",M="";break}}x[x.length-1][1]===""&&x.pop();var rt=!1;for(N=1;N<x.length-1;)x[N-1][0]===e&&x[N+1][0]===e&&(x[N][1].substring(x[N][1].length-x[N-1][1].length)===x[N-1][1]?(x[N][1]=x[N-1][1]+x[N][1].substring(0,x[N][1].length-x[N-1][1].length),x[N+1][1]=x[N-1][1]+x[N+1][1],x.splice(N-1,1),rt=!0):x[N][1].substring(0,x[N+1][1].length)==x[N+1][1]&&(x[N-1][1]+=x[N+1][1],x[N][1]=x[N][1].substring(x[N+1][1].length)+x[N+1][1],x.splice(N+1,1),rt=!0)),N++;rt&&T(x,L)}function k(x){return x>=55296&&x<=56319}function $(x){return x>=56320&&x<=57343}function S(x){return $(x.charCodeAt(0))}function I(x){return k(x.charCodeAt(x.length-1))}function H(x){for(var L=[],N=0;N<x.length;N++)x[N][1].length>0&&L.push(x[N]);return L}function U(x,L,N,q){return I(x)||S(q)?null:H([[e,x],[r,L],[t,N],[e,q]])}function R(x,L,N){var q=typeof N=="number"?{index:N,length:0}:N.oldRange,D=typeof N=="number"?null:N.newRange,P=x.length,M=L.length;if(q.length===0&&(D===null||D.length===0)){var j=q.index,Z=x.slice(0,j),J=x.slice(j),nt=D?D.index:null;t:{var et=j+M-P;if(nt!==null&&nt!==et||et<0||et>M)break t;var rt=L.slice(0,et),ot=L.slice(et);if(ot!==J)break t;var V=Math.min(j,et),ft=Z.slice(0,V),_t=rt.slice(0,V);if(ft!==_t)break t;var ut=Z.slice(V),wt=rt.slice(V);return U(ft,ut,wt,J)}t:{if(nt!==null&&nt!==j)break t;var ht=j,rt=L.slice(0,ht),ot=L.slice(ht);if(rt!==Z)break t;var at=Math.min(P-ht,M-ht),lt=J.slice(J.length-at),vt=ot.slice(ot.length-at);if(lt!==vt)break t;var ut=J.slice(0,J.length-at),wt=ot.slice(0,ot.length-at);return U(Z,ut,wt,lt)}}if(q.length>0&&D&&D.length===0)t:{var ft=x.slice(0,q.index),lt=x.slice(q.index+q.length),V=ft.length,at=lt.length;if(M<V+at)break t;var _t=L.slice(0,V),vt=L.slice(M-at);if(ft!==_t||lt!==vt)break t;var ut=x.slice(V,P-at),wt=L.slice(V,M-at);return U(ft,ut,wt,lt)}return null}function K(x,L,N,q){return n(x,L,N,q,!0)}return K.INSERT=t,K.DELETE=r,K.EQUAL=e,Lo=K,Lo}var Ha={exports:{}};Ha.exports;var ru;function rf(){return ru||(ru=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=9007199254740991,a="[object Arguments]",i="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",v="[object Function]",g="[object GeneratorFunction]",p="[object Map]",m="[object Number]",y="[object Object]",b="[object Promise]",w="[object RegExp]",E="[object Set]",T="[object String]",k="[object Symbol]",$="[object WeakMap]",S="[object ArrayBuffer]",I="[object DataView]",H="[object Float32Array]",U="[object Float64Array]",R="[object Int8Array]",K="[object Int16Array]",x="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",q="[object Uint16Array]",D="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,M=/\w*$/,j=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,J={};J[a]=J[i]=J[S]=J[I]=J[l]=J[c]=J[H]=J[U]=J[R]=J[K]=J[x]=J[p]=J[m]=J[y]=J[w]=J[E]=J[T]=J[k]=J[L]=J[N]=J[q]=J[D]=!0,J[d]=J[v]=J[$]=!1;var nt=typeof gs=="object"&&gs&&gs.Object===Object&&gs,et=typeof self=="object"&&self&&self.Object===Object&&self,rt=nt||et||Function("return this")(),ot=t&&!t.nodeType&&t,V=ot&&!0&&r&&!r.nodeType&&r,ft=V&&V.exports===ot;function _t(u,_){return u.set(_[0],_[1]),u}function ut(u,_){return u.add(_),u}function wt(u,_){for(var O=-1,W=u?u.length:0;++O<W&&_(u[O],O,u)!==!1;);return u}function ht(u,_){for(var O=-1,W=_.length,Rt=u.length;++O<W;)u[Rt+O]=_[O];return u}function at(u,_,O,W){for(var Rt=-1,Tt=u?u.length:0;++Rt<Tt;)O=_(O,u[Rt],Rt,u);return O}function lt(u,_){for(var O=-1,W=Array(u);++O<u;)W[O]=_(O);return W}function vt(u,_){return u==null?void 0:u[_]}function St(u){var _=!1;if(u!=null&&typeof u.toString!="function")try{_=!!(u+"")}catch{}return _}function It(u){var _=-1,O=Array(u.size);return u.forEach(function(W,Rt){O[++_]=[Rt,W]}),O}function Ct(u,_){return function(O){return u(_(O))}}function Lt(u){var _=-1,O=Array(u.size);return u.forEach(function(W){O[++_]=W}),O}var Pt=Array.prototype,se=Function.prototype,Ut=Object.prototype,zt=rt["__core-js_shared__"],ae=function(){var u=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ce=se.toString,Yt=Ut.hasOwnProperty,ue=Ut.toString,_e=RegExp("^"+ce.call(Yt).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=ft?rt.Buffer:void 0,de=rt.Symbol,he=rt.Uint8Array,re=Ct(Object.getPrototypeOf,Object),Ee=Object.create,ve=Ut.propertyIsEnumerable,Ie=Pt.splice,me=Object.getOwnPropertySymbols,De=ie?ie.isBuffer:void 0,ke=Ct(Object.keys,Object),Ae=sr(rt,"DataView"),ge=sr(rt,"Map"),te=sr(rt,"Promise"),Pe=sr(rt,"Set"),$e=sr(rt,"WeakMap"),Se=sr(Object,"create"),Oe=je(Ae),Le=je(ge),Me=je(te),He=je(Pe),$t=je($e),Q=de?de.prototype:void 0,dt=Q?Q.valueOf:void 0;function pt(u){var _=-1,O=u?u.length:0;for(this.clear();++_<O;){var W=u[_];this.set(W[0],W[1])}}function qt(){this.__data__=Se?Se(null):{}}function Ft(u){return this.has(u)&&delete this.__data__[u]}function xr(u){var _=this.__data__;if(Se){var O=_[u];return O===n?void 0:O}return Yt.call(_,u)?_[u]:void 0}function mr(u){var _=this.__data__;return Se?_[u]!==void 0:Yt.call(_,u)}function ur(u,_){var O=this.__data__;return O[u]=Se&&_===void 0?n:_,this}pt.prototype.clear=qt,pt.prototype.delete=Ft,pt.prototype.get=xr,pt.prototype.has=mr,pt.prototype.set=ur;function pe(u){var _=-1,O=u?u.length:0;for(this.clear();++_<O;){var W=u[_];this.set(W[0],W[1])}}function Jr(){this.__data__=[]}function Zr(u){var _=this.__data__,O=nr(_,u);if(O<0)return!1;var W=_.length-1;return O==W?_.pop():Ie.call(_,O,1),!0}function Er(u){var _=this.__data__,O=nr(_,u);return O<0?void 0:_[O][1]}function Ar(u){return nr(this.__data__,u)>-1}function Tr(u,_){var O=this.__data__,W=nr(O,u);return W<0?O.push([u,_]):O[W][1]=_,this}pe.prototype.clear=Jr,pe.prototype.delete=Zr,pe.prototype.get=Er,pe.prototype.has=Ar,pe.prototype.set=Tr;function ye(u){var _=-1,O=u?u.length:0;for(this.clear();++_<O;){var W=u[_];this.set(W[0],W[1])}}function Yr(){this.__data__={hash:new pt,map:new(ge||pe),string:new pt}}function Nr(u){return xt(this,u).delete(u)}function kr(u){return xt(this,u).get(u)}function $r(u){return xt(this,u).has(u)}function Xr(u,_){return xt(this,u).set(u,_),this}ye.prototype.clear=Yr,ye.prototype.delete=Nr,ye.prototype.get=kr,ye.prototype.has=$r,ye.prototype.set=Xr;function Ce(u){this.__data__=new pe(u)}function Sr(){this.__data__=new pe}function Or(u){return this.__data__.delete(u)}function Lr(u){return this.__data__.get(u)}function Qr(u){return this.__data__.has(u)}function tn(u,_){var O=this.__data__;if(O instanceof pe){var W=O.__data__;if(!ge||W.length<e-1)return W.push([u,_]),this;O=this.__data__=new ye(W)}return O.set(u,_),this}Ce.prototype.clear=Sr,Ce.prototype.delete=Or,Ce.prototype.get=Lr,Ce.prototype.has=Qr,Ce.prototype.set=tn;function rr(u,_){var O=mn(u)||In(u)?lt(u.length,String):[],W=O.length,Rt=!!W;for(var Tt in u)Yt.call(u,Tt)&&!(Rt&&(Tt=="length"||Os(Tt,W)))&&O.push(Tt);return O}function gr(u,_,O){var W=u[_];(!(Yt.call(u,_)&&cs(W,O))||O===void 0&&!(_ in u))&&(u[_]=O)}function nr(u,_){for(var O=u.length;O--;)if(cs(u[O][0],_))return O;return-1}function Ge(u,_){return u&&Br(_,Gn(_),u)}function Cr(u,_,O,W,Rt,Tt,Kt){var Ht;if(W&&(Ht=Tt?W(u,Rt,Tt,Kt):W(u)),Ht!==void 0)return Ht;if(!ar(u))return u;var Te=mn(u);if(Te){if(Ht=as(u),!_)return Pr(u,Ht)}else{var Gt=Mr(u),Ue=Gt==v||Gt==g;if(us(u))return rn(u,_);if(Gt==y||Gt==a||Ue&&!Tt){if(St(u))return Tt?u:{};if(Ht=fr(Ue?{}:u),!_)return pn(u,Ge(Ht,u))}else{if(!J[Gt])return Tt?u:{};Ht=is(u,Gt,Cr,_)}}Kt||(Kt=new Ce);var Ve=Kt.get(u);if(Ve)return Ve;if(Kt.set(u,Ht),!Te)var qe=O?vn(u):Gn(u);return wt(qe||u,function(ze,Be){qe&&(Be=ze,ze=u[Be]),gr(Ht,Be,Cr(ze,_,O,W,Be,u,Kt))}),Ht}function qr(u){return ar(u)?Ee(u):{}}function Rr(u,_,O){var W=_(u);return mn(u)?W:ht(W,O(u))}function Ir(u){return ue.call(u)}function en(u){if(!ar(u)||Ls(u))return!1;var _=Kn(u)||St(u)?_e:j;return _.test(je(u))}function Ot(u){if(!Rn(u))return ke(u);var _=[];for(var O in Object(u))Yt.call(u,O)&&O!="constructor"&&_.push(O);return _}function rn(u,_){if(_)return u.slice();var O=new u.constructor(u.length);return u.copy(O),O}function Dr(u){var _=new u.constructor(u.byteLength);return new he(_).set(new he(u)),_}function dr(u,_){var O=_?Dr(u.buffer):u.buffer;return new u.constructor(O,u.byteOffset,u.byteLength)}function fn(u,_,O){var W=_?O(It(u),!0):It(u);return at(W,_t,new u.constructor)}function Ln(u){var _=new u.constructor(u.source,M.exec(u));return _.lastIndex=u.lastIndex,_}function Cn(u,_,O){var W=_?O(Lt(u),!0):Lt(u);return at(W,ut,new u.constructor)}function qn(u){return dt?Object(dt.call(u)):{}}function hn(u,_){var O=_?Dr(u.buffer):u.buffer;return new u.constructor(O,u.byteOffset,u.length)}function Pr(u,_){var O=-1,W=u.length;for(_||(_=Array(W));++O<W;)_[O]=u[O];return _}function Br(u,_,O,W){O||(O={});for(var Rt=-1,Tt=_.length;++Rt<Tt;){var Kt=_[Rt],Ht=void 0;gr(O,Kt,Ht===void 0?u[Kt]:Ht)}return O}function pn(u,_){return Br(u,br(u),_)}function vn(u){return Rr(u,Gn,br)}function xt(u,_){var O=u.__data__;return os(_)?O[typeof _=="string"?"string":"hash"]:O.map}function sr(u,_){var O=vt(u,_);return en(O)?O:void 0}var br=me?Ct(me,Object):qs,Mr=Ir;(Ae&&Mr(new Ae(new ArrayBuffer(1)))!=I||ge&&Mr(new ge)!=p||te&&Mr(te.resolve())!=b||Pe&&Mr(new Pe)!=E||$e&&Mr(new $e)!=$)&&(Mr=function(u){var _=ue.call(u),O=_==y?u.constructor:void 0,W=O?je(O):void 0;if(W)switch(W){case Oe:return I;case Le:return p;case Me:return b;case He:return E;case $t:return $}return _});function as(u){var _=u.length,O=u.constructor(_);return _&&typeof u[0]=="string"&&Yt.call(u,"index")&&(O.index=u.index,O.input=u.input),O}function fr(u){return typeof u.constructor=="function"&&!Rn(u)?qr(re(u)):{}}function is(u,_,O,W){var Rt=u.constructor;switch(_){case S:return Dr(u);case l:case c:return new Rt(+u);case I:return dr(u,W);case H:case U:case R:case K:case x:case L:case N:case q:case D:return hn(u,W);case p:return fn(u,W,O);case m:case T:return new Rt(u);case w:return Ln(u);case E:return Cn(u,W,O);case k:return qn(u)}}function Os(u,_){return _=_??s,!!_&&(typeof u=="number"||Z.test(u))&&u>-1&&u%1==0&&u<_}function os(u){var _=typeof u;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?u!=="__proto__":u===null}function Ls(u){return!!ae&&ae in u}function Rn(u){var _=u&&u.constructor,O=typeof _=="function"&&_.prototype||Ut;return u===O}function je(u){if(u!=null){try{return ce.call(u)}catch{}try{return u+""}catch{}}return""}function ls(u){return Cr(u,!0,!0)}function cs(u,_){return u===_||u!==u&&_!==_}function In(u){return Cs(u)&&Yt.call(u,"callee")&&(!ve.call(u,"callee")||ue.call(u)==a)}var mn=Array.isArray;function nn(u){return u!=null&&Dn(u.length)&&!Kn(u)}function Cs(u){return ds(u)&&nn(u)}var us=De||Vn;function Kn(u){var _=ar(u)?ue.call(u):"";return _==v||_==g}function Dn(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=s}function ar(u){var _=typeof u;return!!u&&(_=="object"||_=="function")}function ds(u){return!!u&&typeof u=="object"}function Gn(u){return nn(u)?rr(u):Ot(u)}function qs(){return[]}function Vn(){return!1}r.exports=ls}(Ha,Ha.exports)),Ha.exports}var za={exports:{}};za.exports;var nu;function nf(){return nu||(nu=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=1,a=2,i=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",v="[object Boolean]",g="[object Date]",p="[object Error]",m="[object Function]",y="[object GeneratorFunction]",b="[object Map]",w="[object Number]",E="[object Null]",T="[object Object]",k="[object Promise]",$="[object Proxy]",S="[object RegExp]",I="[object Set]",H="[object String]",U="[object Symbol]",R="[object Undefined]",K="[object WeakMap]",x="[object ArrayBuffer]",L="[object DataView]",N="[object Float32Array]",q="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",j="[object Uint8Array]",Z="[object Uint8ClampedArray]",J="[object Uint16Array]",nt="[object Uint32Array]",et=/[\\^$.*+?()[\]{}|]/g,rt=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,V={};V[N]=V[q]=V[D]=V[P]=V[M]=V[j]=V[Z]=V[J]=V[nt]=!0,V[l]=V[c]=V[x]=V[v]=V[L]=V[g]=V[p]=V[m]=V[b]=V[w]=V[T]=V[S]=V[I]=V[H]=V[K]=!1;var ft=typeof gs=="object"&&gs&&gs.Object===Object&&gs,_t=typeof self=="object"&&self&&self.Object===Object&&self,ut=ft||_t||Function("return this")(),wt=t&&!t.nodeType&&t,ht=wt&&!0&&r&&!r.nodeType&&r,at=ht&&ht.exports===wt,lt=at&&ft.process,vt=function(){try{return lt&&lt.binding&&lt.binding("util")}catch{}}(),St=vt&&vt.isTypedArray;function It(u,_){for(var O=-1,W=u==null?0:u.length,Rt=0,Tt=[];++O<W;){var Kt=u[O];_(Kt,O,u)&&(Tt[Rt++]=Kt)}return Tt}function Ct(u,_){for(var O=-1,W=_.length,Rt=u.length;++O<W;)u[Rt+O]=_[O];return u}function Lt(u,_){for(var O=-1,W=u==null?0:u.length;++O<W;)if(_(u[O],O,u))return!0;return!1}function Pt(u,_){for(var O=-1,W=Array(u);++O<u;)W[O]=_(O);return W}function se(u){return function(_){return u(_)}}function Ut(u,_){return u.has(_)}function zt(u,_){return u==null?void 0:u[_]}function ae(u){var _=-1,O=Array(u.size);return u.forEach(function(W,Rt){O[++_]=[Rt,W]}),O}function ce(u,_){return function(O){return u(_(O))}}function Yt(u){var _=-1,O=Array(u.size);return u.forEach(function(W){O[++_]=W}),O}var ue=Array.prototype,_e=Function.prototype,ie=Object.prototype,de=ut["__core-js_shared__"],he=_e.toString,re=ie.hasOwnProperty,Ee=function(){var u=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),ve=ie.toString,Ie=RegExp("^"+he.call(re).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=at?ut.Buffer:void 0,De=ut.Symbol,ke=ut.Uint8Array,Ae=ie.propertyIsEnumerable,ge=ue.splice,te=De?De.toStringTag:void 0,Pe=Object.getOwnPropertySymbols,$e=me?me.isBuffer:void 0,Se=ce(Object.keys,Object),Oe=br(ut,"DataView"),Le=br(ut,"Map"),Me=br(ut,"Promise"),He=br(ut,"Set"),$t=br(ut,"WeakMap"),Q=br(Object,"create"),dt=je(Oe),pt=je(Le),qt=je(Me),Ft=je(He),xr=je($t),mr=De?De.prototype:void 0,ur=mr?mr.valueOf:void 0;function pe(u){var _=-1,O=u==null?0:u.length;for(this.clear();++_<O;){var W=u[_];this.set(W[0],W[1])}}function Jr(){this.__data__=Q?Q(null):{},this.size=0}function Zr(u){var _=this.has(u)&&delete this.__data__[u];return this.size-=_?1:0,_}function Er(u){var _=this.__data__;if(Q){var O=_[u];return O===n?void 0:O}return re.call(_,u)?_[u]:void 0}function Ar(u){var _=this.__data__;return Q?_[u]!==void 0:re.call(_,u)}function Tr(u,_){var O=this.__data__;return this.size+=this.has(u)?0:1,O[u]=Q&&_===void 0?n:_,this}pe.prototype.clear=Jr,pe.prototype.delete=Zr,pe.prototype.get=Er,pe.prototype.has=Ar,pe.prototype.set=Tr;function ye(u){var _=-1,O=u==null?0:u.length;for(this.clear();++_<O;){var W=u[_];this.set(W[0],W[1])}}function Yr(){this.__data__=[],this.size=0}function Nr(u){var _=this.__data__,O=rn(_,u);if(O<0)return!1;var W=_.length-1;return O==W?_.pop():ge.call(_,O,1),--this.size,!0}function kr(u){var _=this.__data__,O=rn(_,u);return O<0?void 0:_[O][1]}function $r(u){return rn(this.__data__,u)>-1}function Xr(u,_){var O=this.__data__,W=rn(O,u);return W<0?(++this.size,O.push([u,_])):O[W][1]=_,this}ye.prototype.clear=Yr,ye.prototype.delete=Nr,ye.prototype.get=kr,ye.prototype.has=$r,ye.prototype.set=Xr;function Ce(u){var _=-1,O=u==null?0:u.length;for(this.clear();++_<O;){var W=u[_];this.set(W[0],W[1])}}function Sr(){this.size=0,this.__data__={hash:new pe,map:new(Le||ye),string:new pe}}function Or(u){var _=sr(this,u).delete(u);return this.size-=_?1:0,_}function Lr(u){return sr(this,u).get(u)}function Qr(u){return sr(this,u).has(u)}function tn(u,_){var O=sr(this,u),W=O.size;return O.set(u,_),this.size+=O.size==W?0:1,this}Ce.prototype.clear=Sr,Ce.prototype.delete=Or,Ce.prototype.get=Lr,Ce.prototype.has=Qr,Ce.prototype.set=tn;function rr(u){var _=-1,O=u==null?0:u.length;for(this.__data__=new Ce;++_<O;)this.add(u[_])}function gr(u){return this.__data__.set(u,n),this}function nr(u){return this.__data__.has(u)}rr.prototype.add=rr.prototype.push=gr,rr.prototype.has=nr;function Ge(u){var _=this.__data__=new ye(u);this.size=_.size}function Cr(){this.__data__=new ye,this.size=0}function qr(u){var _=this.__data__,O=_.delete(u);return this.size=_.size,O}function Rr(u){return this.__data__.get(u)}function Ir(u){return this.__data__.has(u)}function en(u,_){var O=this.__data__;if(O instanceof ye){var W=O.__data__;if(!Le||W.length<e-1)return W.push([u,_]),this.size=++O.size,this;O=this.__data__=new Ce(W)}return O.set(u,_),this.size=O.size,this}Ge.prototype.clear=Cr,Ge.prototype.delete=qr,Ge.prototype.get=Rr,Ge.prototype.has=Ir,Ge.prototype.set=en;function Ot(u,_){var O=In(u),W=!O&&cs(u),Rt=!O&&!W&&nn(u),Tt=!O&&!W&&!Rt&&ds(u),Kt=O||W||Rt||Tt,Ht=Kt?Pt(u.length,String):[],Te=Ht.length;for(var Gt in u)re.call(u,Gt)&&!(Kt&&(Gt=="length"||Rt&&(Gt=="offset"||Gt=="parent")||Tt&&(Gt=="buffer"||Gt=="byteLength"||Gt=="byteOffset")||is(Gt,Te)))&&Ht.push(Gt);return Ht}function rn(u,_){for(var O=u.length;O--;)if(ls(u[O][0],_))return O;return-1}function Dr(u,_,O){var W=_(u);return In(u)?W:Ct(W,O(u))}function dr(u){return u==null?u===void 0?R:E:te&&te in Object(u)?Mr(u):Rn(u)}function fn(u){return ar(u)&&dr(u)==l}function Ln(u,_,O,W,Rt){return u===_?!0:u==null||_==null||!ar(u)&&!ar(_)?u!==u&&_!==_:Cn(u,_,O,W,Ln,Rt)}function Cn(u,_,O,W,Rt,Tt){var Kt=In(u),Ht=In(_),Te=Kt?c:fr(u),Gt=Ht?c:fr(_);Te=Te==l?T:Te,Gt=Gt==l?T:Gt;var Ue=Te==T,Ve=Gt==T,qe=Te==Gt;if(qe&&nn(u)){if(!nn(_))return!1;Kt=!0,Ue=!1}if(qe&&!Ue)return Tt||(Tt=new Ge),Kt||ds(u)?Br(u,_,O,W,Rt,Tt):pn(u,_,Te,O,W,Rt,Tt);if(!(O&s)){var ze=Ue&&re.call(u,"__wrapped__"),Be=Ve&&re.call(_,"__wrapped__");if(ze||Be){var jr=ze?u.value():u,Ur=Be?_.value():_;return Tt||(Tt=new Ge),Rt(jr,Ur,O,W,Tt)}}return qe?(Tt||(Tt=new Ge),vn(u,_,O,W,Rt,Tt)):!1}function qn(u){if(!Dn(u)||os(u))return!1;var _=us(u)?Ie:rt;return _.test(je(u))}function hn(u){return ar(u)&&Kn(u.length)&&!!V[dr(u)]}function Pr(u){if(!Ls(u))return Se(u);var _=[];for(var O in Object(u))re.call(u,O)&&O!="constructor"&&_.push(O);return _}function Br(u,_,O,W,Rt,Tt){var Kt=O&s,Ht=u.length,Te=_.length;if(Ht!=Te&&!(Kt&&Te>Ht))return!1;var Gt=Tt.get(u);if(Gt&&Tt.get(_))return Gt==_;var Ue=-1,Ve=!0,qe=O&a?new rr:void 0;for(Tt.set(u,_),Tt.set(_,u);++Ue<Ht;){var ze=u[Ue],Be=_[Ue];if(W)var jr=Kt?W(Be,ze,Ue,_,u,Tt):W(ze,Be,Ue,u,_,Tt);if(jr!==void 0){if(jr)continue;Ve=!1;break}if(qe){if(!Lt(_,function(Ur,gn){if(!Ut(qe,gn)&&(ze===Ur||Rt(ze,Ur,O,W,Tt)))return qe.push(gn)})){Ve=!1;break}}else if(!(ze===Be||Rt(ze,Be,O,W,Tt))){Ve=!1;break}}return Tt.delete(u),Tt.delete(_),Ve}function pn(u,_,O,W,Rt,Tt,Kt){switch(O){case L:if(u.byteLength!=_.byteLength||u.byteOffset!=_.byteOffset)return!1;u=u.buffer,_=_.buffer;case x:return!(u.byteLength!=_.byteLength||!Tt(new ke(u),new ke(_)));case v:case g:case w:return ls(+u,+_);case p:return u.name==_.name&&u.message==_.message;case S:case H:return u==_+"";case b:var Ht=ae;case I:var Te=W&s;if(Ht||(Ht=Yt),u.size!=_.size&&!Te)return!1;var Gt=Kt.get(u);if(Gt)return Gt==_;W|=a,Kt.set(u,_);var Ue=Br(Ht(u),Ht(_),W,Rt,Tt,Kt);return Kt.delete(u),Ue;case U:if(ur)return ur.call(u)==ur.call(_)}return!1}function vn(u,_,O,W,Rt,Tt){var Kt=O&s,Ht=xt(u),Te=Ht.length,Gt=xt(_),Ue=Gt.length;if(Te!=Ue&&!Kt)return!1;for(var Ve=Te;Ve--;){var qe=Ht[Ve];if(!(Kt?qe in _:re.call(_,qe)))return!1}var ze=Tt.get(u);if(ze&&Tt.get(_))return ze==_;var Be=!0;Tt.set(u,_),Tt.set(_,u);for(var jr=Kt;++Ve<Te;){qe=Ht[Ve];var Ur=u[qe],gn=_[qe];if(W)var Qs=Kt?W(gn,Ur,qe,_,u,Tt):W(Ur,gn,qe,u,_,Tt);if(!(Qs===void 0?Ur===gn||Rt(Ur,gn,O,W,Tt):Qs)){Be=!1;break}jr||(jr=qe=="constructor")}if(Be&&!jr){var Wn=u.constructor,Jn=_.constructor;Wn!=Jn&&"constructor"in u&&"constructor"in _&&!(typeof Wn=="function"&&Wn instanceof Wn&&typeof Jn=="function"&&Jn instanceof Jn)&&(Be=!1)}return Tt.delete(u),Tt.delete(_),Be}function xt(u){return Dr(u,Gn,as)}function sr(u,_){var O=u.__data__;return Os(_)?O[typeof _=="string"?"string":"hash"]:O.map}function br(u,_){var O=zt(u,_);return qn(O)?O:void 0}function Mr(u){var _=re.call(u,te),O=u[te];try{u[te]=void 0;var W=!0}catch{}var Rt=ve.call(u);return W&&(_?u[te]=O:delete u[te]),Rt}var as=Pe?function(u){return u==null?[]:(u=Object(u),It(Pe(u),function(_){return Ae.call(u,_)}))}:qs,fr=dr;(Oe&&fr(new Oe(new ArrayBuffer(1)))!=L||Le&&fr(new Le)!=b||Me&&fr(Me.resolve())!=k||He&&fr(new He)!=I||$t&&fr(new $t)!=K)&&(fr=function(u){var _=dr(u),O=_==T?u.constructor:void 0,W=O?je(O):"";if(W)switch(W){case dt:return L;case pt:return b;case qt:return k;case Ft:return I;case xr:return K}return _});function is(u,_){return _=_??i,!!_&&(typeof u=="number"||ot.test(u))&&u>-1&&u%1==0&&u<_}function Os(u){var _=typeof u;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?u!=="__proto__":u===null}function os(u){return!!Ee&&Ee in u}function Ls(u){var _=u&&u.constructor,O=typeof _=="function"&&_.prototype||ie;return u===O}function Rn(u){return ve.call(u)}function je(u){if(u!=null){try{return he.call(u)}catch{}try{return u+""}catch{}}return""}function ls(u,_){return u===_||u!==u&&_!==_}var cs=fn(function(){return arguments}())?fn:function(u){return ar(u)&&re.call(u,"callee")&&!Ae.call(u,"callee")},In=Array.isArray;function mn(u){return u!=null&&Kn(u.length)&&!us(u)}var nn=$e||Vn;function Cs(u,_){return Ln(u,_)}function us(u){if(!Dn(u))return!1;var _=dr(u);return _==m||_==y||_==d||_==$}function Kn(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=i}function Dn(u){var _=typeof u;return u!=null&&(_=="object"||_=="function")}function ar(u){return u!=null&&typeof u=="object"}var ds=St?se(St):hn;function Gn(u){return mn(u)?Ot(u):Pr(u)}function qs(){return[]}function Vn(){return!1}r.exports=Cs}(za,za.exports)),za.exports}var Li={},su;function V_(){if(su)return Li;su=1,Object.defineProperty(Li,"__esModule",{value:!0});const r=rf(),t=nf();var e;return function(n){function s(c={},d={},v=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let g=r(d);v||(g=Object.keys(g).reduce((p,m)=>(g[m]!=null&&(p[m]=g[m]),p),{}));for(const p in c)c[p]!==void 0&&d[p]===void 0&&(g[p]=c[p]);return Object.keys(g).length>0?g:void 0}n.compose=s;function a(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const v=Object.keys(c).concat(Object.keys(d)).reduce((g,p)=>(t(c[p],d[p])||(g[p]=d[p]===void 0?null:d[p]),g),{});return Object.keys(v).length>0?v:void 0}n.diff=a;function i(c={},d={}){c=c||{};const v=Object.keys(d).reduce((g,p)=>(d[p]!==c[p]&&c[p]!==void 0&&(g[p]=d[p]),g),{});return Object.keys(c).reduce((g,p)=>(c[p]!==d[p]&&d[p]===void 0&&(g[p]=null),g),v)}n.invert=i;function l(c,d,v=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!v)return d;const g=Object.keys(d).reduce((p,m)=>(c[m]===void 0&&(p[m]=d[m]),p),{});return Object.keys(g).length>0?g:void 0}n.transform=l}(e||(e={})),Li.default=e,Li}var Ci={},au;function sf(){if(au)return Ci;au=1,Object.defineProperty(Ci,"__esModule",{value:!0});var r;return function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e}(r||(r={})),Ci.default=r,Ci}var qi={},iu;function W_(){if(iu)return qi;iu=1,Object.defineProperty(qi,"__esModule",{value:!0});const r=sf();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const s=this.ops[this.index];if(s){const a=this.offset,i=r.default.length(s);if(n>=i-a?(n=i-a,this.index+=1,this.offset=0):this.offset+=n,typeof s.delete=="number")return{delete:n};{const l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=n:typeof s.retain=="object"&&s.retain!==null?l.retain=s.retain:typeof s.insert=="string"?l.insert=s.insert.substr(a,n):l.insert=s.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,s=this.index,a=this.next(),i=this.ops.slice(this.index);return this.offset=n,this.index=s,[a].concat(i)}}else return[]}}return qi.default=t,qi}var ou;function J_(){return ou||(ou=1,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=G_(),n=rf(),s=nf(),a=V_();t.AttributeMap=a.default;const i=sf();t.Op=i.default;const l=W_();t.OpIterator=l.default;const c="\0",d=(g,p)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(p)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(p)[0]}`);return[m,g[m],p[m]]};class v{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,m){this.handlers[p]=m}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const m=this.handlers[p];if(!m)throw new Error(`no handlers for embed type "${p}"`);return m}insert(p,m){const y={};return typeof p=="string"&&p.length===0?this:(y.insert=p,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,m){if(typeof p=="number"&&p<=0)return this;const y={retain:p};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y)}push(p){let m=this.ops.length,y=this.ops[m-1];if(p=n(p),typeof y=="object"){if(typeof p.delete=="number"&&typeof y.delete=="number")return this.ops[m-1]={delete:y.delete+p.delete},this;if(typeof y.delete=="number"&&p.insert!=null&&(m-=1,y=this.ops[m-1],typeof y!="object"))return this.ops.unshift(p),this;if(s(p.attributes,y.attributes)){if(typeof p.insert=="string"&&typeof y.insert=="string")return this.ops[m-1]={insert:y.insert+p.insert},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof y.retain=="number")return this.ops[m-1]={retain:y.retain+p.retain},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this}}return m===this.ops.length?this.ops.push(p):this.ops.splice(m,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const m=[],y=[];return this.forEach(b=>{(p(b)?m:y).push(b)}),[m,y]}reduce(p,m){return this.ops.reduce(p,m)}changeLength(){return this.reduce((p,m)=>m.insert?p+i.default.length(m):m.delete?p-m.delete:p,0)}length(){return this.reduce((p,m)=>p+i.default.length(m),0)}slice(p=0,m=1/0){const y=[],b=new l.default(this.ops);let w=0;for(;w<m&&b.hasNext();){let E;w<p?E=b.next(p-w):(E=b.next(m-w),y.push(E)),w+=i.default.length(E)}return new v(y)}compose(p){const m=new l.default(this.ops),y=new l.default(p.ops),b=[],w=y.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let T=w.retain;for(;m.peekType()==="insert"&&m.peekLength()<=T;)T-=m.peekLength(),b.push(m.next());w.retain-T>0&&y.next(w.retain-T)}const E=new v(b);for(;m.hasNext()||y.hasNext();)if(y.peekType()==="insert")E.push(y.next());else if(m.peekType()==="delete")E.push(m.next());else{const T=Math.min(m.peekLength(),y.peekLength()),k=m.next(T),$=y.next(T);if($.retain){const S={};if(typeof k.retain=="number")S.retain=typeof $.retain=="number"?T:$.retain;else if(typeof $.retain=="number")k.retain==null?S.insert=k.insert:S.retain=k.retain;else{const H=k.retain==null?"insert":"retain",[U,R,K]=d(k[H],$.retain),x=v.getHandler(U);S[H]={[U]:x.compose(R,K,H==="retain")}}const I=a.default.compose(k.attributes,$.attributes,typeof k.retain=="number");if(I&&(S.attributes=I),E.push(S),!y.hasNext()&&s(E.ops[E.ops.length-1],S)){const H=new v(m.rest());return E.concat(H).chop()}}else typeof $.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&E.push($)}return E.chop()}concat(p){const m=new v(this.ops.slice());return p.ops.length>0&&(m.push(p.ops[0]),m.ops=m.ops.concat(p.ops.slice(1))),m}diff(p,m){if(this.ops===p.ops)return new v;const y=[this,p].map(k=>k.map($=>{if($.insert!=null)return typeof $.insert=="string"?$.insert:c;const S=k===p?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")),b=new v,w=e(y[0],y[1],m,!0),E=new l.default(this.ops),T=new l.default(p.ops);return w.forEach(k=>{let $=k[1].length;for(;$>0;){let S=0;switch(k[0]){case e.INSERT:S=Math.min(T.peekLength(),$),b.push(T.next(S));break;case e.DELETE:S=Math.min($,E.peekLength()),E.next(S),b.delete(S);break;case e.EQUAL:S=Math.min(E.peekLength(),T.peekLength(),$);const I=E.next(S),H=T.next(S);s(I.insert,H.insert)?b.retain(S,a.default.diff(I.attributes,H.attributes)):b.push(H).delete(S);break}$-=S}}),b.chop()}eachLine(p,m=`
`){const y=new l.default(this.ops);let b=new v,w=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const E=y.peek(),T=i.default.length(E)-y.peekLength(),k=typeof E.insert=="string"?E.insert.indexOf(m,T)-T:-1;if(k<0)b.push(y.next());else if(k>0)b.push(y.next(k));else{if(p(b,y.next(1).attributes||{},w)===!1)return;w+=1,b=new v}}b.length()>0&&p(b,{},w)}invert(p){const m=new v;return this.reduce((y,b)=>{if(b.insert)m.delete(i.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return m.retain(b.retain),y+b.retain;if(b.delete||typeof b.retain=="number"){const w=b.delete||b.retain;return p.slice(y,y+w).forEach(T=>{b.delete?m.push(T):b.retain&&b.attributes&&m.retain(i.default.length(T),a.default.invert(b.attributes,T.attributes))}),y+w}else if(typeof b.retain=="object"&&b.retain!==null){const w=p.slice(y,y+1),E=new l.default(w.ops).next(),[T,k,$]=d(b.retain,E.insert),S=v.getHandler(T);return m.retain({[T]:S.invert(k,$)},a.default.invert(b.attributes,E.attributes)),y+1}}return y},0),m.chop()}transform(p,m=!1){if(m=!!m,typeof p=="number")return this.transformPosition(p,m);const y=p,b=new l.default(this.ops),w=new l.default(y.ops),E=new v;for(;b.hasNext()||w.hasNext();)if(b.peekType()==="insert"&&(m||w.peekType()!=="insert"))E.retain(i.default.length(b.next()));else if(w.peekType()==="insert")E.push(w.next());else{const T=Math.min(b.peekLength(),w.peekLength()),k=b.next(T),$=w.next(T);if(k.delete)continue;if($.delete)E.push($);else{const S=k.retain,I=$.retain;let H=typeof I=="object"&&I!==null?I:T;if(typeof S=="object"&&S!==null&&typeof I=="object"&&I!==null){const U=Object.keys(S)[0];if(U===Object.keys(I)[0]){const R=v.getHandler(U);R&&(H={[U]:R.transform(S[U],I[U],m)})}}E.retain(H,a.default.transform(k.attributes,$.attributes,m))}}return E.chop()}transformPosition(p,m=!1){m=!!m;const y=new l.default(this.ops);let b=0;for(;y.hasNext()&&b<=p;){const w=y.peekLength(),E=y.peekType();if(y.next(),E==="delete"){p-=Math.min(w,p-b);continue}else E==="insert"&&(b<p||!m)&&(p+=w);b+=w}return p}}v.Op=i.default,v.OpIterator=l.default,v.AttributeMap=a.default,v.handlers={},t.default=v,r.exports=v,r.exports.default=v}(Oi,Oi.exports)),Oi.exports}var cn=J_();const Nt=ef(cn);class Sn extends Wr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Sn.blotName="break";Sn.tagName="BR";let Tn=class extends eo{};const Z_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vo(r){return r.replace(/[&<>"']/g,t=>Z_[t])}const Pn=class Pn extends Hl{static compare(t,e){const n=Pn.order.indexOf(t),s=Pn.order.indexOf(e);return n>=0||s>=0?n-s:t===e?0:t<e?-1:1}formatAt(t,e,n,s){if(Pn.compare(this.statics.blotName,n)<0&&this.scroll.query(n,kt.BLOT)){const a=this.isolate(t,e);s&&a.wrap(n,s)}else super.formatAt(t,e,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof Pn&&Pn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};gt(Pn,"allowedChildren",[Pn,Sn,Wr,Tn]),gt(Pn,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Hn=Pn;const lu=1;class er extends oi{constructor(){super(...arguments);gt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=af(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,a){n<=0||(this.scroll.query(s,kt.BLOCK)?e+n===this.length()&&this.format(s,a):super.formatAt(e,Math.min(n,this.length()-e-1),s,a),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const a=n.split(`
`),i=a.shift();i.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let l=this;a.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),e+i.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof Sn&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+lu),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-lu)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const s=super.split(e,n);return this.cache={},s}}er.blotName="block";er.tagName="P";er.defaultChild=Sn;er.allowedChildren=[Sn,Hn,Wr,Tn];class ln extends Wr{attach(){super.attach(),this.attributes=new ho(this.domNode)}delta(){return new Nt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,kt.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,s){this.format(n,s)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const s=e.split(`
`),a=s.pop(),i=s.map(c=>{const d=this.scroll.create(er.blotName);return d.insertAt(0,c),d}),l=this.split(t);i.forEach(c=>{this.parent.insertBefore(c,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}ln.scope=kt.BLOCK_BLOT;function af(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(lr).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),an(n,{},t)),new Nt).insert(`
`,an(r))}function an(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:an(r.parent,t,e)}const sn=class sn extends Wr{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(sn.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==kt.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=sn.CONTENTS.length,n.optimize(),n.formatAt(s,sn.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof Tn?this.prev:null,n=e?e.length():0,s=this.next instanceof Tn?this.next:null,a=s?s.text:"",{textNode:i}=this,l=i.data.split(sn.CONTENTS).join("");i.data=sn.CONTENTS;let c;if(e)c=e,(l||s)&&(e.insertAt(e.length(),l+a),s&&s.remove());else if(s)c=s,s.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),t){const d=(p,m)=>e&&p===e.domNode?m:p===i?n+m-1:s&&p===s.domNode?n+l.length+m:null,v=d(t.start.node,t.start.offset),g=d(t.end.node,t.end.offset);if(v!==null&&g!==null)return{startNode:c.domNode,startOffset:v,endNode:c.domNode,endOffset:g}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=sn.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};gt(sn,"blotName","cursor"),gt(sn,"className","ql-cursor"),gt(sn,"tagName","span"),gt(sn,"CONTENTS","\uFEFF");let Na=sn;var Co={exports:{}},cu;function Y_(){return cu||(cu=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,d,v){this.fn=c,this.context=d,this.once=v||!1}function a(c,d,v,g,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var m=new s(v,g||c,p),y=e?e+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function i(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],v,g;if(this._eventsCount===0)return d;for(g in v=this._events)t.call(v,g)&&d.push(e?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},l.prototype.listeners=function(d){var v=e?e+d:d,g=this._events[v];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,m=g.length,y=new Array(m);p<m;p++)y[p]=g[p].fn;return y},l.prototype.listenerCount=function(d){var v=e?e+d:d,g=this._events[v];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,v,g,p,m,y){var b=e?e+d:d;if(!this._events[b])return!1;var w=this._events[b],E=arguments.length,T,k;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,v),!0;case 3:return w.fn.call(w.context,v,g),!0;case 4:return w.fn.call(w.context,v,g,p),!0;case 5:return w.fn.call(w.context,v,g,p,m),!0;case 6:return w.fn.call(w.context,v,g,p,m,y),!0}for(k=1,T=new Array(E-1);k<E;k++)T[k-1]=arguments[k];w.fn.apply(w.context,T)}else{var $=w.length,S;for(k=0;k<$;k++)switch(w[k].once&&this.removeListener(d,w[k].fn,void 0,!0),E){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,v);break;case 3:w[k].fn.call(w[k].context,v,g);break;case 4:w[k].fn.call(w[k].context,v,g,p);break;default:if(!T)for(S=1,T=new Array(E-1);S<E;S++)T[S-1]=arguments[S];w[k].fn.apply(w[k].context,T)}}return!0},l.prototype.on=function(d,v,g){return a(this,d,v,g,!1)},l.prototype.once=function(d,v,g){return a(this,d,v,g,!0)},l.prototype.removeListener=function(d,v,g,p){var m=e?e+d:d;if(!this._events[m])return this;if(!v)return i(this,m),this;var y=this._events[m];if(y.fn)y.fn===v&&(!p||y.once)&&(!g||y.context===g)&&i(this,m);else{for(var b=0,w=[],E=y.length;b<E;b++)(y[b].fn!==v||p&&!y[b].once||g&&y[b].context!==g)&&w.push(y[b]);w.length?this._events[m]=w.length===1?w[0]:w:i(this,m)}return this},l.prototype.removeAllListeners=function(d){var v;return d?(v=e?e+d:d,this._events[v]&&i(this,v)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(Co)),Co.exports}var X_=Y_();const Q_=ef(X_),ul=new WeakMap,dl=["error","warn","log","info"];let fl="warn";function of(r){if(fl&&dl.indexOf(r)<=dl.indexOf(fl)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function ss(r){return dl.reduce((t,e)=>(t[e]=of.bind(console,e,r),t),{})}ss.level=r=>{fl=r};of.level=ss.level;const qo=ss("quill:events"),ty=["selectionchange","mousedown","mouseup","click"];ty.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const a=ul.get(s);a&&a.emitter&&a.emitter.handleDOM(...e)})})});class Et extends Q_{constructor(){super(),this.domListeners={},this.on("error",qo.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return qo.log.call(qo,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(a=>{let{node:i,handler:l}=a;(t.target===i||i.contains(t.target))&&l(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}gt(Et,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),gt(Et,"sources",{API:"api",SILENT:"silent",USER:"user"});const Ro=ss("quill:selection");class zs{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class ey{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new zs(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Et.sources.USER),1)}),this.emitter.on(Et.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Et.events.SCROLL_UPDATE,(s,a)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const i=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(i?Et.sources.SILENT:s)}catch{}})}),this.emitter.on(Et.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:a,startOffset:i,endNode:l,endOffset:c}=s.range;this.setNativeRange(a,i,l,c),this.update(Et.sources.SILENT)}}),this.update(Et.sources.SILENT)}handleComposition(){this.emitter.on(Et.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Et.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Et.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,kt.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof lr){const a=s.split(n.start.offset);s.parent.insertBefore(this.cursor,a)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let s,[a,i]=this.scroll.leaf(t);if(a==null)return null;if(e>0&&i===a.length()){const[v]=this.scroll.leaf(t+1);if(v){const[g]=this.scroll.line(t),[p]=this.scroll.line(t+1);g===p&&(a=v,i=0)}}[s,i]=a.position(i,!0);const l=document.createRange();if(e>0)return l.setStart(s,i),[a,i]=this.scroll.leaf(t+e),a==null?null:([s,i]=a.position(i,!0),l.setEnd(s,i),l.getBoundingClientRect());let c="left",d;if(s instanceof Text){if(!s.data.length)return null;i<s.data.length?(l.setStart(s,i),l.setEnd(s,i+1)):(l.setStart(s,i-1),l.setEnd(s,i),c="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),i>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return Ro.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Io(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(i=>{const[l,c]=i,d=this.scroll.find(l,!0),v=d.offset(this.scroll);return c===0?v:d instanceof lr?v+d.index(l,c):v+d.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),a=Math.min(s,...n);return new zs(a,s-a)}normalizeNative(t){if(!Io(this.root,t.startContainer)||!t.collapsed&&!Io(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:s,offset:a}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>a)s=s.childNodes[a],a=0;else if(s.childNodes.length===a)s=s.lastChild,s instanceof Text?a=s.data.length:s.childNodes.length>0?a=s.childNodes.length:a=s.childNodes.length+1;else break;n.node=s,n.offset=a}),e}rangeToNative(t){const e=this.scroll.length(),n=(s,a)=>{s=Math.min(e-1,s);const[i,l]=this.scroll.leaf(s);return i?i.position(l,a):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Ro.info("setNativeRange",t,e,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const i=document.getSelection();if(i!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||s!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const c=document.createRange();c.setStart(t,e),c.setEnd(n,s),i.removeAllRanges(),i.addRange(c)}}else i.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Et.sources.API;if(typeof e=="string"&&(n=e,e=!1),Ro.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Et.sources.USER;const e=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!Fl(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const i=this.cursor.restore();i&&this.setNativeRange(i.startNode,i.startOffset,i.endNode,i.endOffset)}const a=[Et.events.SELECTION_CHANGE,_a(this.lastRange),_a(e),t];this.emitter.emit(Et.events.EDITOR_CHANGE,...a),t!==Et.sources.SILENT&&this.emitter.emit(...a)}}}function Io(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const ry=/^[ -~]*$/;class ny{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=uu(t),s=new Nt;return ay(n.ops.slice()).reduce((i,l)=>{const c=cn.Op.length(l);let d=l.attributes||{},v=!1,g=!1;if(l.insert!=null){if(s.retain(c),typeof l.insert=="string"){const y=l.insert;g=!y.endsWith(`
`)&&(e<=i||!!this.scroll.descendant(ln,i)[0]),this.scroll.insertAt(i,y);const[b,w]=this.scroll.line(i);let E=As({},an(b));if(b instanceof er){const[T]=b.descendant(lr,w);T&&(E=As(E,an(T)))}d=cn.AttributeMap.diff(E,d)||{}}else if(typeof l.insert=="object"){const y=Object.keys(l.insert)[0];if(y==null)return i;const b=this.scroll.query(y,kt.INLINE)!=null;if(b)(e<=i||this.scroll.descendant(ln,i)[0])&&(g=!0);else if(i>0){const[w,E]=this.scroll.descendant(lr,i-1);w instanceof Tn?w.value()[E]!==`
`&&(v=!0):w instanceof Wr&&w.statics.scope===kt.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(i,y,l.insert[y]),b){const[w]=this.scroll.descendant(lr,i);if(w){const E=As({},an(w));d=cn.AttributeMap.diff(E,d)||{}}}}e+=c}else if(s.push(l),l.retain!==null&&typeof l.retain=="object"){const y=Object.keys(l.retain)[0];if(y==null)return i;this.scroll.updateEmbedAt(i,y,l.retain[y])}Object.keys(d).forEach(y=>{this.scroll.formatAt(i,c,y,d[y])});const p=v?1:0,m=g?1:0;return e+=p+m,s.retain(p),s.delete(m),i+c+p+m},0),s.reduce((i,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(i,l.delete),i):i+cn.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new Nt().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(a=>{this.scroll.lines(t,Math.max(e,1)).forEach(i=>{i.format(a,n[a])})}),this.scroll.optimize();const s=new Nt().retain(t).retain(e,_a(n));return this.update(s)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(a=>{this.scroll.formatAt(t,e,a,n[a])});const s=new Nt().retain(t).retain(e,_a(n));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new Nt)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];e===0?this.scroll.path(t).forEach(l=>{const[c]=l;c instanceof er?n.push(c):c instanceof lr&&s.push(c)}):(n=this.scroll.lines(t,e),s=this.scroll.descendants(lr,t,e));const[a,i]=[n,s].map(l=>{const c=l.shift();if(c==null)return{};let d=an(c);for(;Object.keys(d).length>0;){const v=l.shift();if(v==null)return d;d=sy(an(v),d)}return d});return{...a,...i}}getHTML(t,e){const[n,s]=this.scroll.line(t);if(n){const a=n.length();return n.length()>=s+e&&!(s===0&&e===a)?li(n,s,e,!0):li(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=uu(e),s=new Nt().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new Nt().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e.length,s,n[s])}),this.update(new Nt().retain(t).insert(e,_a(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==er.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Sn}removeFormat(t,e){const n=this.getText(t,e),[s,a]=this.scroll.line(t+e);let i=0,l=new Nt;s!=null&&(i=s.length()-a,l=s.delta().slice(a,a+i-1).insert(`
`));const d=this.getContents(t,e+i).diff(new Nt().insert(n).concat(l)),v=new Nt().retain(t).concat(d);return this.applyDelta(v)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(ry)&&this.scroll.find(e[0].target)){const a=this.scroll.find(e[0].target),i=an(a),l=a.offset(this.scroll),c=e[0].oldValue.replace(Na.CONTENTS,""),d=new Nt().insert(c),v=new Nt().insert(a.value()),g=n&&{oldRange:du(n.oldRange,-l),newRange:du(n.newRange,-l)};t=new Nt().retain(l).concat(d.diff(v,g)).reduce((m,y)=>y.insert?m.insert(y.insert,i):m.push(y),new Nt),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!Fl(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function da(r,t,e){if(r.length===0){const[m]=Do(e.pop());return t<=0?`</li></${m}>`:`</li></${m}>${da([],t-1,e)}`}const[{child:n,offset:s,length:a,indent:i,type:l},...c]=r,[d,v]=Do(l);if(i>t)return e.push(l),i===t+1?`<${d}><li${v}>${li(n,s,a)}${da(c,i,e)}`:`<${d}><li>${da(r,t+1,e)}`;const g=e[e.length-1];if(i===t&&l===g)return`</li><li${v}>${li(n,s,a)}${da(c,i,e)}`;const[p]=Do(e.pop());return`</li></${p}>${da(r,t-1,e)}`}function li(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof Tn)return vo(r.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(r instanceof En){if(r.statics.blotName==="list-container"){const d=[];return r.children.forEachAt(t,e,(v,g,p)=>{const m="formats"in v&&typeof v.formats=="function"?v.formats():{};d.push({child:v,offset:g,length:p,indent:m.indent||0,type:m.list})}),da(d,-1,[])}const s=[];if(r.children.forEachAt(t,e,(d,v,g)=>{s.push(li(d,v,g))}),n||r.statics.blotName==="list")return s.join("");const{outerHTML:a,innerHTML:i}=r.domNode,[l,c]=a.split(`>${i}<`);return l==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${c}`:`${l}>${s.join("")}<${c}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function sy(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const s=t[n];return s===r[n]?e[n]=s:Array.isArray(s)?s.indexOf(r[n])<0?e[n]=s.concat([r[n]]):e[n]=s:e[n]=[s,r[n]],e},{})}function Do(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function uu(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new Nt)}function du(r,t){let{index:e,length:n}=r;return new zs(e+t,n)}function ay(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,a)=>{a&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class On{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}gt(On,"DEFAULTS",{});const Ri="\uFEFF";class Kl extends Wr{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Ri),this.rightGuard=document.createTextNode(Ri),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const s=t.data.split(Ri).join("");if(t===this.leftGuard)if(this.prev instanceof Tn){const a=this.prev.length();this.prev.insertAt(a,s),e={startNode:this.prev.domNode,startOffset:a+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof Tn?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:s.length}));return t.data=Ri,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(e.range=s)}})}}class iy{constructor(t,e){gt(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Kl)&&(this.emitter.emit(Et.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Et.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Et.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Et.events.COMPOSITION_END,t),this.isComposing=!1}}const Ja=class Ja{constructor(t,e){gt(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};gt(Ja,"DEFAULTS",{modules:{}}),gt(Ja,"themes",{default:Ja});let ka=Ja;const oy=r=>r.parentElement||r.getRootNode().host||null,ly=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},Ii=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},fu=(r,t,e,n,s,a)=>r<e&&t>n?0:r<e?-(e-r+s):t>n?t-r>n-e?r+s-e:t-n+a:0,cy=(r,t)=>{var a,i,l;const e=r.ownerDocument;let n=t,s=r;for(;s;){const c=s===e.body,d=c?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??e.documentElement.clientWidth,bottom:((i=window.visualViewport)==null?void 0:i.height)??e.documentElement.clientHeight,left:0}:ly(s),v=getComputedStyle(s),g=fu(n.left,n.right,d.left,d.right,Ii(v.scrollPaddingLeft),Ii(v.scrollPaddingRight)),p=fu(n.top,n.bottom,d.top,d.bottom,Ii(v.scrollPaddingTop),Ii(v.scrollPaddingBottom));if(g||p)if(c)(l=e.defaultView)==null||l.scrollBy(g,p);else{const{scrollLeft:m,scrollTop:y}=s;p&&(s.scrollTop+=p),g&&(s.scrollLeft+=g);const b=s.scrollLeft-m,w=s.scrollTop-y;n={left:n.left-b,top:n.top-w,right:n.right-b,bottom:n.bottom-w}}s=c||v.position==="fixed"?null:oy(s)}},uy=100,dy=["block","break","cursor","inline","scroll","text"],fy=(r,t,e)=>{const n=new Ta;return dy.forEach(s=>{const a=t.query(s);a&&n.register(a)}),r.forEach(s=>{let a=t.query(s);a||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let i=0;for(;a;)if(n.register(a),a="blotName"in a?a.requiredContainer??null:null,i+=1,i>uy){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},wa=ss("quill"),Di=new Ta;En.uiClass="ql-ui";const _n=class _n{static debug(t){t===!0&&(t="log"),ss.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ul.get(t)||Di.find(t,e)}static import(t){return this.imports[t]==null&&wa.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&wa.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&Di.register(e),typeof e.register=="function"&&e.register(Di)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=hy(t,e),this.container=this.options.container,this.container==null){wa.error("Invalid Quill container",t);return}this.options.debug&&_n.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",ul.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Et;const s=zl.blotName,a=this.options.registry.query(s);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new ny(this.scroll),this.selection=new ey(this.scroll,this.emitter),this.composition=new iy(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Et.events.EDITOR_CHANGE,i=>{i===Et.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Et.events.SCROLL_UPDATE,(i,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),v=c&&d?{oldRange:c,newRange:d}:void 0;bn.call(this,()=>this.editor.update(null,l,v),i)}),this.emitter.on(Et.events.SCROLL_EMBED_UPDATE,(i,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),v=c&&d?{oldRange:c,newRange:d}:void 0;bn.call(this,()=>{const g=new Nt().retain(i.offset(this)).retain({[i.statics.blotName]:l});return this.editor.update(g,[],v)},_n.sources.USER)}),n){const i=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(i)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=Zn(t,e,n),bn.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Et.sources.API;return bn.call(this,()=>{const s=this.getSelection(!0);let a=new Nt;if(s==null)return a;if(this.scroll.query(t,kt.BLOCK))a=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),a;a=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,Et.sources.SILENT),a},n)}formatLine(t,e,n,s,a){let i;return[t,e,i,a]=Zn(t,e,n,s,a),bn.call(this,()=>this.editor.formatLine(t,e,i),a,t,0)}formatText(t,e,n,s,a){let i;return[t,e,i,a]=Zn(t,e,n,s,a),bn.call(this,()=>this.editor.formatText(t,e,i),a,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Zn(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Zn(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Zn(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_n.sources.API;return bn.call(this,()=>this.editor.insertEmbed(t,e,n),s,t)}insertText(t,e,n,s,a){let i;return[t,,i,a]=Zn(t,0,n,s,a),bn.call(this,()=>this.editor.insertText(t,e,i),a,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=Zn(t,e,n),bn.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){cy(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et.sources.API;return bn.call(this,()=>{t=new Nt(t);const n=this.getLength(),s=this.editor.deleteText(0,n),a=this.editor.insertContents(0,t),i=this.editor.deleteText(this.getLength()-1,1);return s.compose(a).compose(i)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||_n.sources.API):([t,e,,n]=Zn(t,e,n),this.selection.setRange(new zs(Math.max(0,t),e),n),n!==Et.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et.sources.API;const n=new Nt().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Et.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et.sources.API;return bn.call(this,()=>(t=new Nt(t),this.editor.applyDelta(t)),e,!0)}};gt(_n,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Di,theme:"default"}),gt(_n,"events",Et.events),gt(_n,"sources",Et.sources),gt(_n,"version","2.0.3"),gt(_n,"imports",{delta:Nt,parchment:K_,"core/module":On,"core/theme":ka});let Y=_n;function hu(r){return typeof r=="string"?document.querySelector(r):r}function Po(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,s]=e;return{...t,[n]:s===!0?{}:s}},{})}function pu(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function hy(r,t){const e=hu(r);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===Y.DEFAULTS.theme?ka:Y.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:a,...i}=Y.DEFAULTS,{modules:l,...c}=s.DEFAULTS;let d=Po(t.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const v=As({},Po(a),Po(l),d),g={...i,...pu(c),...pu(t)};let p=t.registry;return p?t.formats&&wa.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?fy(t.formats,g.registry,wa):g.registry,{...g,registry:p,container:e,theme:s,modules:Object.entries(v).reduce((m,y)=>{let[b,w]=y;if(!w)return m;const E=Y.import(`modules/${b}`);return E==null?(wa.error(`Cannot load ${b} module. Are you sure you registered it?`),m):{...m,[b]:As({},E.DEFAULTS||{},w)}},{}),bounds:hu(g.bounds)}}function bn(r,t,e,n){if(!this.isEnabled()&&t===Et.sources.USER&&!this.allowReadOnlyEdits)return new Nt;let s=e==null?null:this.getSelection();const a=this.editor.delta,i=r();if(s!=null&&(e===!0&&(e=s.index),n==null?s=vu(s,i,t):n!==0&&(s=vu(s,e,n,t)),this.setSelection(s,Et.sources.SILENT)),i.length()>0){const l=[Et.events.TEXT_CHANGE,i,a,t];this.emitter.emit(Et.events.EDITOR_CHANGE,...l),t!==Et.sources.SILENT&&this.emitter.emit(...l)}return i}function Zn(r,t,e,n,s){let a={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(s=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(s=n,n=e,e=t,t=0),typeof e=="object"?(a=e,s=n):typeof e=="string"&&(n!=null?a[e]=n:s=e),s=s||Et.sources.API,[r,t,a,s]}function vu(r,t,e,n){const s=typeof e=="number"?e:0;if(r==null)return null;let a,i;return t&&typeof t.transformPosition=="function"?[a,i]=[r.index,r.index+r.length].map(l=>t.transformPosition(l,n!==Et.sources.USER)):[a,i]=[r.index,r.index+r.length].map(l=>l<t||l===t&&n===Et.sources.USER?l:s>=0?l+s:Math.max(t,l+s)),new zs(a,i-a)}class Zs extends po{}function mu(r){return r instanceof er||r instanceof ln}function gu(r){return typeof r.updateContent=="function"}class fa extends zl{constructor(t,e,n){let{emitter:s}=n;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Et.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Et.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(Et.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,s]=this.line(t),[a]=this.line(t+e);if(super.deleteAt(t,e),a!=null&&n!==a&&s>0){if(n instanceof ln||a instanceof ln){this.optimize();return}const i=a.children.head instanceof Sn?null:a.children.head;n.moveChildren(a,i),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,kt.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),n):s.insertAt(0,e,n)}else{const s=this.scroll.create(e,n);this.appendChild(s)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===kt.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new Nt().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const a=n.shift();if(a){const c=a.type==="block"&&(a.delta.length()===0||!this.descendant(ln,t)[0]&&t<this.length()),d=a.type==="block"?a.delta:new Nt().insert({[a.key]:a.value});Bo(this,t,d);const v=a.type==="block"?1:0,g=t+d.length()+v;c&&this.insertAt(g-1,`
`);const p=an(this.line(t)[0]),m=cn.AttributeMap.diff(p,a.attributes)||{};Object.keys(m).forEach(y=>{this.formatAt(g-1,1,y,m[y])}),t=g}let[i,l]=this.children.find(t);if(n.length&&(i&&(i=i.split(l),l=0),n.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,i||void 0);Bo(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,i||void 0),Object.keys(c.attributes).forEach(v=>{d.format(v,c.attributes[v])})}})),s.type==="block"&&s.delta.length()){const c=i?i.offset(i.scroll)+l:this.length();Bo(this,c,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,s]=e;return n instanceof lr?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(mu,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,a,i)=>{let l=[],c=i;return s.children.forEachAt(a,i,(d,v,g)=>{mu(d)?l.push(d):d instanceof po&&(l=l.concat(n(d,v,c))),c-=g}),l};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(Et.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=Et.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const a=this.find(s,!0);return a&&!gu(a)}),t.length>0&&this.emitter.emit(Et.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Et.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[s]=this.descendant(a=>a instanceof ln,t);s&&s.statics.blotName===e&&gu(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new Nt;return t.forEach(s=>{const a=s==null?void 0:s.insert;if(a)if(typeof a=="string"){const i=a.split(`
`);i.slice(0,-1).forEach(c=>{n.insert(c,s.attributes),e.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new Nt});const l=i[i.length-1];l&&n.insert(l,s.attributes)}else{const i=Object.keys(a)[0];if(!i)return;this.query(i,kt.INLINE)?n.push(s):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new Nt,e.push({type:"blockEmbed",key:i,value:a[i],attributes:s.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const s={};Object.entries(t).forEach(l=>{let[c,d]=l;this.query(c,kt.BLOCK&kt.BLOT)!=null?n=c:s[c]=d});const a=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(a,e||void 0);const i=a.length();return Object.entries(s).forEach(l=>{let[c,d]=l;a.formatAt(0,i,c,d)}),a}}gt(fa,"blotName","scroll"),gt(fa,"className","ql-editor"),gt(fa,"tagName","DIV"),gt(fa,"defaultChild",er),gt(fa,"allowedChildren",[er,ln,Zs]);function Bo(r,t,e){e.reduce((n,s)=>{const a=cn.Op.length(s);let i=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const l=s.insert;r.insertAt(n,l);const[c]=r.descendant(lr,n),d=an(c);i=cn.AttributeMap.diff(d,i)||{}}else if(typeof s.insert=="object"){const l=Object.keys(s.insert)[0];if(l==null)return n;if(r.insertAt(n,l,s.insert[l]),r.scroll.query(l,kt.INLINE)!=null){const[d]=r.descendant(lr,n),v=an(d);i=cn.AttributeMap.diff(v,i)||{}}}}return Object.keys(i).forEach(l=>{r.formatAt(n,a,l,i[l])}),n+a},t)}const Gl={scope:kt.BLOCK,whitelist:["right","center","justify"]},py=new Fn("align","align",Gl),lf=new $n("align","ql-align",Gl),cf=new Ss("align","text-align",Gl);class uf extends Ss{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const vy=new $n("color","ql-color",{scope:kt.INLINE}),Vl=new uf("color","color",{scope:kt.INLINE}),my=new $n("background","ql-bg",{scope:kt.INLINE}),Wl=new uf("background","background-color",{scope:kt.INLINE});class Ys extends Zs{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${vo(this.code(t,e))}
</pre>`}}class cr extends er{static register(){Y.register(Ys)}}gt(cr,"TAB","  ");class Jl extends Hn{}Jl.blotName="code";Jl.tagName="CODE";cr.blotName="code-block";cr.className="ql-code-block";cr.tagName="DIV";Ys.blotName="code-block-container";Ys.className="ql-code-block-container";Ys.tagName="DIV";Ys.allowedChildren=[cr];cr.allowedChildren=[Tn,Sn,Na];cr.requiredContainer=Ys;const Zl={scope:kt.BLOCK,whitelist:["rtl"]},df=new Fn("direction","dir",Zl),ff=new $n("direction","ql-direction",Zl),hf=new Ss("direction","direction",Zl),pf={scope:kt.INLINE,whitelist:["serif","monospace"]},vf=new $n("font","ql-font",pf);class gy extends Ss{value(t){return super.value(t).replace(/["']/g,"")}}const mf=new gy("font","font-family",pf),gf=new $n("size","ql-size",{scope:kt.INLINE,whitelist:["small","large","huge"]}),bf=new Ss("size","font-size",{scope:kt.INLINE,whitelist:["10px","18px","32px"]}),by=ss("quill:keyboard"),_y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class mo extends On{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=wy(t);if(s==null){by.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(i=>{const l={...s,key:i,...e,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(E=>mo.match(t,E));if(s.length===0)return;const a=Y.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(i==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(i.index),[d,v]=this.quill.getLeaf(i.index),[g,p]=i.length===0?[d,v]:this.quill.getLeaf(i.index+i.length),m=d instanceof eo?d.value().slice(0,v):"",y=g instanceof eo?g.value().slice(p):"",b={collapsed:i.length===0,empty:i.length===0&&l.length()<=1,format:this.quill.getFormat(i),line:l,offset:c,prefix:m,suffix:y,event:t};s.some(E=>{if(E.collapsed!=null&&E.collapsed!==b.collapsed||E.empty!=null&&E.empty!==b.empty||E.offset!=null&&E.offset!==b.offset)return!1;if(Array.isArray(E.format)){if(E.format.every(T=>b.format[T]==null))return!1}else if(typeof E.format=="object"&&!Object.keys(E.format).every(T=>E.format[T]===!0?b.format[T]!=null:E.format[T]===!1?b.format[T]==null:Fl(E.format[T],b.format[T])))return!1;return E.prefix!=null&&!E.prefix.test(b.prefix)||E.suffix!=null&&!E.suffix.test(b.suffix)?!1:E.handler.call(this,i,b,E)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[a]=this.quill.getLine(t.index);let i=new Nt().retain(t.index-n).delete(n);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),v=this.quill.getFormat(t.index-1,1);if(s=cn.AttributeMap.diff(d,v)||{},Object.keys(s).length>0){const g=new Nt().retain(t.index+a.length()-2).retain(1,s);i=i.compose(g)}}}this.quill.updateContents(i,Y.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[a]=this.quill.getLine(t.index);let i=new Nt().retain(t.index).delete(n);if(e.offset>=a.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const c=a.formats(),d=this.quill.getFormat(t.index,1);s=cn.AttributeMap.diff(c,d)||{},Object.keys(s).length>0&&(i=i.retain(l.length()-1).retain(1,s))}}this.quill.updateContents(i,Y.sources.USER),this.quill.focus()}handleDeleteRange(t){Yl({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((a,i)=>(this.quill.scroll.query(i,kt.BLOCK)&&!Array.isArray(e.format[i])&&(a[i]=e.format[i]),a),{}),s=new Nt().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(t.index+1,Y.sources.SILENT),this.quill.focus()}}const yy={bindings:{bold:Mo("bold"),italic:Mo("italic"),underline:Mo("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",Y.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",Y.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",Y.sources.USER):t.format.list!=null&&this.quill.format("list",!1,Y.sources.USER)}},"indent code-block":bu(!0),"outdent code-block":bu(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,Y.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new Nt().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,Y.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,Y.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Y.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,Y.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},s=new Nt().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(r.index+1,Y.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),s=new Nt().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(r.index+1,Y.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,s,a]=t.getTable(r),i=xy(e,n,s,a);if(i==null)return;let l=e.offset();if(i<0){const c=new Nt().retain(l).insert(`
`);this.quill.updateContents(c,Y.sources.USER),this.quill.setSelection(r.index+1,r.length,Y.sources.SILENT)}else if(i>0){l+=e.length();const c=new Nt().retain(l).insert(`
`);this.quill.updateContents(c,Y.sources.USER),this.quill.setSelection(l,Y.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,s=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,Y.sources.USER):this.quill.setSelection(s+n.length(),Y.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,s]=this.quill.getLine(r.index);if(s>e)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(r.index," ",Y.sources.USER),this.quill.history.cutoff();const i=new Nt().retain(r.index-s).delete(e+1).retain(n.length()-2-s).retain(1,{list:a});return this.quill.updateContents(i,Y.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,Y.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const a=new Nt().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,Y.sources.USER),this.quill.setSelection(r.index-1,Y.sources.SILENT),!1}return!0}},"embed left":Pi("ArrowLeft",!1),"embed left shift":Pi("ArrowLeft",!0),"embed right":Pi("ArrowRight",!1),"embed right shift":Pi("ArrowRight",!0),"table down":_u(!1),"table up":_u(!0)}};mo.DEFAULTS=yy;function bu(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const s=this.quill.scroll.query("code-block"),{TAB:a}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,a,Y.sources.USER),this.quill.setSelection(t.index+a.length,Y.sources.SILENT);return}const i=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:c}=t;i.forEach((d,v)=>{r?(d.insertAt(0,a),v===0?l+=a.length:c+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),v===0?l-=a.length:c-=a.length)}),this.quill.update(Y.sources.USER),this.quill.setSelection(l,c,Y.sources.SILENT)}}}function Pi(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;r==="ArrowRight"&&(s+=n.length+1);const[a]=this.quill.getLeaf(s);return a instanceof Wr?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,Y.sources.USER):this.quill.setSelection(n.index-1,Y.sources.USER):t?this.quill.setSelection(n.index,n.length+1,Y.sources.USER):this.quill.setSelection(n.index+n.length+1,Y.sources.USER),!1):!0}}}function Mo(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],Y.sources.USER)}}}function _u(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",s=e.line,a=s.parent[n];if(a!=null){if(a.statics.blotName==="table-row"){let i=a.children.head,l=s;for(;l.prev!=null;)l=l.prev,i=i.next;const c=i.offset(this.quill.scroll)+Math.min(e.offset,i.length()-1);this.quill.setSelection(c,0,Y.sources.USER)}}else{const i=s.table()[n];i!=null&&(r?this.quill.setSelection(i.offset(this.quill.scroll)+i.length()-1,0,Y.sources.USER):this.quill.setSelection(i.offset(this.quill.scroll),0,Y.sources.USER))}return!1}}}function wy(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=_a(r);else return null;return r.shortKey&&(r[_y]=r.shortKey,delete r.shortKey),r}function Yl(r){let{quill:t,range:e}=r;const n=t.getLines(e);let s={};if(n.length>1){const a=n[0].formats(),i=n[n.length-1].formats();s=cn.AttributeMap.diff(i,a)||{}}t.deleteText(e,Y.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,Y.sources.USER),t.setSelection(e.index,Y.sources.SILENT)}function xy(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const Ey=/font-weight:\s*normal/,Ay=["P","OL","UL"],yu=r=>r&&Ay.includes(r.tagName),Ty=r=>{Array.from(r.querySelectorAll("br")).filter(t=>yu(t.previousElementSibling)&&yu(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},Ny=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(Ey)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function ky(r){r.querySelector('[id^="docs-internal-guid-"]')&&(Ny(r),Ty(r))}const $y=/\bmso-list:[^;]*ignore/i,Sy=/\bmso-list:[^;]*\bl(\d+)/i,Oy=/\bmso-list:[^;]*\blevel(\d+)/i,Ly=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(Sy);if(!n)return null;const s=Number(n[1]),a=e==null?void 0:e.match(Oy),i=a?Number(a[1]):1,l=new RegExp(`@list l${s}:level${i}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:s,indent:i,type:d,element:r}},Cy=r=>{var i,l;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(c=>{(c.getAttribute("style")||"").match($y)?e.push(c):n.push(c)}),e.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const s=r.documentElement.innerHTML,a=n.map(c=>Ly(c,s)).filter(c=>c);for(;a.length;){const c=[];let d=a.shift();for(;d;)c.push(d),d=a.length&&((i=a[0])==null?void 0:i.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const v=document.createElement("ul");c.forEach(m=>{const y=document.createElement("li");y.setAttribute("data-list",m.type),m.indent>1&&y.setAttribute("class",`ql-indent-${m.indent-1}`),y.innerHTML=m.element.innerHTML,v.appendChild(y)});const g=(l=c[0])==null?void 0:l.element,{parentNode:p}=g??{};g&&(p==null||p.replaceChild(v,g)),c.slice(1).forEach(m=>{let{element:y}=m;p==null||p.removeChild(y)})}};function qy(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Cy(r)}const Ry=[qy,ky],Iy=r=>{r.documentElement&&Ry.forEach(t=>{t(r)})},Dy=ss("quill:clipboard"),Py=[[Node.TEXT_NODE,Jy],[Node.TEXT_NODE,xu],["br",Fy],[Node.ELEMENT_NODE,xu],[Node.ELEMENT_NODE,Uy],[Node.ELEMENT_NODE,jy],[Node.ELEMENT_NODE,Vy],["li",Ky],["ol, ul",Gy],["pre",Hy],["tr",Wy],["b",jo("bold")],["i",jo("italic")],["strike",jo("strike")],["style",zy]],By=[py,df].reduce((r,t)=>(r[t.keyName]=t,r),{}),wu=[cf,Wl,Vl,hf,mf,bf].reduce((r,t)=>(r[t.keyName]=t,r),{});class _f extends On{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Py.concat(this.options.matchers??[]).forEach(n=>{let[s,a]=n;this.addMatcher(s,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[cr.blotName])return new Nt().insert(n||"",{[cr.blotName]:s[cr.blotName]});if(!e)return new Nt().insert(n||"",s);const a=this.convertHTML(e);return xi(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||s.table)?a.compose(new Nt().retain(a.length()-1).delete(1)):a}normalizeHTML(t){Iy(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,s=new WeakMap,[a,i]=this.prepareMatching(n,s);return Xl(this.quill.scroll,n,a,i,s)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,Y.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new Nt().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),Y.sources.SILENT)}}onCaptureCopy(t){var i,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:a}=this.onCopy(n,e);(i=t.clipboardData)==null||i.setData("text/plain",a),(l=t.clipboardData)==null||l.setData("text/html",s),e&&Yl({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var i,l,c,d,v;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(i=t.clipboardData)==null?void 0:i.getData("text/html");let s=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!n&&!s){const g=(c=t.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(s=this.normalizeURIList(g))}const a=Array.from(((d=t.clipboardData)==null?void 0:d.files)||[]);if(!n&&a.length>0){this.quill.uploader.upload(e,a);return}if(n&&a.length>0){const g=new DOMParser().parseFromString(n,"text/html");if(g.body.childElementCount===1&&((v=g.body.firstElementChild)==null?void 0:v.tagName)==="IMG"){this.quill.uploader.upload(e,a);return}}this.onPaste(e,{html:n,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:s}=e;const a=this.quill.getFormat(t.index),i=this.convert({text:n,html:s},a);Dy.log("onPaste",i,{text:n,html:s});const l=new Nt().retain(t.index).delete(t.length).concat(i);this.quill.updateContents(l,Y.sources.USER),this.quill.setSelection(l.length()-t.length,Y.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],s=[];return this.matchers.forEach(a=>{const[i,l]=a;switch(i){case Node.TEXT_NODE:s.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(i)).forEach(c=>{if(e.has(c)){const d=e.get(c);d==null||d.push(l)}else e.set(c,[l])});break}}),[n,s]}}gt(_f,"DEFAULTS",{matchers:[]});function Xs(r,t,e,n){return n.query(t)?r.reduce((s,a)=>{if(!a.insert)return s;if(a.attributes&&a.attributes[t])return s.push(a);const i=e?{[t]:e}:{};return s.insert(a.insert,{...i,...a.attributes})},new Nt):r}function xi(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const s=r.ops[n];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function bs(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof Wr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function My(r,t){return r.previousElementSibling&&r.nextElementSibling&&!bs(r.previousElementSibling,t)&&!bs(r.nextElementSibling,t)}const Bi=new WeakMap;function yf(r){return r==null?!1:(Bi.has(r)||(r.tagName==="PRE"?Bi.set(r,!0):Bi.set(r,yf(r.parentNode))),Bi.get(r))}function Xl(r,t,e,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((a,i)=>i(t,a,r),new Nt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,i)=>{let l=Xl(r,i,e,n,s);return i.nodeType===t.ELEMENT_NODE&&(l=e.reduce((c,d)=>d(i,c,r),l),l=(s.get(i)||[]).reduce((c,d)=>d(i,c,r),l)),a.concat(l)},new Nt):new Nt}function jo(r){return(t,e,n)=>Xs(e,r,!0,n)}function jy(r,t,e){const n=Fn.keys(r),s=$n.keys(r),a=Ss.keys(r),i={};return n.concat(s).concat(a).forEach(l=>{let c=e.query(l,kt.ATTRIBUTE);c!=null&&(i[c.attrName]=c.value(r),i[c.attrName])||(c=By[l],c!=null&&(c.attrName===l||c.keyName===l)&&(i[c.attrName]=c.value(r)||void 0),c=wu[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=wu[l],i[c.attrName]=c.value(r)||void 0))}),Object.entries(i).reduce((l,c)=>{let[d,v]=c;return Xs(l,d,v,e)},t)}function Uy(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof Wr){const s={},a=n.value(r);if(a!=null)return s[n.blotName]=a,new Nt().insert(s,n.formats(r,e))}else if(n.prototype instanceof oi&&!xi(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Xs(t,n.blotName,n.formats(r,e),e);return t}function Fy(r,t){return xi(t,`
`)||t.insert(`
`),t}function Hy(r,t,e){const n=e.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return Xs(t,"code-block",s,e)}function zy(){return new Nt}function Ky(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!xi(t,`
`))return t;let s=-1,a=r.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(s+=1),a=a.parentNode;return s<=0?t:t.reduce((i,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?i.push(l):i.insert(l.insert,{indent:s,...l.attributes||{}}):i,new Nt)}function Gy(r,t,e){const n=r;let s=n.tagName==="OL"?"ordered":"bullet";const a=n.getAttribute("data-checked");return a&&(s=a==="true"?"checked":"unchecked"),Xs(t,"list",s,e)}function xu(r,t,e){if(!xi(t,`
`)){if(bs(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(bs(n,e))return t.insert(`
`);const s=e.query(n);if(s&&s.prototype instanceof ln)return t.insert(`
`);n=n.firstChild}}}return t}function Vy(r,t,e){var a;const n={},s=r.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((a=s.fontWeight)!=null&&a.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((i,l)=>{let[c,d]=l;return Xs(i,c,d,e)},t),parseFloat(s.textIndent||0)>0?new Nt().insert("	").concat(t):t}function Wy(r,t,e){var s,a;const n=((s=r.parentElement)==null?void 0:s.tagName)==="TABLE"?r.parentElement:(a=r.parentElement)==null?void 0:a.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return Xs(t,"table",l,e)}return t}function Jy(r,t,e){var s;let n=r.data;if(((s=r.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!yf(r)){if(n.trim().length===0&&n.includes(`
`)&&!My(r,e))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&bs(r.parentElement,e)||r.previousSibling instanceof Element&&bs(r.previousSibling,e))&&(n=n.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&bs(r.parentElement,e)||r.nextSibling instanceof Element&&bs(r.nextSibling,e))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class wf extends On{constructor(e,n){super(e,n);gt(this,"lastRecorded",0);gt(this,"ignoreChange",!1);gt(this,"stack",{undo:[],redo:[]});gt(this,"currentRange",null);this.quill.on(Y.events.EDITOR_CHANGE,(s,a,i,l)=>{s===Y.events.SELECTION_CHANGE?a&&l!==Y.sources.SILENT&&(this.currentRange=a):s===Y.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===Y.sources.USER?this.record(a,i):this.transform(a)),this.currentRange=hl(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const a=this.quill.getContents(),i=s.delta.invert(a);this.stack[n].push({delta:i,range:hl(s.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,Y.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),a=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),a=l.range)}else this.lastRecorded=i;s.length()!==0&&(this.stack.undo.push({delta:s,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Eu(this.stack.undo,e),Eu(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,Y.sources.USER);else{const n=Yy(this.quill.scroll,e.delta);this.quill.setSelection(n,Y.sources.USER)}}}gt(wf,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Eu(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const s=r[n];r[n]={delta:e.transform(s.delta,!0),range:s.range&&hl(s.range,e)},e=s.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function Zy(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,kt.BLOCK)!=null):!1}function Yy(r,t){const e=t.reduce((s,a)=>s+(a.delete||0),0);let n=t.length()-e;return Zy(r,t)&&(n-=1),n}function hl(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class xf extends On{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var i;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(l.offsetNode,l.offset),s.setEnd(l.offsetNode,l.offset)}const a=s&&t.selection.normalizeNative(s);if(a){const l=t.selection.normalizedToRange(a);(i=n.dataTransfer)!=null&&i.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(s=>{var a;s&&((a=this.options.mimetypes)!=null&&a.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}xf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(s=>{const a=new FileReader;a.onload=()=>{s(a.result)},a.readAsDataURL(n)}));Promise.all(e).then(n=>{const s=n.reduce((a,i)=>a.insert({image:i}),new Nt().retain(r.index).delete(r.length));this.quill.updateContents(s,Et.sources.USER),this.quill.setSelection(r.index+n.length,Et.sources.SILENT)})}};const Xy=["insertText","insertReplacementText"];class Qy extends On{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(Y.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Yl({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Nt().retain(t.index).insert(e,n),Y.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,Y.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Xy.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=t2(t);if(n==null)return;const s=this.quill.selection.normalizeNative(e),a=s?this.quill.selection.normalizedToRange(s):null;a&&this.replaceText(a,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function t2(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const e2=/Mac/i.test(navigator.platform),r2=100,n2=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||e2&&r.key==="a"&&r.ctrlKey===!0);class s2 extends On{constructor(e,n){super(e,n);gt(this,"isListening",!1);gt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:a}=n;if(!(s instanceof En)||!s.uiNode)return!0;const i=getComputedStyle(s.domNode).direction==="rtl";return i&&a.key!=="ArrowRight"||!i&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),Y.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&n2(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+r2,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof En)||!s.uiNode)return;const a=document.createRange();a.setStartAfter(s.uiNode),a.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(a)}}Y.register({"blots/block":er,"blots/block/embed":ln,"blots/break":Sn,"blots/container":Zs,"blots/cursor":Na,"blots/embed":Kl,"blots/inline":Hn,"blots/scroll":fa,"blots/text":Tn,"modules/clipboard":_f,"modules/history":wf,"modules/keyboard":mo,"modules/uploader":xf,"modules/input":Qy,"modules/uiNode":s2});class a2 extends $n{add(t,e){let n=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;n=e==="+1"?s+1:s-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const i2=new a2("indent","ql-indent",{scope:kt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class pl extends er{}gt(pl,"blotName","blockquote"),gt(pl,"tagName","blockquote");class vl extends er{static formats(t){return this.tagName.indexOf(t.tagName)+1}}gt(vl,"blotName","header"),gt(vl,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ei extends Zs{}Ei.blotName="list-container";Ei.tagName="OL";class Ai extends er{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){Y.register(Ei)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),s=a=>{if(!t.isEnabled())return;const i=this.statics.formats(e,t);i==="checked"?(this.format("list","unchecked"),a.preventDefault()):i==="unchecked"&&(this.format("list","checked"),a.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Ai.blotName="list";Ai.tagName="LI";Ei.allowedChildren=[Ai];Ai.requiredContainer=Ei;class ci extends Hn{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}gt(ci,"blotName","bold"),gt(ci,"tagName",["STRONG","B"]);class ml extends ci{}gt(ml,"blotName","italic"),gt(ml,"tagName",["EM","I"]);class _s extends Hn{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Ef(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}gt(_s,"blotName","link"),gt(_s,"tagName","A"),gt(_s,"SANITIZED_URL","about:blank"),gt(_s,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Ef(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class gl extends Hn{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}gt(gl,"blotName","script"),gt(gl,"tagName",["SUB","SUP"]);class bl extends ci{}gt(bl,"blotName","strike"),gt(bl,"tagName",["S","STRIKE"]);class _l extends Hn{}gt(_l,"blotName","underline"),gt(_l,"tagName","U");class Fi extends Kl{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}gt(Fi,"blotName","formula"),gt(Fi,"className","ql-formula"),gt(Fi,"tagName","SPAN");const Au=["alt","height","width"];class yl extends Wr{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Au.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Ef(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Au.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}gt(yl,"blotName","image"),gt(yl,"tagName","IMG");const Tu=["height","width"];class Hi extends ln{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Tu.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return _s.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Tu.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}gt(Hi,"blotName","video"),gt(Hi,"className","ql-video"),gt(Hi,"tagName","IFRAME");const Ka=new $n("code-token","hljs",{scope:kt.INLINE});class es extends Hn{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(cr.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),Ka.add(this.domNode,n)}format(t,e){t!==es.blotName?super.format(t,e):e?Ka.add(this.domNode,e):(Ka.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ka.value(this.domNode)||this.unwrap()}}es.blotName="code-token";es.className="ql-token";class on extends cr{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),es.blotName,!1),super.replaceWith(t,e)}}class Wa extends Ys{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===on.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,s){n===on.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(i=>i!==this.uiNode).map(i=>i.textContent).join(`
`)}
`,a=on.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const i=this.children.reduce((c,d)=>c.concat(af(d,!1)),new Nt),l=t(s,a);i.diff(l).reduce((c,d)=>{let{retain:v,attributes:g}=d;return v?(g&&Object.keys(g).forEach(p=>{[on.blotName,es.blotName].includes(p)&&this.formatAt(c,v,p,g[p])}),c+v):c},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?on.formats(n.domNode):"plain"}">
${vo(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=on.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Wa.allowedChildren=[on];on.requiredContainer=Wa;on.allowedChildren=[es,Na,Tn,Sn];const o2=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class Af extends On{static register(){Y.register(es,!0),Y.register(on,!0),Y.register(Wa,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:a}=s;return n[a]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Y.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Wa))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:a}=n;const i=e.ownerDocument.createElement("option");i.textContent=a,i.setAttribute("value",s),e.appendChild(i)}),e.addEventListener("change",()=>{t.format(on.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=on.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(Y.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Y.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Wa):[t]).forEach(a=>{a.highlight(this.highlightBlot,e)}),this.quill.update(Y.sources.SILENT),n!=null&&this.quill.setSelection(n,Y.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return vo(t).split(`
`).reduce((s,a,i)=>(i!==0&&s.insert(`
`,{[cr.blotName]:e}),s.insert(a)),new Nt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(cr.className),n.innerHTML=o2(this.options.hljs,e,t),Xl(this.quill.scroll,n,[(s,a)=>{const i=Ka.value(s);return i?a.compose(new Nt().retain(a.length(),{[es.blotName]:i})):a}],[(s,a)=>s.data.split(`
`).reduce((i,l,c)=>(c!==0&&i.insert(`
`,{[cr.blotName]:e}),i.insert(l)),a)],new WeakMap)}}Af.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Za=class Za extends er{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Ql()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Za.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};gt(Za,"blotName","table"),gt(Za,"tagName","TD");let wn=Za;class rs extends Zs{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),s=e.next.formats();if(n.table!==s.table){const a=this.splitAfter(e);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}gt(rs,"blotName","table-row"),gt(rs,"tagName","TR");class Un extends Zs{}gt(Un,"blotName","table-body"),gt(Un,"tagName","TBODY");class $a extends Zs{balanceCells(){const t=this.descendants(rs),e=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=wn.formats(n.children.head.domNode));const a=this.scroll.create(wn.blotName,s);n.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(Un);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(Un);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t),a=wn.formats(n.children.head.domNode),i=this.scroll.create(wn.blotName,a);n.insertBefore(i,s)})}insertRow(t){const[e]=this.descendant(Un);if(e==null||e.children.head==null)return;const n=Ql(),s=this.scroll.create(rs.blotName);e.children.head.children.forEach(()=>{const i=this.scroll.create(wn.blotName,n);s.appendChild(i)});const a=e.children.at(t);e.insertBefore(s,a)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}gt($a,"blotName","table-container"),gt($a,"tagName","TABLE");$a.allowedChildren=[Un];Un.requiredContainer=$a;Un.allowedChildren=[rs];rs.requiredContainer=Un;rs.allowedChildren=[wn];wn.requiredContainer=rs;function Ql(){return`row-${Math.random().toString(36).slice(2,6)}`}class l2 extends On{static register(){Y.register(wn),Y.register(rs),Y.register(Un),Y.register($a)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants($a).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(Y.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(Y.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(Y.sources.USER),this.quill.setSelection(e,Y.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==wn.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const i=a.cellOffset();n.insertColumn(i+t),this.quill.update(Y.sources.USER);let l=s.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,Y.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const i=s.rowOffset();n.insertRow(i+t),this.quill.update(Y.sources.USER),t>0?this.quill.setSelection(e,Y.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,Y.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(a=>{const i=new Array(e).fill(`
`).join("");return a.insert(i,{table:Ql()})},new Nt().retain(n.index));this.quill.updateContents(s,Y.sources.USER),this.quill.setSelection(n.index,Y.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Y.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(Y.events.TEXT_CHANGE,(n,s,a)=>{a===Y.sources.USER&&this.balanceTables()}),!0):!1)})}}const Nu=ss("quill:toolbar");class tc extends On{constructor(t,e){var n,s;if(super(t,e),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),c2(a,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(a,t.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Nu.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const i=(l=this.options.handlers)==null?void 0:l[a];i&&this.addHandler(a,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(Y.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Nu.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[i]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,a);else if(this.quill.scroll.query(e).prototype instanceof Wr){if(a=prompt(`Enter ${e}`),!a)return;this.quill.updateContents(new Nt().retain(i.index).delete(i.length).insert({[e]:a}),Y.sources.USER)}else this.quill.format(e,a,Y.sources.USER);this.update(i)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,a]=n;if(a.tagName==="SELECT"){let i=null;if(t==null)i=null;else if(e[s]==null)i=a.querySelector("option[selected]");else if(!Array.isArray(e[s])){let l=e[s];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),i=a.querySelector(`option[value="${l}"]`)}i==null?(a.value="",a.selectedIndex=-1):i.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const i=e[s],l=i===a.getAttribute("value")||i!=null&&i.toString()===a.getAttribute("value")||i==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const i=e[s]!=null;a.classList.toggle("ql-active",i),a.setAttribute("aria-pressed",i.toString())}})}}tc.DEFAULTS={};function ku(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function c2(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")ku(n,s);else{const a=Object.keys(s)[0],i=s[a];Array.isArray(i)?u2(n,a,i):ku(n,a,i)}}),r.appendChild(n)})}function u2(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(s=>{const a=document.createElement("option");s!==!1?a.setAttribute("value",String(s)):a.setAttribute("selected","selected"),n.appendChild(a)}),r.appendChild(n)}tc.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,kt.INLINE)!=null&&this.quill.format(e,!1,Y.sources.USER)})}else this.quill.removeFormat(r.index,r.length,Y.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",Y.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,Y.sources.USER),this.quill.format("direction",r,Y.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let s=r==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,Y.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,Y.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,Y.sources.USER):this.quill.format("list","unchecked",Y.sources.USER):this.quill.format("list",r,Y.sources.USER)}}};const d2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',f2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',h2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',p2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',v2='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',m2='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',g2='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',b2='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',$u='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',_2='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',y2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',w2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',x2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',E2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',A2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',T2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',N2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',k2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',$2='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',S2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',O2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',L2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',C2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',q2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',R2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',I2='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',D2='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',P2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',B2='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',M2='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',j2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',U2='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',F2='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ui={align:{"":d2,center:f2,right:h2,justify:p2},background:v2,blockquote:m2,bold:g2,clean:b2,code:$u,"code-block":$u,color:_2,direction:{"":y2,rtl:w2},formula:x2,header:{1:E2,2:A2,3:T2,4:N2,5:k2,6:$2},italic:S2,image:O2,indent:{"+1":L2,"-1":C2},link:q2,list:{bullet:R2,check:I2,ordered:D2},script:{sub:P2,super:B2},strike:M2,table:j2,underline:U2,video:F2},H2='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Su=0;function Ou(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class go{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Ou(this.label,"aria-expanded"),Ou(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=H2,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Su}`,Su+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Tf extends go{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class Nf extends go{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const z2=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class kf{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,z2(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let i=0;if(a.right>s.right&&(i=s.right-a.right,this.root.style.left=`${e+i}px`),a.left<s.left&&(i=s.left-a.left,this.root.style.left=`${e+i}px`),a.bottom>s.bottom){const l=a.bottom-a.top,c=t.bottom-t.top+l;this.root.style.top=`${n-c}px`,this.root.classList.add("ql-flip")}return i}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const K2=[!1,"center","right","justify"],G2=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V2=[!1,"serif","monospace"],W2=["1","2","3",!1],J2=["small",!1,"large","huge"];class Ti extends ka{constructor(t,e){super(t,e);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(s.target)||a.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),e[a]!=null))if(a==="direction")n.innerHTML=e[a][""]+e[a].rtl;else if(typeof e[a]=="string")n.innerHTML=e[a];else{const i=n.value||"";i!=null&&e[a][i]&&(n.innerHTML=e[a][i])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Ua(s,K2),typeof e.align=="object"))return new Nf(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const a=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Ua(s,G2,a==="background"?"#ffffff":"#000000"),new Tf(s,e[a])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Ua(s,V2):s.classList.contains("ql-header")?Ua(s,W2):s.classList.contains("ql-size")&&Ua(s,J2)),new go(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(Et.events.EDITOR_CHANGE,n)}}Ti.DEFAULTS=As({},ka.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class $f extends kf{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Et.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Et.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=Z2(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Et.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Et.sources.USER),this.quill.setSelection(n+2,Et.sources.USER)}break}}this.textbox.value="",this.hide()}}function Z2(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function Ua(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),r.appendChild(s)})}const Y2=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Sf extends $f{constructor(t,e){super(t,e),this.quill.on(Et.events.EDITOR_CHANGE,(n,s,a,i)=>{if(n===Et.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&i===Et.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(s.index,s.length);if(l.length===1){const c=this.quill.getBounds(s);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),v=Math.min(c.length()-1,s.index+s.length-d),g=this.quill.getBounds(new zs(d,v));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Et.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}gt(Sf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Of extends Ti{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Y2),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Sf(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ui),this.buildPickers(t.container.querySelectorAll("select"),ui))}}Of.DEFAULTS=As({},Ti.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Y.sources.USER)}}}}});const X2=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Lf extends $f{constructor(){super(...arguments);gt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Et.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Et.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===Et.sources.USER){const[a,i]=this.quill.scroll.descendant(_s,e.index);if(a!=null){this.linkRange=new zs(e.index-i,a.length());const l=_s.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}gt(Lf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Cf extends Ti{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=X2),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ui),this.buildPickers(t.container.querySelectorAll("select"),ui),this.tooltip=new Lf(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}Cf.DEFAULTS=As({},Ti.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,Y.sources.USER)}}}}});Y.register({"attributors/attribute/direction":df,"attributors/class/align":lf,"attributors/class/background":my,"attributors/class/color":vy,"attributors/class/direction":ff,"attributors/class/font":vf,"attributors/class/size":gf,"attributors/style/align":cf,"attributors/style/background":Wl,"attributors/style/color":Vl,"attributors/style/direction":hf,"attributors/style/font":mf,"attributors/style/size":bf},!0);Y.register({"formats/align":lf,"formats/direction":ff,"formats/indent":i2,"formats/background":Wl,"formats/color":Vl,"formats/font":vf,"formats/size":gf,"formats/blockquote":pl,"formats/code-block":cr,"formats/header":vl,"formats/list":Ai,"formats/bold":ci,"formats/code":Jl,"formats/italic":ml,"formats/link":_s,"formats/script":gl,"formats/strike":bl,"formats/underline":_l,"formats/formula":Fi,"formats/image":yl,"formats/video":Hi,"modules/syntax":Af,"modules/table":l2,"modules/toolbar":tc,"themes/bubble":Of,"themes/snow":Cf,"ui/icons":ui,"ui/picker":go,"ui/icon-picker":Nf,"ui/color-picker":Tf,"ui/tooltip":kf},!0);var Q2=G('<div class="margin svelte-1unbvg"></div> <div class="table-outline main_data svelte-1unbvg"><div class="table-head table-title svelte-1unbvg"><input type="text" id="title" class="svelte-1unbvg"></div> <div class="table-contents-gray svelte-1unbvg"><select class="namewidth svelte-1unbvg"><option>자유</option><option>거래</option><option>공략</option></select></div> <div class="table-contents-white svelte-1unbvg"><div id="editor" class="svelte-1unbvg"></div></div> <div class="form-group svelte-1unbvg"><button class="emphasis-button">작성하기</button> <button class="simple-button">취소하기</button></div></div>',1);function tw(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e),s=()=>z(Je,"$myaccount",e),a=()=>z(Yo,"$modify_postid",e);let i=C(""),l="",c,d=C("free");const v=n()?"/mpk":"/babapk";async function g(){const N=document.createElement("input");N.setAttribute("type","file"),N.setAttribute("accept","image/*"),N.click(),N.onchange=async()=>{const q=N.files?N.files[0]:null;if(!q)return alert("파일이 선택되지 않았습니다.");const D=new FileReader;D.onloadend=async()=>{const P=D.result;try{const M=await p(P);if(M){const j=c.getSelection();c.insertEmbed((j==null?void 0:j.index)||0,"image",M)}}catch(M){console.error("이미지 업로드 오류:",M)}},D.readAsDataURL(q)}}async function p(N){const q=await Mt("/cloudinary/upload","POST",{image:N});if(!q.ok)throw new Error("이미지 업로드 실패");return(await q.json()).url}async function m(){const N={title:o(i),category:o(d),content:l,nickname:s(),postId:a()};try{(await Mt("/board/write","POST",N)).ok&&(alert("글을 성공적으로 작성하였습니다"),b(),Ea(`${v}/boardlist`))}catch(q){console.error("네트워크 오류:",q),alert(`네트워크 오류: ${q.message}`)}}async function y(){if(a()!=="none")try{const q=await(await fetch(`/board/post?post_id=${a()}`)).json();A(i,q.title),l=q.content,A(d,q.category)}catch{alert("게시물 로드 중 오류 발생")}}Ye(async()=>{await y(),c=new Y("#editor",{theme:"snow",placeholder:"",modules:{toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]],handlers:{image:g}}}}),l&&c.clipboard.dangerouslyPasteHTML(l),c.on("text-change",()=>{l=c.root.innerHTML})});function b(){Yo.set("none")}function w(){b(),Ea(`${v}/boardlist`)}le();var E=Q2(),T=h(mt(E),2),k=f(T),$=f(k),S=h(k,2),I=f(S);st(()=>{o(d),Yn(()=>{})});var H=f(I);H.value=(H.__value="free")==null?"":"free";var U=h(H);U.value=(U.__value="trade")==null?"":"trade";var R=h(U);R.value=(R.__value="setting")==null?"":"setting";var K=h(S,4),x=f(K),L=h(x,2);F($,()=>o(i),N=>A(i,N)),Xn(I,()=>o(d),N=>A(d,N)),X("click",x,m),X("click",L,w),B(r,E),Zt()}var ew=G('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),rw=G('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),nw=G('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),sw=G('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),aw=G('<table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table>'),iw=G('<div class="table-outline main_data"><table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7">시즌 이름</th><th class="svelte-18mpmu7">1위</th><th class="svelte-18mpmu7">2위</th><th class="svelte-18mpmu7">3위</th></tr></thead><tbody></tbody></table> <div class="toggle-wrapper"><button class="simple-button"> </button></div> <!></div>');function ow(r,t){Jt(t,!1);const e=ne(),n=()=>z(oe,"$mode",e);let s=n()?[{season:"2024.10 랭킹전",first:"우리",second:"스티븐",third:"제트",details:"24. 10. 정규대회 인내전 : 1위 스티븐 2위 Hell 3위 Madon<br/>24. 10. 정규대회 비인내전 : 1위 우리 2위 파괴 3위 LoPala"},{season:"2024.9 랭킹전",first:"스티븐",second:"독재",third:"BallistaBB",details:"24. 9. 정규대회 : 1위 스티븐 2위 독재 3위 Art"},{season:"2024.8 랭킹전",first:"스티븐",second:"Art",third:"허경영",details:"-"},{season:"2024.7 랭킹전",first:"카니아",second:"BallistaBB",third:"Art",details:"-"},{season:"2024.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"kissa",details:"-"},{season:"2024.5 랭킹전",first:"BallistaBB",second:"스티븐",third:"MAX",details:"-"},{season:"2024.2 랭킹전",first:"Jay",second:"제트",third:"MAX",details:"-"},{season:"2024.1 랭킹전",first:"Jay",second:"스티븐",third:"제트",details:"23.12 정기전 : 1위 Robe 2위 스티븐 3위 제트<br>23.11 정기전 : 1위 파괴 2위 스티븐 3위 Robe"}]:[{season:"2024.10-11 랭킹전",first:"마스터",second:"DTBar",third:"Jay",details:"비고뇌 정식전 : 1위 DTBAR 2위 Jay 3위 IRONKIM<br/>고뇌 정식전 : 1위 마스터 2위 DTBAR 3위 Jay<br/>2:2 정식전 : 1위 오찬물 수수깡수수 2위 DTBAR IRONKIM 3위 퓨리 마스터<br/>조드 정식전 : 1위 봐바 2위 DUKY 3위 Az"},{season:"2024.9 랭킹전",first:"DTbar",second:"Duky",third:"오찬물",details:"고뇌 정식전 : 1위 스티븐 2위 Jay 3위 오찬물<br/>비고뇌 정식전 : 1위 BallistaBB 2위 지존 3위 수수깡수수"},{season:"2024.8 랭킹전",first:"Duky",second:"마스터",third:"옥땅",details:"정식전 : 1위 IRONKIM 2위 배로나 3위 듀키"},{season:"2024.7 랭킹전",first:"Duky",second:"Jay",third:"바아바아",details:"플레이오프 : 1위 Jay 2위 옥례 3위 Duky<br/>3티어 정식전 : 1위 배로나 2위 오찬물 3위 duky<br/>고뇌 정규전 : 1위 바아바아 2위 오찬물 3위 Duky<br/>레어 정규전 : 1위 낑깡 2위 Ari 3위 su"},{season:"2024.6 랭킹전",first:"Head",second:"Jay",third:"Duky",details:"3티어 정식전 : 1위 Duky 2위 Jay 3위 IRONKIM<br/>고뇌 정규전 : 1위 Head 2위 jay 3위 봐바<br/>레어 정규전 : 1위 Jay 2위 지존 3위 스티븐"},{season:"2024.5 랭킹전",first:"Duky",second:"Head",third:"IRONKIM",details:"정식전 : 1위 줍줍 2위 Duky 3위 쭈니바바리안<br/>테마전 : 1위 금복이 2위 goyard 3위 IRONKIM"},{season:"2024.4 랭킹전",first:"Jay",second:"Duky",third:"줍줍",details:"정식전 : 1위 aerts 2위 Head 3위 jay<br/>테마전 : 아리앗옥례 & 오찬물 & Jay"},{season:"2024.3 랭킹전",first:"Duky",second:"BigMara",third:"팍씨",details:"정식전 : 1위 Joral_Sinsa 2위 Jak 3위 바바<br/>테마전 : 1위 Jay 2위 아이언킴 3위 오찬물 <br/> 테마전 : 1위 Jay 2위 아이언킴 3위 오찬물"},{season:"2024.2 랭킹전",first:"barbar",second:"오찬물",third:"Duky",details:"정식전 : 1위 오찬물 2위 BallistaBB 3위 GeonDal<br/>테마전 : 1위 옥례 2위 옥땅 3위 IRONKIM"},{season:"2024.1 랭킹전",first:"오찬물",second:"Duky",third:"Head",details:"정식전 : 1위 Duky 2위 Jay 3위 오찬물"}],a=n()?[{season:"2023.10 랭킹전",first:"스티븐",second:"달빛",third:"스티븐",details:"정기전 : 1위 CASINO 2위 Queen 3위 드루<br/>23.7 정기전 : 1위 Edward 2위 스티븐 3위 모팔모"},{season:"2023.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"yakuza",details:"정기전 : 1위 yakuza 2위 BallistaBB 3위 모팔모"},{season:"2023.5 랭킹전",first:"Robe",second:"달건",third:"Boss",details:"정기전 : 1위 달건 2위 Robe 3위 Joy<br/>테마전 : 1위 Robe 2위 Southbank 3위 Art_ist"}]:[{season:"2023.12 랭킹전",first:"Duky",second:"Jak",third:"아리",details:"정식전 : 1위 아리 2위 도라라 3위 Duky "},{season:"2023.11 랭킹전",first:"Jak",second:"Duky",third:"오찬물",details:"정식전 : 1위 봐바 2위 도라라 3위 Art_ist <br/> 테마전 : 1위 잼재미 2위 Jak 3위 아리앗옥례"},{season:"2023.10 랭킹전",first:"오찬물",second:"ALO",third:"오찬물",details:"정식전 : 1위 봐바 2위 배로나 3위 잼재미<br/> 테마전 : 아리 & 오찬물 & 아리앗옥례"},{season:"2023.9 랭킹전",first:"오찬물",second:"Jak",third:"바바",details:"정식전 : 1위 오찬물 2위 봐바 3위 IRONKIM"},{season:"2023.8 랭킹전",first:"Duky",second:"Duky",third:"IRONKIM",details:"정식전 : 1위 Jak 2위 BB 3위 도적"},{season:"2023.7 랭킹전",first:"BB(통합우승)",second:"BB(고뇌우승)",third:"BB(비고뇌우승)",details:"정식전 : 1위 Duky 2위 묵선 3위 오찬물"},{season:"시즌 10",first:"ALO",second:"ADOOBA",third:"Duky",details:"정식전 10회 : 1위 도적 2위 ALO 3위 Jak"},{season:"시즌 9",first:"스티븐",second:"ADOOBA",third:"Duky",details:"정식전 9회 : 1위 Duky 2위 ADOOBA 3위 Jak"},{season:"시즌 8",first:"스티븐",second:"Duky",third:"ALO",details:"정식전 8회 : 1위 배로나 2위 Duky 3위 Art_ist<br/>테마전 8회 : 1위 GeonDal 2위 BallistaBB 3위 오찬물"},{season:"시즌 7",first:"봐바",second:"ALO",third:"도라라",details:"정식전 7회 : 1위 PABLO 2위 야토신 3위 DUTY<br/>테마전 7회 : 1위 ADOOBA & 스티븐 & 도라라 2위  3위 "},{season:"시즌 6",first:"PABLO",second:"오찬물",third:"ADOOBA",details:"정식전 6회 : 1위 Joral_Sinsa 2위 GeonDal 3위 RFHH<br/>테마전 6회 : 1위 도적 & Jak 2위  3위 "},{season:"시즌 5",first:"ADOOBA",second:"오찬물",third:"Joral_Sinsa",details:"정식전 5회 : 1위 ALO 2위 RFHH 3위 TOONGTANG<br/>테마전 5회 : 1위 돌아돌아 & 파멸 2위  3위 "},{season:"시즌 4",first:"Joral_Sinsa",second:"오찬물",third:"ADOOBA",details:"정식전 4회 : 1위 파멸 2위 GG 3위 좀건들지마봐<br/>테마전 4회 : 1위 Az 2위 TOONGTANG 3위 행복한우빈이네"},{season:"시즌 3",first:"TOONGTANG",second:"Joral_Sinsa",third:"ALO",details:"정식전 3회 : 1위 Thanos 2위 MikeTyson 3위 Az<br/>테마전 3회 : 1위 GG 2위 돌아돌아 3위 TOONGTANG"},{season:"시즌 2",first:"TOONGTANG",second:"BABBARIAN",third:"Thanos",details:"정식전 2회 : 1위 TOONGTANG 2위 AlwaysReview 3위 Az<br/>테마전 2회 : 1위 BABBARIAN & Thanos 2위  3위 "},{season:"시즌 1",first:"TOONGTANG",second:"Thanos",third:"AlwaysReview",details:"정식전 1회 : 1위 돌아돌아 2위 FBI멀더 3위 BallistaBB<br/>테마전 1회 : 1위 TOONGTANG 2위 BallistaBB 3위 PK"}],i=C(Array(s.length).fill(!1)),l=C(Array(a.length).fill(!1)),c=C(!1);function d(k){A(i,o(i).map(($,S)=>S===k?!$:$))}function v(k){A(l,o(l).map(($,S)=>S===k?!$:$))}function g(){A(c,!o(c))}le();var p=iw(),m=f(p),y=h(f(m));Vt(y,5,()=>s,ee,(k,$,S)=>{let I=()=>o($).season,H=()=>o($).first,U=()=>o($).second,R=()=>o($).third,K=()=>o($).details;var x=rw(),L=mt(x),N=f(L),q=f(N),D=h(N),P=f(D),M=h(D),j=f(M),Z=h(M),J=f(Z),nt=h(L,2);yt(nt,()=>o(i)[S],et=>{var rt=ew(),ot=f(rt),V=f(ot);Vo(V,K),B(et,rt)}),st(()=>{tt(q,I()),tt(P,H()),tt(j,U()),tt(J,R())}),X("click",L,()=>d(S)),B(k,x)});var b=h(m,2),w=f(b),E=f(w),T=h(b,2);yt(T,()=>o(c),k=>{var $=aw(),S=h(f($));Vt(S,5,()=>a,ee,(I,H,U)=>{let R=()=>o(H).season,K=()=>o(H).first,x=()=>o(H).second,L=()=>o(H).third,N=()=>o(H).details;var q=sw(),D=mt(q),P=f(D),M=f(P),j=h(P),Z=f(j),J=h(j),nt=f(J),et=h(J),rt=f(et),ot=h(D,2);yt(ot,()=>o(l)[U],V=>{var ft=nw(),_t=f(ft),ut=f(_t);Vo(ut,N),B(V,ft)}),st(()=>{tt(M,R()),tt(Z,K()),tt(nt,x()),tt(rt,L())}),X("click",D,()=>v(U)),B(I,q)}),B(k,$)}),st(()=>tt(E,o(c)?"이전 시즌 결과 숨기기":"이전 시즌 결과 보기")),X("click",w,g),B(r,p),Zt()}var lw=G('<tr class="svelte-o4nmjd"><td class="svelte-o4nmjd"><!></td></tr>'),cw=G('<div class="info-container"><table class="svelte-o4nmjd"><thead><tr class="svelte-o4nmjd"><th class="svelte-o4nmjd"> </th></tr></thead><tbody></tbody></table></div>');function uw(r){const t=ne(),e=()=>z(oe,"$mode",t),n=e()?[{href:"/mpk/pscore",title:"질딘 파워점수 계산기"},{href:"/mpk/ring",title:"링 스탯 측정기"},{href:"/mpk/elo",title:"Elo 점수 예상계산기"},{href:"/mpk/simul",title:"시뮬레이터"}]:[{href:"/babapk/pscore",title:"파워점수 계산기"},{href:"/babapk/visio",title:"렙당뚜껑 계산기"},{href:"/babapk/simul",title:"시뮬레이터"},{href:"/babapk/ring",title:"링 스탯 측정기"}];var s=cw(),a=f(s),i=f(a),l=f(i),c=f(l),d=f(c),v=h(i);Vt(v,5,()=>n,ee,(p,m)=>{var y=lw(),b=f(y),w=f(b);ms(w,{get to(){return o(m).href},children:(E,T)=>{var k=Kr();st(()=>tt(k,o(m).title)),B(E,k)},$$slots:{default:!0}}),B(p,y)}),st(()=>tt(d,`${(e()?"밀리PK":"정통바바")??""}계산기 들어가기`)),B(r,s)}var dw=G('<table><thead><tr><th colspan="4">질딘용 파워 점수 계산기</th></tr></thead><tbody><tr><td>방어</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>+ 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>% 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>오버 힘</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>오버 민첩</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 오버 스탯</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>활력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>생명력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>민뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>맥뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>데미지 추가(추뎀)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>증뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 기술 레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>모든 성기사 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>공격 오라 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>방깎</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>강타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>치타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 스탯(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function fw(r,t){Jt(t,!1);const e=C(),n=C(),s=C(),a=C(),i=C(),l=C(),c=C(),d=C(),v=C(),g=C();let p=C(0),m=C(0),y=C(0),b=C(0),w=C(0),E=C(0),T=C(0),k=C(0),$=C(0),S=C(0),I=C(0),H=C(0),U=C(0),R=C(0),K=0,x=C(0),L=C(0),N=C(0),q=C(0),D=C(0),P=C(0),M=C(0),j=C(0),Z=C(0),J,nt,et,rt,ot,V,ft,_t,ut,wt,ht,at,lt,vt,St,It,Ct,Lt,Pt,se;const Ut=()=>{J=Math.floor((133+o(S)+o(H))*(100+(492+o(U))+K*6+o(Z)*17+480+378+23*(o(R)+o(j)+7)-138+(232+o(b)+o(E)))/100),nt=Math.floor((552+o(I)+o(H))*(100+(492+o(U))+K*6+o(Z)*17+480+378+23*(o(R)+o(j)+7)-138+(232+o(b)+o(E)))/100),et=Math.floor((148*5+(o(w)+o(E))*5-15+o(m)+2743)*(199+o(y)+170+20+270+K*10+o(Z)*5+15*(o(R)+o(j)+7)-15*6)/100),rt=Math.floor((3139+o(p)+Math.floor((148+o(w)+o(E))/4))*(860+15*(o(j)+o(R)+K+7)-15*6)/100),ot=Math.round((55+99*2-2+(420+o(D)+o(P)*2)*3-25*3+60+o(k)+740)*(o(x)+100+71+(5+o(R))*3-9)/100)+o($)+148+(o(E)+o(P)+80+o(T))*3,V=o(l)+o(L),ft=o(c)+o(N),_t=o(d)+o(q),ut=0,wt=(_t/100+(100-_t)/100*ut/100)*100,ht=(o(e)+o(n))/6/2/2,at=(J+nt)/6/2/2,lt=ot/2/10*o(c)/100/2,vt=o(i)/2/10*ft/100/2,St=ht*(o(g)/100+1)+lt,It=at*(wt/100+1)+vt,Ct=o(s)/(o(s)+rt*(100-o(l)/2)/100)*.25,Lt=et/(et+o(a)*(100-V/2)/100)*.25,Pt=ot/St*4/25/Ct,se=o(i)/It*4/25/Lt,A(M,Math.round((Pt/se*100-100)*100*100)/100)};Dt(()=>{},()=>{A(e,2267)}),Dt(()=>{},()=>{A(n,9411)}),Dt(()=>{},()=>{A(s,23374)}),Dt(()=>{},()=>{A(a,27790)}),Dt(()=>{},()=>{A(i,4346)}),Dt(()=>{},()=>{A(l,0)}),Dt(()=>{},()=>{A(c,25)}),Dt(()=>{},()=>{A(d,52)}),Dt(()=>{},()=>{A(v,0)}),Dt(()=>{},()=>{A(g,52)}),wr();var zt=dw(),ae=h(f(zt)),ce=f(ae),Yt=h(f(ce)),ue=f(Yt),_e=h(Yt,2),ie=f(_e),de=h(ce),he=h(f(de)),re=f(he),Ee=h(he,2),ve=f(Ee),Ie=h(de),me=h(f(Ie)),De=f(me),ke=h(me,2),Ae=f(ke),ge=h(Ie),te=h(f(ge)),Pe=f(te),$e=h(te,2),Se=f($e),Oe=h(ge),Le=h(f(Oe)),Me=f(Le),He=h(Le,2),$t=f(He),Q=h(Oe),dt=h(f(Q)),pt=f(dt),qt=h(dt,2),Ft=f(qt),xr=h(Q),mr=h(f(xr)),ur=f(mr),pe=h(mr,2),Jr=f(pe),Zr=h(xr),Er=h(f(Zr)),Ar=f(Er),Tr=h(Er,2),ye=f(Tr),Yr=h(Zr),Nr=h(f(Yr)),kr=f(Nr),$r=h(Nr,2),Xr=f($r),Ce=h(Yr),Sr=h(f(Ce)),Or=f(Sr),Lr=h(Sr,2),Qr=f(Lr),tn=h(Ce),rr=h(f(tn)),gr=f(rr),nr=h(rr,2),Ge=f(nr),Cr=h(tn),qr=f(Cr),Rr=f(qr),Ir=h(qr),en=f(Ir);st(()=>tt(en,`당신의 아이템 파워 점수는 ${o(M)??""}점 입니다`)),F(ue,()=>o(p),Ot=>A(p,Ot)),F(ie,()=>o(m),Ot=>A(m,Ot)),F(re,()=>o(y),Ot=>A(y,Ot)),F(ve,()=>o(b),Ot=>A(b,Ot)),F(De,()=>o(w),Ot=>A(w,Ot)),F(Ae,()=>o(E),Ot=>A(E,Ot)),F(Pe,()=>o(T),Ot=>A(T,Ot)),F(Se,()=>o(k),Ot=>A(k,Ot)),F(Me,()=>o($),Ot=>A($,Ot)),F($t,()=>o(S),Ot=>A(S,Ot)),F(pt,()=>o(I),Ot=>A(I,Ot)),F(Ft,()=>o(H),Ot=>A(H,Ot)),F(ur,()=>o(U),Ot=>A(U,Ot)),F(Jr,()=>o(R),Ot=>A(R,Ot)),F(Ar,()=>o(j),Ot=>A(j,Ot)),F(ye,()=>o(Z),Ot=>A(Z,Ot)),F(kr,()=>o(x),Ot=>A(x,Ot)),F(Xr,()=>o(L),Ot=>A(L,Ot)),F(Or,()=>o(N),Ot=>A(N,Ot)),F(Qr,()=>o(q),Ot=>A(q,Ot)),F(gr,()=>o(D),Ot=>A(D,Ot)),F(Ge,()=>o(P),Ot=>A(P,Ot)),X("click",Rr,Ut),B(r,zt),Zt()}var hw=G('<table><thead><tr><th colspan="4">바바용 파워 점수 계산기</th></tr></thead><tbody><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>방어</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 어레</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>% 어레</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 힘</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 민첩</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 오버 스탯</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>활력</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>생명력</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>민뎀</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>맥뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>데미지 추가(추뎀)</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>증뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+모든(바바) 스킬</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>전투지시</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>외침</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>철갑피부</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 함성 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 숙련 기술 레벨</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 전투 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>방깎</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>강타</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>치타</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 스탯(노오버)</td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function pw(r,t){Jt(t,!1);const e=C(),n=C(),s=C(),a=C(),i=C(),l=C(),c=C(),d=C(),v=C(),g=C();let p=C(0),m=C(0),y=C(0),b=C(0),w=C(0),E=C(0),T=C(0),k=C(0),$=C(0),S=C(0),I=C(0),H=C(0),U=C(0),R=C(0),K=C(0),x=C(0),L=C(0),N=C(0),q=C(0),D=C(0),P=C(0),M=C(0),j=C(0),Z=C(0),J=C(0),nt=C(0),et=C(0),rt,ot,V,ft,_t,ut,wt,ht,at,lt,vt,St,It,Ct,Lt,Pt,se,Ut,zt,ae;const ce=()=>{rt=Math.floor((427+o(S)+o(H))*(100+(440+o(U))+(258+6*10+o(R)*10)+(10+o(D)*5+o(q)*5)+(232+o(b)+o(E)))/100),ot=Math.floor((592+o(I)+o(H))*(100+(440+o(U))+(258+6*10+o(R)*10)+(10+o(D)*5+o(q)*5)+(232+o(b)+o(E)))/100),V=Math.floor((222*5+(o(w)+o(E))*5-15+o(m)+3119)*(120+o(y)+248+180+13*(o(R)+6)-13*6+(o(D)+2)*5+o(q)*8)/100),ft=Math.floor((3583+o(p)+Math.floor((222+o(w)+o(E))/4))*(690+20*(o(R)+6)+(o(K)+o(L)+o(q)+o(N))*10)/100),_t=Math.round((55+99*2-2+(306+o(J)+o(nt)*2)*4-25*4+60+o(k)+855)*(o(P)+100+113+(6+o(R)+o(x))*3)/100)+o($)+148+(o(E)+o(nt)+80+o(T))*4,ut=o(l)+o(M),wt=o(c)+o(j),ht=o(d)+o(Z),at=o(v)+(o(R)+o(q)>=4?1:0),lt=(ht/100+(100-ht)/100*at/100)*100,vt=(o(e)+o(n))/6/2/2,St=(rt+ot)/6/2/2,It=_t/2/10*o(c)/100/2,Ct=o(i)/2/10*wt/100/2,Lt=vt*(o(g)/100+1)+It,Pt=St*(lt/100+1)+Ct,se=o(s)/(o(s)+ft*(100-o(l)/2)/100)*.25,Ut=V/(V+o(a)*(100-ut/2)/100)*.25,zt=_t/Lt*4/25/se,ae=o(i)/Pt*4/25/Ut,A(et,Math.round((zt/ae*100-100)*100*100)/100)};Dt(()=>{},()=>{A(e,4697)}),Dt(()=>{},()=>{A(n,6512)}),Dt(()=>{},()=>{A(s,23514)}),Dt(()=>{},()=>{A(a,29467)}),Dt(()=>{},()=>{A(i,5758)}),Dt(()=>{},()=>{A(l,25)}),Dt(()=>{},()=>{A(c,25)}),Dt(()=>{},()=>{A(d,35)}),Dt(()=>{},()=>{A(v,31)}),Dt(()=>{},()=>{A(g,55.15)}),wr();var Yt=hw(),ue=h(f(Yt)),_e=f(ue),ie=f(_e),de=f(ie),he=h(ie,2),re=f(he),Ee=h(_e),ve=f(Ee),Ie=f(ve),me=h(ve,2),De=f(me),ke=h(Ee),Ae=f(ke),ge=f(Ae),te=h(Ae,2),Pe=f(te),$e=h(ke),Se=f($e),Oe=f(Se),Le=h(Se,2),Me=f(Le),He=h($e),$t=f(He),Q=f($t),dt=h($t,2),pt=f(dt),qt=h(He),Ft=f(qt),xr=f(Ft),mr=h(Ft,2),ur=f(mr),pe=h(qt),Jr=f(pe),Zr=f(Jr),Er=h(Jr,2),Ar=f(Er),Tr=h(pe),ye=f(Tr),Yr=f(ye),Nr=h(ye,2),kr=f(Nr),$r=h(Tr),Xr=f($r),Ce=f(Xr),Sr=h(Xr,2),Or=f(Sr),Lr=h($r),Qr=f(Lr),tn=f(Qr),rr=h(Qr,2),gr=f(rr),nr=h(Lr),Ge=f(nr),Cr=f(Ge),qr=h(Ge,2),Rr=f(qr),Ir=h(nr),en=f(Ir),Ot=f(en),rn=h(en,2),Dr=f(rn),dr=h(Ir),fn=f(dr),Ln=f(fn),Cn=h(fn,2),qn=f(Cn),hn=h(dr),Pr=f(hn),Br=f(Pr),pn=h(Pr),vn=f(pn);st(()=>tt(vn,`당신의 아이템 파워 점수는 ${o(et)??""}점 입니다`)),F(de,()=>o(p),xt=>A(p,xt)),F(re,()=>o(m),xt=>A(m,xt)),F(Ie,()=>o(y),xt=>A(y,xt)),F(De,()=>o(b),xt=>A(b,xt)),F(ge,()=>o(w),xt=>A(w,xt)),F(Pe,()=>o(E),xt=>A(E,xt)),F(Oe,()=>o(T),xt=>A(T,xt)),F(Me,()=>o(k),xt=>A(k,xt)),F(Q,()=>o($),xt=>A($,xt)),F(pt,()=>o(S),xt=>A(S,xt)),F(xr,()=>o(I),xt=>A(I,xt)),F(ur,()=>o(H),xt=>A(H,xt)),F(Zr,()=>o(U),xt=>A(U,xt)),F(Ar,()=>o(R),xt=>A(R,xt)),F(Yr,()=>o(x),xt=>A(x,xt)),F(kr,()=>o(K),xt=>A(K,xt)),F(Ce,()=>o(L),xt=>A(L,xt)),F(Or,()=>o(N),xt=>A(N,xt)),F(tn,()=>o(q),xt=>A(q,xt)),F(gr,()=>o(D),xt=>A(D,xt)),F(Cr,()=>o(P),xt=>A(P,xt)),F(Rr,()=>o(M),xt=>A(M,xt)),F(Ot,()=>o(j),xt=>A(j,xt)),F(Dr,()=>o(Z),xt=>A(Z,xt)),F(Ln,()=>o(J),xt=>A(J,xt)),F(qn,()=>o(nt),xt=>A(nt,xt)),X("click",Br,ce),B(r,Yt),Zt()}var vw=G(`<table><thead><tr><th colspan="4">BABAPK 렙당뚜껑 계산기</th></tr></thead><tbody><tr><td colspan="4">아이템 기본 스탯</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>방어</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 모든(바바) 스킬</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>% 어레 보너스</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>전투지시</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>외침</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>철갑피부</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 어레</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td></td><td></td></tr><tr><td colspan="4">2 소켓일 시 추가 주얼 스탯(1소켓일 시에는 모두 0 입력)</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>어레</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+방어</td></tr><tr><td colspan="4"><button class="emphasis-button" type="button">가치 계산</button><br> </td></tr><tr><td class="text svelte-synbn7" colspan="4">유니크 뚜껑과 비교<br> 504 방어 슬가 점수 = 100<br> 756 방어 에테 슬가 점수 = 95.54<br> 408 방어 3/3/3 스킬 악마뿔의 날 점수 = 95.77<br> 611 방어 3/3/3 스킬 에테 악마뿔의 날 점수 = 91.47</td></tr><tr><td class="text svelte-synbn7" colspan="4">이 계산기는 발리스타에 의해 만들어졌습니다<br> 99레벨, 으뜸 슬가, 3/20/20 부적, 강철찢개, 버석고뇌 : 100점<br> 만약 점수가 100점을 넘는다면 그만큼 슬가보다 좋은 뚜껑임을 나타냅니다.</td></tr><tr><td class="text svelte-synbn7" colspan="4">어떻게 사용하나요?<br> 뚜껑의 스탯을 입력하세요<br> 만약 1소켓인 경우 주얼 입력을 모두 0으로 하세요. 만약 그렇지 않다면, 지증속
          주얼 2개를 제외한 자신이 사용할 전투주얼 수치를 넣으세요<br> % 상승 어레와 + 상승 어레를 구별해서 넣어주세요</td></tr></tbody></table>`);function mw(r){let t=C(0),e=C(0),n=C(0),s=C(0),a=C(0),i=C(0),l=C(0),c=C(0),d=C(0),v=C(0),g=C(0),p=C(0),m=C(0),y=C(0),b=C(0),w=C(0),E=C(0),T=C(0),k=C(0),$=C(0),S=C(0),I=C(0);function H(){A(I,Math.round((2130+o(i)+o(k)+4*(o(s)+o(a)+o(T)+o(E)))*(2.25+(o(e)+o(l))*.03)+468)/(.25*23514/(23514+Math.floor((3134+o(t)+o(S))*(.2*o(e)+7.7+.1*(o(d)+o(c)))*.875))*5604.5/12)/(5758/(.25*Math.floor((4214+o(v)+o($))*(5.02+o(e)*.13+o(n)*.01))/(Math.floor((o(v)+o($)+4214)*(5.02+o(e)*.13+o(n)*.01))+29467*.875)*(((219+o(p)+o(m)+o(w)+o(b))/2+400)*(10.7+.1*o(e)+.01*(o(g)+o(y))))/12))*100)}var U=vw(),R=h(f(U)),K=h(f(R)),x=f(K),L=f(x),N=h(x,2),q=f(N),D=h(K),P=f(D),M=f(P),j=h(P,2),Z=f(j),J=h(D),nt=f(J),et=f(nt),rt=h(nt,2),ot=f(rt),V=h(J),ft=f(V),_t=f(ft),ut=h(ft,2),wt=f(ut),ht=h(V),at=f(ht),lt=f(at),vt=h(at,2),St=f(vt),It=h(ht),Ct=f(It),Lt=f(Ct),Pt=h(Ct,2),se=f(Pt),Ut=h(It),zt=f(Ut),ae=f(zt),ce=h(Ut,2),Yt=f(ce),ue=f(Yt),_e=h(Yt,2),ie=f(_e),de=h(ce),he=f(de),re=f(he),Ee=h(he,2),ve=f(Ee),Ie=h(de),me=f(Ie),De=f(me),ke=h(me,2),Ae=f(ke),ge=h(Ie),te=f(ge),Pe=f(te),$e=h(te,2),Se=f($e),Oe=h(ge),Le=f(Oe),Me=f(Le),He=h(Me,2);st(()=>tt(He,` 당신의 렙당 뚜껑의 점수는 ${o(I)??""}입니다`)),F(L,()=>o(t),$t=>A(t,$t)),F(q,()=>o(e),$t=>A(e,$t)),F(M,()=>o(n),$t=>A(n,$t)),F(Z,()=>o(s),$t=>A(s,$t)),F(et,()=>o(a),$t=>A(a,$t)),F(ot,()=>o(i),$t=>A(i,$t)),F(_t,()=>o(l),$t=>A(l,$t)),F(wt,()=>o(c),$t=>A(c,$t)),F(lt,()=>o(d),$t=>A(d,$t)),F(St,()=>o(v),$t=>A(v,$t)),F(Lt,()=>o(g),$t=>A(g,$t)),F(se,()=>o(p),$t=>A(p,$t)),F(ae,()=>o(m),$t=>A(m,$t)),F(ue,()=>o(y),$t=>A(y,$t)),F(ie,()=>o(b),$t=>A(b,$t)),F(re,()=>o(w),$t=>A(w,$t)),F(ve,()=>o(E),$t=>A(E,$t)),F(De,()=>o(T),$t=>A(T,$t)),F(Ae,()=>o(k),$t=>A(k,$t)),F(Pe,()=>o($),$t=>A($,$t)),F(Se,()=>o(S),$t=>A(S,$t)),X("click",Me,H),B(r,U)}var gw=G('<table><thead><tr><th>링 스탯 측정기</th></tr></thead><tbody><tr><td><select class="input-text short svelte-1d6dr2d"><option>야만용사</option><option>성기사</option><option>드루이드</option><option>아마존</option></select></td></tr><tr><td><label><input class="input-text short svelte-1d6dr2d" type="checkbox"> + 5% 추가어레</label> <input class="input-text short svelte-1d6dr2d" type="number"> 최소 데미지</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 최대 데미지 <input class="input-text short svelte-1d6dr2d" type="number"> 어레</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 힘 <input class="input-text short svelte-1d6dr2d" type="number"> 민첩</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 생명력</td></tr><tr><td><button class="emphasis-button">계산</button><br> <br> 단순히 스탯만을 계산하므로 전체적인 성능과는 차이가 있을 수 있습니다.</td></tr></tbody></table>');function bw(r,t){Jt(t,!1);const e=C();let n=C(0),s=C(0),a=C(0),i=C(0),l=C(0),c=C(0),d=C(4),v=C(0),g=C(!1);Dt(()=>(o(s),o(a),o(n),o(c),o(l),o(i),o(d),o(g)),()=>{A(e,()=>{let V=o(s)+o(a)+o(n)/5+(o(c)+o(l))*1.5+o(i)/o(d);o(g)&&(V+=38/5),A(v,V)})}),wr();var p=gw(),m=h(f(p)),y=f(m),b=f(y),w=f(b);st(()=>{o(d),Yn(()=>{o(e)})});var E=f(w);E.value=(E.__value="4")==null?"":"4";var T=h(E);T.value=(T.__value="3")==null?"":"3";var k=h(T);k.value=(k.__value="2")==null?"":"2";var $=h(k);$.value=($.__value="3")==null?"":"3";var S=h(y),I=f(S),H=f(I),U=f(H),R=h(H,2),K=h(S),x=f(K),L=f(x),N=h(L,2),q=h(K),D=f(q),P=f(D),M=h(P,2),j=h(q),Z=f(j),J=f(Z),nt=h(j),et=f(nt),rt=f(et),ot=h(rt,2);st(()=>tt(ot,` 이 링의 전체 스탯은 ${o(v)??""} 스탯 입니다. `)),Xn(w,()=>o(d),V=>A(d,V)),X("change",w,function(...V){var ft;(ft=o(e))==null||ft.apply(this,V)}),vp(U,()=>o(g),V=>A(g,V)),F(R,()=>o(l),V=>A(l,V)),F(L,()=>o(c),V=>A(c,V)),F(N,()=>o(n),V=>A(n,V)),F(P,()=>o(s),V=>A(s,V)),F(M,()=>o(a),V=>A(a,V)),F(J,()=>o(i),V=>A(i,V)),X("click",rt,function(...V){var ft;(ft=o(e))==null||ft.apply(this,V)}),B(r,p),Zt()}var _w=G(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>내 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 내 스탯으로 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상대 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 상대 스탯으로 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr></tbody></table></div>`);function yw(r,t){Jt(t,!1);const e=ne(),n=()=>z(ot,"$mycharlv",e),s=()=>z(V,"$myhp",e),a=()=>z(_t,"$mymaxdmg",e),i=()=>z(ft,"$mymindmg",e),l=()=>z(ut,"$myar",e),c=()=>z(wt,"$mydf",e),d=()=>z(ht,"$myframe",e),v=()=>z(at,"$mydfoff",e),g=()=>z(lt,"$myreduce",e),p=()=>z(vt,"$mycrush",e),m=()=>z(St,"$mycs",e),y=()=>z(It,"$myds",e),b=()=>z(Ct,"$mydodge",e),w=()=>z(Lt,"$myopenwound",e),E=()=>z(Pt,"$mythorns",e),T=()=>z(se,"$myclass",e),k=()=>z(Ut,"$yourcharlv",e),$=()=>z(zt,"$yourhp",e),S=()=>z(ce,"$yourmaxdmg",e),I=()=>z(ae,"$yourmindmg",e),H=()=>z(Yt,"$yourar",e),U=()=>z(ue,"$yourdf",e),R=()=>z(_e,"$yourframe",e),K=()=>z(ie,"$yourdfoff",e),x=()=>z(de,"$yourreduce",e),L=()=>z(he,"$yourcrush",e),N=()=>z(re,"$yourcs",e),q=()=>z(Ee,"$yourds",e),D=()=>z(ve,"$yourdodge",e),P=()=>z(Ie,"$youropenwound",e),M=()=>z(me,"$yourthorns",e),j=()=>z(De,"$yourclass",e),Z=()=>z(ke,"$iterations",e),J=()=>z(Ae,"$win",e),nt=()=>z(ge,"$lose",e),et=()=>z(te,"$draw",e),rt=()=>z(Pe,"$winRate",e);let ot=it(99),V=it(0),ft=it(0),_t=it(0),ut=it(0),wt=it(0),ht=it(4),at=it(0),lt=it(0),vt=it(0),St=it(0),It=it(0),Ct=it(0),Lt=it(0),Pt=it(0),se=it(1),Ut=it(99),zt=it(0),ae=it(0),ce=it(0),Yt=it(0),ue=it(0),_e=it(4),ie=it(0),de=it(50),he=it(0),re=it(0),Ee=it(0),ve=it(0),Ie=it(0),me=it(0),De=it(1),ke=it(2e3),Ae=it(0),ge=it(0),te=it(0),Pe=it(0);const $e=()=>{const bt={charlv:n(),hp:s(),maxdmg:a(),mindmg:i(),ar:l(),df:c(),frame:[d()],dfoff:v(),reduce:g(),crush:p(),cs:m(),ds:y(),dodge:b(),openwound:w(),thorns:E(),class:T()},Xe=JSON.stringify(bt),Qe=new Blob([Xe],{type:"application/json"}),Fr=URL.createObjectURL(Qe),_r=document.createElement("a");_r.download="my_stat.json",_r.href=Fr,_r.click()},Se=()=>{const bt={charlv:k(),hp:$(),maxdmg:S(),mindmg:I(),ar:H(),df:U(),frame:[R()],dfoff:K(),reduce:x(),crush:L(),cs:N(),ds:q(),dodge:D(),openwound:P(),thorns:M(),class:j()},Xe=JSON.stringify(bt),Qe=new Blob([Xe],{type:"application/json"}),Fr=URL.createObjectURL(Qe),_r=document.createElement("a");_r.download="opponent_stat.json",_r.href=Fr,_r.click()},Oe=bt=>{var Fr;const Xe=(Fr=bt.target.files)==null?void 0:Fr[0];if(!Xe)return;const Qe=new FileReader;Qe.onload=_r=>{var Rs;try{const Bt=JSON.parse((Rs=_r.target)==null?void 0:Rs.result);Object.keys(Bt).forEach(Pa=>{if(Bt[Pa]===void 0)throw Error}),ot.set(Bt.charlv),V.set(Bt.hp),_t.set(Bt.maxdmg),ft.set(Bt.mindmg),ut.set(Bt.ar),wt.set(Bt.df),ht.set(Bt.frame[0]),at.set(Bt.dfoff),lt.set(Bt.reduce),vt.set(Bt.crush),St.set(Bt.cs),It.set(Bt.ds),Ct.set(Bt.dodge),Lt.set(Bt.openwound),Pt.set(Bt.thorns),se.set(Bt.class)}catch{alert("Invalid JSON file")}},Qe.readAsText(Xe)},Le=bt=>{var Fr;const Xe=(Fr=bt.target.files)==null?void 0:Fr[0];if(!Xe)return;const Qe=new FileReader;Qe.onload=_r=>{var Rs;try{const Bt=JSON.parse((Rs=_r.target)==null?void 0:Rs.result);Object.keys(Bt).forEach(Pa=>{if(Bt[Pa]===void 0)throw Error}),Ut.set(Bt.charlv),zt.set(Bt.hp),ce.set(Bt.maxdmg),ae.set(Bt.mindmg),Yt.set(Bt.ar),ue.set(Bt.df),_e.set(Bt.frame[0]),ie.set(Bt.dfoff),de.set(Bt.reduce),he.set(Bt.crush),re.set(Bt.cs),Ee.set(Bt.ds),ve.set(Bt.dodge),Ie.set(Bt.openwound),me.set(Bt.thorns),De.set(Bt.class)}catch{alert("Invalid JSON file")}},Qe.readAsText(Xe)},Me=async()=>{Ae.set(0),ge.set(0),te.set(0),Pe.set(0);const bt={myhp:s(),yourhp:$(),myframe:[d()],yourframe:[R()],myclass:T(),yourclass:j(),mycharlv:n(),yourcharlv:k(),iterations:Z(),myar:l(),yourar:H(),mydf:c(),yourdf:U(),mydfoff:v(),yourdfoff:K(),mydodge:b(),yourdodge:D(),mycrush:p(),yourcrush:L(),myopenwound:w(),youropenwound:P(),mymaxdmg:a(),mymindmg:i(),yourmaxdmg:S(),yourmindmg:I(),myreduce:g(),yourreduce:x(),mycs:m(),myds:y(),yourcs:N(),yourds:q(),mythorns:E(),yourthorns:M()};try{const Xe=await Mt("/calculate","POST",bt);if(Xe.ok){const Qe=await Xe.json();Ae.set(Qe.winCount),ge.set(Qe.loseCount),te.set(Qe.drawCount);const Fr=Number(Qe.winRate.toFixed(2));Pe.set(Fr)}else console.error("Error calculating:",Xe.statusText)}catch(Xe){console.error("Error calculating:",Xe),alert("Calculation failed.")}};le();var He=_w(),$t=h(f(He),2),Q=f($t),dt=f(Q),pt=h(f(dt)),qt=f(pt),Ft=h(pt,2),xr=f(Ft),mr=h(dt),ur=h(f(mr)),pe=f(ur),Jr=h(ur,2),Zr=f(Jr),Er=h(mr),Ar=h(f(Er)),Tr=f(Ar),ye=h(Ar,2),Yr=f(ye),Nr=h(Er),kr=h(f(Nr)),$r=f(kr),Xr=h(kr,2),Ce=f(Xr),Sr=h(Nr),Or=h(f(Sr)),Lr=f(Or),Qr=h(Or,2),tn=f(Qr),rr=h(Sr),gr=h(f(rr)),nr=f(gr),Ge=h(gr,2),Cr=f(Ge),qr=h(rr),Rr=h(f(qr)),Ir=f(Rr),en=h(Rr,2),Ot=f(en),rn=h(qr),Dr=h(f(rn)),dr=f(Dr),fn=h(Dr,2),Ln=f(fn),Cn=h($t,4),qn=f(Cn),hn=f(qn),Pr=h(f(hn)),Br=f(Pr),pn=h(Pr,2),vn=f(pn),xt=h(hn),sr=h(f(xt)),br=f(sr),Mr=h(sr,2),as=f(Mr),fr=h(xt),is=h(f(fr)),Os=f(is),os=h(is,2),Ls=f(os),Rn=h(fr),je=h(f(Rn)),ls=f(je),cs=h(je,2),In=f(cs),mn=h(Rn),nn=h(f(mn)),Cs=f(nn),us=h(nn,2),Kn=f(us),Dn=h(mn),ar=h(f(Dn)),ds=f(ar),Gn=h(ar,2),qs=f(Gn),Vn=h(Dn),u=h(f(Vn)),_=f(u),O=h(u,2),W=f(O),Rt=h(Vn),Tt=h(f(Rt)),Kt=f(Tt),Ht=h(Tt,2),Te=f(Ht),Gt=h(Cn,2),Ue=f(Gt),Ve=f(Ue),qe=h(f(Ve)),ze=f(qe),Be=h(Ve),jr=h(f(Be)),Ur=f(jr),gn=h(Gt,2),Qs=f(gn),Wn=f(Qs),Jn=h(f(Wn)),ta=f(Jn),ea=h(ta,2),ra=h(ea,2),Da=h(ra,2);st(()=>{tt(ta,`승 : ${J()??""}`),tt(ea,` 패 : ${nt()??""}`),tt(ra,` 무승부 : ${et()??""}`),tt(Da,` 승률 : ${rt()??""} %`)}),F(qt,n,bt=>At(ot,bt)),F(xr,i,bt=>At(ft,bt)),F(pe,a,bt=>At(_t,bt)),F(Zr,l,bt=>At(ut,bt)),F(Tr,v,bt=>At(at,bt)),F(Yr,c,bt=>At(wt,bt)),F($r,s,bt=>At(V,bt)),F(Ce,d,bt=>At(ht,bt)),F(Lr,g,bt=>At(lt,bt)),F(tn,p,bt=>At(vt,bt)),F(nr,y,bt=>At(It,bt)),F(Cr,m,bt=>At(St,bt)),F(Ir,w,bt=>At(Lt,bt)),F(Ot,E,bt=>At(Pt,bt)),X("click",dr,$e),X("change",Ln,Oe),F(Br,k,bt=>At(Ut,bt)),F(vn,I,bt=>At(ae,bt)),F(br,S,bt=>At(ce,bt)),F(as,H,bt=>At(Yt,bt)),F(Os,K,bt=>At(ie,bt)),F(Ls,U,bt=>At(ue,bt)),F(ls,$,bt=>At(zt,bt)),F(In,R,bt=>At(_e,bt)),F(Cs,x,bt=>At(de,bt)),F(Kn,L,bt=>At(he,bt)),F(ds,q,bt=>At(Ee,bt)),F(qs,N,bt=>At(re,bt)),F(_,P,bt=>At(Ie,bt)),F(W,M,bt=>At(me,bt)),X("click",Kt,Se),X("change",Te,Le),F(ze,Z,bt=>At(ke,bt)),X("click",Ur,Me),B(r,He),Zt()}var ww=G('<div class="main-container svelte-h7jwtc"><div class="table-head svelte-h7jwtc">Elo점수 예상 계산기</div> <div class="form-wrapper svelte-h7jwtc"><div class="input-group svelte-h7jwtc"><label for="wScore" class="svelte-h7jwtc">승자 점수</label> <input type="number" id="wScore" class="input-text name svelte-h7jwtc"></div> <div class="input-group svelte-h7jwtc"><label for="lScore" class="svelte-h7jwtc">패자 점수</label> <input type="number" id="lScore" class="input-text name svelte-h7jwtc"></div></div> <div class="result-wrapper svelte-h7jwtc"><button class="emphasis-button">계산</button> <p class="result-text svelte-h7jwtc"> </p></div></div>');function xw(r,t){Jt(t,!1);const e=C();let n=C(),s=C(),a=C();const i=32,l=400;Dt(()=>(o(n),o(s)),()=>{A(e,()=>{if(o(n)!==void 0&&o(s)!==void 0){const T=1/(1+Math.pow(10,(o(s)-o(n))/l));A(a,Math.round(i*(1-T)))}else A(a,void 0)})}),wr();var c=ww(),d=h(f(c),2),v=f(d),g=h(f(v),2),p=h(v,2),m=h(f(p),2),y=h(d,2),b=f(y),w=h(b,2),E=f(w);st(()=>tt(E,`예상 득실 점수: ${(o(a)!==void 0?o(a):"값을 입력하세요")??""}`)),F(g,()=>o(n),T=>A(n,T)),F(m,()=>o(s),T=>A(s,T)),X("click",b,function(...T){var k;(k=o(e))==null||k.apply(this,T)}),B(r,c),Zt()}var Ew=G("<option> </option>"),Aw=G('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-18a1swj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="input-text score svelte-18a1swj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br></div>'),Tw=G('<div class="left">권한이 없습니다.</div>'),Nw=G('<div class="main_data"><!></div>');function kw(r,t){Jt(t,!1);const e=ne(),n=()=>z(Us,"$nicknames",e),s=()=>z(oe,"$mode",e),a=()=>z(Je,"$myaccount",e);let i=C(),l=C();function c(b){A(i,v(b.target.value,n()))}function d(b){A(l,b.target.value)}function v(b,w){return w.includes(b)?b:""}Ye(()=>{bi(s())});async function g(){const b={player:o(i),playerScore:o(l)};try{(await Mt("/admin-score/m_user/submit","POST",b)).status===201&&alert("점수 부여 완료")}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const w=await Mt("/admin-score/m_user/reset","DELETE");w&&w.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${w.status}`)}catch{alert("오류 발생")}}le();var m=Nw(),y=f(m);yt(y,()=>a()==="admin_m",b=>{var w=Aw(),E=h(f(w)),T=h(E,2);Vt(T,5,n,ee,(I,H)=>{var U=Ew(),R={},K=f(U);st(()=>{R!==(R=o(H))&&(U.value=(U.__value=o(H))==null?"":o(H)),tt(K,o(H))}),B(I,U)});var k=h(T,2),$=h(k,2),S=h($,8);F(E,()=>o(i),I=>A(i,I)),X("blur",E,c),F(k,()=>o(l),I=>A(l,I)),X("change",k,d),X("click",$,g),X("click",S,p),B(b,w)},b=>{var w=Tw();B(b,w)}),B(r,m),Zt()}var $w=G("<option> </option>"),Sw=G('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button></div>'),Ow=G('<div class="left">권한이 없습니다.</div>'),Lw=G('<div class="main_data"><!></div>');function Cw(r,t){Jt(t,!1);const e=ne(),n=()=>z(Us,"$nicknames",e),s=()=>z(oe,"$mode",e),a=()=>z(Je,"$myaccount",e);let i=C(),l=C();function c(b){A(i,v(b.target.value,n()))}function d(b){A(l,b.target.value)}function v(b,w){return w.includes(b)?b:""}Ye(async()=>{bi(s())});async function g(){const b={player:o(i),playerScore:o(l)};try{const w=await Mt("/admin-score/b_user/submit","POST",b);w&&w.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${w.status}`)}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const w=await Mt("/admin-score/b_user/reset","DELETE");w&&w.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${w.status}`)}catch{alert("오류 발생")}}le();var m=Lw(),y=f(m);yt(y,()=>a()==="admin",b=>{var w=Sw(),E=h(f(w)),T=h(E,2);Vt(T,5,n,ee,(I,H)=>{var U=$w(),R={},K=f(U);st(()=>{R!==(R=o(H))&&(U.value=(U.__value=o(H))==null?"":o(H)),tt(K,o(H))}),B(I,U)});var k=h(T,2),$=h(k,2),S=h($,8);F(E,()=>o(i),I=>A(i,I)),X("blur",E,c),F(k,()=>o(l),I=>A(l,I)),X("change",k,d),X("click",$,g),X("click",S,p),B(b,w)},b=>{var w=Ow();B(b,w)}),B(r,m),Zt()}var qw=G("<option> </option>"),Rw=G("<option> </option>"),Iw=G(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr></tbody></table></div>`);function Dw(r,t){Jt(t,!1);const e=ne(),n=()=>z(ft,"$mycharlv",e),s=()=>z(_t,"$myhp",e),a=()=>z(wt,"$mymaxdmg",e),i=()=>z(ut,"$mymindmg",e),l=()=>z(ht,"$myar",e),c=()=>z(at,"$mydf",e),d=()=>z(lt,"$myframe",e),v=()=>z(vt,"$mydfoff",e),g=()=>z(St,"$myreduce",e),p=()=>z(It,"$mycrush",e),m=()=>z(Ct,"$mycs",e),y=()=>z(Lt,"$myds",e),b=()=>z(Pt,"$mydodge",e),w=()=>z(se,"$myopenwound",e),E=()=>z(Ut,"$mythorns",e),T=()=>z(zt,"$myclass",e),k=()=>z(ce,"$yourcharlv",e),$=()=>z(Yt,"$yourhp",e),S=()=>z(_e,"$yourmaxdmg",e),I=()=>z(ue,"$yourmindmg",e),H=()=>z(ie,"$yourar",e),U=()=>z(de,"$yourdf",e),R=()=>z(he,"$yourframe",e),K=()=>z(re,"$yourdfoff",e),x=()=>z(Ee,"$yourreduce",e),L=()=>z(ve,"$yourcrush",e),N=()=>z(Ie,"$yourcs",e),q=()=>z(me,"$yourds",e),D=()=>z(De,"$yourdodge",e),P=()=>z(ke,"$youropenwound",e),M=()=>z(Ae,"$yourthorns",e),j=()=>z(ge,"$yourclass",e),Z=()=>z(ae,"$myframelist",e),J=()=>z(te,"$yourframelist",e),nt=()=>z(Pe,"$iterations",e),et=()=>z($e,"$win",e),rt=()=>z(Se,"$lose",e),ot=()=>z(Oe,"$draw",e),V=()=>z(Le,"$winRate",e);let ft=it(99),_t=it(0),ut=it(0),wt=it(0),ht=it(0),at=it(0),lt=it([4]),vt=it(0),St=it(0),It=it(0),Ct=it(0),Lt=it(0),Pt=it(0),se=it(0),Ut=it(0),zt=it(1),ae=it([{value:[1],name:"선택"}]),ce=it(99),Yt=it(0),ue=it(0),_e=it(0),ie=it(0),de=it(0),he=it([4]),re=it(0),Ee=it(50),ve=it(0),Ie=it(0),me=it(0),De=it(0),ke=it(0),Ae=it(0),ge=it(1),te=it([{value:[1],name:"선택"}]),Pe=it(2e3),$e=it(0),Se=it(0),Oe=it(0),Le=it(0);const Me=()=>{const ct={charlv:n(),hp:s(),maxdmg:a(),mindmg:i(),ar:l(),df:c(),frame:d(),dfoff:v(),reduce:g(),crush:p(),cs:m(),ds:y(),dodge:b(),openwound:w(),thorns:E(),class:T()},we=JSON.stringify(ct),Ne=new Blob([we],{type:"application/json"}),tr=URL.createObjectURL(Ne),hr=document.createElement("a");hr.download="my_stat.json",hr.href=tr,hr.click()},He=()=>{const ct={charlv:k(),hp:$(),maxdmg:S(),mindmg:I(),ar:H(),df:U(),frame:R(),dfoff:K(),reduce:x(),crush:L(),cs:N(),ds:q(),dodge:D(),openwound:P(),thorns:M(),class:j()},we=JSON.stringify(ct),Ne=new Blob([we],{type:"application/json"}),tr=URL.createObjectURL(Ne),hr=document.createElement("a");hr.download="opponent_stat.json",hr.href=tr,hr.click()},$t=ct=>{var tr;const we=(tr=ct.target.files)==null?void 0:tr[0];if(!we)return;const Ne=new FileReader;Ne.onload=hr=>{var Ba;try{const jt=JSON.parse((Ba=hr.target)==null?void 0:Ba.result);Object.keys(jt).forEach(Is=>{if(jt[Is]===void 0)throw Error}),zt.set(jt.class),pt(),ft.set(jt.charlv),_t.set(jt.hp),wt.set(jt.maxdmg),ut.set(jt.mindmg),ht.set(jt.ar),at.set(jt.df),vt.set(jt.dfoff),St.set(jt.reduce),It.set(jt.crush),Ct.set(jt.cs),Lt.set(jt.ds),Pt.set(jt.dodge),se.set(jt.openwound),Ut.set(jt.thorns);const bo=jt.frame,Ma=Z().find(Is=>JSON.stringify(Is.value)===JSON.stringify(bo));Ma?lt.set(Ma.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Ne.readAsText(we)},Q=ct=>{var tr;const we=(tr=ct.target.files)==null?void 0:tr[0];if(!we)return;const Ne=new FileReader;Ne.onload=hr=>{var Ba;try{const jt=JSON.parse((Ba=hr.target)==null?void 0:Ba.result);Object.keys(jt).forEach(Is=>{if(jt[Is]===void 0)throw Error}),ge.set(jt.class),qt(),ce.set(jt.charlv),Yt.set(jt.hp),_e.set(jt.maxdmg),ue.set(jt.mindmg),ie.set(jt.ar),de.set(jt.df),re.set(jt.dfoff),Ee.set(jt.reduce),ve.set(jt.crush),Ie.set(jt.cs),me.set(jt.ds),De.set(jt.dodge),ke.set(jt.openwound),Ae.set(jt.thorns);const bo=jt.frame,Ma=J().find(Is=>JSON.stringify(Is.value)===JSON.stringify(bo));Ma?he.set(Ma.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Ne.readAsText(we)},dt=async()=>{$e.set(0),Se.set(0),Oe.set(0),Le.set(0);const ct={myhp:s(),yourhp:$(),myframe:d(),yourframe:R(),myclass:T(),yourclass:j(),mycharlv:n(),yourcharlv:k(),iterations:nt(),myar:l(),yourar:H(),mydf:c(),yourdf:U(),mydfoff:v(),yourdfoff:K(),mydodge:b(),yourdodge:D(),mycrush:p(),yourcrush:L(),myopenwound:w(),youropenwound:P(),mymaxdmg:a(),mymindmg:i(),yourmaxdmg:S(),yourmindmg:I(),myreduce:g(),yourreduce:x(),mycs:m(),myds:y(),yourcs:N(),yourds:q(),mythorns:E(),yourthorns:M()};try{const we=await Mt("/calculate","POST",ct);if(we.ok){const Ne=await we.json();$e.set(Ne.winCount),Se.set(Ne.loseCount),Oe.set(Ne.drawCount);const tr=Number(Ne.winRate.toFixed(2));Le.set(tr)}else console.error("Error calculating:",we.statusText)}catch(we){console.error("Error calculating:",we),alert("Calculation failed.")}};function pt(){T()===1?ae.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):T()===2?ae.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):T()===3?ae.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):T()===4&&ae.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function qt(){j()===1?te.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):j()===2?te.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):j()===3?te.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):j()===4&&te.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}le();var Ft=Iw(),xr=h(f(Ft),2),mr=f(xr),ur=f(mr),pe=h(f(ur)),Jr=f(pe),Zr=h(pe,2),Er=f(Zr),Ar=h(ur),Tr=h(f(Ar)),ye=f(Tr),Yr=h(Tr,2),Nr=f(Yr),kr=h(Ar),$r=h(f(kr)),Xr=f($r),Ce=h($r,2),Sr=f(Ce),Or=h(kr),Lr=h(f(Or)),Qr=f(Lr),tn=h(Lr,2),rr=f(tn),gr=h(Or),nr=h(f(gr)),Ge=f(nr),Cr=h(nr,2),qr=f(Cr),Rr=h(gr),Ir=h(f(Rr)),en=f(Ir),Ot=h(Ir,2),rn=f(Ot),Dr=h(Rr),dr=h(f(Dr)),fn=f(dr),Ln=h(dr,2),Cn=f(Ln),qn=h(Dr),hn=h(f(qn)),Pr=f(hn);st(()=>{T(),Yn(()=>{})});var Br=f(Pr);Br.value=(Br.__value=1)==null?"":1;var pn=h(Br);pn.value=(pn.__value=2)==null?"":2;var vn=h(pn);vn.value=(vn.__value=3)==null?"":3;var xt=h(vn);xt.value=(xt.__value=4)==null?"":4;var sr=h(hn,2),br=f(sr);st(()=>{d(),Yn(()=>{Z()})}),Vt(br,5,Z,ct=>ct.name,(ct,we)=>{var Ne=qw(),tr={},hr=f(Ne);st(()=>{tr!==(tr=o(we).value)&&(Ne.value=(Ne.__value=o(we).value)==null?"":o(we).value),tt(hr,o(we).name)}),B(ct,Ne)});var Mr=h(qn),as=h(f(Mr)),fr=f(as),is=h(as,2),Os=f(is),os=h(xr,4),Ls=f(os),Rn=f(Ls),je=h(f(Rn)),ls=f(je),cs=h(je,2),In=f(cs),mn=h(Rn),nn=h(f(mn)),Cs=f(nn),us=h(nn,2),Kn=f(us),Dn=h(mn),ar=h(f(Dn)),ds=f(ar),Gn=h(ar,2),qs=f(Gn),Vn=h(Dn),u=h(f(Vn)),_=f(u),O=h(u,2),W=f(O),Rt=h(Vn),Tt=h(f(Rt)),Kt=f(Tt),Ht=h(Tt,2),Te=f(Ht),Gt=h(Rt),Ue=h(f(Gt)),Ve=f(Ue),qe=h(Ue,2),ze=f(qe),Be=h(Gt),jr=h(f(Be)),Ur=f(jr),gn=h(jr,2),Qs=f(gn),Wn=h(Be),Jn=h(f(Wn)),ta=f(Jn);st(()=>{j(),Yn(()=>{})});var ea=f(ta);ea.value=(ea.__value=1)==null?"":1;var ra=h(ea);ra.value=(ra.__value=2)==null?"":2;var Da=h(ra);Da.value=(Da.__value=3)==null?"":3;var bt=h(Da);bt.value=(bt.__value=4)==null?"":4;var Xe=h(Jn,2),Qe=f(Xe);st(()=>{R(),Yn(()=>{J()})}),Vt(Qe,5,J,ct=>ct.name,(ct,we)=>{var Ne=Rw(),tr={},hr=f(Ne);st(()=>{tr!==(tr=o(we).value)&&(Ne.value=(Ne.__value=o(we).value)==null?"":o(we).value),tt(hr,o(we).name)}),B(ct,Ne)});var Fr=h(Wn),_r=h(f(Fr)),Rs=f(_r),Bt=h(_r,2),Pa=f(Bt),ec=h(os,2),qf=f(ec),rc=f(qf),Rf=h(f(rc)),If=f(Rf),Df=h(rc),Pf=h(f(Df)),Bf=f(Pf),Mf=h(ec,2),jf=f(Mf),Uf=f(jf),Ff=h(f(Uf)),nc=f(Ff),sc=h(nc,2),ac=h(sc,2),Hf=h(ac,2);st(()=>{tt(nc,`승 : ${et()??""}`),tt(sc,` 패 : ${rt()??""}`),tt(ac,` 무승부 : ${ot()??""}`),tt(Hf,` 승률 : ${V()??""} %`)}),F(Jr,n,ct=>At(ft,ct)),F(Er,i,ct=>At(ut,ct)),F(ye,a,ct=>At(wt,ct)),F(Nr,l,ct=>At(ht,ct)),F(Xr,v,ct=>At(vt,ct)),F(Sr,c,ct=>At(at,ct)),F(Qr,s,ct=>At(_t,ct)),F(rr,b,ct=>At(Pt,ct)),F(Ge,g,ct=>At(St,ct)),F(qr,p,ct=>At(It,ct)),F(en,y,ct=>At(Lt,ct)),F(rn,m,ct=>At(Ct,ct)),F(fn,w,ct=>At(se,ct)),F(Cn,E,ct=>At(Ut,ct)),Xn(Pr,T,ct=>At(zt,ct)),X("change",Pr,()=>pt()),Xn(br,d,ct=>At(lt,ct)),X("click",fr,Me),X("change",Os,$t),F(ls,k,ct=>At(ce,ct)),F(In,I,ct=>At(ue,ct)),F(Cs,S,ct=>At(_e,ct)),F(Kn,H,ct=>At(ie,ct)),F(ds,K,ct=>At(re,ct)),F(qs,U,ct=>At(de,ct)),F(_,$,ct=>At(Yt,ct)),F(W,D,ct=>At(De,ct)),F(Kt,x,ct=>At(Ee,ct)),F(Te,L,ct=>At(ve,ct)),F(Ve,q,ct=>At(me,ct)),F(ze,N,ct=>At(Ie,ct)),F(Ur,P,ct=>At(ke,ct)),F(Qs,M,ct=>At(Ae,ct)),Xn(ta,j,ct=>At(ge,ct)),X("change",ta,()=>qt()),Xn(Qe,R,ct=>At(he,ct)),X("click",Rs,He),X("change",Pa,Q),F(If,nt,ct=>At(Pe,ct)),X("click",Bf,dt),B(r,Ft),Zt()}var Pw=G('<nav><!></nav> <header><!></header> <main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main> <div class="form-container"><!></div> <footer><!></footer>',1);function Bw(r){Up(r,{children:(t,e)=>{var n=Pw(),s=mt(n),a=f(s);Gp(a,{});var i=h(s,2),l=f(i);Xp(l,{});var c=h(i,2),d=f(c);Ke(d,{path:"/:type/info",component:ev});var v=h(d,2);Ke(v,{path:"/",component:kc});var g=h(v,2);Ke(g,{path:"/mpk",component:kc});var p=h(g,2);Ke(p,{path:"/:type/rank",component:xm});var m=h(p,2);Ke(m,{path:"/:type/record",component:Im});var y=h(m,2);Ke(y,{path:"/:type/tournament",component:Km});var b=h(y,2);Ke(b,{path:"/:type/boardlist",component:Qm});var w=h(b,2);Ke(w,{path:"/:type/post/:id",component:c1});var E=h(w,2);Ke(E,{path:"/:type/write",component:tw});var T=h(E,2);Ke(T,{path:"/:type/winners",component:ow});var k=h(T,2);Ke(k,{path:"/:type/calculator",component:uw});var $=h(k,2);Ke($,{path:"/mpk/pscore",component:fw});var S=h($,2);Ke(S,{path:"/babapk/pscore",component:pw});var I=h(S,2);Ke(I,{path:"/babapk/visio",component:mw});var H=h(I,2);Ke(H,{path:"/:type/ring",component:bw});var U=h(H,2);Ke(U,{path:"/babapk/simul",component:yw});var R=h(U,2);Ke(R,{path:"/mpk/elo",component:xw});var K=h(R,2);Ke(K,{path:"/mpk/admin",component:kw});var x=h(K,2);Ke(x,{path:"/babapk/admin",component:Cw});var L=h(x,2);Ke(L,{path:"/mpk/simul",component:Dw});var N=h(c,2),q=f(N);lm(q,{});var D=h(N,2),P=f(D);Zp(P,{}),B(t,n)},$$slots:{default:!0}})}Qh(Bw,{target:document.getElementById("app")})});export default Mw();
