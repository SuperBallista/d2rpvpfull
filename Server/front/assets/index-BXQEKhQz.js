var gh=Object.defineProperty;var bh=(r,t,e)=>t in r?gh(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var _h=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Lt=(r,t,e)=>bh(r,typeof t!="symbol"?t+"":t,e);var d4=_h((_n,yn)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const ud=!1;var Oo=Array.isArray,Zl=Array.from,yh=Object.defineProperty,Ws=Object.getOwnPropertyDescriptor,dd=Object.getOwnPropertyDescriptors,wh=Object.prototype,xh=Array.prototype,bo=Object.getPrototypeOf;function Ia(r){return typeof r=="function"}const bn=()=>{};function $h(r){return typeof(r==null?void 0:r.then)=="function"}function kh(r){return r()}function _o(r){for(var t=0;t<r.length;t++)r[t]()}const On=2,fd=4,Mi=8,Lo=16,Xn=32,Bi=64,gl=128,_a=256,yo=512,Vr=1024,Qs=2048,si=4096,vs=8192,ai=16384,hd=32768,Ui=65536,pd=1<<17,Eh=1<<19,vd=1<<20,Ns=Symbol("$state"),md=Symbol("legacy props"),Ah=Symbol("");function gd(r){return r===this.v}function Xl(r,t){return r!=r?t==t:r!==t||r!==null&&typeof r=="object"||typeof r=="function"}function Th(r,t){return r!==t}function Ql(r){return!Xl(r,this.v)}function Sh(r){throw new Error("effect_in_teardown")}function Nh(){throw new Error("effect_in_unowned_derived")}function Oh(r){throw new Error("effect_orphan")}function Lh(){throw new Error("effect_update_depth_exceeded")}function Ch(r){throw new Error("props_invalid_value")}function Rh(){throw new Error("state_descriptors_fixed")}function qh(){throw new Error("state_prototype_fixed")}function Ih(){throw new Error("state_unsafe_local_read")}function jh(){throw new Error("state_unsafe_mutation")}let ii=!1;function Ph(){ii=!0}function Gr(r){return{f:0,v:r,reactions:null,equals:gd,version:0}}function Za(r,t=!1){var n;const e=Gr(r);return t||(e.equals=Ql),ii&&Le!==null&&Le.l!==null&&((n=Le.l).s??(n.s=[])).push(e),e}function N(r,t=!1){return Dh(Za(r,t))}function Dh(r){return Me!==null&&Me.f&On&&(ms===null?ip([r]):ms.push(r)),r}function Dr(r,t){return _(r,Jn(()=>i(r))),t}function _(r,t){return Me!==null&&li()&&Me.f&(On|Lo)&&(ms===null||!ms.includes(r))&&jh(),Ha(r,t)}function Ha(r,t){return r.equals(t)||(r.v=t,r.version=Dd(),bd(r,Qs),li()&&Ne!==null&&Ne.f&Vr&&!(Ne.f&Xn)&&(Pr!==null&&Pr.includes(r)?(Qn(Ne,Qs),jo(Ne)):Js===null?op([r]):Js.push(r))),t}function bd(r,t){var e=r.reactions;if(e!==null)for(var n=li(),s=e.length,a=0;a<s;a++){var o=e[a],c=o.f;c&Qs||!n&&o===Ne||(Qn(o,t),c&(Vr|_a)&&(c&On?bd(o,si):jo(o)))}}const tc=1,ec=2,_d=4,Mh=8,Bh=16,Uh=1,Fh=2,yd=4,zh=8,Hh=16,Kh=1,Gh=2,Vh=4,Wh=1,Yh=2,jr=Symbol();let wd=!1;function ja(r,t=null,e){if(typeof r!="object"||r===null||Ns in r)return r;const n=bo(r);if(n!==wh&&n!==xh)return r;var s=new Map,a=Oo(r),o=Gr(0);a&&s.set("length",Gr(r.length));var c;return new Proxy(r,{defineProperty(d,h,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Rh();var b=s.get(h);return b===void 0?(b=Gr(v.value),s.set(h,b)):_(b,ja(v.value,c)),!0},deleteProperty(d,h){var v=s.get(h);if(v===void 0)h in d&&s.set(h,Gr(jr));else{if(a&&typeof h=="string"){var b=s.get("length"),p=Number(h);Number.isInteger(p)&&p<b.v&&_(b,p)}_(v,jr),Bc(o)}return!0},get(d,h,v){var y;if(h===Ns)return r;var b=s.get(h),p=h in d;if(b===void 0&&(!p||(y=Ws(d,h))!=null&&y.writable)&&(b=Gr(ja(p?d[h]:jr,c)),s.set(h,b)),b!==void 0){var g=i(b);return g===jr?void 0:g}return Reflect.get(d,h,v)},getOwnPropertyDescriptor(d,h){var v=Reflect.getOwnPropertyDescriptor(d,h);if(v&&"value"in v){var b=s.get(h);b&&(v.value=i(b))}else if(v===void 0){var p=s.get(h),g=p==null?void 0:p.v;if(p!==void 0&&g!==jr)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return v},has(d,h){var g;if(h===Ns)return!0;var v=s.get(h),b=v!==void 0&&v.v!==jr||Reflect.has(d,h);if(v!==void 0||Ne!==null&&(!b||(g=Ws(d,h))!=null&&g.writable)){v===void 0&&(v=Gr(b?ja(d[h],c):jr),s.set(h,v));var p=i(v);if(p===jr)return!1}return b},set(d,h,v,b){var L;var p=s.get(h),g=h in d;if(a&&h==="length")for(var y=v;y<p.v;y+=1){var w=s.get(y+"");w!==void 0?_(w,jr):y in d&&(w=Gr(jr),s.set(y+"",w))}p===void 0?(!g||(L=Ws(d,h))!=null&&L.writable)&&(p=Gr(void 0),_(p,ja(v,c)),s.set(h,p)):(g=p.v!==jr,_(p,ja(v,c)));var $=Reflect.getOwnPropertyDescriptor(d,h);if($!=null&&$.set&&$.set.call(b,v),!g){if(a&&typeof h=="string"){var k=s.get("length"),T=Number(h);Number.isInteger(T)&&T>=k.v&&_(k,T+1)}Bc(o)}return!0},ownKeys(d){i(o);var h=Reflect.ownKeys(d).filter(p=>{var g=s.get(p);return g===void 0||g.v!==jr});for(var[v,b]of s)b.v!==jr&&!(v in d)&&h.push(v);return h},setPrototypeOf(){qh()}})}function Bc(r,t=1){_(r,r.v+t)}function Uc(r){return r!==null&&typeof r=="object"&&Ns in r?r[Ns]:r}function Jh(r,t){return Object.is(Uc(r),Uc(t))}var Fc,xd,$d;function Zh(){if(Fc===void 0){Fc=window;var r=Element.prototype,t=Node.prototype;xd=Ws(t,"firstChild").get,$d=Ws(t,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__styles=null,r.__e=void 0,Text.prototype.__t=void 0}}function Co(r=""){return document.createTextNode(r)}function Ei(r){return xd.call(r)}function Ro(r){return $d.call(r)}function l(r,t){return Ei(r)}function vt(r,t){{var e=Ei(r);return e instanceof Comment&&e.data===""?Ro(e):e}}function u(r,t=1,e=!1){let n=r;for(;t--;)n=Ro(n);return n}function Xh(r){r.textContent=""}function wo(r){var t=On|Qs;Ne===null?t|=_a:Ne.f|=vd;var e=Me!==null&&Me.f&On?Me:null;const n={children:null,ctx:Le,deps:null,equals:gd,f:t,fn:r,reactions:null,v:null,version:0,parent:e??Ne};return e!==null&&(e.children??(e.children=[])).push(n),n}function ir(r){const t=wo(r);return t.equals=Ql,t}function kd(r){var t=r.children;if(t!==null){r.children=null;for(var e=0;e<t.length;e+=1){var n=t[e];n.f&On?rc(n):ea(n)}}}function Qh(r){for(var t=r.parent;t!==null;){if(!(t.f&On))return t;t=t.parent}return null}function Ed(r){var t,e=Ne;on(Qh(r));try{kd(r),t=Md(r)}finally{on(e)}return t}function Ad(r){var t=Ed(r),e=(za||r.f&_a)&&r.deps!==null?si:Vr;Qn(r,e),r.equals(t)||(r.v=t,r.version=Dd())}function rc(r){kd(r),Si(r,0),Qn(r,ai),r.v=r.children=r.deps=r.ctx=r.reactions=null}function Td(r){Ne===null&&Me===null&&Oh(),Me!==null&&Me.f&_a&&Nh(),sc&&Sh()}function tp(r,t){var e=t.last;e===null?t.last=t.first=r:(e.next=r,r.prev=e,t.last=r)}function oi(r,t,e,n=!0){var s=(r&Bi)!==0,a=Ne,o={ctx:Le,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:r|Qs,first:null,fn:t,last:null,next:null,parent:s?null:a,prev:null,teardown:null,transitions:null,version:0};if(e){var c=Ka;try{zc(!0),Ki(o),o.f|=hd}catch(v){throw ea(o),v}finally{zc(c)}}else t!==null&&jo(o);var d=e&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&vd)===0;if(!d&&!s&&n&&(a!==null&&tp(o,a),Me!==null&&Me.f&On)){var h=Me;(h.children??(h.children=[])).push(o)}return o}function Sd(r){const t=oi(Mi,null,!1);return Qn(t,Vr),t.teardown=r,t}function bl(r){Td();var t=Ne!==null&&(Ne.f&Xn)!==0&&Le!==null&&!Le.m;if(t){var e=Le;(e.e??(e.e=[])).push({fn:r,effect:Ne,reaction:Me})}else{var n=Fi(r);return n}}function ep(r){return Td(),zi(r)}function rp(r){const t=oi(Bi,r,!0);return()=>{ea(t)}}function Fi(r){return oi(fd,r,!1)}function de(r,t,e,n){var s=Le,a={effect:null,ran:!1};s.l.r1.push(a),a.effect=zi(()=>{r(),!a.ran&&(a.ran=!0,_(s.l.r2,!0),Jn(t))})}function Wr(){var r=Le;zi(()=>{if(i(r.l.r2)){for(var t of r.l.r1){var e=t.effect;e.f&Vr&&Qn(e,si),ci(e)&&Ki(e),t.ran=!1}r.l.r2.v=!1}})}function zi(r){return oi(Mi,r,!0)}function V(r){return ya(r)}function ya(r,t=0){return oi(Mi|Lo|t,r,!0)}function Wn(r,t=!0){return oi(Mi|Xn,r,!0,t)}function Nd(r){var t=r.teardown;if(t!==null){const e=sc,n=Me;Hc(!0),Ln(null);try{t.call(null)}finally{Hc(e),Ln(n)}}}function Od(r){var t=r.deriveds;if(t!==null){r.deriveds=null;for(var e=0;e<t.length;e+=1)rc(t[e])}}function Ld(r,t=!1){var e=r.first;for(r.first=r.last=null;e!==null;){var n=e.next;ea(e,t),e=n}}function np(r){for(var t=r.first;t!==null;){var e=t.next;t.f&Xn||ea(t),t=e}}function ea(r,t=!0){var e=!1;if((t||r.f&Eh)&&r.nodes_start!==null){for(var n=r.nodes_start,s=r.nodes_end;n!==null;){var a=n===s?null:Ro(n);n.remove(),n=a}e=!0}Ld(r,t&&!e),Od(r),Si(r,0),Qn(r,ai);var o=r.transitions;if(o!==null)for(const d of o)d.stop();Nd(r);var c=r.parent;c!==null&&c.first!==null&&Cd(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function Cd(r){var t=r.parent,e=r.prev,n=r.next;e!==null&&(e.next=n),n!==null&&(n.prev=e),t!==null&&(t.first===r&&(t.first=n),t.last===r&&(t.last=e))}function Ys(r,t){var e=[];nc(r,e,!0),Rd(e,()=>{ea(r),t&&t()})}function Rd(r,t){var e=r.length;if(e>0){var n=()=>--e||t();for(var s of r)s.out(n)}else t()}function nc(r,t,e){if(!(r.f&vs)){if(r.f^=vs,r.transitions!==null)for(const o of r.transitions)(o.is_global||e)&&t.push(o);for(var n=r.first;n!==null;){var s=n.next,a=(n.f&Ui)!==0||(n.f&Xn)!==0;nc(n,t,a?e:!1),n=s}}}function ha(r){qd(r,!0)}function qd(r,t){if(r.f&vs){ci(r)&&Ki(r),r.f^=vs;for(var e=r.first;e!==null;){var n=e.next,s=(e.f&Ui)!==0||(e.f&Xn)!==0;qd(e,s?t:!1),e=n}if(r.transitions!==null)for(const a of r.transitions)(a.is_global||t)&&a.in()}}let xo=!1,_l=[];function Id(){xo=!1;const r=_l.slice();_l=[],_o(r)}function Hi(r){xo||(xo=!0,queueMicrotask(Id)),_l.push(r)}function sp(){xo&&Id()}function qo(r){throw new Error("lifecycle_outside_component")}const jd=0,ap=1;let ho=!1,po=jd,Ai=!1,Ti=null,Ka=!1,sc=!1;function zc(r){Ka=r}function Hc(r){sc=r}let fa=[],Ga=0,Me=null;function Ln(r){Me=r}let Ne=null;function on(r){Ne=r}let ms=null;function ip(r){ms=r}let Pr=null,gn=0,Js=null;function op(r){Js=r}let Pd=0,za=!1,zs=null,Le=null;function Kc(r){Le=r}function Dd(){return++Pd}function li(){return!ii||Le!==null&&Le.l===null}function ci(r){var o,c;var t=r.f;if(t&Qs)return!0;if(t&si){var e=r.deps,n=(t&_a)!==0;if(e!==null){var s;if(t&yo){for(s=0;s<e.length;s++)((o=e[s]).reactions??(o.reactions=[])).push(r);r.f^=yo}for(s=0;s<e.length;s++){var a=e[s];if(ci(a)&&Ad(a),n&&Ne!==null&&!za&&!((c=a==null?void 0:a.reactions)!=null&&c.includes(r))&&(a.reactions??(a.reactions=[])).push(r),a.version>r.version)return!0}}n||Qn(r,Vr)}return!1}function lp(r,t){for(var e=t;e!==null;){if(e.f&gl)try{e.fn(r);return}catch{e.f^=gl}e=e.parent}throw ho=!1,r}function cp(r){return(r.f&ai)===0&&(r.parent===null||(r.parent.f&gl)===0)}function Io(r,t,e,n){if(ho){if(e===null&&(ho=!1),cp(t))throw r;return}e!==null&&(ho=!0);{lp(r,t);return}}function Md(r){var p;var t=Pr,e=gn,n=Js,s=Me,a=za,o=ms,c=Le,d=r.f;Pr=null,gn=0,Js=null,Me=d&(Xn|Bi)?null:r,za=!Ka&&(d&_a)!==0,ms=null,Le=r.ctx;try{var h=(0,r.fn)(),v=r.deps;if(Pr!==null){var b;if(Si(r,gn),v!==null&&gn>0)for(v.length=gn+Pr.length,b=0;b<Pr.length;b++)v[gn+b]=Pr[b];else r.deps=v=Pr;if(!za)for(b=gn;b<v.length;b++)((p=v[b]).reactions??(p.reactions=[])).push(r)}else v!==null&&gn<v.length&&(Si(r,gn),v.length=gn);return h}finally{Pr=t,gn=e,Js=n,Me=s,za=a,ms=o,Le=c}}function up(r,t){let e=t.reactions;if(e!==null){var n=e.indexOf(r);if(n!==-1){var s=e.length-1;s===0?e=t.reactions=null:(e[n]=e[s],e.pop())}}e===null&&t.f&On&&(Pr===null||!Pr.includes(t))&&(Qn(t,si),t.f&(_a|yo)||(t.f^=yo),Si(t,0))}function Si(r,t){var e=r.deps;if(e!==null)for(var n=t;n<e.length;n++)up(r,e[n])}function Ki(r){var t=r.f;if(!(t&ai)){Qn(r,Vr);var e=Ne,n=Le;Ne=r;try{t&Lo?np(r):Ld(r),Od(r),Nd(r);var s=Md(r);r.teardown=typeof s=="function"?s:null,r.version=Pd}catch(a){Io(a,r,e,n||r.ctx)}finally{Ne=e}}}function Bd(){if(Ga>1e3){Ga=0;try{Lh()}catch(r){if(Ti!==null)Io(r,Ti,null);else throw r}}Ga++}function Ud(r){var t=r.length;if(t!==0){Bd();var e=Ka;Ka=!0;try{for(var n=0;n<t;n++){var s=r[n];s.f&Vr||(s.f^=Vr);var a=[];Fd(s,a),dp(a)}}finally{Ka=e}}}function dp(r){var t=r.length;if(t!==0)for(var e=0;e<t;e++){var n=r[e];if(!(n.f&(ai|vs)))try{ci(n)&&(Ki(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Cd(n):n.fn=null))}catch(s){Io(s,n,null,n.ctx)}}}function fp(){if(Ai=!1,Ga>1001)return;const r=fa;fa=[],Ud(r),Ai||(Ga=0,Ti=null)}function jo(r){po===jd&&(Ai||(Ai=!0,queueMicrotask(fp))),Ti=r;for(var t=r;t.parent!==null;){t=t.parent;var e=t.f;if(e&(Bi|Xn)){if(!(e&Vr))return;t.f^=Vr}}fa.push(t)}function Fd(r,t){var e=r.first,n=[];t:for(;e!==null;){var s=e.f,a=(s&Xn)!==0,o=a&&(s&Vr)!==0,c=e.next;if(!o&&!(s&vs))if(s&Mi){if(a)e.f^=Vr;else try{ci(e)&&Ki(e)}catch(b){Io(b,e,null,e.ctx)}var d=e.first;if(d!==null){e=d;continue}}else s&fd&&n.push(e);if(c===null){let b=e.parent;for(;b!==null;){if(r===b)break t;var h=b.next;if(h!==null){e=h;continue t}b=b.parent}}e=c}for(var v=0;v<n.length;v++)d=n[v],t.push(d),Fd(d,t)}function zd(r){var t=po,e=fa;try{Bd();const s=[];po=ap,fa=s,Ai=!1,Ud(e);var n=r==null?void 0:r();return sp(),(fa.length>0||s.length>0)&&zd(),Ga=0,Ti=null,n}finally{po=t,fa=e}}function i(r){var v;var t=r.f,e=(t&On)!==0;if(e&&t&ai){var n=Ed(r);return rc(r),n}if(zs!==null&&zs.add(r),Me!==null){ms!==null&&ms.includes(r)&&Ih();var s=Me.deps;Pr===null&&s!==null&&s[gn]===r?gn++:Pr===null?Pr=[r]:Pr.push(r),Js!==null&&Ne!==null&&Ne.f&Vr&&!(Ne.f&Xn)&&Js.includes(r)&&(Qn(Ne,Qs),jo(Ne))}else if(e&&r.deps===null)for(var a=r,o=a.parent,c=a;o!==null;)if(o.f&On){var d=o;c=d,o=d.parent}else{var h=o;(v=h.deriveds)!=null&&v.includes(c)||(h.deriveds??(h.deriveds=[])).push(c);break}return e&&(a=r,ci(a)&&Ad(a)),r.v}function hp(r){var t=zs;zs=new Set;var e=zs,n;try{if(Jn(r),t!==null)for(n of zs)t.add(n)}finally{zs=t}return e}function hs(r){var t=hp(()=>Jn(r));for(var e of t)if(e.f&pd)for(const n of e.deps||[])n.f&On||Dr(n,null);else Dr(e,null)}function Jn(r){const t=Me;try{return Me=null,r()}finally{Me=t}}const pp=~(Qs|si|Vr);function Qn(r,t){r.f=r.f&pp|t}function pa(r){return Hd().get(r)}function Vo(r,t){return Hd().set(r,t),t}function Hd(r){return Le===null&&qo(),Le.c??(Le.c=new Map(vp(Le)||void 0))}function vp(r){let t=r.p;for(;t!==null;){const e=t.c;if(e!==null)return e;t=t.p}return null}function Gc(r,t=1){var e=i(r),n=t===1?e++:e--;return _(r,e),n}function pe(r,t=!1,e){Le={p:Le,c:null,e:null,m:!1,s:r,x:null,l:null},ii&&!t&&(Le.l={s:null,u:null,r1:[],r2:Gr(!1)})}function ve(r){const t=Le;if(t!==null){const o=t.e;if(o!==null){var e=Ne,n=Me;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];on(a.effect),Ln(a.reaction),Fi(a.fn)}}finally{on(e),Ln(n)}}Le=t.p,t.m=!0}return{}}function va(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(Ns in r)yl(r);else if(!Array.isArray(r))for(let t in r){const e=r[t];typeof e=="object"&&e&&Ns in e&&yl(e)}}}function yl(r,t=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!t.has(r)){t.add(r),r instanceof Date&&r.getTime();for(let n in r)try{yl(r[n],t)}catch{}const e=bo(r);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const n=dd(e);for(let s in n){const a=n[s].get;if(a)try{a.call(r)}catch{}}}}}function mp(r,t){if(t){const e=document.body;r.autofocus=!0,Hi(()=>{document.activeElement===e&&r.focus()})}}let Vc=!1;function gp(){Vc||(Vc=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function Kd(r){var t=Me,e=Ne;Ln(null),on(null);try{return r()}finally{Ln(t),on(e)}}function ac(r,t,e,n=e){r.addEventListener(t,()=>Kd(e));const s=r.__on_r;s?r.__on_r=()=>{s(),n()}:r.__on_r=n,gp()}const Gd=new Set,wl=new Set;function Vd(r,t,e,n){function s(a){if(n.capture||mi.call(t,a),!a.cancelBubble)return Kd(()=>e.call(this,a))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Hi(()=>{t.addEventListener(r,s,n)}):t.addEventListener(r,s,n),s}function tt(r,t,e,n,s){var a={capture:n,passive:s},o=Vd(r,t,e,a);(t===document.body||t===window||t===document)&&Sd(()=>{t.removeEventListener(r,o,a)})}function bp(r){for(var t=0;t<r.length;t++)Gd.add(r[t]);for(var e of wl)e(r)}function mi(r){var T;var t=this,e=t.ownerDocument,n=r.type,s=((T=r.composedPath)==null?void 0:T.call(r))||[],a=s[0]||r.target,o=0,c=r.__root;if(c){var d=s.indexOf(c);if(d!==-1&&(t===document||t===window)){r.__root=t;return}var h=s.indexOf(t);if(h===-1)return;d<=h&&(o=d)}if(a=s[o]||r.target,a!==t){yh(r,"currentTarget",{configurable:!0,get(){return a||e}});var v=Me,b=Ne;Ln(null),on(null);try{for(var p,g=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+n];if(w!==void 0&&!a.disabled)if(Oo(w)){var[$,...k]=w;$.apply(a,[r,...k])}else w.call(a,r)}catch(L){p?g.push(L):p=L}if(r.cancelBubble||y===t||y===null)break;a=y}if(p){for(let L of g)queueMicrotask(()=>{throw L});throw p}}finally{r.__root=t,delete r.currentTarget,Ln(v),on(b)}}}function Wd(r){var t=document.createElement("template");return t.innerHTML=r,t.content}function Ni(r,t){var e=Ne;e.nodes_start===null&&(e.nodes_start=r,e.nodes_end=t)}function W(r,t){var e=(t&Wh)!==0,n=(t&Yh)!==0,s,a=!r.startsWith("<!>");return()=>{s===void 0&&(s=Wd(a?r:"<!>"+r),e||(s=Ei(s)));var o=n?document.importNode(s,!0):s.cloneNode(!0);if(e){var c=Ei(o),d=o.lastChild;Ni(c,d)}else Ni(o,o);return o}}function an(r=""){{var t=Co(r+"");return Ni(t,t),t}}function ue(){var r=document.createDocumentFragment(),t=document.createComment(""),e=Co();return r.append(t,e),Ni(t,e),r}function C(r,t){r!==null&&r.before(t)}function _p(r){return r.endsWith("capture")&&r!=="gotpointercapture"&&r!=="lostpointercapture"}const yp=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function wp(r){return yp.includes(r)}const xp={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function $p(r){return r=r.toLowerCase(),xp[r]??r}const kp=["touchstart","touchmove"];function Ep(r){return kp.includes(r)}let xl=!0;function x(r,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function Ap(r,t){return Tp(r,t)}const Ra=new Map;function Tp(r,{target:t,anchor:e,props:n={},events:s,context:a,intro:o=!0}){Zh();var c=new Set,d=b=>{for(var p=0;p<b.length;p++){var g=b[p];if(!c.has(g)){c.add(g);var y=Ep(g);t.addEventListener(g,mi,{passive:y});var w=Ra.get(g);w===void 0?(document.addEventListener(g,mi,{passive:y}),Ra.set(g,1)):Ra.set(g,w+1)}}};d(Zl(Gd)),wl.add(d);var h=void 0,v=rp(()=>{var b=e??t.appendChild(Co());return Wn(()=>{if(a){pe({});var p=Le;p.c=a}s&&(n.$$events=s),xl=o,h=r(b,n)||{},xl=!0,a&&ve()}),()=>{var y;for(var p of c){t.removeEventListener(p,mi);var g=Ra.get(p);--g===0?(document.removeEventListener(p,mi),Ra.delete(p)):Ra.set(p,g)}wl.delete(d),Wc.delete(h),b!==e&&((y=b.parentNode)==null||y.removeChild(b))}});return Wc.set(h,v),h}let Wc=new WeakMap;const Wo=0,Qi=1,Yo=2;function Sp(r,t,e,n,s){var a=r,o=li(),c=Le,d=jr,h,v,b,p=(o?Gr:Za)(void 0),g=(o?Gr:Za)(void 0),y=!1;function w(k,T){y=!0,T&&(on($),Ln($),Kc(c));try{k===Wo&&e&&(h?ha(h):h=Wn(()=>e(a))),k===Qi&&n&&(v?ha(v):v=Wn(()=>n(a,p))),k===Yo&&s&&(b?ha(b):b=Wn(()=>s(a,g))),k!==Wo&&h&&Ys(h,()=>h=null),k!==Qi&&v&&Ys(v,()=>v=null),k!==Yo&&b&&Ys(b,()=>b=null)}finally{T&&(Kc(null),Ln(null),on(null),zd())}}var $=ya(()=>{if(d!==(d=t())){if($h(d)){var k=d;y=!1,k.then(T=>{k===d&&(Ha(p,T),w(Qi,!0))},T=>{if(k===d)throw Ha(g,T),w(Yo,!0),g.v}),Hi(()=>{y||w(Wo,!0)})}else Ha(p,d),w(Qi,!1);return()=>d=jr}})}function mt(r,t,e,n=null,s=!1){var a=r,o=null,c=null,d=null,h=s?Ui:0;ya(()=>{d!==(d=!!t())&&(d?(o?ha(o):o=Wn(()=>e(a)),c&&Ys(c,()=>{c=null})):(c?ha(c):n&&(c=Wn(()=>n(a))),o&&Ys(o,()=>{o=null})))},h)}function Np(r,t,e){var n=r,s=jr,a,o=li()?Th:Xl;ya(()=>{o(s,s=t())&&(a&&Ys(a),a=Wn(()=>e(n)))})}function xe(r,t){return t}function Op(r,t,e,n){for(var s=[],a=t.length,o=0;o<a;o++)nc(t[o].e,s,!0);var c=a>0&&s.length===0&&e!==null;if(c){var d=e.parentNode;Xh(d),d.append(e),n.clear(),Fs(r,t[0].prev,t[a-1].next)}Rd(s,()=>{for(var h=0;h<a;h++){var v=t[h];c||(n.delete(v.k),Fs(r,v.prev,v.next)),ea(v.e,!c)}})}function be(r,t,e,n,s,a=null){var o=r,c={flags:t,items:new Map,first:null},d=(t&_d)!==0;if(d){var h=r;o=h.appendChild(Co())}var v=null,b=!1;ya(()=>{var p=e(),g=Oo(p)?p:p==null?[]:Zl(p),y=g.length;if(!(b&&y===0)){b=y===0;{var w=Me;Lp(g,c,o,s,t,(w.f&vs)!==0,n)}a!==null&&(y===0?v?ha(v):v=Wn(()=>a(o)):v!==null&&Ys(v,()=>{v=null})),e()}})}function Lp(r,t,e,n,s,a,o){var O,U,D,H;var c=(s&Mh)!==0,d=(s&(tc|ec))!==0,h=r.length,v=t.items,b=t.first,p=b,g,y=null,w,$=[],k=[],T,L,q,R;if(c)for(R=0;R<h;R+=1)T=r[R],L=o(T,R),q=v.get(L),q!==void 0&&((O=q.a)==null||O.measure(),(w??(w=new Set)).add(q));for(R=0;R<h;R+=1){if(T=r[R],L=o(T,R),q=v.get(L),q===void 0){var F=p?p.e.nodes_start:e;y=Rp(F,t,y,y===null?t.first:y.next,T,L,R,n,s),v.set(L,y),$=[],k=[],p=y.next;continue}if(d&&Cp(q,T,R,s),q.e.f&vs&&(ha(q.e),c&&((U=q.a)==null||U.unfix(),(w??(w=new Set)).delete(q))),q!==p){if(g!==void 0&&g.has(q)){if($.length<k.length){var G=k[0],z;y=G.prev;var P=$[0],B=$[$.length-1];for(z=0;z<$.length;z+=1)Yc($[z],G,e);for(z=0;z<k.length;z+=1)g.delete(k[z]);Fs(t,P.prev,B.next),Fs(t,y,P),Fs(t,B,G),p=G,y=B,R-=1,$=[],k=[]}else g.delete(q),Yc(q,p,e),Fs(t,q.prev,q.next),Fs(t,q,y===null?t.first:y.next),Fs(t,y,q),y=q;continue}for($=[],k=[];p!==null&&p.k!==L;)(a||!(p.e.f&vs))&&(g??(g=new Set)).add(p),k.push(p),p=p.next;if(p===null)continue;q=p}$.push(q),y=q,p=q.next}if(p!==null||g!==void 0){for(var m=g===void 0?[]:Zl(g);p!==null;)(a||!(p.e.f&vs))&&m.push(p),p=p.next;var S=m.length;if(S>0){var A=s&_d&&h===0?e:null;if(c){for(R=0;R<S;R+=1)(D=m[R].a)==null||D.measure();for(R=0;R<S;R+=1)(H=m[R].a)==null||H.fix()}Op(t,m,A,v)}}c&&Hi(()=>{var Y;if(w!==void 0)for(q of w)(Y=q.a)==null||Y.apply()}),Ne.first=t.first&&t.first.e,Ne.last=y&&y.e}function Cp(r,t,e,n){n&tc&&Ha(r.v,t),n&ec?Ha(r.i,e):r.i=e}function Rp(r,t,e,n,s,a,o,c,d){var h=(d&tc)!==0,v=(d&Bh)===0,b=h?v?Za(s):Gr(s):s,p=d&ec?Gr(o):o,g={i:p,v:b,k:a,a:null,e:null,prev:e,next:n};try{return g.e=Wn(()=>c(r,b,p),wd),g.e.prev=e&&e.e,g.e.next=n&&n.e,e===null?t.first=g:(e.next=g,e.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function Yc(r,t,e){for(var n=r.next?r.next.e.nodes_start:e,s=t?t.e.nodes_start:e,a=r.e.nodes_start;a!==n;){var o=Ro(a);s.before(a),a=o}}function Fs(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function $l(r,t,e,n,s){var a=r,o="",c;ya(()=>{o!==(o=t()??"")&&(c!==void 0&&(ea(c),c=void 0),o!==""&&(c=Wn(()=>{var d=o+"",h=Wd(d);Ni(Ei(h),h.lastChild),a.before(h)})))})}function $o(r,t,e,n,s){var c;var a=(c=t.$$slots)==null?void 0:c[e],o=!1;a===!0&&(a=t.children,o=!0),a===void 0||a(r,o?()=>n:n)}function qp(r,t,e){var n=r,s,a;ya(()=>{s!==(s=t())&&(a&&(Ys(a),a=null),s&&(a=Wn(()=>e(n,s))))},Ui)}function Ee(r,t,e,n){var s=r.__attributes??(r.__attributes={});s[t]!==(s[t]=e)&&(t==="style"&&"__styles"in r&&(r.__styles={}),t==="loading"&&(r[Ah]=e),e==null?r.removeAttribute(t):typeof e!="string"&&Yd(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function Ip(r,t,e,n,s=!1,a=!1,o=!1){var c=t||{},d=r.tagName==="OPTION";for(var h in t)h in e||(e[h]=null);var v=Yd(r),b=r.__attributes??(r.__attributes={});for(const k in e){let T=e[k];if(d&&k==="value"&&T==null){r.value=r.__value="",c[k]=T;continue}var p=c[k];if(T!==p){c[k]=T;var g=k[0]+k[1];if(g!=="$$"){if(g==="on"){const L={},q="$$"+k;let R=k.slice(2);var y=wp(R);if(_p(R)&&(R=R.slice(0,-7),L.capture=!0),!y&&p){if(T!=null)continue;r.removeEventListener(R,c[q],L),c[q]=null}if(T!=null)if(y)r[`__${R}`]=T,bp([R]);else{let F=function(G){c[k].call(this,G)};var $=F;c[q]=Vd(R,r,F,L)}}else if(k==="style"&&T!=null)r.style.cssText=T+"";else if(k==="autofocus")mp(r,!!T);else if(k==="__value"||k==="value"&&T!=null)r.value=r[k]=r.__value=T;else{var w=k;s||(w=$p(w)),T==null&&!a?(b[k]=null,r.removeAttribute(k)):v.includes(w)&&(a||typeof T!="string")?r[w]=T:typeof T!="function"&&Ee(r,w,T)}k==="style"&&"__styles"in r&&(r.__styles={})}}}return c}var Jc=new Map;function Yd(r){var t=Jc.get(r.nodeName);if(t)return t;Jc.set(r.nodeName,t=[]);for(var e,n=bo(r),s=Element.prototype;s!==n;){e=dd(n);for(var a in e)e[a].set&&t.push(a);n=bo(n)}return t}function Je(r,t){var e=r.__className,n=jp(t);(e!==n||wd)&&(t==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function jp(r){return r??""}function Pp(r,t,e){if(e){if(r.classList.contains(t))return;r.classList.add(t)}else{if(!r.classList.contains(t))return;r.classList.remove(t)}}function Jo(r,t,e,n){var s=r.__styles??(r.__styles={});s[t]!==e&&(s[t]=e,e==null?r.style.removeProperty(t):r.style.setProperty(t,e,""))}const Dp=()=>performance.now(),Hs={tick:r=>requestAnimationFrame(r),now:()=>Dp(),tasks:new Set};function Jd(r){Hs.tasks.forEach(t=>{t.c(r)||(Hs.tasks.delete(t),t.f())}),Hs.tasks.size!==0&&Hs.tick(Jd)}function Mp(r){let t;return Hs.tasks.size===0&&Hs.tick(Jd),{promise:new Promise(e=>{Hs.tasks.add(t={c:r,f:e})}),abort(){Hs.tasks.delete(t)}}}function to(r,t){r.dispatchEvent(new CustomEvent(t))}function Bp(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function Zc(r){const t={},e=r.split(";");for(const n of e){const[s,a]=n.split(":");if(!s||a===void 0)break;const o=Bp(s.trim());t[o]=a.trim()}return t}const Up=r=>r;function Xc(r,t,e,n){var s=(r&Kh)!==0,a=(r&Gh)!==0,o=s&&a,c=(r&Vh)!==0,d=o?"both":s?"in":"out",h,v=t.inert,b,p;function g(){var T=Me,L=Ne;Ln(null),on(null);try{return h??(h=e()(t,(n==null?void 0:n())??{},{direction:d}))}finally{Ln(T),on(L)}}var y={is_global:c,in(){var T;if(t.inert=v,!s){p==null||p.abort(),(T=p==null?void 0:p.reset)==null||T.call(p);return}a||b==null||b.abort(),to(t,"introstart"),b=kl(t,g(),p,1,()=>{to(t,"introend"),b==null||b.abort(),b=h=void 0})},out(T){if(!a){T==null||T(),h=void 0;return}t.inert=!0,to(t,"outrostart"),p=kl(t,g(),b,0,()=>{to(t,"outroend"),T==null||T()})},stop:()=>{b==null||b.abort(),p==null||p.abort()}},w=Ne;if((w.transitions??(w.transitions=[])).push(y),s&&xl){var $=c;if(!$){for(var k=w.parent;k&&k.f&Ui;)for(;(k=k.parent)&&!(k.f&Lo););$=!k||(k.f&hd)!==0}$&&Fi(()=>{Jn(()=>y.in())})}}function kl(r,t,e,n,s){var a=n===1;if(Ia(t)){var o,c=!1;return Hi(()=>{if(!c){var $=t({direction:a?"in":"out"});o=kl(r,$,e,n,s)}}),{abort:()=>{c=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return s(),{abort:bn,deactivate:bn,reset:bn,t:()=>n};const{delay:d=0,css:h,tick:v,easing:b=Up}=t;var p=[];if(a&&e===void 0&&(v&&v(0,1),h)){var g=Zc(h(0,1));p.push(g,g)}var y=()=>1-n,w=r.animate(p,{duration:d});return w.onfinish=()=>{var $=(e==null?void 0:e.t())??1-n;e==null||e.abort();var k=n-$,T=t.duration*Math.abs(k),L=[];if(T>0){if(h)for(var q=Math.ceil(T/16.666666666666668),R=0;R<=q;R+=1){var F=$+k*b(R/q),G=h(F,1-F);L.push(Zc(G))}y=()=>{var z=w.currentTime;return $+k*b(z/T)},v&&Mp(()=>{if(w.playState!=="running")return!1;var z=y();return v(z,1-z),!0})}w=r.animate(L,{duration:T,fill:"forwards"}),w.onfinish=()=>{y=()=>n,v==null||v(n,1-n),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=bn)},deactivate:()=>{s=bn},reset:()=>{n===0&&(v==null||v(1,0))},t:()=>y()}}function M(r,t,e=t){var n=li();ac(r,"input",()=>{var s=Qc(r)?tu(r.value):r.value;e(s),n&&s!==(s=t())&&(r.value=s??"")}),zi(()=>{var s=t();Qc(r)&&s===tu(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function Fp(r,t,e=t){ac(r,"change",()=>{var n=r.checked;e(n)}),t()==null&&e(!1),zi(()=>{var n=t();r.checked=!!n})}function Qc(r){var t=r.type;return t==="number"||t==="range"}function tu(r){return r===""?null:+r}function Zd(r,t,e){if(r.multiple)return Hp(r,t);for(var n of r.options){var s=yi(n);if(Jh(s,t)){n.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function zp(r,t){Fi(()=>{var e=new MutationObserver(()=>{var n=r.__value;Zd(r,n)});return e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function ps(r,t,e=t){var n=!0;ac(r,"change",()=>{var s;if(r.multiple)s=[].map.call(r.querySelectorAll(":checked"),yi);else{var a=r.querySelector(":checked");s=a&&yi(a)}e(s)}),Fi(()=>{var s=t();if(Zd(r,s,n),n&&s===void 0){var a=r.querySelector(":checked");a!==null&&(s=yi(a),e(s))}r.__value=s,n=!1}),zp(r)}function Hp(r,t){for(var e of r.options)e.selected=~t.indexOf(yi(e))}function yi(r){return"__value"in r?r.__value:r.value}function Ae(r=!1){const t=Le,e=t.l.u;if(!e)return;let n=()=>va(t.s);if(r){let s=0,a={};const o=wo(()=>{let c=!1;const d=t.s;for(const h in d)d[h]!==a[h]&&(a[h]=d[h],c=!0);return c&&s++,s});n=()=>i(o)}e.b.length&&ep(()=>{eu(t,n),_o(e.b)}),bl(()=>{const s=Jn(()=>e.m.map(kh));return()=>{for(const a of s)typeof a=="function"&&a()}}),e.a.length&&bl(()=>{eu(t,n),_o(e.a)})}function eu(r,t){if(r.l.s)for(const e of r.l.s)i(e);t()}function ic(r,t,e){if(r==null)return t(void 0),e&&e(void 0),bn;const n=Jn(()=>r.subscribe(t,e));return n.unsubscribe?()=>n.unsubscribe():n}let eo=!1;function I(r,t,e){const n=e[t]??(e[t]={store:null,source:Za(void 0),unsubscribe:bn});if(n.store!==r)if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=bn;else{var s=!0;n.unsubscribe=ic(r,a=>{s?n.source.v=a:_(n.source,a)}),s=!1}return i(n.source)}function bt(r,t){return r.set(t),t}function we(){const r={};return Sd(()=>{for(var t in r)r[t].unsubscribe()}),r}function Kp(r){var t=eo;try{return eo=!1,[r(),eo]}finally{eo=t}}const Gp={get(r,t){if(!r.exclude.includes(t))return i(r.version),t in r.special?r.special[t]():r.props[t]},set(r,t,e){return t in r.special||(r.special[t]=ur({get[t](){return r.props[t]}},t,yd)),r.special[t](e),Gc(r.version),!0},getOwnPropertyDescriptor(r,t){if(!r.exclude.includes(t)&&t in r.props)return{enumerable:!0,configurable:!0,value:r.props[t]}},deleteProperty(r,t){return r.exclude.includes(t)||(r.exclude.push(t),Gc(r.version)),!0},has(r,t){return r.exclude.includes(t)?!1:t in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(t=>!r.exclude.includes(t))}};function El(r,t){return new Proxy({props:r,exclude:t,special:{},version:Gr(0)},Gp)}const Vp={get(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(Ia(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(r,t,e){let n=r.props.length;for(;n--;){let s=r.props[n];Ia(s)&&(s=s());const a=Ws(s,t);if(a&&a.set)return a.set(e),!0}return!1},getOwnPropertyDescriptor(r,t){let e=r.props.length;for(;e--;){let n=r.props[e];if(Ia(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=Ws(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(r,t){if(t===Ns||t===md)return!1;for(let e of r.props)if(Ia(e)&&(e=e()),e!=null&&t in e)return!0;return!1},ownKeys(r){const t=[];for(let e of r.props){Ia(e)&&(e=e());for(const n in e)t.includes(n)||t.push(n)}return t}};function Wp(...r){return new Proxy({props:r},Vp)}function ru(r){for(var t=Ne,e=Ne;t!==null&&!(t.f&(Xn|Bi));)t=t.parent;try{return on(t),r()}finally{on(e)}}function ur(r,t,e,n){var G;var s=(e&Uh)!==0,a=!ii||(e&Fh)!==0,o=(e&zh)!==0,c=(e&Hh)!==0,d=!1,h;o?[h,d]=Kp(()=>r[t]):h=r[t];var v=Ns in r||md in r,b=((G=Ws(r,t))==null?void 0:G.set)??(v&&o&&t in r?z=>r[t]=z:void 0),p=n,g=!0,y=!1,w=()=>(y=!0,g&&(g=!1,c?p=Jn(n):p=n),p);h===void 0&&n!==void 0&&(b&&a&&Ch(),h=w(),b&&b(h));var $;if(a)$=()=>{var z=r[t];return z===void 0?w():(g=!0,y=!1,z)};else{var k=ru(()=>(s?wo:ir)(()=>r[t]));k.f|=pd,$=()=>{var z=i(k);return z!==void 0&&(p=void 0),z===void 0?p:z}}if(!(e&yd))return $;if(b){var T=r.$$legacy;return function(z,P){return arguments.length>0?((!a||!P||T||d)&&b(P?$():z),z):$()}}var L=!1,q=!1,R=Za(h),F=ru(()=>wo(()=>{var z=$(),P=i(R);return L?(L=!1,q=!0,P):(q=!1,R.v=z)}));return s||(F.equals=Ql),function(z,P){if(zs!==null&&(L=q,$(),i(R)),arguments.length>0){const B=P?i(F):a&&o?ja(z):z;return F.equals(B)||(L=!0,_(R,B),y&&p!==void 0&&(p=B),Jn(()=>i(F))),z}return i(F)}}function or(r){Le===null&&qo(),ii&&Le.l!==null?Zp(Le).m.push(r):bl(()=>{const t=Jn(r);if(typeof t=="function")return t})}function Xd(r){Le===null&&qo(),or(()=>()=>Jn(r))}function Yp(r,t,{bubbles:e=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:n})}function Jp(){const r=Le;return r===null&&qo(),(t,e,n)=>{var a;const s=(a=r.s.$$events)==null?void 0:a[t];if(s){const o=Oo(s)?s.slice():[s],c=Yp(t,e,n);for(const d of o)d.call(r.x,c);return!c.defaultPrevented}return!0}}function Zp(r){var t=r.l;return t.u??(t.u={a:[],b:[],m:[]})}const Xp="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xp);Ph();const ko={},Eo={},Qd={},oc=()=>pa(ko),tf=/^:(.+)/,nu=4,Qp=3,tv=2,ev=1,rv=1,Oi=r=>r.replace(/(^\/+|\/+$)/g,"").split("/"),Zo=r=>r.replace(/(^\/+|\/+$)/g,""),nv=(r,t)=>{const e=r.default?0:Oi(r.path).reduce((n,s)=>(n+=nu,s===""?n+=rv:tf.test(s)?n+=tv:s[0]==="*"?n-=nu+ev:n+=Qp,n),0);return{route:r,score:e,index:t}},sv=r=>r.map(nv).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),su=(r,t)=>{let e,n;const[s]=t.split("?"),a=Oi(s),o=a[0]==="",c=sv(r);for(let d=0,h=c.length;d<h;d++){const v=c[d].route;let b=!1;if(v.default){n={route:v,params:{},uri:t};continue}const p=Oi(v.path),g={},y=Math.max(a.length,p.length);let w=0;for(;w<y;w++){const $=p[w],k=a[w];if($&&$[0]==="*"){const L=$==="*"?"*":$.slice(1);g[L]=a.slice(w).map(decodeURIComponent).join("/");break}if(typeof k>"u"){b=!0;break}const T=tf.exec($);if(T&&!o){const L=decodeURIComponent(k);g[T[1]]=L}else if($!==k){b=!0;break}}if(!b){e={route:v,params:g,uri:"/"+a.slice(0,w).join("/")};break}}return e||n||null},Xo=(r,t)=>r+(t?`?${t}`:""),av=(r,t)=>{if(r.startsWith("/"))return r;const[e,n]=r.split("?"),[s]=t.split("?"),a=Oi(e),o=Oi(s);if(a[0]==="")return Xo(s,n);if(!a[0].startsWith(".")){const h=o.concat(a).join("/");return Xo((s==="/"?"":"/")+h,n)}const c=o.concat(a),d=[];return c.forEach(h=>{h===".."?d.pop():h!=="."&&d.push(h)}),Xo("/"+d.join("/"),n)},Qo=(r,t)=>`${Zo(t==="/"?r:`${Zo(r)}/${Zo(t)}`)}/`,iv=r=>!r.defaultPrevented&&r.button===0&&!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey),Al=()=>typeof window<"u"&&"document"in window&&"location"in window;var ov=W("<a><!></a>");function Ss(r,t){const e=El(t,["children","$$slots","$$events","$$legacy"]),n=El(e,["to","replace","state","getProps","preserveScroll"]);pe(t,!1);const s=we(),a=()=>I(y,"$base",s),o=()=>I(g,"$location",s),c=N();let d=ur(t,"to",8,"#"),h=ur(t,"replace",8,!1),v=ur(t,"state",24,()=>({})),b=ur(t,"getProps",8,()=>({})),p=ur(t,"preserveScroll",8,!1);const g=pa(ko),{base:y}=pa(Eo),{navigate:w}=pa(Qd),$=Jp();let k=N(),T=N(),L=N(),q=N();const R=P=>{if($("click",P),iv(P)){P.preventDefault();const B=o().pathname===i(k)||h();w(i(k),{state:v(),replace:B,preserveScroll:p()})}};de(()=>(va(d()),a()),()=>{_(k,av(d(),a().uri))}),de(()=>(o(),i(k)),()=>{_(T,o().pathname.startsWith(i(k)))}),de(()=>(i(k),o()),()=>{_(L,i(k)===o().pathname)}),de(()=>i(L),()=>{_(c,i(L)?"page":void 0)}),de(()=>(va(b()),o(),i(k),i(T),i(L),va(n)),()=>{_(q,b()({location:o(),href:i(k),isPartiallyCurrent:i(T),isCurrent:i(L),existingProps:n}))}),Wr(),Ae();var F=ov();let G;var z=l(F);$o(z,t,"default",{get active(){return!!i(c)}}),V(()=>G=Ip(F,G,{href:i(k),"aria-current":i(c),...i(q),...n})),tt("click",F,R),C(r,F),ve()}function Ge(r,t){const e=El(t,["children","$$slots","$$events","$$legacy"]);pe(t,!1);const n=we(),s=()=>I(b,"$activeRoute",n);let a=ur(t,"path",8,""),o=ur(t,"component",12,null),c=N({}),d=N({});const{registerRoute:h,unregisterRoute:v,activeRoute:b}=pa(Eo),p={path:a(),default:a()===""};h(p),Xd(()=>{v(p)}),de(()=>(s(),va(e),Al),()=>{if(s()&&s().route===p){_(c,s().params);const{component:w,path:$,...k}=e;_(d,k),w&&(w.toString().startsWith("class ")?o(w):o(w())),Al()&&!s().preserveScroll&&(window==null||window.scrollTo(0,0))}}),Wr(),Ae();var g=ue(),y=vt(g);mt(y,()=>s()&&s().route===p,w=>{var $=ue(),k=vt($);mt(k,o,T=>{var L=ue(),q=vt(L);Sp(q,o,null,(R,F)=>{var G=ue(),z=vt(G);qp(z,()=>{var P;return((P=i(F))==null?void 0:P.default)||i(F)},(P,B)=>{B(P,Wp(()=>i(c),()=>i(d)))}),C(R,G)}),C(T,L)},T=>{var L=ue(),q=vt(L);$o(q,t,"default",{get params(){return i(c)}}),C(T,L)}),C(w,$)}),C(r,g),ve()}const qa=[];function lv(r,t){return{subscribe:lt(r,t).subscribe}}function lt(r,t=bn){let e=null;const n=new Set;function s(c){if(Xl(r,c)&&(r=c,e)){const d=!qa.length;for(const h of n)h[1](),qa.push(h,r);if(d){for(let h=0;h<qa.length;h+=2)qa[h][0](qa[h+1]);qa.length=0}}}function a(c){s(c(r))}function o(c,d=bn){const h=[c,d];return n.add(h),n.size===1&&(e=t(s,a)||bn),c(r),()=>{n.delete(h),n.size===0&&e&&(e(),e=null)}}return{set:s,update:a,subscribe:o}}function cv(r,t,e){const n=!Array.isArray(r),s=n?[r]:r;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return lv(e,(o,c)=>{let d=!1;const h=[];let v=0,b=bn;const p=()=>{if(v)return;b();const y=t(n?h[0]:h,o,c);a?o(y):b=typeof y=="function"?y:bn},g=s.map((y,w)=>ic(y,$=>{h[w]=$,v&=~(1<<w),d&&p()},()=>{v|=1<<w}));return d=!0,p(),function(){_o(g),b(),d=!1}})}function tl(r){let t;return ic(r,e=>t=e)(),t}const el=r=>({...r.location,state:r.history.state,key:r.history.state&&r.history.state.key||"initial"}),uv=r=>{const t=[];let e=el(r);return{get location(){return e},listen(n){t.push(n);const s=()=>{e=el(r),n({location:e,action:"POP"})};return r.addEventListener("popstate",s),()=>{r.removeEventListener("popstate",s);const a=t.indexOf(n);t.splice(a,1)}},navigate(n,{state:s,replace:a=!1,preserveScroll:o=!1,blurActiveElement:c=!0}={}){s={...s,key:Date.now()+""};try{a?r.history.replaceState(s,"",n):r.history.pushState(s,"",n)}catch{r.location[a?"replace":"assign"](n)}e=el(r),t.forEach(d=>d({location:e,action:"PUSH",preserveScroll:o})),c&&document.activeElement.blur()}}},dv=(r="/")=>{let t=0;const e=[{pathname:r,search:""}],n=[];return{get location(){return e[t]},addEventListener(s,a){},removeEventListener(s,a){},history:{get entries(){return e},get index(){return t},get state(){return n[t]},pushState(s,a,o){const[c,d=""]=o.split("?");t++,e.push({pathname:c,search:d}),n.push(s)},replaceState(s,a,o){const[c,d=""]=o.split("?");e[t]={pathname:c,search:d},n[t]=s}}}},ef=uv(Al()?window:dv()),{navigate:Li}=ef;var fv=W("<div><!></div>");function hv(r,t){pe(t,!1);const e=we(),n=()=>I(T,"$base",e),s=()=>I(k,"$location",e),a=()=>I(y,"$routes",e),o=()=>I(w,"$activeRoute",e);let c=ur(t,"basepath",8,"/"),d=ur(t,"url",8,null),h=ur(t,"viewtransition",8,null),v=ur(t,"history",8,ef);const b=(P,B,m)=>{const S=h()(m);return typeof(S==null?void 0:S.fn)=="function"?S.fn(P,S):S};Vo(Qd,v());const p=pa(ko),g=pa(Eo),y=lt([]),w=lt(null);let $=!1;const k=p||lt(d()?{pathname:d()}:v().location),T=g?g.routerBase:lt({path:c(),uri:c()}),L=cv([T,w],([P,B])=>{if(!B)return P;const{path:m}=P,{route:S,uri:A}=B;return{path:S.default?m:S.path.replace(/\*.*$/,""),uri:A}}),q=P=>{const{path:B}=n();let{path:m}=P;if(P._path=m,P.path=Qo(B,m),typeof window>"u"){if($)return;const S=su([P],s().pathname);S&&(w.set(S),$=!0)}else y.update(S=>[...S,P])},R=P=>{y.update(B=>B.filter(m=>m!==P))};let F=N(!1);p||(or(()=>v().listen(B=>{_(F,B.preserveScroll||!1),k.set(B.location)})),Vo(ko,k)),Vo(Eo,{activeRoute:w,base:T,routerBase:L,registerRoute:q,unregisterRoute:R}),de(()=>(n(),Qo),()=>{const{path:P}=n();y.update(B=>B.map(m=>Object.assign(m,{path:Qo(P,m._path)})))}),de(()=>(a(),s(),i(F)),()=>{const P=su(a(),s().pathname);w.set(P&&{...P,preserveScroll:i(F)})}),Wr(),Ae();var G=ue(),z=vt(G);mt(z,h,P=>{var B=ue(),m=vt(B);Np(m,()=>s().pathname,S=>{var A=fv(),O=l(A);$o(O,t,"default",{get route(){return o()&&o().uri},get location(){return s()}}),Xc(1,A,()=>b),Xc(2,A,()=>b),C(S,A)}),C(P,B)},P=>{var B=ue(),m=vt(B);$o(m,t,"default",{get route(){return o()&&o().uri},get location(){return s()}}),C(P,B)}),C(r,G),ve()}const Re=lt(""),gs=lt(""),lc=lt(""),Kn=lt(""),Gn=lt(""),Vn=lt(""),Zs=lt(""),Po=lt(""),ln=lt([]),Os=lt("");function pv(r){var n;const e=`; ${document.cookie}`.split(`; ${r}=`);if(e.length===2)return(n=e.pop())==null?void 0:n.split(";").shift()}async function Mt(r,t,e=null){const n=tl(Os)||null,s=pv("csrfToken")||null,a={"Content-Type":"application/json"};n&&(a.d2rpvpjwttoken=n),s&&(a["X-CSRF-Token"]=s),tl(Re)&&(a.mode=tl(Re));const o={method:t,headers:a,credentials:"include"};e&&(o.body=JSON.stringify(e));try{const c=await fetch(r,o),d=c.headers.get("d2rpvpjwttoken");return typeof d=="string"&&Os.set(d),c}catch(c){throw console.error("Error during fetch:",c),c}}const Xa=lt(""),br=lt(""),wa=lt([]);async function ui(r){try{const t="/nicknames?mode="+r,e=await Mt(t,"GET");if(e.ok){const n=await e.json();wa.set(n)}else console.error("닉네임을 가져오는데 실패했습니다.")}catch(t){console.error("닉네임을 가져오는 중 오류가 발생했습니다:",t)}}function Va(r){const t=new Date(r);if(isNaN(t.getTime()))throw new Error(`Invalid date string: ${r}`);const e={month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",e).format(t)}const au=lt(1),iu=lt("all"),Tl=lt("none"),Ie=lt(!0),He=lt("none");var vv=W('<button class="simple-button"> </button>'),mv=W('<button class="simple-button"> </button>'),gv=W("<!> <!> <!>",1),bv=W('<div class="menu-container svelte-9hntfj"><div class="menu-logo svelte-9hntfj"><!></div> <div class="menu-items svelte-9hntfj"></div> <div class="switch-container svelte-9hntfj"><div><div class="slider svelte-9hntfj"></div></div> <div class="slider-label svelte-9hntfj"> </div></div> <button class="hamburger svelte-9hntfj"><span class="svelte-9hntfj"></span> <span class="svelte-9hntfj"></span> <span class="svelte-9hntfj"></span></button></div> <div></div> <div class="floating-button"><!></div>',1);function _v(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e),s=()=>I(g,"$location",e),a=()=>I(Re,"$mode",e),o=()=>I(Gn,"$mympk",e),c=()=>I(Vn,"$myzpke",e),d=()=>I(Kn,"$mybabapk",e),h=()=>I(ln,"$admin",e),v=()=>I(gs,"$myUnionAccount",e),b=()=>I(br,"$myaccount",e);let p=ur(t,"isOpen",12,!1);const g=oc();let y=N(""),w=N(),$=N(n()?"밀리PK":"Melee PK"),k=N("/mpk"),T=N("/"),L=N();const q=()=>{p(!p())};function R(){_(L,a()===""?[{label:n()?"정통바바":"Barb PK",href:"/babapk"},{label:n()?"통합밀리":"Melee PK",href:"/mpk"},{label:n()?"질딘PK":"Zeal PK",href:"/zpke"}]:[{label:n()?"암호조회":"ViewPW",href:"/room"},{label:n()?"공지사항":"Notice",href:"/info"},{label:n()?"랭킹조회":"Ladder",href:"/rank"},{label:n()?"대전기록":"Records",href:"/record"},{label:n()?"대회기록":"Event",href:"/tournament"},...a()==="babapk"?[{label:n()?"클랜목록":"Clans",href:"/clan"}]:[],{label:n()?"커뮤니티":"Community",href:"/boardlist"},...a()==="zpke"?[]:[{label:n()?"역대우승":"Winners",href:"/winners"}],{label:n()?"계산하기":"Calculator",href:"/calculator"},...h().includes(a())?[{label:n()?"관리설정":"Settings",href:"/admin"}]:[]]),a()==="mpk"?document.body.style.backgroundColor="#2a1e2e":a()==="zpke"?document.body.style.backgroundColor="#102a2d":a()==="babapk"?document.body.style.backgroundColor="#2a2d21":document.body.style.backgroundColor="#0d0d0d"}async function F(){try{const nt=await(await Mt("/auth/check-jwt","POST")).json();nt.authenticated?(gs.set(nt.username),Kn.set(nt.babapk),Gn.set(nt.mpk),Vn.set(nt.zpke),Os.set(nt.token),Zs.set(nt.email),lc.set(nt.origin),ln.set(nt.admin),R()):(br.set(""),Os.set(""))}catch(at){const nt=n()?"서버 연결에 실패했습니다":"Server Error";console.log(nt+at)}}or(async()=>{await F()}),de(()=>s(),()=>{_(y,s().pathname)}),de(()=>(i(y),n(),a(),o(),c(),d()),()=>{i(y).includes("mpk")?(Re.set("mpk"),_(w,n()?"밀리PK":"Melee PK"),_(k,"/zpke"),_($,n()?"질딘PK":"Zeal PK"),_(T,"/"+a()),R(),br.set(o()||"")):i(y).includes("zpke")?(Re.set("zpke"),_(w,n()?"질딘PK":"Zeal PK"),_(k,"/babapk"),_($,n()?"정통바바":"Barb PK"),_(T,"/"+a()),R(),br.set(c()||"")):i(y).includes("babapk")?(Re.set("babapk"),_(w,n()?"정통바바":"Barb PK"),_(k,"/mpk"),_($,n()?"밀리PK":"Melee PK"),_(T,"/"+a()),R(),br.set(d()||"")):(Re.set(""),_(T,""),R())}),Wr(),Ae();var G=bv(),z=vt(G),P=l(z),B=l(P);Ss(B,{class:"menu-logo-link",to:"/",children:(at,nt)=>{var Z=an("D2RPvP");C(at,Z)},$$slots:{default:!0}});var m=u(P,2);be(m,5,()=>i(L),xe,(at,nt)=>{var Z=ir(()=>i(T)+i(nt).href);Ss(at,{class:"link",get to(){return i(Z)},$$events:{click:()=>p(!1)},children:(K,ut)=>{var et=an();V(()=>x(et,i(nt).label)),C(K,et)},$$slots:{default:!0}})});var S=u(m,2),A=l(S),O=u(A,2),U=l(O),D=u(S,2),H=l(D),Y=u(H,2),st=u(Y,2),J=u(z,2);be(J,5,()=>i(L),xe,(at,nt)=>{var Z=ir(()=>i(T)+i(nt).href);Ss(at,{class:"link",get to(){return i(Z)},$$events:{click:()=>p(!1)},children:(K,ut)=>{var et=an();V(()=>x(et,i(nt).label)),C(K,et)},$$slots:{default:!0}})});var X=u(J,2),rt=l(X);mt(rt,()=>a()!=="",at=>{var nt=gv(),Z=vt(nt);mt(Z,()=>v()==="",et=>{Ss(et,{class:"emphasis-button inline-block",to:"/",children:(ft,ot)=>{var Q=an();V(()=>x(Q,n()?"로그인":"SignUp")),C(ft,Q)},$$slots:{default:!0}})});var K=u(Z,2);mt(K,()=>b()!=="",et=>{var ft=vv(),ot=l(ft);V(()=>x(ot,n()?"나의정보":"MyPages")),tt("click",ft,()=>He.set("myinfo")),C(et,ft)},et=>{var ft=ue(),ot=vt(ft);mt(ot,()=>v()!=="",Q=>{var it=mv(),ht=l(it);V(()=>x(ht,n()?"등록하기":"Register")),tt("click",it,()=>He.set("connect")),C(Q,it)},null,!0),C(et,ft)});var ut=u(K,2);Ss(ut,{class:"simple-button",get to(){return i(k)},children:(et,ft)=>{var ot=an();V(()=>x(ot,i($))),C(et,ot)},$$slots:{default:!0}}),C(at,nt)}),V(()=>{Je(A,`toggle-switch ${(n()?"on":"")??""} svelte-9hntfj`),x(U,n()?"English":"한국어"),Jo(H,"transform",p()?"rotate(45deg)":""),Jo(Y,"opacity",p()?"0":"1"),Jo(st,"transform",p()?"rotate(-45deg)":""),Je(J,`${`mobile-menu ${p()?"open":""}`??""} svelte-9hntfj`)}),tt("click",A,()=>Ie.set(!n())),tt("click",D,q),C(r,G),ve()}var yv=W('<a class="svelte-1vl6564"> </a>'),wv=W('<a target="_blank" rel="noopener noreferrer" class="svelte-1vl6564"><img class="social-icon svelte-1vl6564"></a>'),xv=W('<footer class="svelte-1vl6564"><div class="footer-links svelte-1vl6564"></div> <div class="social-links svelte-1vl6564"></div> <div class="copyright svelte-1vl6564"> </div></footer>');function $v(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e),s=()=>I(Re,"$mode",e),a=N();let o=N([]);de(()=>n(),()=>{_(a,[{label:n()?"문의하기":"Contact",href:"https://open.kakao.com/me/balli"},{label:n()?"개인정보 보호정책":"Privacy Policy",href:"/privacy.html"},{label:n()?"이용 약관":"Terms of Service",href:"/terms.html"}])}),de(()=>s(),()=>{s()==="mpk"?_(o,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/4tuTA5Uf",alt:"mpk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/gPUHe6kf",alt:"mpk Kakaotalk"}]):s()==="babapk"?_(o,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/AqvAJJKCag",alt:"babapk Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/giHO7Mzg",alt:"babapk Kakaotalk"}]):s()==="zpke"&&_(o,[{icon:"/assets/icons/discord.svg",href:"https://discord.gg/4tuTA5Uf",alt:"zpke Discord"},{icon:"/assets/icons/kakao.svg",href:"https://open.kakao.com/o/g3ltefWg",alt:"zpke Kakaotalk"}])}),Wr(),Ae();var c=xv(),d=l(c);be(d,5,()=>i(a),xe,(p,g)=>{var y=yv(),w=l(y);V(()=>{Ee(y,"href",i(g).href),x(w,i(g).label)}),C(p,y)});var h=u(d,2);be(h,5,()=>i(o),xe,(p,g)=>{var y=wv(),w=l(y);V(()=>{Ee(y,"href",i(g).href),Ee(w,"src",i(g).icon),Ee(w,"alt",i(g).alt)}),C(p,y)});var v=u(h,2),b=l(v);V(()=>x(b,`© ${new Date().getFullYear()??""} D2RPvP. All rights reserved.`)),C(r,c),ve()}var kv=W("<div><h1> </h1></div>");function Ev(r,t){pe(t,!1);const e=we(),n=()=>I(o,"$location",e),s=()=>I(Ie,"$lang",e),a=()=>I(Re,"$mode",e),o=oc();let c=N(""),d=N(""),h=N("");de(()=>n(),()=>{_(c,n().pathname)}),de(()=>(i(c),s()),()=>{i(c).includes("rank")?_(h,s()?"랭킹조회":"Ladder"):i(c).includes("room")?_(h,s()?"암호조회":"ViewPW"):i(c).includes("info")?_(h,s()?"공지사항":"Notice"):i(c).includes("record")?_(h,s()?"대전기록":"Records"):i(c).includes("tournament")?_(h,s()?"대회기록":"Event"):i(c).includes("boardlist")?_(h,s()?"커뮤니티":"Community"):i(c).includes("winners")?_(h,s()?"역대우승":"Winners"):i(c).includes("calculator")?_(h,s()?"계산하기":"Calculate"):i(c).includes("admin")?_(h,s()?"관리설정":"Setting"):_(h,"")}),de(()=>(a(),s()),()=>{a()==="mpk"?_(d,s()?"밀리PK":"Melee PK"):a()==="babapk"?_(d,s()?"정통바바":"Barb PK"):a()==="zpke"?_(d,s()?"질딘PK":"Zeal PK"):a()===""&&_(d,"")}),de(()=>(i(d),i(h)),()=>{document.title="D2RPvP "+i(d)+" "+i(h)}),Wr(),Ae();var v=kv();const b=ir(()=>`header-container ${(i(c).includes("post")||i(c).includes("write")?"hidden":"")??""} svelte-1yjukfn`);var p=l(v),g=l(p);V(()=>{Je(v,i(b)),x(g,`${i(d)??""} ${i(h)??""}`)}),C(r,v),ve()}var Av=W('<tr class="svelte-1vck7sz"><td class="svelte-1vck7sz"><a> </a></td></tr>'),Tv=W('<div class="info-container"><table><thead><tr class="svelte-1vck7sz"><th class="svelte-1vck7sz"> </th></tr></thead><tbody></tbody></table></div>');function Sv(r){const t=we(),e=()=>I(Re,"$mode",t),n=()=>I(Ie,"$lang",t);let s=N([]);e()==="mpk"?_(s,[{href:"https://docs.google.com/spreadsheets/d/18jJ3WYsWZEdV8oXeJYt1-aMrACN1IHsFnCV3-gir5pk/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12jpQH4QP7QyPRhLPuXJSuU3lJdA_3SzCE5dBYl2jYZg/",title:"듀얼 규칙 안내"},{href:"https://docs.google.com/document/d/1Wj31FLkeFLZp-N2Bohkj_ZKoUrJU5LXkUABH7x9zxC8/",title:"대회 및 랭킹 시스템 안내"}]):e()==="babapk"?_(s,[{href:"https://docs.google.com/spreadsheets/d/19a-_44yVj04BnlUK6QQY9U3jXtlDAgOmdHCgdis1toI/",title:"후원 내역 및 후원 랭킹 보기"},{href:"https://docs.google.com/document/d/12EBBA8c9K-KzaE-cC6QvRb8vOB07V9Mi90D44-dzOPw/",title:"인게임 방 안내"},{href:"https://docs.google.com/document/d/1b-vnUyLaDrSnSMouTOoFAYz5K3lq8hS-kzjh_R-JuD8/",title:"월별 랭킹 시스템 안내(with 클랜전)"},{href:"https://docs.google.com/document/d/1RBDp8SzVp-epjIdekWOWPYt0f6XBpreVbQnPD1qv3-o/",title:"미니대회 운영 안내"},{href:"https://docs.google.com/document/d/1m50GKaWyszyBSslQn3348Fz1CAp55DFbKNwNyj5dLnw/",title:"내부 랭킹전 안내"}]):_(s,[{href:"https://docs.google.com/document/d/1FFuQPQYJJKBcpKM5VaBijzsf1Zg-bW1iy9R8vM9OPkA/",title:"질딘PK 공지사항"}]);var a=Tv(),o=l(a),c=l(o),d=l(c),h=l(d),v=l(h),b=u(c);be(b,5,()=>i(s),xe,(g,y)=>{var w=Av(),$=l(w),k=l($),T=l(k);V(()=>{Ee(k,"href",i(y).href),x(T,i(y).title)}),C(g,w)}),V(()=>x(v,n()?"공지사항 들어가기(구글 문서)":"Notice(Google Doc, Korean)")),C(r,a)}var Nv=W('<td class="empty svelte-5k5sfe"></td>'),Ov=W('<input class="calendar-input svelte-5k5sfe" type="text"> <button class="emphasis-button small svelte-5k5sfe"> </button>',1),Lv=W('<div class="inside-tooltip pointer svelte-5k5sfe"> </div> <div class="tooltiptext svelte-5k5sfe"> </div>',1),Cv=W('<td class="day-cell svelte-5k5sfe" role="button" tabindex="0"><div> </div> <!></td>'),Rv=W('<tr class="svelte-5k5sfe"></tr>'),qv=W('<div class="calendar-container"><table class="calendar-table svelte-5k5sfe"><thead><tr class="svelte-5k5sfe"><th class="day-header svelte-5k5sfe"> </th><th class="day-header svelte-5k5sfe"> </th><th class="day-header svelte-5k5sfe"> </th><th class="day-header svelte-5k5sfe"> </th><th class="day-header svelte-5k5sfe"> </th><th class="day-header svelte-5k5sfe"> </th><th class="day-header svelte-5k5sfe"> </th></tr></thead><tbody></tbody></table></div>');function Iv(r,t){pe(t,!1);const e=we(),n=()=>I(ln,"$admin",e),s=()=>I(Re,"$mode",e),a=()=>I(Ie,"$lang",e),o=N(),c=N(),d=N();let h=ur(t,"year",8),v=ur(t,"month",8),b=ur(t,"date",8),p=ur(t,"events",12),g=ur(t,"eventname",8),y=ur(t,"getCalendartext",8),w=N(null),$=N("");function k(K,ut){const et=new Date(K,ut,1),ft=new Date(K,ut+1,0),ot=[];let Q=new Date(et);for(;Q<=ft;)ot.push(new Date(Q)),Q.setDate(Q.getDate()+1);const it=et.getDay();return{daysInMonth:ot,startDayOfWeek:it}}const T=(K,ut)=>{n().includes(s())&&(_(w,K.toDateString()),_($,ut||""))},L=async K=>{const ut=K.toDateString(),et={year:K.getFullYear(),month:K.getMonth()+1,day:K.getDate(),event:i($),mode:s()};try{const ot=await Mt("/calendar/event","POST",et);if(ot.status===201){alert(a()?"이벤트 기록을 저장하였습니다":"Memo Saved"),p({...p(),[ut]:i($)}),_(w,null),_($,"");const Q=h(),it=v();await y()(Q,it)}else alert(`오류 발생: ${ot.status}`)}catch(ft){console.error("Error:",ft)}};function q(K,ut){const et=[];let ft=[],ot=0;for(let Q=0;Q<ut;Q++)ft.push("empty"),ot++;if(K.forEach(Q=>{ot===7&&(et.push(ft),ft=[],ot=0);const it=Q.getDate()===b()&&Q.getMonth()===v()&&Q.getFullYear()===h(),ht=Q.getDate();ft.push({day:Q,isToday:it,dayKey:ht}),ot++}),ft.length>0){for(;ft.length<7;)ft.push("empty");et.push(ft)}return et}let R=N(null);function F(K){i(R)===`${K}`?_(R,null):_(R,`${K}`)}de(()=>(i(o),i(c),va(h()),va(v())),()=>{(K=>(_(o,K.daysInMonth),_(c,K.startDayOfWeek)))(k(h(),v()))}),de(()=>(i(o),i(c)),()=>{_(d,q(i(o),i(c)))}),Wr(),Ae();var G=qv(),z=l(G),P=l(z),B=l(P),m=l(B),S=l(m),A=u(m),O=l(A),U=u(A),D=l(U),H=u(U),Y=l(H),st=u(H),J=l(st),X=u(st),rt=l(X),at=u(X),nt=l(at),Z=u(P);be(Z,5,()=>i(d),xe,(K,ut)=>{var et=Rv();be(et,5,()=>i(ut),xe,(ft,ot)=>{var Q=ue(),it=vt(Q);mt(it,()=>i(ot)==="empty",ht=>{var _t=Nv();C(ht,_t)},ht=>{var _t=Cv(),$t=l(_t);const Bt=ir(()=>`day-number ${(n().includes(s())?"pointer":"")??""} svelte-5k5sfe`);var Qt=l($t);V(()=>x(Qt,i(ot).day.getDate()));var Jt=u($t,2);mt(Jt,()=>i(w)===i(ot).day.toDateString(),Vt=>{var Ct=Ov(),Tt=vt(Ct),Ht=u(Tt,2),Et=l(Ht);V(()=>x(Et,a()?"저장":"Save")),M(Tt,()=>i($),gt=>_($,gt)),tt("keydown",Tt,gt=>{gt.key==="Enter"&&L(i(ot).day)}),tt("click",Ht,()=>L(i(ot).day)),C(Vt,Ct)},Vt=>{var Ct=Lv(),Tt=vt(Ct),Ht=l(Tt),Et=u(Tt,2),gt=l(Et);V(()=>{x(Ht,g()[i(ot).dayKey]||""),Pp(Et,"visible",i(R)===`${i(ot).dayKey}`),x(gt,g()[i(ot).dayKey]||"")}),tt("click",Tt,()=>F(i(ot).dayKey)),C(Vt,Ct)}),V(()=>Je($t,i(Bt))),tt("click",$t,()=>T(i(ot).day,g()[i(ot).dayKey])),C(ht,_t)}),C(ft,Q)}),C(K,et)}),V(()=>{x(S,a()?"일":"Sun"),x(O,a()?"월":"Mon"),x(D,a()?"화":"Tue"),x(Y,a()?"수":"Wed"),x(J,a()?"목":"Thu"),x(rt,a()?"금":"Fri"),x(nt,a()?"토":"Sat")}),C(r,G),ve()}var jv=W('<div class="calendar-header svelte-fc2pud"><button class="simple-button"> </button> <div class="calendar-header-text svelte-fc2pud"> </div> <button class="simple-button"> </button></div> <!>',1);function rl(r,t){pe(t,!1);const e=we(),n=()=>I(c,"$location",e),s=()=>I(Re,"$mode",e),a=()=>I(Ie,"$lang",e),o=N(),c=oc();let d=N({});const h=new Date,v=h.getFullYear(),b=h.getMonth(),p=h.getDate();let g=N(v),y=N(b),w=N(p),$={};const k=()=>{let A=i(y)+1,O=i(g);A===12&&(A=0,O+=1),_(y,A),_(g,O),_(w,null),O===h.getFullYear()&&A===h.getMonth()&&_(w,h.getDate()),L(O,A)},T=()=>{let A=i(y)-1,O=i(g);A===-1&&(A=11,O-=1),_(y,A),_(g,O),_(w,null),O===h.getFullYear()&&A===h.getMonth()&&_(w,h.getDate()),L(O,A)};async function L(A,O){try{const U=`/calendar/event?year=${A}&month=${O+1}&mode=${s()}`,D=await Mt(U,"GET");if(!D.ok)throw new Error("Network response was not ok");const H=await D.json(),Y={};H.forEach(st=>{Y[st.date]=st.text}),_(d,Y)}catch(U){alert(a()?"달력 DB 오류":"Calendar DB error"),console.error("Error:",U)}}or(()=>{L(h.getFullYear(),h.getMonth())}),de(()=>n(),()=>{_(o,n().pathname)}),Wr(),Ae();var q=jv(),R=vt(q),F=l(R),G=l(F),z=u(F,2),P=l(z),B=u(z,2),m=l(B),S=u(R,2);Iv(S,{get year(){return i(g)},get month(){return i(y)},get date(){return i(w)},events:$,get eventname(){return i(d)},getCalendartext:L}),V(()=>{x(G,a()?"지난 달":"Before"),x(P,`${i(g)??""}.${i(y)+1}`),x(m,a()?"다음 달":"Next")}),tt("click",F,T),tt("click",B,k),C(r,q),ve()}var Pv=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text"> <input class="input-text" type="password"> <button class="emphasis-button block"> </button></div>',1);function Dv(r,t){pe(t,!1);const e=we(),n=()=>I(Po,"$modeinput",e),s=()=>I(Re,"$mode",e),a=()=>I(Ie,"$lang",e);let o=N(""),c=N("");async function d(){let k={nickname:i(o),password:i(c),mode:n()||s()};try{const L=await Mt("/connect/login","POST",k);if(L.status===201){const q=await L.json();n()==="babapk"?Kn.set(q.nickname):n()==="mpk"?Gn.set(q.nickname):n()==="zpke"&&Vn.set(q.nickname),He.set("none"),alert(q.nickname+(a()?" 계정을 연동하였습니다":"Connected"))}else alert(a()?"로그인 실패 혹은 수정이 불가합니다":"Connecting Failed")}catch(T){alert(T)}}Ae();var h=Pv(),v=vt(h),b=l(v),p=u(v,2),g=l(p),y=u(g,2),w=u(y,2),$=l(w);V(()=>{x(b,`${n()??""} ${(a()?"로그인하여 캐릭터 연동":"Connect Legacy Character")??""}`),Ee(g,"placeholder",a()?"닉네임":"Nickname"),Ee(y,"placeholder",a()?"비밀번호":"Password"),x($,a()?"로그인":"Connect")}),M(g,()=>i(o),k=>_(o,k)),M(y,()=>i(c),k=>_(c,k)),tt("click",w,()=>d()),C(r,h),ve()}var Mv=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text"> <input type="text"> <button class="emphasis-button block"> </button></div>',1);function Bv(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e);let s=N(!0),a=N(""),o=N("");const c=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function d(){_(s,c.test(i(o)))}async function h(){const T={findpw_nickname:i(a),findpw_email:i(o)};try{(await Mt("/reset-pw","POST",T)).ok?(alert(n()?"이메일을 확인하세요":"Check Your E-mail"),He.set("none")):alert("error")}catch(L){alert(L)}}Ae();var v=Mv(),b=vt(v),p=l(b),g=u(b,2),y=l(g),w=u(y,2),$=u(w,2),k=l($);V(()=>{x(p,n()?"계정찾기":"Find Account"),Ee(y,"placeholder",n()?"계정입력":"Account"),Je(w,`input-text ${(i(s)?"":"invalid")??""}`),Ee(w,"placeholder",n()?"이메일 입력":"E-mail"),x(k,n()?"계정찾기":"Find Account")}),M(y,()=>i(a),T=>_(a,T)),M(w,()=>i(o),T=>_(o,T)),tt("input",w,d),tt("click",$,h),C(r,v),ve()}var Uv=W(`<strong>웹사이트 이용 약관</strong> <p>D2R PvP는 Diablo 2: Resurrected에서 PvP(플레이어 대 플레이어) 매치에
  참여하는 사용자들을 위한 랭킹 시스템을 제공하는 웹사이트입니다.</p> <p>사이트에서 자신의 랭킹을 확인하려면 서버에 계정을 등록하고 매치 결과를
  기록해야 합니다.</p> <p>등록 과정에서 제공된 정보는 사이트 운영을 위해서만 사용되며, 다른
  목적으로는 사용되지 않습니다.</p>`,1);function Fv(r){var t=Uv();C(r,t)}var zv=W(`<strong>개인정보 처리방침</strong> <p>이 페이지는 서비스를 사용하기로 결정한 경우, 개인 정보의 수집, 사용 및
  공개에 관한 제 정책을 방문자에게 알리기 위해 사용됩니다.</p> <p>서비스를 사용하기로 선택하면, 이 정책과 관련하여 정보 수집 및 사용에
  동의하는 것입니다. 수집된 개인 정보는 서비스 제공 및 개선을 위해
  사용됩니다. 이 개인정보 처리방침에 설명된 경우를 제외하고는 귀하의 정보를
  사용하거나 제3자와 공유하지 않습니다.</p> <p>이 개인정보 처리방침에서 사용되는 용어는 D2R PvP에서 접근할 수 있는 이용
  약관과 동일한 의미를 가지며, 본 개인정보 처리방침에서 달리 정의되지 않는
  한 이용 약관과 동일한 의미를 가집니다.</p> <p><strong>정보 수집 및 사용</strong></p> <p>더 나은 경험을 제공하기 위해, 서비스 사용 중 특정 개인 식별 정보를
  제공해야 할 수 있습니다. 이 정보에는 닉네임, 비밀번호, 이메일, 플레이
  데이터 등이 포함될 수 있습니다. 요청된 정보는 귀하의 장치에 보관되며,
  당사에 의해 수집되지 않습니다.</p> <div><p>이 사이트는 개인 정보를 제3자 서비스 제공자에게 제공하지 않습니다.</p> <p><strong>로그 데이터</strong></p> <p>서비스 사용 시, 오류가 발생할 경우 귀하의 전화에서 로그 데이터라는
    정보를 (제3자 제품을 통해) 수집함을 알려드립니다. 이 로그 데이터에는
    장치의 인터넷 프로토콜(IP) 주소, 장치 이름, 운영 체제 버전, 서비스 사용
    시의 사이트 구성, 사용 날짜 및 시간, 기타 통계 정보가 포함될 수
    있습니다.</p> <p><strong>쿠키</strong></p> <p>쿠키는 일반적으로 익명의 고유 식별자로 사용되는 소량의 데이터가 포함된
    파일입니다. 이러한 파일은 귀하가 방문하는 웹사이트에서 브라우저로
    전송되어 귀하의 장치 내부 메모리에 저장됩니다.</p> <p>이 서비스는 이러한 "쿠키"를 명시적으로 사용하지 않습니다. 그러나
    사이트는 정보 수집 및 서비스 개선을 위해 "쿠키"를 사용하는 제3자 코드 및
    라이브러리를 사용할 수 있습니다. 쿠키 수신 시 이를 허용하거나 거부할 수
    있는 옵션이 있으며, 쿠키가 귀하의 장치로 전송될 때 알림을 받도록 설정할
    수 있습니다. 쿠키를 거부하기로 선택하면 이 서비스의 일부를 사용하지 못할
    수도 있습니다.</p> <p><strong>서비스 제공자</strong></p> <p>당사는 다음과 같은 이유로 제3자 회사 및 개인을 고용할 수 있습니다:</p> <ul><li>당사 서비스를 용이하게 하기 위해;</li> <li>당사를 대신하여 서비스를 제공하기 위해;</li> <li>서비스 관련 서비스를 수행하기 위해; 또는</li> <li>당사 서비스 사용 방식을 분석하는 데 도움을 주기 위해.</li></ul> <p>이 서비스의 사용자에게 제3자가 귀하의 개인 정보에 접근할 수 있음을
    알리고자 합니다. 이는 당사를 대신하여 할당된 작업을 수행하기 위한
    것입니다. 그러나 그들은 정보를 다른 목적으로 사용하거나 공개하지 않을
    의무가 있습니다.</p> <p><strong>보안</strong></p> <p>귀하의 개인 정보를 제공받는 것을 신뢰하며, 이를 보호하기 위해 상업적으로
    합리적인 수단을 사용하고 있습니다. 그러나 인터넷을 통한 전송 방법 또는
    전자 저장 방법은 100% 안전하고 신뢰할 수 없으며, 절대적인 보안을 보장할
    수는 없습니다.</p> <p><strong>다른 사이트로의 링크</strong></p> <p>이 서비스에는 다른 사이트로의 링크가 포함될 수 있습니다. 제3자 링크를
    클릭하면 해당 사이트로 이동됩니다. 이러한 외부 사이트는 당사에서
    운영하지 않음을 유의하시기 바랍니다. 따라서 이러한 웹사이트의 개인정보
    처리방침을 검토할 것을 강력히 권장합니다. 당사는 제3자 사이트나 서비스의
    콘텐츠, 개인정보 처리방침 또는 관행에 대해 책임을 지지 않습니다.</p> <p><strong>어린이 개인정보</strong></p> <div><p>이 서비스는 13세 미만의 어린이를 대상으로 하지 않습니다. 당사는 13세
      미만의 어린이로부터 개인 식별 정보를 고의로 수집하지 않습니다. 만약
      13세 미만의 어린이가 개인 정보를 제공한 것으로 발견될 경우, 이를 즉시
      서버에서 삭제합니다. 부모나 보호자이시고, 자녀가 개인 정보를 제공한
      사실을 알게 된 경우, 저에게 연락해 주시면 필요한 조치를 취하겠습니다.</p></div> <p><strong>개인정보 처리방침의 변경</strong></p> <p>당사는 개인정보 처리방침을 수시로 업데이트할 수 있습니다. 따라서 이
    페이지를 주기적으로 검토하여 변경 사항을 확인할 것을 권장합니다.
    개인정보 처리방침의 변경 사항은 이 페이지에 게시하여 알릴 것입니다.</p> <p>이 정책은 2024-01-17부터 유효합니다.</p> <p><strong>문의하기</strong></p> <p>개인정보 처리방침에 대해 질문이나 제안사항이 있는 경우,
    kor8240@gmail.com으로 주저하지 말고 연락해 주시기 바랍니다.</p> <p>이 개인정보 처리방침 페이지는 <a href="https://privacypolicytemplate.net" target="_blank" rel="noopener noreferrer">privacypolicytemplate.net</a>에서 작성되었으며, <a href="https://app-privacy-policy-generator.nisrulz.com/" target="_blank" rel="noopener noreferrer">사이트 개인정보 처리방침 생성기</a>에서 수정/생성되었습니다.</p></div>`,1);function Hv(r){var t=zv();C(r,t)}var Kv=W('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Gv=W('<div class="detail-container svelte-18sr952"><!></div> <button class="simple-button">닫기</button>',1),Vv=W('<button class="simple-button">이용약관</button> <button class="simple-button">개인정보 정책</button> <input class="input-text" type="text" placeholder="닉네임"> <button class="emphasis-button">계정 확인</button>',1),Wv=W('<div class="nickname-input svelte-18sr952"> </div> <input type="text" placeholder="이메일 입력"> <input class="input-text" type="password" placeholder="비밀번호"> <input class="input-text" type="password" placeholder="암호확인"><br> <button class="emphasis-button">회원가입</button>',1),Yv=W('<h3 class="message-title">가입하기</h3> <div class="message-body"><!></div>',1);function Jv(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e);let s=N(!0),a=N(""),o=N("");const c=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let d=N(""),h=N(""),v=N(""),b=N(!1);function p(){_(s,c.test(i(o)))}function g(L){return!L||L.trim()===""?{isValid:!1,message:n()?"닉네임을 입력해주세요.":"Input Your Nickname"}:/^[\u4E00-\u9FFF\u3400-\u4DBF\u20000-\u2EBFF\u2E80-\u2EFF\u2F00-\u2FDF\u3007\uAC00-\uD7A3a-zA-Z]{2,20}$/.test(L)?{isValid:!0,message:n()?"닉네임이 유효합니다.":"You can use this nickname"}:{isValid:!1,message:n()?"닉네임은 3~20자의 알파벳, 한글, 중국어만 허용됩니다.":"Nicknames must be 3 to 20 characters long and can only include alphabets, Korean, and Chinese characters."}}async function y(){const L=g(i(d));if(!L.isValid){alert(L.message);return}if(i(b))alert(n()?"계정을 이미 확인하였습니다":"Your Account name checked");else{const q="/auth/check-nickname",R={nickname:i(d)};try{const F=await Mt(q,"POST",R);F.status===200?(alert(n()?"해당 계정은 사용 가능합니다":"You can use this name"),_(b,!0)):F.status===403&&alert(n()?"해당 계정은 사용이 불가능합니다":"You can't use this name")}catch(F){console.error("Error occurred while checking nickname:",F),alert(F)}}}async function w(){const L={nickname:i(d),password:i(h),email:i(o)};try{const R=await Mt("/auth/register","POST",L);if(!R.ok)throw new Error(n()?"회원가입에 실패했습니다.":"Register Failed");R.status===201&&(alert(n()?"회원가입이 성공적으로 완료되었습니다.":"Register Success"),He.set("none"))}catch(q){alert(q)}}Ae();var $=Yv(),k=u(vt($),2),T=l(k);mt(T,()=>i(a)==="terms",L=>{var q=Kv(),R=vt(q),F=l(R);Fv(F);var G=u(R,2);tt("click",G,()=>_(a,"")),C(L,q)},L=>{var q=ue(),R=vt(q);mt(R,()=>i(a)==="privacy",F=>{var G=Gv(),z=vt(G),P=l(z);Hv(P);var B=u(z,2);tt("click",B,()=>_(a,"")),C(F,G)},F=>{var G=ue(),z=vt(G);mt(z,()=>!i(b),P=>{var B=Vv(),m=vt(B),S=u(m,2),A=u(S,2),O=u(A,2);tt("click",m,()=>_(a,"terms")),tt("click",S,()=>_(a,"privacy")),M(A,()=>i(d),U=>_(d,U)),tt("click",O,y),C(P,B)},P=>{var B=Wv(),m=vt(B),S=l(m),A=u(m,2),O=u(A,2),U=u(O,2),D=u(U,3);V(()=>{x(S,`닉네임 :${i(d)??""}`),Je(A,`input-text ${(i(s)?"":"invalid")??""}`)}),M(A,()=>i(o),H=>_(o,H)),tt("input",A,p),M(O,()=>i(h),H=>_(h,H)),M(U,()=>i(v),H=>_(v,H)),tt("click",D,w),C(P,B)}),C(F,G)},!0),C(L,q)}),C(r,$),ve()}var Zv=W('<tr class="svelte-cga3fb"><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button> </button></td></tr> <tr class="svelte-cga3fb"><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button> </button></td></tr>',1),Xv=W('<h3 class="message-title"> </h3> <div class="message-body"><table class="info-table svelte-cga3fb"><tbody><tr class="svelte-cga3fb"><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"><button class="simple-button svelte-cga3fb"> </button></td></tr><!><tr class="svelte-cga3fb"><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr><tr class="svelte-cga3fb"><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"> </td><td class="svelte-cga3fb"></td></tr></tbody></table></div>',1);function Qv(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(br,"$myaccount",e),a=()=>I(Ie,"$lang",e);let o=N("Loading"),c=N("Loading"),d=N("Loading"),h=N("Loading"),v=N(""),b=N("");async function p(){const ot="/userdata/info";try{const Q=await Mt(ot,"POST",{mode:n(),nickname:s()});if(Q.ok){const it=await Q.json();n()!="babapk"&&(_(v,it.challenge),_(b,it.challengeDate)),_(o,it.bscore),_(c,it.lscore),_(d,it.countwin),_(h,it.countlose)}}catch(Q){console.error("정보를 불러오는 중 오류가 발생하였습니다:",Q),alert(Q)}}async function g(){const ot={mode:n(),challenge:i(v)};try{(await Mt("/userdata/challenge/cancel","DELETE",ot)).status===200&&alert(a()?"도전 중인 게임 정보를 삭제하였습니다":"You cancel challenge")}catch(Q){console.error("요청에 실패하였습니다",Q),alert("요청에 실패하였습니다")}}async function y(){const ot={mode:n(),challenge:i(v)};try{const Q=await Mt("/record/challenge/check","POST",ot),it=await Q.json(),ht=a()?"도전 중이 아니거나 응답 기간이 끝나지 않았습니다":"You didn't challenge game or it is still within the period.";Q.status===201?alert(a()?"도전 기간에 상대가 응답하지 않아 자동 승리로 입력되었습니다":"You win because your Opposite give up the match"):Q.status===400?alert(it.message||ht):alert("Error Code :"+Q.status)}catch(Q){console.error("요청에 실패하였습니다:",Q),alert(Q)}}or(()=>{p()});async function w(){try{await Mt("/auth/logout","POST"),alert(a()?"로그아웃하였습니다":"Logout success"),Li(n()==="babapk"?"/":"/"+n()),He.set("none"),br.set(""),gs.set(""),Kn.set(""),Gn.set(""),Vn.set(""),Os.set(""),Zs.set(""),ln.set([])}catch(ot){alert(ot)}}Ae();var $=Xv(),k=vt($),T=l(k),L=u(k,2),q=l(L),R=l(q),F=l(R),G=l(F),z=l(G),P=u(G),B=l(P);V(()=>x(B,s().replace("_m","").replace("_z","")));var m=u(P),S=l(m),A=l(S),O=u(F);mt(O,()=>n()!="babapk",ot=>{var Q=Zv(),it=vt(Q),ht=l(it),_t=l(ht),$t=u(ht),Bt=l($t);V(()=>x(Bt,i(v)?i(v).replace("_m",""):""));var Qt=u($t),Jt=l(Qt),Vt=l(Jt),Ct=u(it,2),Tt=l(Ct),Ht=l(Tt),Et=u(Tt),gt=l(Et),kt=u(Et),It=l(kt),Ut=l(It);V(()=>{x(_t,a()?"도전 신청":"Challenge"),Je(Jt,`simple-button ${(i(v)===""?"hidden":null)??""} svelte-cga3fb`),x(Vt,a()?"도전 취소":"Cancel"),x(Ht,a()?"도전 날짜":"Challenge Date"),x(gt,i(b)||""),Je(It,`simple-button ${(i(v)===""?"hidden":null)??""} svelte-cga3fb`),x(Ut,a()?"자동 승리":"Check Date")}),tt("click",Jt,()=>g()),tt("click",It,()=>y()),C(ot,Q)});var U=u(O),D=l(U),H=l(D),Y=u(D),st=l(Y),J=u(U),X=l(J),rt=l(X),at=u(X),nt=l(at),Z=u(J),K=l(Z),ut=l(K),et=u(K),ft=l(et);V(()=>{x(T,a()?"내 정보 확인":"My Pages"),x(z,a()?"캐릭터":"Character"),x(A,a()?"로그아웃":"Leave"),x(H,a()?"대전 점수":"Battle Score"),x(st,i(o)),x(rt,a()?"대회 점수":"Event Score"),x(nt,i(c)),x(ut,a()?"승/패":"Win/Lose"),x(ft,`${i(d)??""}/${i(h)??""}`)}),tt("click",S,()=>w()),C(r,$),ve()}var tm=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text"> <input class="input-text" type="password"> <br> <button class="emphasis-button"> </button></div> <button class="message-button"> </button>',1);function em(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e);let s=N(""),a=N("");async function o(){const k={nowpw:i(s),newemail:i(a)};try{const L=await Mt("/userdata/change-email","POST",k);typeof(await L.json()).message=="string"?(alert(n()?"이메일 변경 완료":"E-mail Changed"),Zs.set(i(a)),He.set("none")):alert(`오류 발생: ${L.status}`)}catch(T){console.error("오류 발생:",T),alert("오류 발생: "+T)}}Ae();var c=tm(),d=vt(c),h=l(d),v=u(d,2),b=l(v),p=u(b,2),g=u(p,4),y=l(g),w=u(v,2),$=l(w);V(()=>{x(h,n()?"이메일 변경":"Change Your Email"),Ee(b,"placeholder",n()?"새 이메일":"New E-mail"),Ee(p,"placeholder",n()?"비밀번호":"Password"),x(y,n()?"변경하기":"Change"),x($,n()?"돌아가기":"Back")}),M(b,()=>i(a),k=>_(a,k)),M(p,()=>i(s),k=>_(s,k)),tt("click",g,()=>o()),tt("click",w,()=>He.set("myinfo")),C(r,c),ve()}var rm=W('<h3 class="message-title">암호 변경</h3> <div class="message-body"><input class="input-text" type="password"> <input class="input-text" type="password"> <input class="input-text" type="password"><br> <button class="emphasis-button"> </button></div> <button class="message-button"> </button>',1);function nm(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e);let s=N(""),a=N(""),o=N("");async function c(){if(i(a)!==i(o)){alert(n()?"암호 확인이 일치하지 않습니다. 다시 확인해주세요.":"Check Password please");return}const k={nowpw:i(s),newpw:i(a)};try{(await Mt("/userdata/change-pw","POST",k)).status===201&&(alert(n()?"암호 변경 완료":"Your Password Changed"),He.set("none"))}catch(T){console.error("Error:",T),alert("Error: "+T)}}Ae();var d=rm(),h=u(vt(d),2),v=l(h),b=u(v,2),p=u(b,2),g=u(p,3),y=l(g),w=u(h,2),$=l(w);V(()=>{Ee(v,"placeholder",n()?"현재암호":"Old Password"),Ee(b,"placeholder",n()?"새 암호":"New Password"),Ee(p,"placeholder",n()?"암호확인":"Input New Password Again"),x(y,n()?"변경하기":"Change"),x($,n()?"돌아가기":"Back")}),M(v,()=>i(s),k=>_(s,k)),M(b,()=>i(a),k=>_(a,k)),M(p,()=>i(o),k=>_(o,k)),tt("click",g,()=>c()),tt("click",w,()=>He.set("myinfo")),C(r,d),ve()}var sm=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="password"> <button class="emphasis-button block"> </button></div>',1);function am(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e);let s=N("");async function a(){const g={nowpw:i(s)};try{const w=await Mt("/auth/delete","DELETE",g);w.status===200?(alert(n()?"계정 삭제 완료":"Your Account Removed"),He.set("none"),br.set(""),Kn.set(""),Gn.set(""),Vn.set(""),gs.set(""),Zs.set(""),Os.set("")):alert(`Error Code: ${w.status}`)}catch(y){console.error("Error:",y),alert("Error: "+y)}}Ae();var o=sm(),c=vt(o),d=l(c),h=u(c,2),v=l(h),b=u(v,2),p=l(b);V(()=>{x(d,n()?"계정 삭제":"Account Remove"),Ee(v,"placeholder",n()?"비밀번호":"Password"),x(p,n()?"계정삭제":"Remove")}),M(v,()=>i(s),g=>_(s,g)),tt("click",b,()=>a()),C(r,o),ve()}var im=W("<option> </option>"),om=W('<h3 class="message-title"> </h3> <div class="message-body"><input list="nicknames_list" class="input-text"> <datalist id="nicknames_list"></datalist> <button class="emphasis-button block"> </button></div>',1);function lm(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(wa,"$nicknames",e),a=()=>I(br,"$myaccount",e),o=()=>I(Ie,"$lang",e);let c=N([]),d=N();or(()=>{ui(n()),_(c,s().filter(q=>q!==a()))});function h(q,R){return R.includes(q)?q:null}function v(q){const F=q.target.value;typeof F=="string"&&_(d,h(F,i(c)))}async function b(){let q={winner:i(d),mode:n()};try{const R=await Mt("/record/submit","POST",q);R.ok?alert(o()?"기록 전송 완료":"Your record sended"):alert(R.status)}catch(R){console.error(R),alert(R)}}Ae();var p=om(),g=vt(p),y=l(g),w=u(g,2),$=l(w),k=u($,2);be(k,5,()=>i(c),xe,(q,R)=>{var F=im(),G={},z=l(F);V(()=>{G!==(G=i(R))&&(F.value=(F.__value=i(R))==null?"":i(R)),x(z,i(R))}),C(q,F)});var T=u(k,2),L=l(T);V(()=>{x(y,`${n()??""} ${(o()?"기록 보내기":"Send Record")??""}`),Ee($,"placeholder",o()?"승자를 선택하세요":"Select Winner"),x(L,o()?"보내기":"Send")}),M($,()=>i(d),q=>_(d,q)),tt("blur",$,v),tt("click",T,b),C(r,p),ve()}var cm=W('<tr class="svelte-y61ocg"><td colspan="3" class="text-center svelte-y61ocg"> </td></tr>'),um=W('<tr class="svelte-y61ocg"><td colspan="3" class="text-center svelte-y61ocg"> </td></tr>'),dm=W('<tr class="svelte-y61ocg"><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"> </td><td class="svelte-y61ocg"><button class="simple-button svelte-y61ocg"></button> <button class="simple-button svelte-y61ocg"></button></td></tr>'),fm=W('<h3 class="message-title"> </h3> <div class="message-body"><table class="temp-table svelte-y61ocg"><thead><tr><th class="record-table-date"> </th><th class="record-table-loser"> </th><th class="record-table-ok"> </th></tr></thead><tbody><!></tbody></table></div>',1);function hm(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(Ie,"$lang",e);let a=N(),o=N(!0);async function c(){const B="/record/pending",m={mode:n()};try{const S=await Mt(B,"POST",m);if(!S.ok)throw new Error(`오류 발생: ${S.status}`);_(a,await S.json())}catch(S){console.error("데이터 불러오기 오류:",S),alert(S)}finally{_(o,!1)}}const d=s()?"승인":"Accept",h=s()?"삭제":"Remove";async function v(B,m){const S=B==="approve"?"/record/approve":"/record/cancel",A={orderNum:m,mode:n()};try{const O=await Mt(S,B==="approve"?"POST":"DELETE",A);if(O.ok)alert(`${B==="approve"?d:h} 완료`),c();else throw new Error(`오류 발생: ${O.status}`)}catch(O){console.error(`${B==="approve"?d:h} 오류:`,O),alert(`오류 발생: ${O}`)}}or(async()=>{await c()}),Ae();var b=fm(),p=vt(b),g=l(p),y=u(p,2),w=l(y),$=l(w),k=l($),T=l(k),L=l(T),q=u(T),R=l(q),F=u(q),G=l(F),z=u($),P=l(z);mt(P,()=>i(o),B=>{var m=cm(),S=l(m),A=l(S);V(()=>x(A,`${(s()?"로딩 중":"Loading")??""}...`)),C(B,m)},B=>{var m=ue(),S=vt(m);mt(S,()=>i(a).length===0,A=>{var O=um(),U=l(O),D=l(U);V(()=>x(D,s()?"기록이 없습니다":"No Data")),C(A,O)},A=>{var O=ue(),U=vt(O);be(U,1,()=>i(a),xe,(D,H)=>{var Y=dm(),st=l(Y),J=l(st);V(()=>x(J,new Date(i(H).date).toLocaleDateString()));var X=u(st),rt=l(X);V(()=>x(rt,n()?i(H).loser.replace("_m",""):i(H).loser));var at=u(X),nt=l(at);nt.textContent=d;var Z=u(nt,2);Z.textContent=h,tt("click",nt,()=>v("approve",i(H).orderNum)),tt("click",Z,()=>v("delete",i(H).orderNum)),C(D,Y)}),C(A,O)},!0),C(B,m)}),V(()=>{x(g,`${n()??""} ${(s()?"기록 승인하기":"Record Accept")??""}`),x(L,s()?"날짜":"Date"),x(R,s()?"패자":"Loser"),x(G,s()?"승인":"OK")}),C(r,b),ve()}var pm=W("<option> </option>"),vm=W("<option> </option>"),mm=W("<option> </option>"),gm=W("<option> </option>"),bm=W("<option> </option>"),_m=W("<option> </option>"),ym=W("<option> </option>"),wm=W("<option> </option>"),xm=W("<option> </option>"),$m=W("<option> </option>"),km=W("<option> </option>"),Em=W("<option> </option>"),Am=W('<div class="switch-container svelte-13mucbt"><div><div class="slider svelte-13mucbt"></div></div> <div class="slider-label svelte-13mucbt"> </div></div> <br>',1),Tm=W('<h3 class="message-title"> </h3> <div class="message-body svelte-13mucbt"><input type="text" class="titlewidth input-text svelte-13mucbt"> <select class="optionwidth input-text svelte-13mucbt"><option> </option><option> </option><option> </option><option> </option><option> </option></select> <select class="optionwidth input-text svelte-13mucbt"><option> </option><option> </option><option> </option><option> </option></select> <br> <input list="nicknames1" class="namewidth input-text svelte-13mucbt"> <datalist id="nicknames1"></datalist> <input list="nicknames2"> <datalist id="nicknames2"></datalist> <input list="nicknames3"> <datalist id="nicknames3"></datalist> <input list="nicknames4"> <datalist id="nicknames4"></datalist> <br> <span> </span> <input list="nicknames5"> <datalist id="nicknames5"></datalist> <input list="nicknames6"> <datalist id="nicknames6"></datalist> <input list="nicknames7"> <datalist id="nicknames7"></datalist> <input list="nicknames8"> <datalist id="nicknames8"></datalist> <br> <span> </span> <input list="nicknames9"> <datalist id="nicknames9"></datalist> <input list="nicknames10"> <datalist id="nicknames10"></datalist> <input list="nicknames11"> <datalist id="nicknames11"></datalist> <input list="nicknames12"> <datalist id="nicknames12"></datalist> <br> <!> <button class="emphasis-button"> </button></div>',1);function Sm(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(br,"$myaccount",e),a=()=>I(Ie,"$lang",e),o=()=>I(wa,"$nicknames",e),c=()=>I(ln,"$admin",e),d=N();or(async()=>{ui(n())});let h=N(),v=N(),b=N(),p=N(),g=N(),y=N(),w=N(),$=N(),k=N(),T=N(),L=N(),q=N(),R=N(1),F=N(),G=N(),z=N(!1);function P(pt,xt){return xt.includes(pt)?pt:""}function B(){i(R)<2&&_(v,_(y,_(T,""))),i(R)<3&&_(b,_(w,_(L,""))),i(R)<4&&_(p,_($,_(q,""))),i(F)<4&&_(g,_(y,_(w,_($,"")))),i(F)<8&&_(k,_(T,_(L,_(q,""))));const pt=[i(h),i(v),i(b),i(p),i(g),i(y),i(w),i($),i(k),i(T),i(L),i(q)];return new Set(pt.filter(Boolean)).size===pt.filter(Boolean).length}async function m(){if(!B()){alert(a()?"중복 기록된 선수가 있습니다":"Do Not input one player twice");return}const pt={Championship1:i(h),Championship2:i(v),Championship3:i(b),Championship4:i(p),Runner_up1:i(g),Runner_up2:i(y),Runner_up3:i(w),Runner_up4:i($),Place3rd1:i(k),Place3rd2:i(T),Place3rd3:i(L),Place3rd4:i(q),eventname:i(G),numberteams:i(F),teamSize:i(R),Eventhost:i(d),mode:n()};try{(await Mt("/event/submit","POST",pt)).status===201&&alert(a()?"기록 전송 완료":"Event Result Saved")}catch(xt){console.error("오류 발생:",xt),alert(`오류 발생: ${xt}`)}}function S(pt){_(h,P(pt.target.value,o()))}function A(pt){_(v,P(pt.target.value,o()))}function O(pt){_(b,P(pt.target.value,o()))}function U(pt){_(p,P(pt.target.value,o()))}function D(pt){_(g,P(pt.target.value,o()))}function H(pt){_(y,P(pt.target.value,o()))}function Y(pt){_(w,P(pt.target.value,o()))}function st(pt){_($,P(pt.target.value,o()))}function J(pt){_(k,P(pt.target.value,o()))}function X(pt){_(T,P(pt.target.value,o()))}function rt(pt){_(L,P(pt.target.value,o()))}function at(pt){_(q,P(pt.target.value,o()))}function nt(pt){_(G,pt.target.value)}function Z(pt){_(F,pt.target.value)}function K(pt){_(R,pt.target.value)}de(()=>(i(z),s()),()=>{_(d,i(z)?"admin":s())}),Wr(),Ae();var ut=Tm(),et=vt(ut),ft=l(et),ot=u(et,2),Q=l(ot),it=u(Q,2);V(()=>{i(F),hs(()=>{a()})});var ht=l(it);ht.value=(ht.__value="2")==null?"":"2";var _t=l(ht),$t=u(ht);$t.value=($t.__value="4")==null?"":"4";var Bt=l($t),Qt=u($t);Qt.value=(Qt.__value="8")==null?"":"8";var Jt=l(Qt),Vt=u(Qt);Vt.value=(Vt.__value="16")==null?"":"16";var Ct=l(Vt),Tt=u(Vt);Tt.value=(Tt.__value="24")==null?"":"24";var Ht=l(Tt),Et=u(it,2);V(()=>{i(R),hs(()=>{a()})});var gt=l(Et);gt.value=(gt.__value="1")==null?"":"1";var kt=l(gt),It=u(gt);It.value=(It.__value="2")==null?"":"2";var Ut=l(It),Ft=u(It);Ft.value=(Ft.__value="3")==null?"":"3";var Dt=l(Ft),Nt=u(Ft);Nt.value=(Nt.__value="4")==null?"":"4";var Rt=l(Nt),Wt=u(Et,3),ae=u(Wt),ne=u(ae,2);be(ne,5,o,xe,(pt,xt)=>{var At=pm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var le=u(ne,2),_e=u(le,2);be(_e,5,o,xe,(pt,xt)=>{var At=vm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var me=u(_e,2),$e=u(me,2);be($e,5,o,xe,(pt,xt)=>{var At=mm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var Zt=u($e,2),Xt=u(Zt,2);be(Xt,5,o,xe,(pt,xt)=>{var At=gm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var se=u(Xt,4),te=l(se),ce=u(se,2),fe=u(ce,2);be(fe,5,o,xe,(pt,xt)=>{var At=bm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var he=u(fe,2),Pe=u(he,2);be(Pe,5,o,xe,(pt,xt)=>{var At=_m(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var Ot=u(Pe,2),je=u(Ot,2);be(je,5,o,xe,(pt,xt)=>{var At=ym(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var Be=u(je,2),Ue=u(Be,2);be(Ue,5,o,xe,(pt,xt)=>{var At=wm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var dr=u(Ue,4),lr=l(dr),nr=u(dr,2),vr=u(nr,2);be(vr,5,o,xe,(pt,xt)=>{var At=xm(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var Xe=u(vr,2),Ce=u(Xe,2);be(Ce,5,o,xe,(pt,xt)=>{var At=$m(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var cr=u(Ce,2),fr=u(cr,2);be(fr,5,o,xe,(pt,xt)=>{var At=km(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var sr=u(fr,2),Cr=u(sr,2);be(Cr,5,o,xe,(pt,xt)=>{var At=Em(),ee={},re=l(At);V(()=>{ee!==(ee=i(xt))&&(At.value=(At.__value=i(xt))==null?"":i(xt)),x(re,i(xt))}),C(pt,At)});var kr=u(Cr,4);mt(kr,()=>c().includes(n()),pt=>{var xt=Am(),At=vt(xt),ee=l(At),re=u(ee,2),_r=l(re);V(()=>{Je(ee,`toggle-switch ${(i(z)?"on":"")??""} svelte-13mucbt`),x(_r,i(z)?"운영진 주최":"개인 주최")}),tt("click",ee,()=>{_(z,!i(z))}),C(pt,xt)});var qe=u(kr,2),mr=l(qe);V(()=>{x(ft,`${n()??""} ${(a()?"토너먼트 기록":"Event Results")??""}`),Ee(Q,"placeholder",a()?"대회 이름":"Title"),x(_t,a()?"2팀(듀얼)":"Duel"),x(Bt,a()?"3-5팀(4강)":"3-5 Teams"),x(Jt,a()?"6-11팀(8강)":"6-11 Teams"),x(Ct,a()?"12팀 이상(16강)":"More than 12 Teams"),x(Ht,a()?"정규전":"Official"),x(kt,a()?"1인 1팀":"TeamSize 1"),x(Ut,a()?"2인 1팀":"TeamSize 2"),x(Dt,a()?"3인 1팀":"TeamSize 3"),x(Rt,a()?"4인 1팀":"TeamSize 4"),x(Wt,` ${(a()?"우승":"1st")??""} `),Ee(ae,"placeholder",a()?"선택하세요":"Select Player"),Ee(le,"placeholder",a()?"선택하세요":"Select Player"),Je(le,`namewidth input-text ${(i(R)<2?"hidden":null)??""} svelte-13mucbt`),Je(me,`namewidth input-text ${(i(R)<3?"hidden":null)??""} svelte-13mucbt`),Ee(me,"placeholder",a()?"선택하세요":"Select Player"),Je(Zt,`namewidth input-text ${(i(R)<4?"hidden":null)??""} svelte-13mucbt`),Ee(Zt,"placeholder",a()?"선택하세요":"Select Player"),Je(se,`${(i(F)<4?"hidden":null)??""} svelte-13mucbt`),x(te,a()?"2위":"2nd"),Je(ce,`namewidth input-text ${(i(F)<4?"hidden":null)??""} svelte-13mucbt`),Ee(ce,"placeholder",a()?"선택하세요":"Select Player"),Je(he,`namewidth input-text ${(i(F)<4||i(R)<2?"hidden":null)??""} svelte-13mucbt`),Ee(he,"placeholder",a()?"선택하세요":"Select Player"),Je(Ot,`namewidth input-text ${(i(F)<4||i(R)<3?"hidden":null)??""} svelte-13mucbt`),Ee(Ot,"placeholder",a()?"선택하세요":"Select Player"),Je(Be,`namewidth input-text ${(i(F)<4||i(R)<4?"hidden":null)??""} svelte-13mucbt`),Ee(Be,"placeholder",a()?"선택하세요":"Select Player"),Je(dr,`${(i(F)<8?"hidden":null)??""} svelte-13mucbt`),x(lr,a()?"3위":"3rd"),Je(nr,`namewidth input-text ${(i(F)<8?"hidden":null)??""} svelte-13mucbt`),Ee(nr,"placeholder",a()?"선택하세요":"Select Player"),Je(Xe,`namewidth input-text ${(i(F)<8||i(R)<2?"hidden":null)??""} svelte-13mucbt`),Ee(Xe,"placeholder",a()?"선택하세요":"Select Player"),Je(cr,`namewidth input-text ${(i(F)<8||i(R)<3?"hidden":null)??""} svelte-13mucbt`),Ee(cr,"placeholder",a()?"선택하세요":"Select Player"),Je(sr,`namewidth input-text ${(i(F)<8||i(R)<4?"hidden":null)??""} svelte-13mucbt`),Ee(sr,"placeholder",a()?"선택하세요":"Select Player"),x(mr,a()?"기록 전송":"Send Result")}),M(Q,()=>i(G),pt=>_(G,pt)),tt("change",Q,nt),ps(it,()=>i(F),pt=>_(F,pt)),tt("change",it,Z),ps(Et,()=>i(R),pt=>_(R,pt)),tt("change",Et,K),M(ae,()=>i(h),pt=>_(h,pt)),tt("blur",ae,S),M(le,()=>i(v),pt=>_(v,pt)),tt("blur",le,A),M(me,()=>i(b),pt=>_(b,pt)),tt("blur",me,O),M(Zt,()=>i(p),pt=>_(p,pt)),tt("blur",Zt,U),M(ce,()=>i(g),pt=>_(g,pt)),tt("blur",ce,D),M(he,()=>i(y),pt=>_(y,pt)),tt("blur",he,H),M(Ot,()=>i(w),pt=>_(w,pt)),tt("blur",Ot,Y),M(Be,()=>i($),pt=>_($,pt)),tt("blur",Be,st),M(nr,()=>i(k),pt=>_(k,pt)),tt("blur",nr,J),M(Xe,()=>i(T),pt=>_(T,pt)),tt("blur",Xe,X),M(cr,()=>i(L),pt=>_(L,pt)),tt("blur",cr,rt),M(sr,()=>i(q),pt=>_(q,pt)),tt("blur",sr,at),tt("click",qe,()=>m()),C(r,ut),ve()}var Nm=W('<tbody><tr><td colspan="3" class="text-center svelte-yaw264"> </td></tr></tbody>'),Om=W('<tbody><tr><td colspan="3" class="text-center svelte-yaw264"> </td></tr></tbody>'),Lm=W('<tr><td> </td><td> </td><td><button class="small simple-button svelte-yaw264"> </button> <button class="small simple-button svelte-yaw264"> </button></td></tr>'),Cm=W("<tbody></tbody>"),Rm=W('<h3 class="message-title"> </h3> <div class="message-body"><table class="svelte-yaw264"><thead><tr><th class="record-table-date svelte-yaw264"> </th><th class="record-table-loser svelte-yaw264"> </th><th class="record-table-score svelte-yaw264"> </th></tr></thead><!></table></div>',1);function qm(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(Ie,"$lang",e);let a=N([]),o=N(!0);async function c(){const G=`/rank/challenge/${n()}/show`;try{const z=await Mt(G,"POST");if(!z.ok)throw new Error(`오류 발생: ${z.status}`);_(a,await z.json())}catch(z){console.error("데이터 불러오기 오류:",z.message),alert(z)}finally{_(o,!1)}}async function d(G,z){const P=G==="win"?"/record/challenge/win":"/record/challenge/lose",B={challenger:z,mode:n()},m=s()?"도전을 승인하였습니다, 결과는 대전 기록에서 입력해주세요.":"You accepted challenge. You should input result on 'Records'",S=s()?"경기를 포기하여 자동 패배처리합니다":"You give up games, your records add 1 lost game";try{const A=await Mt(P,"POST",B);if(A.ok)alert(G==="win"?m:S),c();else throw new Error(`Error Code: ${A.status}`)}catch(A){console.error(`${G==="win"?"승인":"삭제"} 오류:`,A.message),alert(`오류 발생: ${A.message}`)}}or(()=>{c()}),Ae();var h=Rm(),v=vt(h),b=l(v),p=u(v,2),g=l(p),y=l(g),w=l(y),$=l(w),k=l($),T=u($),L=l(T),q=u(T),R=l(q),F=u(y);mt(F,()=>i(o),G=>{var z=Nm(),P=l(z),B=l(P),m=l(B);V(()=>x(m,`${(s()?"로딩 중":"Loading")??""}...`)),C(G,z)},G=>{var z=ue(),P=vt(z);mt(P,()=>i(a).length===0,B=>{var m=Om(),S=l(m),A=l(S),O=l(A);V(()=>x(O,s()?"기록이 없습니다":"No Data")),C(B,m)},B=>{var m=Cm();be(m,5,()=>i(a),xe,(S,A)=>{var O=Lm(),U=l(O),D=l(U);V(()=>x(D,new Date(i(A).challengeDate).toLocaleDateString()));var H=u(U),Y=l(H);V(()=>x(Y,n()?i(A).nickname.replace("_m",""):i(A).nickname));var st=u(H),J=l(st),X=l(J),rt=u(J,2),at=l(rt);V(()=>{x(X,s()?"경기":"Play"),x(at,s()?"포기":"Give Up")}),tt("click",J,()=>d("win",i(A).nickname)),tt("click",rt,()=>d("lose",i(A).nickname)),C(S,O)}),C(B,m)},!0),C(G,z)}),V(()=>{x(b,s()?"도전 승인하기":"Challenge Accept"),x(k,s()?"날짜":"Date"),x(L,s()?"도전자":"Challenger"),x(R,s()?"결과":"Result")}),C(r,h),ve()}var Im=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text"> <input class="input-text" type="password"> <button class="emphasis-button block"> </button></div> <button class="message-button"> </button> <button class="message-button"> </button>',1);function jm(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e);let s=N(""),a=N("");async function o(){let L={nickname:i(s),password:i(a)};try{const R=await Mt("/auth/login","POST",L);if(R.status===200){const F=await R.json(),G=F.accessToken;G&&Os.set(G),gs.set(F.username),Kn.set(F.babapk||""),Vn.set(F.zpke||""),Gn.set(F.mpk||""),lc.set(F.how||""),Zs.set(F.email||""),He.set("none"),ln.set(F.admin)}else alert("로그인 실패")}catch(q){alert(q)}}Ae();var c=Im(),d=vt(c),h=l(d),v=u(d,2),b=l(v),p=u(b,2),g=u(p,2),y=l(g),w=u(v,2),$=l(w),k=u(w,2),T=l(k);V(()=>{x(h,n()?"계정 로그인":"Sign Up"),Ee(b,"placeholder",n()?"계정":"Account"),Ee(p,"placeholder",n()?"암호":"Password"),x(y,n()?"로그인":"Sign Up"),x($,n()?"계정찾기":"Find Account"),x(T,n()?"가입하기":"Register")}),M(b,()=>i(s),L=>_(s,L)),M(p,()=>i(a),L=>_(a,L)),tt("click",g,()=>o()),tt("click",w,()=>He.set("findaccount")),tt("click",k,()=>He.set("register")),C(r,c),ve()}var Pm=W('<h3 class="message-title"> </h3> <div class="message-body"><input class="input-text" type="text"> <button class="emphasis-button block"> </button></div> <button class="simple-button block"> </button>',1);function Dm(r,t){pe(t,!1);const e=we(),n=()=>I(Po,"$modeinput",e),s=()=>I(Re,"$mode",e),a=()=>I(Ie,"$lang",e);let o=N();async function c(){const k={nickname:i(o),mode:n()||s()};if(!/^[\u4E00-\u9FFF\u3400-\u4DBF\u20000-\u2EBFF\u2E80-\u2EFF\u2F00-\u2FDF\u3007\uAC00-\uD7A3a-zA-Z]{2,20}$/.test(i(o)))alert(a()?"캐릭터 닉네임을 바르게 지어주세요! 닉네임은 한글, 영어, 한자만 가능합니다":"Please create a proper character nickname! Nicknames can only contain Korean, English, or Chinese characters.");else try{const L=await Mt("/connect/new","POST",k);L.status===201?(alert(a()?"캐릭터 생성에 성공했습니다!":"Registered Success"),He.set("none"),k.mode==="babapk"?Kn.set(i(o)):k.mode==="mpk"?Gn.set(i(o)):k.mode==="zpke"&&Vn.set(i(o))):L.status===409?alert(a()?"캐릭터 이름을 사용할 수 없습니다":"You can't use this name"):L.status===403&&alert(a()?"수정이 불가능합니다":"You can't modify it")}catch(L){alert(L)}}Ae();var d=Pm(),h=vt(d),v=l(h),b=u(h,2),p=l(b),g=u(p,2),y=l(g),w=u(b,2),$=l(w);V(()=>{x(v,`${n()??""} ${(a()?"캐릭터 생성하기":"Character Register")??""}`),Ee(p,"placeholder",a()?"캐릭터 이름":"Character Name"),x(y,a()?"캐릭 생성":"Create Character"),x($,a()?"캐릭 연동":"Connect Legacy Character")}),M(p,()=>i(o),k=>_(o,k)),tt("click",g,()=>c()),tt("click",w,()=>He.set("add")),C(r,d),ve()}var Mm=W('<div class="message-container"><div class="message-box"><button class="close-button">&times;</button> <!></div></div>');function Bm(r,t){pe(t,!1);const e=we(),n=()=>I(Xa,"$key",e),s=()=>I(He,"$form",e);function a(h){h.key==="Escape"&&o()}or(()=>{window.addEventListener("keydown",a)}),Xd(()=>{window.removeEventListener("keydown",a),Po.set("")});function o(){Xa.set(n()+1),He.set("none")}Ae();var c=ue(),d=vt(c);mt(d,()=>s()!=="none",h=>{var v=Mm(),b=l(v),p=l(b),g=u(p,2);mt(g,()=>s()==="add",y=>{Dv(y,{})},y=>{var w=ue(),$=vt(w);mt($,()=>s()==="unionlogin",k=>{jm(k,{})},k=>{var T=ue(),L=vt(T);mt(L,()=>s()==="findaccount",q=>{Bv(q,{})},q=>{var R=ue(),F=vt(R);mt(F,()=>s()==="register",G=>{Jv(G,{})},G=>{var z=ue(),P=vt(z);mt(P,()=>s()==="myinfo",B=>{Qv(B,{})},B=>{var m=ue(),S=vt(m);mt(S,()=>s()==="changeemail",A=>{em(A,{})},A=>{var O=ue(),U=vt(O);mt(U,()=>s()==="changepw",D=>{nm(D,{})},D=>{var H=ue(),Y=vt(H);mt(Y,()=>s()==="deleteaccount",st=>{am(st,{})},st=>{var J=ue(),X=vt(J);mt(X,()=>s()==="recordcreate",rt=>{lm(rt,{})},rt=>{var at=ue(),nt=vt(at);mt(nt,()=>s()==="recordok",Z=>{hm(Z,{})},Z=>{var K=ue(),ut=vt(K);mt(ut,()=>s()==="newevent",et=>{Sm(et,{})},et=>{var ft=ue(),ot=vt(ft);mt(ot,()=>s()==="challenge",Q=>{qm(Q,{})},Q=>{var it=ue(),ht=vt(it);mt(ht,()=>s()==="connect",_t=>{Dm(_t,{})},null,!0),C(Q,it)},!0),C(et,ft)},!0),C(Z,K)},!0),C(rt,at)},!0),C(st,J)},!0),C(D,H)},!0),C(A,O)},!0),C(B,m)},!0),C(G,z)},!0),C(q,R)},!0),C(k,T)},!0),C(y,w)}),tt("click",p,()=>o()),C(h,v)}),C(r,c),ve()}var Um=W("<p> </p>"),Fm=W("<p> </p>"),zm=W('<img class="ranksize svelte-11wjp0s" src="/img/diamond.png" alt="1st">'),Hm=W('<img class="ranksize svelte-11wjp0s" src="/img/platinum.png" alt="10%">'),Km=W('<img class="ranksize svelte-11wjp0s" src="/img/gold.png" alt="30%">'),Gm=W('<img class="ranksize svelte-11wjp0s" src="/img/silver.png" alt="60%">'),Vm=W('<img class="ranksize svelte-11wjp0s" src="/img/bronze.png" alt="100%">'),Wm=W('<img class="ranksize svelte-11wjp0s" src="/img/zpke-challenger.jpg" alt="Top3">'),Ym=W('<img class="ranksize svelte-11wjp0s" src="/img/zpke-diamond.jpg" alt="25%">'),Jm=W('<img class="ranksize svelte-11wjp0s" src="/img/zpke-gold.jpg" alt="50%">'),Zm=W('<img class="ranksize svelte-11wjp0s" src="/img/zpke-silver.jpg" alt="75%">'),Xm=W('<img class="ranksize svelte-11wjp0s" src="/img/zpke-bronze.jpg" alt="100%">'),Qm=W('<input type="text" class="memo-input svelte-11wjp0s"> <button class="simple-button">작성</button>',1),t1=W("<span> </span>"),e1=W('<button class="simple-button"> </button>'),r1=W('<tr class="svelte-11wjp0s"><td colspan="5" class="detail-row svelte-11wjp0s"> <br> <br> <br> <br> <br> <!> <br> <!></td></tr>'),n1=W('<tr class="svelte-11wjp0s"><td class="svelte-11wjp0s"><!></td><td class="svelte-11wjp0s"> </td><td class="svelte-11wjp0s"> </td><td class="svelte-11wjp0s"> </td></tr> <!>',1),s1=W('<table class="rank-table svelte-11wjp0s"><thead><tr class="svelte-11wjp0s"><th class="svelte-11wjp0s"> </th><th class="svelte-11wjp0s"> </th><th class="svelte-11wjp0s"> </th><th class="svelte-11wjp0s"> </th></tr></thead><tbody></tbody></table>'),a1=W('<span class="badge">NEW</span>'),i1=W('<div class="fixed-button-div"><button class="simple-button"> <!></button></div>'),o1=W('<div class="table-outline"><!></div> <!>',1);function l1(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e),s=()=>I(Re,"$mode",e),a=()=>I(br,"$myaccount",e),o=()=>I(ln,"$admin",e);let c=N([]),d=N(!0),h=N(null),v=N(null),b=N([]),p=N(!1),g=N(""),y=n()?"기록하기":"Input Memo";async function w(){let P,B=1,m=1,S="/rank/"+s();try{const A=await fetch(S);if(!A.ok)throw new Error("연결 에러입니다");_(c,await A.json()),_(c,i(c).map(O=>({...O,memoModify:!1}))),i(c).sort((O,U)=>U.TScore-O.TScore),P=i(c).length||1;for(let O=0;O<i(c).length;O++)i(c)[O].wins+i(c)[O].loses!==0?(O>0&&i(c)[O].TScore===i(c)[O-1].TScore?Dr(c,i(c)[O].rank=B):(Dr(c,i(c)[O].rank=m),B=m),m++):Dr(c,i(c)[O].rank=P),a()===i(c)[O].nickname&&_(v,i(c)[O].rank)}catch(A){_(h,A)}finally{_(d,!1)}}async function $(P){const B={nickname:P,mode:s()};try{const m=await Mt("/rank/challenge","POST",B);m.status===201?alert(n()?`${P.replace("_m","")}님에게 도전을 신청하였습니다`:`You challenged to ${P}`):m.status===400?alert(n()?"당신은 이미 도전 신청을 한 상태입니다":"You should cancel or finished your challenge first"):m.status===403?alert(n()?`${P.replace("_m","")}님은 휴가중으로 도전을 받을 수 없는 상태입니다`:`You can't challenge to ${P} now`):m.status===404&&alert(n()?"서버 오류입니다":"Server Error")}catch{alert(n()?"서버 오류입니다":"Server Error")}}function k(P){Dr(b,i(b)[P]=!i(b)[P]),_(b,[...i(b)])}or(()=>{const P=Xa.subscribe(B=>{w(),T()});return()=>{P()}});async function T(){const P=`/rank/challenge/${s()}/show`;if(a())try{const B=await Mt(P,"POST");if(!B.ok)throw new Error(n()?`오류 발생: ${B.status}`:"Error: "+B.status);(await B.json()).length===0?_(p,!1):_(p,!0)}catch(B){console.error("데이터 불러오기 오류:",B.message)}}function L(P){if(o().includes(s())){for(let B=0;B<i(c).length;B++)Dr(c,i(c)[B].memoModify=!1);_(g,i(c)[P].memo),Dr(c,i(c)[P].memoModify=!0)}}async function q(P){const B={nickname:i(c)[P].nickname,memo:i(g),mode:s()};if(o().includes(s()))try{(await Mt("/rank/memo","PATCH",B)).ok&&(alert(n()?"메모 수정 완료하였습니다":"Memo modified complete"),w())}catch(m){alert(n()?"오류가 발생하였습니다"+m:"Error: "+m)}finally{Dr(c,i(c)[P].memoModify=!1)}}Ae();var R=o1(),F=vt(R),G=l(F);mt(G,()=>i(d),P=>{var B=Um(),m=l(B);V(()=>x(m,`${(n()?"로딩 중":"Loading")??""}...`)),C(P,B)},P=>{var B=ue(),m=vt(B);mt(m,()=>i(h),S=>{var A=Fm(),O=l(A);V(()=>x(O,`Error: ${i(h).message??""}`)),C(S,A)},S=>{var A=s1(),O=l(A),U=l(O),D=l(U),H=l(D),Y=u(D),st=l(Y),J=u(Y),X=l(J),rt=u(J),at=l(rt),nt=u(O);be(nt,5,()=>i(c),xe,(Z,K,ut)=>{var et=n1(),ft=vt(et),ot=l(ft),Q=l(ot);mt(Q,()=>s()!="zpke",Vt=>{var Ct=ue(),Tt=vt(Ct);mt(Tt,()=>i(K).rank===1,Ht=>{var Et=zm();C(Ht,Et)},Ht=>{var Et=ue(),gt=vt(Et);mt(gt,()=>i(K).rank/i(c).length<=.1,kt=>{var It=Hm();C(kt,It)},kt=>{var It=ue(),Ut=vt(It);mt(Ut,()=>i(K).rank/i(c).length<=.2,Ft=>{var Dt=Km();C(Ft,Dt)},Ft=>{var Dt=ue(),Nt=vt(Dt);mt(Nt,()=>i(K).rank/i(c).length<=.6,Rt=>{var Wt=Gm();C(Rt,Wt)},Rt=>{var Wt=Vm();C(Rt,Wt)},!0),C(Ft,Dt)},!0),C(kt,It)},!0),C(Ht,Et)}),C(Vt,Ct)},Vt=>{var Ct=ue(),Tt=vt(Ct);mt(Tt,()=>i(K).rank<=3,Ht=>{var Et=Wm();C(Ht,Et)},Ht=>{var Et=ue(),gt=vt(Et);mt(gt,()=>i(K).rank/i(c).length<=.25,kt=>{var It=Ym();C(kt,It)},kt=>{var It=ue(),Ut=vt(It);mt(Ut,()=>i(K).rank/i(c).length<=.5,Ft=>{var Dt=Jm();C(Ft,Dt)},Ft=>{var Dt=ue(),Nt=vt(Dt);mt(Nt,()=>i(K).rank/i(c).length<=.75,Rt=>{var Wt=Zm();C(Rt,Wt)},Rt=>{var Wt=Xm();C(Rt,Wt)},!0),C(Ft,Dt)},!0),C(kt,It)},!0),C(Ht,Et)}),C(Vt,Ct)});var it=u(ot),ht=l(it);V(()=>x(ht,i(K).nickname.replace("_m","").replace("_z","")));var _t=u(it),$t=l(_t);V(()=>x($t,`${(i(K).wins+i(K).losses>0?(Math.round(1e4*(i(K).wins/(i(K).wins+i(K).losses)))/100).toFixed(2):"0.00")??""}%`));var Bt=u(_t),Qt=l(Bt);V(()=>x(Qt,(Math.round(i(K).TScore*100)/100).toFixed(2)));var Jt=u(ft,2);mt(Jt,()=>i(b)[ut],Vt=>{var Ct=r1(),Tt=l(Ct),Ht=l(Tt);V(()=>x(Ht,`${(n()?"대전점수":"Battle Score")??""}: ${(Math.round(i(K).BScore*100)/100).toFixed(2)??""}`));var Et=u(Ht,2),gt=u(Et,2),kt=u(gt,2);V(()=>x(kt,` Elo: ${(Math.round(i(K).Elo*100)/100).toFixed(2)??""}`));var It=u(kt,2),Ut=u(It,2),Ft=u(Ut);mt(Ft,()=>i(K).memoModify,Nt=>{var Rt=Qm(),Wt=vt(Rt),ae=u(Wt,2);M(Wt,()=>i(g),ne=>_(g,ne)),tt("keydown",Wt,ne=>{ne.key==="Enter"&&q(ut)}),tt("click",ae,()=>q(ut)),C(Nt,Rt)},Nt=>{var Rt=t1();const Wt=ir(()=>o().includes(s())?"modify":"");var ae=l(Rt);V(()=>{Je(Rt,i(Wt)),x(ae,typeof i(K).memo=="string"?i(K).memo:y)}),tt("click",Rt,()=>L(ut)),C(Nt,Rt)});var Dt=u(Ft,4);mt(Dt,()=>Number(i(v))>Number(i(K).rank)&&s()!="babapk",Nt=>{var Rt=e1(),Wt=l(Rt);V(()=>x(Wt,n()?"도전하기":"Challenge")),tt("click",Rt,()=>$(i(K).nickname)),C(Nt,Rt)}),V(()=>{x(Et,` ${(n()?"대회점수":"Event Score")??""}: ${i(K).LScore??""}`),x(gt,` ${(n()?"순위":"Rank")??""}: ${i(K).rank??""}`),x(It,` ${i(K).wins??""} / ${i(K).losses??""}`),x(Ut,` ${(n()?"메모":"Memo")??""} : `)}),C(Vt,Ct)}),tt("click",ft,()=>k(ut)),C(Z,et)}),V(()=>{x(H,n()?"등급":"Tier"),x(st,n()?"닉네임":"Nickname"),x(X,n()?"승률":"WinRate"),x(at,n()?"점수":"Score")}),C(S,A)},!0),C(P,B)});var z=u(F,2);mt(z,()=>a()&&(s()==="zpke"||s()==="mpk"),P=>{var B=i1(),m=l(B),S=l(m),A=u(S);mt(A,()=>i(p),O=>{var U=a1();C(O,U)}),V(()=>x(S,`${(n()?"도전승인":"My challengers")??""} `)),tt("click",m,()=>He.set("challenge")),C(P,B)}),C(r,R),ve()}var c1=W("<option> </option>"),u1=W("<p> </p>"),d1=W("<p></p>"),f1=W('<th class="svelte-1l37jtr"> </th>'),h1=W('<td class="svelte-1l37jtr"><button class="simple-button small svelte-1l37jtr"> </button></td>'),p1=W('<tr class="svelte-1l37jtr"><td class="svelte-1l37jtr"> </td><td class="svelte-1l37jtr"> </td><td class="svelte-1l37jtr"> </td><td class="svelte-1l37jtr"> </td><!></tr>'),v1=W('<button class="simple-button"> </button> <button class="simple-button"> </button>',1),m1=W("<button> </button>"),g1=W('<button class="simple-button"> </button> <button class="simple-button"> </button>',1),b1=W('<table class="data-table svelte-1l37jtr"><thead><tr class="svelte-1l37jtr"><th class="svelte-1l37jtr"> </th><th class="svelte-1l37jtr"> </th><th class="svelte-1l37jtr"> </th><th class="svelte-1l37jtr"> </th><!></tr></thead><tbody></tbody></table> <div class="pagination"><!> <!> <!></div>',1),_1=W('<span class="badge">NEW</span>'),y1=W('<div class="fixed-button-div"><button class="simple-button"> </button> <button class="simple-button"> <!></button></div>'),w1=W('<div class="filter svelte-1l37jtr"><input list="nicknames_filter" class="input-text" placeholder="필터 선택"> <datalist id="nicknames_filter"><option>모두 보기</option><!></datalist></div> <div class="table-outline"><!> <!></div>',1);function x1(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(Ie,"$lang",e),a=()=>I(wa,"$nicknames",e),o=()=>I(br,"$myaccount",e),c=()=>I(ln,"$admin",e),d=N(),h=N();let v=[],b=N(!0),p=null,g=N(1);const y=10;let w=N("All"),$=N([]),k=N([]),T=N(!1);async function L(){console.log(n());const X="/record/data?mode="+n();try{await ui(n());const rt=await Mt(X,"GET");if(!rt.ok)throw new Error("연결 에러입니다");v=await rt.json(),_($,R(v)),F()}catch{alert(s()?"서버 오류가 발생하여 자료를 불러올 수 없습니다":"Server Error")}finally{_(b,!1)}}or(()=>{const X=Xa.subscribe(()=>{L(),m()});return()=>{X()}});function q(X){_(g,X),F()}function R(X){return i(w)==="All"?X:X.filter(rt=>rt.winner&&rt.loser&&(rt.winner.replace("_m","").replace("_z","")===i(w)||rt.loser.replace("_m","").replace("_z","")===i(w)))}function F(){const X=(i(g)-1)*y,rt=X+y;_(k,i($).slice(X,rt))}function G(X){const rt=X.target;_(w,P(rt.value,a())||"All"),_(g,1),_($,R(v)),F()}function z(X,rt){const nt=[];let Z=Math.max(X-Math.floor(2.5),1),K=Z+5-1;K>rt&&(K=rt,Z=Math.max(K-5+1,1));for(let ut=Z;ut<=K;ut++)nt.push(ut);return nt}function P(X,rt){return rt.includes(X)?X:"All"}async function B(X){const rt={OrderNum:X,mode:n()};try{const at=await Mt("/record/delete","DELETE",rt);at.status===200?(alert(s()?"삭제 완료하였습니다":"Remove Complete"),L()):alert(`오류 발생: ${at.status}`)}catch(at){alert(`Error : ${at instanceof Error?at.message:"알 수 없는 오류"}`)}}async function m(){const X="/record/pending",rt={mode:n()};if(o())try{const at=await Mt(X,"POST",rt);if(!at.ok)throw new Error(`오류 발생: ${at.status}`);(await at.json()).length===0?_(T,!1):_(T,!0)}catch(at){console.error("Error :",at)}}de(()=>i($),()=>{_(d,Math.ceil(i($).length/y))}),de(()=>(i(g),i(d)),()=>{_(h,z(i(g),i(d)))}),Wr(),Ae();var S=w1(),A=vt(S),O=l(A),U=u(O,2),D=l(U);D.value=(D.__value="All")==null?"":"All";var H=u(D);be(H,1,()=>a().map(X=>X.replace("_m","")),xe,(X,rt)=>{var at=c1(),nt={},Z=l(at);V(()=>{nt!==(nt=i(rt))&&(at.value=(at.__value=i(rt))==null?"":i(rt)),x(Z,i(rt))}),C(X,at)});var Y=u(A,2),st=l(Y);mt(st,()=>i(b),X=>{var rt=u1(),at=l(rt);V(()=>x(at,`${(s()?"로딩 중":"Loading")??""}...`)),C(X,rt)},X=>{var rt=ue(),at=vt(rt);mt(at,()=>p,nt=>{var Z=d1();Z.textContent="Error: ",C(nt,Z)},nt=>{var Z=b1(),K=vt(Z),ut=l(K),et=l(ut),ft=l(et),ot=l(ft),Q=u(ft),it=l(Q),ht=u(Q),_t=l(ht),$t=u(ht),Bt=l($t),Qt=u($t);mt(Qt,()=>c().includes(n()),Et=>{var gt=f1(),kt=l(gt);V(()=>x(kt,s()?"삭제":"Set")),C(Et,gt)});var Jt=u(ut);be(Jt,5,()=>i(k),xe,(Et,gt)=>{let kt=()=>i(gt).orderNum,It=()=>i(gt).winner,Ut=()=>i(gt).loser,Ft=()=>i(gt).date;var Dt=p1(),Nt=l(Dt),Rt=l(Nt),Wt=u(Nt),ae=l(Wt);V(()=>x(ae,It().replace("_m","").replace("_z","")));var ne=u(Wt),le=l(ne);V(()=>x(le,Ut().replace("_m","").replace("_z","")));var _e=u(ne),me=l(_e),$e=u(_e);mt($e,()=>c().includes(n()),Zt=>{var Xt=h1(),se=l(Xt),te=l(se);V(()=>x(te,s()?"삭제":"Remove")),tt("click",se,()=>B(kt())),C(Zt,Xt)}),V(()=>{x(Rt,kt()),x(me,Ft())}),C(Et,Dt)});var Vt=u(K,2),Ct=l(Vt);mt(Ct,()=>i(g)>1,Et=>{var gt=v1(),kt=vt(gt),It=l(kt),Ut=u(kt,2),Ft=l(Ut);V(()=>{x(It,s()?"처음":"First"),x(Ft,s()?"이전":"Before")}),tt("click",kt,()=>q(1)),tt("click",Ut,()=>q(i(g)-1)),C(Et,gt)});var Tt=u(Ct,2);be(Tt,1,()=>i(h),xe,(Et,gt)=>{var kt=m1(),It=l(kt);V(()=>{Je(kt,i(gt)===i(g)?"emphasis-button":"simple-button"),x(It,i(gt))}),tt("click",kt,()=>q(i(gt))),C(Et,kt)});var Ht=u(Tt,2);mt(Ht,()=>i(g)<i(d),Et=>{var gt=g1(),kt=vt(gt),It=l(kt),Ut=u(kt,2),Ft=l(Ut);V(()=>{x(It,s()?"다음":"Next"),x(Ft,s()?"마지막":"Last")}),tt("click",kt,()=>q(i(g)+1)),tt("click",Ut,()=>q(i(d))),C(Et,gt)}),V(()=>{x(ot,s()?"번호":"No."),x(it,s()?"승자":"Win"),x(_t,s()?"패자":"Lose"),x(Bt,s()?"날짜":"Date")}),C(nt,Z)},!0),C(X,rt)});var J=u(st,2);mt(J,o,X=>{var rt=y1(),at=l(rt),nt=l(at),Z=u(at,2),K=l(Z),ut=u(K);mt(ut,()=>i(T),et=>{var ft=_1();C(et,ft)}),V(()=>{x(nt,s()?"기록하기":"Record"),x(K,`${(s()?"승인하기":"Accept")??""} `)}),tt("click",at,()=>He.set("recordcreate")),tt("click",Z,()=>He.set("recordok")),C(X,rt)}),M(O,()=>i(w),X=>_(w,X)),tt("blur",O,G),C(r,S),ve()}var $1=W("<p> </p>"),k1=W("<p> </p>"),E1=W('<button class="simple-button small svelte-t27p2x"> </button> <button class="simple-button small svelte-t27p2x"> </button>',1),A1=W('<button class="simple-button small svelte-t27p2x"> </button>'),T1=W('<input type="text" class="memo-input svelte-t27p2x"><button class="simple-button"> </button>',1),S1=W("<span> </span>"),N1=W('<tr class="svelte-t27p2x"><td colspan="4" class="svelte-t27p2x"><div class="details svelte-t27p2x"><strong> </strong><br> <br> <br> <br> <br> <!></div></td></tr>'),O1=W('<tr class="svelte-t27p2x"><td class="svelte-t27p2x"> </td><td class="svelte-t27p2x"><!></td><td class="svelte-t27p2x"> </td><td class="svelte-t27p2x"><!></td></tr> <!>',1),L1=W('<table class="svelte-t27p2x"><thead><tr class="svelte-t27p2x"><th class="svelte-t27p2x"> </th><th class="svelte-t27p2x"> </th><th class="svelte-t27p2x"> </th><th class="svelte-t27p2x"> </th></tr></thead><tbody></tbody></table>'),C1=W('<div class="fixed-button-div"><button class="simple-button"> </button></div>'),R1=W('<div class="table-container"><!></div> <!>',1);function q1(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e),s=()=>I(ln,"$admin",e),a=()=>I(Re,"$mode",e),o=()=>I(br,"$myaccount",e);let c=N([]),d=N(!0),h=N(null),v=N([]),b=N(),p=n()?"기록하기":"Input memo",g=n()?"대기":"Waiting",y=n()?"승인":"Accepted";function w(B){if(s().includes(a())){for(let m=0;m<i(c).length;m++)Dr(c,i(c)[m].modify=!1);_(b,i(c)[B].memo),Dr(c,i(c)[B].modify=!0)}}async function $(B){const m={eventname:i(c)[B].eventname,memotext:i(b),mode:a()};if(s().includes(a()))try{(await Mt("/event/memo","PATCH",m)).ok&&(alert(n()?"메모 수정 완료하였습니다":"Modified Completed"),q())}catch(S){alert(n()?"오류가 발생하였습니다"+S:"Error :"+S)}finally{Dr(c,i(c)[B].modify=!1)}}async function k(B){const m={event:i(c)[B],mode:a()};try{const A=await Mt("/event/cancel","DELETE",m);A&&A.ok&&alert(n()?"토너먼트 히스토리를 삭제하고 점수를 초기화하였습니다":"Results removed and returned score.")}catch(S){alert(n()?"에러가 발생하였습니다: "+S:"Error :"+S)}finally{q()}}async function T(B){const m={event:i(c)[B],mode:a()};try{const A=await Mt("/event/accept","POST",m);A&&A.status===201&&alert(n()?"토너먼트 히스토리를 승인하였습니다":"Event results registered")}catch(S){alert(n()?"에러가 발생하였습니다: "+S:"Error :"+S)}finally{q()}}async function L(B){try{const m="/event/delete",S={event:i(c)[B].eventname,mode:a()},A=await Mt(m,"DELETE",S);A&&A.status===200&&alert(n()?"토너먼트 히스토리를 삭제하였습니다":"Results deleted")}catch(m){alert(n()?"에러가 발생하였습니다: "+m:"Error :"+m)}finally{q()}}async function q(){try{const B=await Mt(`/event/history?mode=${a()}`,"GET");if(!B.ok)throw new Error("연결 에러입니다");_(c,await B.json()),_(c,i(c).map(m=>({...m,ok:m.accept===1?g:m.accept===2?y:m.ok,modify:!1}))),_(v,new Array(i(c).length).fill(!1))}catch(B){_(h,B)}finally{_(d,!1)}}or(()=>{const B=Xa.subscribe(()=>{q()});return()=>{B()}});function R(B){_(v,[...i(v)]),Dr(v,i(v)[B]=!i(v)[B])}Ae();var F=R1(),G=vt(F),z=l(G);mt(z,()=>i(d),B=>{var m=$1(),S=l(m);V(()=>x(S,`${(n()?"로딩 중":"Loading")??""}...`)),C(B,m)},B=>{var m=ue(),S=vt(m);mt(S,()=>i(h),A=>{var O=k1(),U=l(O);V(()=>x(U,`Error: ${i(h)??""}`)),C(A,O)},A=>{var O=L1(),U=l(O),D=l(U),H=l(D),Y=l(H),st=u(H),J=l(st),X=u(st),rt=l(X),at=u(X),nt=l(at),Z=u(U);be(Z,5,()=>i(c),xe,(K,ut,et)=>{var ft=O1(),ot=vt(ft),Q=l(ot),it=l(Q),ht=u(Q),_t=l(ht);mt(_t,()=>i(ut).numberteams===24,Ct=>{var Tt=an();V(()=>x(Tt,n()?"정규전":"Official")),C(Ct,Tt)},Ct=>{var Tt=an();V(()=>x(Tt,`${i(ut).numberteams??""}x${i(ut).teamSize??""}`)),C(Ct,Tt)});var $t=u(ht),Bt=l($t);V(()=>x(Bt,i(ut).Championship1.replace("_m","").replace("_z","")));var Qt=u($t),Jt=l(Qt);mt(Jt,()=>s().includes(a()),Ct=>{var Tt=ue(),Ht=vt(Tt);mt(Ht,()=>i(ut).ok===g,Et=>{var gt=E1(),kt=vt(gt),It=l(kt),Ut=u(kt,2),Ft=l(Ut);V(()=>{x(It,n()?"승인":"Accept"),x(Ft,n()?"삭제":"Remove")}),tt("click",kt,()=>T(et)),tt("click",Ut,()=>L(et)),C(Et,gt)},Et=>{var gt=A1(),kt=l(gt);V(()=>x(kt,n()?"취소":"Cancel")),tt("click",gt,()=>k(et)),C(Et,gt)}),C(Ct,Tt)},Ct=>{var Tt=an();V(()=>x(Tt,i(ut).ok)),C(Ct,Tt)});var Vt=u(ot,2);mt(Vt,()=>i(v)[et],Ct=>{var Tt=N1(),Ht=l(Tt),Et=l(Ht),gt=l(Et),kt=l(gt),It=u(gt,2);V(()=>x(It,` ${(n()?"주최자":"Host")??""}: ${i(ut).Eventhost.replace("_m","").replace("_z","")??""}`));const Ut=ir(()=>(n()?"우승":"1st")??""),Ft=ir(()=>(i(ut).Championship1?i(ut).Championship1.replace("_m","").replace("_z",""):"")??""),Dt=ir(()=>(i(ut).Championship2?i(ut).Championship2.replace("_m","").replace("_z",""):"")??""),Nt=ir(()=>(i(ut).Championship3?i(ut).Championship3.replace("_m","").replace("_z",""):"")??""),Rt=ir(()=>(i(ut).Championship4?i(ut).Championship4.replace("_m","").replace("_z",""):"")??"");var Wt=u(It,2);V(()=>x(Wt,` ${i(Ut)}: ${i(Ft)}
                    ${i(Dt)}
                    ${i(Nt)}
                    ${i(Rt)}`));const ae=ir(()=>(n()?"준우승":"2nd")??""),ne=ir(()=>(i(ut).Runner_up1?i(ut).Runner_up1.replace("_m","").replace("_z",""):"")??""),le=ir(()=>(i(ut).Runner_up2?i(ut).Runner_up2.replace("_m","").replace("_z",""):"")??""),_e=ir(()=>(i(ut).Runner_up3?i(ut).Runner_up3.replace("_m","").replace("_z",""):"")??""),me=ir(()=>(i(ut).Runner_up4?i(ut).Runner_up4.replace("_m","").replace("_z",""):"")??"");var $e=u(Wt,2);V(()=>x($e,` ${i(ae)}: ${i(ne)}
                    ${i(le)}
                    ${i(_e)}
                    ${i(me)}`));const Zt=ir(()=>(n()?"3위":"3rd")??""),Xt=ir(()=>(i(ut).Place3rd1?i(ut).Place3rd1.replace("_m","").replace("_z",""):"")??""),se=ir(()=>(i(ut).Place3rd2?i(ut).Place3rd2.replace("_m","").replace("_z",""):"")??""),te=ir(()=>(i(ut).Place3rd3?i(ut).Place3rd3.replace("_m","").replace("_z",""):"")??""),ce=ir(()=>(i(ut).Place3rd4?i(ut).Place3rd4.replace("_m","").replace("_z",""):"")??"");var fe=u($e,2);V(()=>x(fe,` ${i(Zt)}: ${i(Xt)}
                    ${i(se)}
                    ${i(te)}
                    ${i(ce)}`));var he=u(fe,2),Pe=u(he);mt(Pe,()=>i(ut).modify,Ot=>{var je=T1(),Be=vt(je),Ue=u(Be),dr=l(Ue);V(()=>x(dr,n()?"작성":"Ok")),M(Be,()=>i(b),lr=>_(b,lr)),tt("keydown",Be,lr=>{lr.key==="Enter"&&$(et)}),tt("click",Ue,()=>$(et)),C(Ot,je)},Ot=>{var je=S1();const Be=ir(()=>`${(s().includes(a())?"modify":"")??""} svelte-t27p2x`);var Ue=l(je);V(()=>{Je(je,i(Be)),x(Ue,typeof i(ut).memo=="string"?i(ut).memo:p)}),tt("click",je,()=>w(et)),C(Ot,je)}),V(()=>{x(kt,n()?"토너먼트 정보":"Event Info"),x(he,` ${(n()?"메모":"Memo")??""}: `)}),C(Ct,Tt)}),V(()=>x(it,i(ut).eventname)),tt("click",ot,()=>R(et)),C(K,ft)}),V(()=>{x(Y,n()?"대회명":"Title"),x(J,n()?"규모":"Size"),x(rt,n()?"우승자":"Winner"),x(nt,n()?"승인":"Accept")}),C(A,O)},!0),C(B,m)});var P=u(G,2);mt(P,o,B=>{var m=C1(),S=l(m),A=l(S);V(()=>x(A,n()?"기록하기":"Record")),tt("click",S,()=>He.set("newevent")),C(B,m)}),C(r,F),ve()}var I1=W('<div class="fixed-button-div"><!></div>'),j1=W('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),P1=W('<tr class="svelte-1puu09m"><td colspan="4" class="svelte-1puu09m"> </td></tr>'),D1=W('<tr class="svelte-1puu09m"><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"><!></td><td class="svelte-1puu09m"> </td><td class="svelte-1puu09m"> </td></tr>'),M1=W('<button class="simple-button"> </button>'),B1=W('<button class="simple-button"> </button>'),U1=W('<!> <select class="input-text svelte-1puu09m"><option> </option><option> </option><option> </option><option> </option></select> <input class="input-text svelte-1puu09m" type="text"> <button class="simple-button small svelte-1puu09m"> </button> <table class="svelte-1puu09m"><thead><tr class="svelte-1puu09m"><th class="table-head_board_date svelte-1puu09m"> </th><th class="table-head_board_title svelte-1puu09m"> </th><th class="table-head_board_writter svelte-1puu09m"> </th><th class="table-head_board_views svelte-1puu09m"> </th></tr></thead><tbody><!></tbody></table> <div class="pagination svelte-1puu09m"><!> <!></div>',1);function F1(r,t){pe(t,!1);const e=we(),n=()=>I(iu,"$category",e),s=()=>I(au,"$page",e),a=()=>I(Re,"$mode",e),o=()=>I(Ie,"$lang",e),c=()=>I(br,"$myaccount",e);let d=N(null),h=N(!0),v=N(null),b=N([]),p=N();or(()=>{$(n())});function g(Q){au.set(s()+Q),$(n())}const y="/"+a();async function w(Q){try{const it=`/board/search?data=${Q}&find=${i(d)}`,ht=await fetch(it);if(!ht.ok)throw new Error("Network response was not ok");const _t=await ht.json();_t.length===0?_(b,[{post_id:"-",date:"-",title:o()?"검색 결과가 없습니다":"No Data",writter:"-",views:0}]):_(b,_t.map($t=>({...$t,date:Va($t.date)}))),_(h,!1)}catch(it){console.error("Error:",it),_(v,it instanceof Error?it.message:String(it))}}async function $(Q){try{const it=`/board/list?data=${Q}&page=${s()}`,ht=await Mt(it,"GET");if(!ht.ok)throw new Error("Network response was not ok");const _t=await ht.json();_(b,_t.map($t=>({...$t,date:Va($t.date)}))),i(b).length===21?(i(b).pop,_(p,!0)):_(p,!1),_(h,!1),_(d,"")}catch(it){console.error("Error:",it),_(v,it instanceof Error?it.message:String(it))}}Ae();var k=U1(),T=vt(k);mt(T,c,Q=>{var it=I1(),ht=l(it);Ss(ht,{to:`${y}/write`,class:"simple-button",children:(_t,$t)=>{var Bt=an();V(()=>x(Bt,o()?"작성하기":"Write")),C(_t,Bt)},$$slots:{default:!0}}),C(Q,it)});var L=u(T,2);V(()=>{n(),hs(()=>{o()})});var q=l(L);q.value=(q.__value="all")==null?"":"all";var R=l(q),F=u(q);F.value=(F.__value="free")==null?"":"free";var G=l(F),z=u(F);z.value=(z.__value="trade")==null?"":"trade";var P=l(z),B=u(z);B.value=(B.__value="setting")==null?"":"setting";var m=l(B),S=u(L,2),A=u(S,2),O=l(A),U=u(A,2),D=l(U),H=l(D),Y=l(H),st=l(Y),J=u(Y),X=l(J),rt=u(J),at=l(rt),nt=u(rt),Z=l(nt),K=u(D),ut=l(K);mt(ut,()=>i(h),Q=>{var it=j1(),ht=l(it),_t=l(ht);V(()=>x(_t,`${(o()?"로딩 중":"Loading")??""}...`)),C(Q,it)},Q=>{var it=ue(),ht=vt(it);mt(ht,()=>i(v),_t=>{var $t=P1(),Bt=l($t),Qt=l(Bt);V(()=>x(Qt,`Error: ${i(v)??""}`)),C(_t,$t)},_t=>{var $t=ue(),Bt=vt($t);be(Bt,1,()=>i(b),xe,(Qt,Jt)=>{let Vt=()=>i(Jt).post_id,Ct=()=>i(Jt).date,Tt=()=>i(Jt).title,Ht=()=>i(Jt).writter,Et=()=>i(Jt).views;var gt=D1(),kt=l(gt),It=l(kt);mt(It,()=>Ct()===Va(String(new Date)),ae=>{var ne=an("new");C(ae,ne)},ae=>{var ne=an();V(()=>x(ne,Ct())),C(ae,ne)});var Ut=u(kt),Ft=l(Ut);Ss(Ft,{get to(){return`${y??""}/post/${Vt()??""}`},class:"fontBasic",children:(ae,ne)=>{var le=an();V(()=>x(le,Tt())),C(ae,le)},$$slots:{default:!0}});var Dt=u(Ut),Nt=l(Dt),Rt=u(Dt),Wt=l(Rt);V(()=>{x(Nt,Ht()),x(Wt,Et())}),C(Qt,gt)}),C(_t,$t)},!0),C(Q,it)});var et=u(U,2),ft=l(et);mt(ft,()=>s()!=1,Q=>{var it=M1(),ht=l(it);V(()=>x(ht,o()?"이전":"before")),tt("click",it,()=>g(-1)),C(Q,it)});var ot=u(ft,2);mt(ot,()=>i(p)===!0,Q=>{var it=B1(),ht=l(it);V(()=>x(ht,o()?"다음":"Next")),tt("click",it,()=>g(1)),C(Q,it)}),V(()=>{x(R,o()?"모든 글 보기":"Show All Posts"),x(G,o()?"자유 글 보기":"Show Free Posts"),x(P,o()?"거래 글 보기":"Show Trade Posts"),x(m,o()?"공략 글 보기":"Show Guide Posts"),x(O,o()?"검색":"Search"),x(st,o()?"날짜":"Date"),x(X,o()?"제목":"Title"),x(at,o()?"작성자":"Writter"),x(Z,o()?"조회수":"Views")}),ps(L,n,Q=>bt(iu,Q)),tt("change",L,()=>$(n())),M(S,()=>i(d),Q=>_(d,Q)),tt("click",A,()=>w(n())),C(r,k),ve()}var z1=W('<div class="text-center"> </div>'),H1=W('<div class="text-center"> </div>'),K1=W('<button class="simple-button"> </button>'),G1=W('<button class="simple-button"> </button>'),V1=W('<button class="simple-button small svelte-8hjirj"> </button>'),W1=W('<tr class="svelte-8hjirj"><td class="svelte-8hjirj"> </td><td class="commentContent svelte-8hjirj"> </td><td class="svelte-8hjirj"> </td><td class="svelte-8hjirj"><!></td></tr>'),Y1=W('<div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-comment table-contents_cell"><input class="input-text svelte-8hjirj" type="text"> <button class="simple-button small svelte-8hjirj"> </button></div></div></div>'),J1=W('<div class="table-outline main_data svelte-8hjirj"><div class="table-head table-title fontBasic svelte-8hjirj"> </div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-info-no-line flex"><div class="table-info-writter table-contents_cell svelte-8hjirj"> </div> <div class="table-info-date table-contents_cell svelte-8hjirj"> </div> <div class="table-info-date table-contents_cell svelte-8hjirj"> </div> <div class="table-info-views table-contents_cell svelte-8hjirj"> </div></div></div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-content fontBasic svelte-8hjirj"><!></div></div></div> <div class="table-contents-wrapper svelte-8hjirj"><div class="table-contents-no-line"><div class="table-info-button svelte-8hjirj"><!> <!> <!></div></div></div></div> <table class="comment-table svelte-8hjirj"><thead><tr class="svelte-8hjirj"><th class="svelte-8hjirj"> </th><th class="svelte-8hjirj"> </th><th class="svelte-8hjirj"> </th><th class="svelte-8hjirj"> </th></tr></thead><tbody></tbody></table> <!>',1),Z1=W('<div class="margin svelte-8hjirj"></div> <!>',1);function X1(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(Ie,"$lang",e),a=()=>I(br,"$myaccount",e),o=()=>I(gs,"$myUnionAccount",e),c=()=>I(ln,"$admin",e),d=N();let h=N(""),v=N({}),b=N(""),p=N([]),g=N("");const y="/"+n();async function w(z){try{console.log(`Fetching post with ID: ${z}`);const P=await fetch(`/board/post?post_id=${z}`);if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const B=await P.json();console.log("Fetched data:",B),_(v,{...B}),_(d,!1),console.log("Loading state after fetch:",i(d))}catch(P){console.error(`Error fetching post: ${P}`),_(d,!1),_(b,`네트워크 오류: ${P.message}`)}}async function $(z){try{const P=await fetch(`/board/comments?post_id=${z}`);_(p,await P.json())}catch(P){console.error("댓글 가져오기 오류:",P)}}function k(z){const P=z.match(/\/post\/(\d+)$/);return P?P[1]:null}or(()=>{const z=k(window.location.pathname);_(h,z??""),i(h)?(w(i(h)),$(i(h))):(_(d,!1),_(b,s()?"잘못된 주소입니다":"Not Found"))});async function T(z){const P={post_id:z,content:i(g),writter:a(),account:o()};try{(await Mt("/board/comment/add","POST",P)).ok&&(alert(s()?"댓글을 등록하였습니다":"Comment added"),_(g,""),$(z))}catch(B){console.error("댓글 작성 오류:",B)}}async function L(z,P){if(confirm(s()?"댓글을 삭제하시겠습니까? 삭제시 복원이 불가합니다":"Do you really want to delete this comment?")){const m={comment_id:P};try{(await Mt("/board/comment/delete","DELETE",m)).ok&&(alert(s()?"댓글을 삭제하였습니다":"Comment removed"),$(z))}catch(S){console.error("댓글 삭제 오류:",S)}}}function q(){bt(Tl,i(h)),Li(`${y}/write`)}async function R(z){if(confirm(s()?"글을 삭제하시겠습니까? 삭제시 복원이 불가합니다":"Do you really want to delete this post?")){const B={post_id:z};try{(await Mt("/board/delete","DELETE",B)).ok&&(alert(s()?"글을 삭제하였습니다":"Post removed"),Li(`${y}/boardlist`))}catch(m){console.error("글 삭제 오류:",m)}}}de(()=>{},()=>{_(d,!0)}),Wr(),Ae();var F=Z1(),G=u(vt(F),2);mt(G,()=>i(d),z=>{var P=z1(),B=l(P);V(()=>x(B,`${(s()?"로딩 중":"Loading")??""}...`)),C(z,P)},z=>{var P=ue(),B=vt(P);mt(B,()=>i(b),m=>{var S=H1(),A=l(S);V(()=>x(A,i(b))),C(m,S)},m=>{var S=J1(),A=vt(S),O=l(A),U=l(O),D=u(O,2),H=l(D),Y=l(H),st=l(Y),J=u(Y,2),X=l(J);V(()=>x(X,`${(s()?"작성일":"WrittenAt")??""} : ${(Va(i(v).createdAt)||"")??""}`));var rt=u(J,2),at=l(rt);V(()=>x(at,`${(s()?"수정일":"ModifiedAt")??""} : ${(Va(i(v).updatedAt)||"")??""}`));var nt=u(rt,2),Z=l(nt),K=u(D,2),ut=l(K),et=l(ut),ft=l(et);$l(ft,()=>i(v).content);var ot=u(K,2),Q=l(ot),it=l(Q),ht=l(it);mt(ht,()=>i(v).nickname===a(),Dt=>{var Nt=K1(),Rt=l(Nt);V(()=>x(Rt,s()?"수정하기":"Modify")),tt("click",Nt,q),C(Dt,Nt)});var _t=u(ht,2);mt(_t,()=>c().includes(n())||i(v).nickname===a(),Dt=>{var Nt=G1(),Rt=l(Nt);V(()=>x(Rt,s()?"삭제하기":"Delete")),tt("click",Nt,()=>R(i(h))),C(Dt,Nt)});var $t=u(_t,2);Ss($t,{class:"simple-button",to:`${y}/boardlist`,children:(Dt,Nt)=>{var Rt=an();V(()=>x(Rt,s()?"목록보기":"List")),C(Dt,Rt)},$$slots:{default:!0}});var Bt=u(A,2),Qt=l(Bt),Jt=l(Qt),Vt=l(Jt),Ct=l(Vt),Tt=u(Vt),Ht=l(Tt),Et=u(Tt),gt=l(Et),kt=u(Et),It=l(kt),Ut=u(Qt);be(Ut,5,()=>i(p),xe,(Dt,Nt)=>{let Rt=()=>i(Nt).nickname,Wt=()=>i(Nt).content,ae=()=>i(Nt).createdAt,ne=()=>i(Nt).commentId;var le=W1(),_e=l(le),me=l(_e),$e=u(_e),Zt=l($e),Xt=u($e),se=l(Xt);V(()=>x(se,Va(ae())));var te=u(Xt),ce=l(te);mt(ce,()=>Rt()===a()||c().includes(n()),fe=>{var he=V1(),Pe=l(he);V(()=>x(Pe,s()?"삭제":"Delete")),tt("click",he,()=>L(i(h),ne())),C(fe,he)}),V(()=>{x(me,Rt()),x(Zt,Wt())}),C(Dt,le)});var Ft=u(Bt,2);mt(Ft,a,Dt=>{var Nt=Y1(),Rt=l(Nt),Wt=l(Rt),ae=l(Wt),ne=u(ae,2),le=l(ne);V(()=>x(le,s()?"댓글 작성":"Add Comment")),M(ae,()=>i(g),_e=>_(g,_e)),tt("click",ne,()=>T(i(h))),C(Dt,Nt)}),V(()=>{x(U,i(v).title||""),x(st,i(v).nickname||""),x(Z,`${(s()?"조회수":"Views")??""} : ${(i(v).views||"")??""}`),x(Ct,s()?"작성자":"Writter"),x(Ht,s()?"내용":"Content"),x(gt,s()?"작성일":"WrittedAt"),x(It,s()?"관리":"Delete")}),C(m,S)},!0),C(z,P)}),C(r,F),ve()}var rf=typeof global=="object"&&global&&global.Object===Object&&global,Q1=typeof self=="object"&&self&&self.Object===Object&&self,xs=rf||Q1||Function("return this")(),ta=xs.Symbol,nf=Object.prototype,tg=nf.hasOwnProperty,eg=nf.toString,pi=ta?ta.toStringTag:void 0;function rg(r){var t=tg.call(r,pi),e=r[pi];try{r[pi]=void 0;var n=!0}catch{}var s=eg.call(r);return n&&(t?r[pi]=e:delete r[pi]),s}var ng=Object.prototype,sg=ng.toString;function ag(r){return sg.call(r)}var ig="[object Null]",og="[object Undefined]",ou=ta?ta.toStringTag:void 0;function di(r){return r==null?r===void 0?og:ig:ou&&ou in Object(r)?rg(r):ag(r)}function Ls(r){return r!=null&&typeof r=="object"}var ma=Array.isArray;function ra(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function sf(r){return r}var lg="[object AsyncFunction]",cg="[object Function]",ug="[object GeneratorFunction]",dg="[object Proxy]";function cc(r){if(!ra(r))return!1;var t=di(r);return t==cg||t==ug||t==lg||t==dg}var nl=xs["__core-js_shared__"],lu=function(){var r=/[^.]+$/.exec(nl&&nl.keys&&nl.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function fg(r){return!!lu&&lu in r}var hg=Function.prototype,pg=hg.toString;function xa(r){if(r!=null){try{return pg.call(r)}catch{}try{return r+""}catch{}}return""}var vg=/[\\^$.*+?()[\]{}|]/g,mg=/^\[object .+?Constructor\]$/,gg=Function.prototype,bg=Object.prototype,_g=gg.toString,yg=bg.hasOwnProperty,wg=RegExp("^"+_g.call(yg).replace(vg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xg(r){if(!ra(r)||fg(r))return!1;var t=cc(r)?wg:mg;return t.test(xa(r))}function $g(r,t){return r==null?void 0:r[t]}function $a(r,t){var e=$g(r,t);return xg(e)?e:void 0}var Sl=$a(xs,"WeakMap"),cu=Object.create,kg=function(){function r(){}return function(t){if(!ra(t))return{};if(cu)return cu(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function Eg(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function af(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var Ag=800,Tg=16,Sg=Date.now;function Ng(r){var t=0,e=0;return function(){var n=Sg(),s=Tg-(n-e);if(e=n,s>0){if(++t>=Ag)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function Og(r){return function(){return r}}var Ao=function(){try{var r=$a(Object,"defineProperty");return r({},"",{}),r}catch{}}(),Lg=Ao?function(r,t){return Ao(r,"toString",{configurable:!0,enumerable:!1,value:Og(t),writable:!0})}:sf,Cg=Ng(Lg);function Rg(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var qg=9007199254740991,Ig=/^(?:0|[1-9]\d*)$/;function of(r,t){var e=typeof r;return t=t??qg,!!t&&(e=="number"||e!="symbol"&&Ig.test(r))&&r>-1&&r%1==0&&r<t}function uc(r,t,e){t=="__proto__"&&Ao?Ao(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function Gi(r,t){return r===t||r!==r&&t!==t}var jg=Object.prototype,Pg=jg.hasOwnProperty;function lf(r,t,e){var n=r[t];(!(Pg.call(r,t)&&Gi(n,e))||e===void 0&&!(t in r))&&uc(r,t,e)}function Vi(r,t,e,n){var s=!e;e||(e={});for(var a=-1,o=t.length;++a<o;){var c=t[a],d=void 0;d===void 0&&(d=r[c]),s?uc(e,c,d):lf(e,c,d)}return e}var uu=Math.max;function Dg(r,t,e){return t=uu(t===void 0?r.length-1:t,0),function(){for(var n=arguments,s=-1,a=uu(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=e(o),Eg(r,this,c)}}function Mg(r,t){return Cg(Dg(r,t,sf),r+"")}var Bg=9007199254740991;function cf(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Bg}function Do(r){return r!=null&&cf(r.length)&&!cc(r)}function Ug(r,t,e){if(!ra(e))return!1;var n=typeof t;return(n=="number"?Do(e)&&of(t,e.length):n=="string"&&t in e)?Gi(e[t],r):!1}function Fg(r){return Mg(function(t,e){var n=-1,s=e.length,a=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(s--,a):void 0,o&&Ug(e[0],e[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++n<s;){var c=e[n];c&&r(t,c,n,a)}return t})}var zg=Object.prototype;function dc(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||zg;return r===e}function Hg(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var Kg="[object Arguments]";function du(r){return Ls(r)&&di(r)==Kg}var uf=Object.prototype,Gg=uf.hasOwnProperty,Vg=uf.propertyIsEnumerable,Nl=du(function(){return arguments}())?du:function(r){return Ls(r)&&Gg.call(r,"callee")&&!Vg.call(r,"callee")};function Wg(){return!1}var df=typeof _n=="object"&&_n&&!_n.nodeType&&_n,fu=df&&typeof yn=="object"&&yn&&!yn.nodeType&&yn,Yg=fu&&fu.exports===df,hu=Yg?xs.Buffer:void 0,Jg=hu?hu.isBuffer:void 0,Ci=Jg||Wg,Zg="[object Arguments]",Xg="[object Array]",Qg="[object Boolean]",tb="[object Date]",eb="[object Error]",rb="[object Function]",nb="[object Map]",sb="[object Number]",ab="[object Object]",ib="[object RegExp]",ob="[object Set]",lb="[object String]",cb="[object WeakMap]",ub="[object ArrayBuffer]",db="[object DataView]",fb="[object Float32Array]",hb="[object Float64Array]",pb="[object Int8Array]",vb="[object Int16Array]",mb="[object Int32Array]",gb="[object Uint8Array]",bb="[object Uint8ClampedArray]",_b="[object Uint16Array]",yb="[object Uint32Array]",Ye={};Ye[fb]=Ye[hb]=Ye[pb]=Ye[vb]=Ye[mb]=Ye[gb]=Ye[bb]=Ye[_b]=Ye[yb]=!0;Ye[Zg]=Ye[Xg]=Ye[ub]=Ye[Qg]=Ye[db]=Ye[tb]=Ye[eb]=Ye[rb]=Ye[nb]=Ye[sb]=Ye[ab]=Ye[ib]=Ye[ob]=Ye[lb]=Ye[cb]=!1;function wb(r){return Ls(r)&&cf(r.length)&&!!Ye[di(r)]}function fc(r){return function(t){return r(t)}}var ff=typeof _n=="object"&&_n&&!_n.nodeType&&_n,wi=ff&&typeof yn=="object"&&yn&&!yn.nodeType&&yn,xb=wi&&wi.exports===ff,sl=xb&&rf.process,Qa=function(){try{var r=wi&&wi.require&&wi.require("util").types;return r||sl&&sl.binding&&sl.binding("util")}catch{}}(),pu=Qa&&Qa.isTypedArray,hc=pu?fc(pu):wb,$b=Object.prototype,kb=$b.hasOwnProperty;function hf(r,t){var e=ma(r),n=!e&&Nl(r),s=!e&&!n&&Ci(r),a=!e&&!n&&!s&&hc(r),o=e||n||s||a,c=o?Hg(r.length,String):[],d=c.length;for(var h in r)(t||kb.call(r,h))&&!(o&&(h=="length"||s&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||of(h,d)))&&c.push(h);return c}function pf(r,t){return function(e){return r(t(e))}}var Eb=pf(Object.keys,Object),Ab=Object.prototype,Tb=Ab.hasOwnProperty;function Sb(r){if(!dc(r))return Eb(r);var t=[];for(var e in Object(r))Tb.call(r,e)&&e!="constructor"&&t.push(e);return t}function pc(r){return Do(r)?hf(r):Sb(r)}function Nb(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var Ob=Object.prototype,Lb=Ob.hasOwnProperty;function Cb(r){if(!ra(r))return Nb(r);var t=dc(r),e=[];for(var n in r)n=="constructor"&&(t||!Lb.call(r,n))||e.push(n);return e}function Wi(r){return Do(r)?hf(r,!0):Cb(r)}var Ri=$a(Object,"create");function Rb(){this.__data__=Ri?Ri(null):{},this.size=0}function qb(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var Ib="__lodash_hash_undefined__",jb=Object.prototype,Pb=jb.hasOwnProperty;function Db(r){var t=this.__data__;if(Ri){var e=t[r];return e===Ib?void 0:e}return Pb.call(t,r)?t[r]:void 0}var Mb=Object.prototype,Bb=Mb.hasOwnProperty;function Ub(r){var t=this.__data__;return Ri?t[r]!==void 0:Bb.call(t,r)}var Fb="__lodash_hash_undefined__";function zb(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=Ri&&t===void 0?Fb:t,this}function ga(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ga.prototype.clear=Rb;ga.prototype.delete=qb;ga.prototype.get=Db;ga.prototype.has=Ub;ga.prototype.set=zb;function Hb(){this.__data__=[],this.size=0}function Mo(r,t){for(var e=r.length;e--;)if(Gi(r[e][0],t))return e;return-1}var Kb=Array.prototype,Gb=Kb.splice;function Vb(r){var t=this.__data__,e=Mo(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():Gb.call(t,e,1),--this.size,!0}function Wb(r){var t=this.__data__,e=Mo(t,r);return e<0?void 0:t[e][1]}function Yb(r){return Mo(this.__data__,r)>-1}function Jb(r,t){var e=this.__data__,n=Mo(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function qs(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}qs.prototype.clear=Hb;qs.prototype.delete=Vb;qs.prototype.get=Wb;qs.prototype.has=Yb;qs.prototype.set=Jb;var qi=$a(xs,"Map");function Zb(){this.size=0,this.__data__={hash:new ga,map:new(qi||qs),string:new ga}}function Xb(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function Bo(r,t){var e=r.__data__;return Xb(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Qb(r){var t=Bo(this,r).delete(r);return this.size-=t?1:0,t}function t_(r){return Bo(this,r).get(r)}function e_(r){return Bo(this,r).has(r)}function r_(r,t){var e=Bo(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function ka(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ka.prototype.clear=Zb;ka.prototype.delete=Qb;ka.prototype.get=t_;ka.prototype.has=e_;ka.prototype.set=r_;function vf(r,t){for(var e=-1,n=t.length,s=r.length;++e<n;)r[s+e]=t[e];return r}var vc=pf(Object.getPrototypeOf,Object),n_="[object Object]",s_=Function.prototype,a_=Object.prototype,mf=s_.toString,i_=a_.hasOwnProperty,o_=mf.call(Object);function l_(r){if(!Ls(r)||di(r)!=n_)return!1;var t=vc(r);if(t===null)return!0;var e=i_.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&mf.call(e)==o_}function c_(){this.__data__=new qs,this.size=0}function u_(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function d_(r){return this.__data__.get(r)}function f_(r){return this.__data__.has(r)}var h_=200;function p_(r,t){var e=this.__data__;if(e instanceof qs){var n=e.__data__;if(!qi||n.length<h_-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new ka(n)}return e.set(r,t),this.size=e.size,this}function bs(r){var t=this.__data__=new qs(r);this.size=t.size}bs.prototype.clear=c_;bs.prototype.delete=u_;bs.prototype.get=d_;bs.prototype.has=f_;bs.prototype.set=p_;function v_(r,t){return r&&Vi(t,pc(t),r)}function m_(r,t){return r&&Vi(t,Wi(t),r)}var gf=typeof _n=="object"&&_n&&!_n.nodeType&&_n,vu=gf&&typeof yn=="object"&&yn&&!yn.nodeType&&yn,g_=vu&&vu.exports===gf,mu=g_?xs.Buffer:void 0,gu=mu?mu.allocUnsafe:void 0;function bf(r,t){if(t)return r.slice();var e=r.length,n=gu?gu(e):new r.constructor(e);return r.copy(n),n}function b_(r,t){for(var e=-1,n=r==null?0:r.length,s=0,a=[];++e<n;){var o=r[e];t(o,e,r)&&(a[s++]=o)}return a}function _f(){return[]}var __=Object.prototype,y_=__.propertyIsEnumerable,bu=Object.getOwnPropertySymbols,mc=bu?function(r){return r==null?[]:(r=Object(r),b_(bu(r),function(t){return y_.call(r,t)}))}:_f;function w_(r,t){return Vi(r,mc(r),t)}var x_=Object.getOwnPropertySymbols,yf=x_?function(r){for(var t=[];r;)vf(t,mc(r)),r=vc(r);return t}:_f;function $_(r,t){return Vi(r,yf(r),t)}function wf(r,t,e){var n=t(r);return ma(r)?n:vf(n,e(r))}function Ol(r){return wf(r,pc,mc)}function k_(r){return wf(r,Wi,yf)}var Ll=$a(xs,"DataView"),Cl=$a(xs,"Promise"),Rl=$a(xs,"Set"),_u="[object Map]",E_="[object Object]",yu="[object Promise]",wu="[object Set]",xu="[object WeakMap]",$u="[object DataView]",A_=xa(Ll),T_=xa(qi),S_=xa(Cl),N_=xa(Rl),O_=xa(Sl),zn=di;(Ll&&zn(new Ll(new ArrayBuffer(1)))!=$u||qi&&zn(new qi)!=_u||Cl&&zn(Cl.resolve())!=yu||Rl&&zn(new Rl)!=wu||Sl&&zn(new Sl)!=xu)&&(zn=function(r){var t=di(r),e=t==E_?r.constructor:void 0,n=e?xa(e):"";if(n)switch(n){case A_:return $u;case T_:return _u;case S_:return yu;case N_:return wu;case O_:return xu}return t});var L_=Object.prototype,C_=L_.hasOwnProperty;function R_(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&C_.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var To=xs.Uint8Array;function gc(r){var t=new r.constructor(r.byteLength);return new To(t).set(new To(r)),t}function q_(r,t){var e=t?gc(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var I_=/\w*$/;function j_(r){var t=new r.constructor(r.source,I_.exec(r));return t.lastIndex=r.lastIndex,t}var ku=ta?ta.prototype:void 0,Eu=ku?ku.valueOf:void 0;function P_(r){return Eu?Object(Eu.call(r)):{}}function xf(r,t){var e=t?gc(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var D_="[object Boolean]",M_="[object Date]",B_="[object Map]",U_="[object Number]",F_="[object RegExp]",z_="[object Set]",H_="[object String]",K_="[object Symbol]",G_="[object ArrayBuffer]",V_="[object DataView]",W_="[object Float32Array]",Y_="[object Float64Array]",J_="[object Int8Array]",Z_="[object Int16Array]",X_="[object Int32Array]",Q_="[object Uint8Array]",t0="[object Uint8ClampedArray]",e0="[object Uint16Array]",r0="[object Uint32Array]";function n0(r,t,e){var n=r.constructor;switch(t){case G_:return gc(r);case D_:case M_:return new n(+r);case V_:return q_(r,e);case W_:case Y_:case J_:case Z_:case X_:case Q_:case t0:case e0:case r0:return xf(r,e);case B_:return new n;case U_:case H_:return new n(r);case F_:return j_(r);case z_:return new n;case K_:return P_(r)}}function $f(r){return typeof r.constructor=="function"&&!dc(r)?kg(vc(r)):{}}var s0="[object Map]";function a0(r){return Ls(r)&&zn(r)==s0}var Au=Qa&&Qa.isMap,i0=Au?fc(Au):a0,o0="[object Set]";function l0(r){return Ls(r)&&zn(r)==o0}var Tu=Qa&&Qa.isSet,c0=Tu?fc(Tu):l0,u0=1,d0=2,f0=4,kf="[object Arguments]",h0="[object Array]",p0="[object Boolean]",v0="[object Date]",m0="[object Error]",Ef="[object Function]",g0="[object GeneratorFunction]",b0="[object Map]",_0="[object Number]",Af="[object Object]",y0="[object RegExp]",w0="[object Set]",x0="[object String]",$0="[object Symbol]",k0="[object WeakMap]",E0="[object ArrayBuffer]",A0="[object DataView]",T0="[object Float32Array]",S0="[object Float64Array]",N0="[object Int8Array]",O0="[object Int16Array]",L0="[object Int32Array]",C0="[object Uint8Array]",R0="[object Uint8ClampedArray]",q0="[object Uint16Array]",I0="[object Uint32Array]",Ve={};Ve[kf]=Ve[h0]=Ve[E0]=Ve[A0]=Ve[p0]=Ve[v0]=Ve[T0]=Ve[S0]=Ve[N0]=Ve[O0]=Ve[L0]=Ve[b0]=Ve[_0]=Ve[Af]=Ve[y0]=Ve[w0]=Ve[x0]=Ve[$0]=Ve[C0]=Ve[R0]=Ve[q0]=Ve[I0]=!0;Ve[m0]=Ve[Ef]=Ve[k0]=!1;function vo(r,t,e,n,s,a){var o,c=t&u0,d=t&d0,h=t&f0;if(o!==void 0)return o;if(!ra(r))return r;var v=ma(r);if(v){if(o=R_(r),!c)return af(r,o)}else{var b=zn(r),p=b==Ef||b==g0;if(Ci(r))return bf(r,c);if(b==Af||b==kf||p&&!s){if(o=d||p?{}:$f(r),!c)return d?$_(r,m_(o,r)):w_(r,v_(o,r))}else{if(!Ve[b])return s?r:{};o=n0(r,b,c)}}a||(a=new bs);var g=a.get(r);if(g)return g;a.set(r,o),c0(r)?r.forEach(function($){o.add(vo($,t,e,$,r,a))}):i0(r)&&r.forEach(function($,k){o.set(k,vo($,t,e,k,r,a))});var y=h?d?k_:Ol:d?Wi:pc,w=v?void 0:y(r);return Rg(w||r,function($,k){w&&(k=$,$=r[k]),lf(o,k,vo($,t,e,k,r,a))}),o}var j0=1,P0=4;function Wa(r){return vo(r,j0|P0)}var D0="__lodash_hash_undefined__";function M0(r){return this.__data__.set(r,D0),this}function B0(r){return this.__data__.has(r)}function So(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new ka;++t<e;)this.add(r[t])}So.prototype.add=So.prototype.push=M0;So.prototype.has=B0;function U0(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function F0(r,t){return r.has(t)}var z0=1,H0=2;function Tf(r,t,e,n,s,a){var o=e&z0,c=r.length,d=t.length;if(c!=d&&!(o&&d>c))return!1;var h=a.get(r),v=a.get(t);if(h&&v)return h==t&&v==r;var b=-1,p=!0,g=e&H0?new So:void 0;for(a.set(r,t),a.set(t,r);++b<c;){var y=r[b],w=t[b];if(n)var $=o?n(w,y,b,t,r,a):n(y,w,b,r,t,a);if($!==void 0){if($)continue;p=!1;break}if(g){if(!U0(t,function(k,T){if(!F0(g,T)&&(y===k||s(y,k,e,n,a)))return g.push(T)})){p=!1;break}}else if(!(y===w||s(y,w,e,n,a))){p=!1;break}}return a.delete(r),a.delete(t),p}function K0(r){var t=-1,e=Array(r.size);return r.forEach(function(n,s){e[++t]=[s,n]}),e}function G0(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var V0=1,W0=2,Y0="[object Boolean]",J0="[object Date]",Z0="[object Error]",X0="[object Map]",Q0="[object Number]",ty="[object RegExp]",ey="[object Set]",ry="[object String]",ny="[object Symbol]",sy="[object ArrayBuffer]",ay="[object DataView]",Su=ta?ta.prototype:void 0,al=Su?Su.valueOf:void 0;function iy(r,t,e,n,s,a,o){switch(e){case ay:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case sy:return!(r.byteLength!=t.byteLength||!a(new To(r),new To(t)));case Y0:case J0:case Q0:return Gi(+r,+t);case Z0:return r.name==t.name&&r.message==t.message;case ty:case ry:return r==t+"";case X0:var c=K0;case ey:var d=n&V0;if(c||(c=G0),r.size!=t.size&&!d)return!1;var h=o.get(r);if(h)return h==t;n|=W0,o.set(r,t);var v=Tf(c(r),c(t),n,s,a,o);return o.delete(r),v;case ny:if(al)return al.call(r)==al.call(t)}return!1}var oy=1,ly=Object.prototype,cy=ly.hasOwnProperty;function uy(r,t,e,n,s,a){var o=e&oy,c=Ol(r),d=c.length,h=Ol(t),v=h.length;if(d!=v&&!o)return!1;for(var b=d;b--;){var p=c[b];if(!(o?p in t:cy.call(t,p)))return!1}var g=a.get(r),y=a.get(t);if(g&&y)return g==t&&y==r;var w=!0;a.set(r,t),a.set(t,r);for(var $=o;++b<d;){p=c[b];var k=r[p],T=t[p];if(n)var L=o?n(T,k,p,t,r,a):n(k,T,p,r,t,a);if(!(L===void 0?k===T||s(k,T,e,n,a):L)){w=!1;break}$||($=p=="constructor")}if(w&&!$){var q=r.constructor,R=t.constructor;q!=R&&"constructor"in r&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof R=="function"&&R instanceof R)&&(w=!1)}return a.delete(r),a.delete(t),w}var dy=1,Nu="[object Arguments]",Ou="[object Array]",ro="[object Object]",fy=Object.prototype,Lu=fy.hasOwnProperty;function hy(r,t,e,n,s,a){var o=ma(r),c=ma(t),d=o?Ou:zn(r),h=c?Ou:zn(t);d=d==Nu?ro:d,h=h==Nu?ro:h;var v=d==ro,b=h==ro,p=d==h;if(p&&Ci(r)){if(!Ci(t))return!1;o=!0,v=!1}if(p&&!v)return a||(a=new bs),o||hc(r)?Tf(r,t,e,n,s,a):iy(r,t,d,e,n,s,a);if(!(e&dy)){var g=v&&Lu.call(r,"__wrapped__"),y=b&&Lu.call(t,"__wrapped__");if(g||y){var w=g?r.value():r,$=y?t.value():t;return a||(a=new bs),s(w,$,e,n,a)}}return p?(a||(a=new bs),uy(r,t,e,n,s,a)):!1}function Sf(r,t,e,n,s){return r===t?!0:r==null||t==null||!Ls(r)&&!Ls(t)?r!==r&&t!==t:hy(r,t,e,n,Sf,s)}function py(r){return function(t,e,n){for(var s=-1,a=Object(t),o=n(t),c=o.length;c--;){var d=o[++s];if(e(a[d],d,a)===!1)break}return t}}var vy=py();function ql(r,t,e){(e!==void 0&&!Gi(r[t],e)||e===void 0&&!(t in r))&&uc(r,t,e)}function my(r){return Ls(r)&&Do(r)}function Il(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function gy(r){return Vi(r,Wi(r))}function by(r,t,e,n,s,a,o){var c=Il(r,e),d=Il(t,e),h=o.get(d);if(h){ql(r,e,h);return}var v=a?a(c,d,e+"",r,t,o):void 0,b=v===void 0;if(b){var p=ma(d),g=!p&&Ci(d),y=!p&&!g&&hc(d);v=d,p||g||y?ma(c)?v=c:my(c)?v=af(c):g?(b=!1,v=bf(d,!0)):y?(b=!1,v=xf(d,!0)):v=[]:l_(d)||Nl(d)?(v=c,Nl(c)?v=gy(c):(!ra(c)||cc(c))&&(v=$f(d))):b=!1}b&&(o.set(d,v),s(v,d,n,a,o),o.delete(d)),ql(r,e,v)}function Nf(r,t,e,n,s){r!==t&&vy(t,function(a,o){if(s||(s=new bs),ra(a))by(r,t,o,e,Nf,n,s);else{var c=n?n(Il(r,o),a,o+"",r,t,s):void 0;c===void 0&&(c=a),ql(r,o,c)}},Wi)}function bc(r,t){return Sf(r,t)}var Xs=Fg(function(r,t,e){Nf(r,t,e)}),Kt=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(Kt||{});class ys{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const s=Kt.TYPE&Kt.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Kt.LEVEL|s:Kt.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Ya extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Of=class jl{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const s=this.query(e);if(s==null)throw new Ya(`Unable to create ${e} blot`);const a=s,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(n),c=new a(t,o,n);return jl.blots.set(c.domNode,c),c}find(t,e=!1){return jl.find(t,e)}query(t,e=Kt.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Kt.LEVEL&Kt.BLOCK?n=this.types.block:t&Kt.LEVEL&Kt.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(s=>(n=this.classes[s],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&Kt.LEVEL&n.scope&&e&Kt.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,s="attrName"in e;if(!n&&!s)throw new Ya("Invalid definition");if(n&&e.blotName==="abstract")throw new Ya("Cannot register abstract class");const a=n?e.blotName:s?e.attrName:void 0;return this.types[a]=e,s?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};Of.blots=new WeakMap;let ti=Of;function Cu(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class _y extends ys{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Cu(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Cu(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const ts=_y;function il(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class yy extends ys{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[il(this.keyName)]=e,!0):!1}remove(t){t.style[il(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[il(this.keyName)];return this.canAdd(t,e)?e:""}}const na=yy;class wy{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=ti.find(this.domNode);if(t==null)return;const e=ys.keys(this.domNode),n=ts.keys(this.domNode),s=na.keys(this.domNode);e.concat(n).concat(s).forEach(a=>{const o=t.scroll.query(a,Kt.ATTRIBUTE);o instanceof ys&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const Uo=wy,Lf=class{constructor(t,e){this.scroll=t,this.domNode=e,ti.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Ya("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),ti.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,s){const a=this.isolate(t,e);if(this.scroll.query(n,Kt.BLOT)!=null&&s)a.wrap(n,s);else if(this.scroll.query(n,Kt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);a.wrap(o),o.format(n,s)}}insertAt(t,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),a=this.split(t);this.parent.insertBefore(s,a||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Ya(`Cannot wrap ${t}`);return n.appendChild(this),n}};Lf.blotName="abstract";let Cf=Lf;const Rf=class extends Cf{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Rf.scope=Kt.INLINE_BLOT;let xy=Rf;const Mr=xy;class $y{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),s=0;for(;n;){if(n===t)return s;s+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let s=n();for(;s;){const a=s.length();if(t<a||e&&t===a&&(s.next==null||s.next.length()!==0))return[s,t];t-=a,s=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[s,a]=this.find(t);let o=t-a;const c=this.iterator(s);let d=c();for(;d&&o<t+e;){const h=d.length();t>o?n(d,t-o,Math.min(e,o+h-t)):n(d,0,Math.min(h,t+e-o)),o+=h,d=c()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let s=n();for(;s;)e=t(e,s),s=n();return e}}function Ru(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(Kt.INLINE);return Array.from(r.childNodes).forEach(s=>{n.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const qf=class Us extends Cf{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Us.uiClass&&this.uiNode.classList.add(Us.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new $y,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Ru(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Ya)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,s,a)=>{n.deleteAt(s,a)})}descendant(t,e=0){const[n,s]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,s]:n instanceof Us?n.descendant(t,s):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let s=[],a=n;return this.children.forEachAt(e,n,(o,c,d)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&s.push(o),o instanceof Us&&(s=s.concat(o.descendants(t,c,a))),a-=d}),s}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===Kt.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Us?e.unwrap():e.remove())})}formatAt(t,e,n,s){this.children.forEachAt(t,e,(a,o,c)=>{a.formatAt(o,c,n,s)})}insertAt(t,e,n){const[s,a]=this.children.find(t);if(s)s.insertAt(a,e,n);else{const o=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,s]=this.children.find(t,e),a=[[this,t]];return n instanceof Us?a.concat(n.path(s,e)):(n!=null&&a.push([n,s]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof Us&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(s,a,o)=>{const c=s.split(a,e);c!=null&&n.appendChild(c)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],s=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(n.push(...a.addedNodes),s.push(...a.removedNodes))}),s.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(a);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,o)=>a===o?0:a.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let o=null;a.nextSibling!=null&&(o=this.scroll.find(a.nextSibling));const c=Ru(a,this.scroll);(c.next!==o||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,o||void 0))}),this.enforceAllowedChildren()}};qf.uiClass="";let ky=qf;const Yn=ky;function Ey(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const Pa=class Da extends Yn{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Da.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Uo(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof Da||(n=n.wrap(Da.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,Kt.INLINE);if(n==null)return;n instanceof ys?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.formats()[n]!=null||this.scroll.query(n,Kt.ATTRIBUTE)?this.isolate(t,e).format(n,s):super.formatAt(t,e,n,s)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof Da&&n.prev===this&&Ey(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof Da&&this.attributes.move(n),n}};Pa.allowedChildren=[Pa,Mr],Pa.blotName="inline",Pa.scope=Kt.INLINE_BLOT,Pa.tagName="SPAN";let Ay=Pa;const _c=Ay,Ma=class Pl extends Yn{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Pl.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Uo(this.domNode)}format(t,e){const n=this.scroll.query(t,Kt.BLOCK);n!=null&&(n instanceof ys?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(Pl.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,s){this.scroll.query(n,Kt.BLOCK)!=null?this.format(n,s):super.formatAt(t,e,n,s)}insertAt(t,e,n){if(n==null||this.scroll.query(e,Kt.INLINE)!=null)super.insertAt(t,e,n);else{const s=this.split(t);if(s!=null){const a=this.scroll.create(e,n);s.parent.insertBefore(a,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Ma.blotName="block",Ma.scope=Kt.BLOCK_BLOT,Ma.tagName="P",Ma.allowedChildren=[_c,Ma,Mr];let Ty=Ma;const Ii=Ty,Dl=class extends Yn{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Dl.blotName="container",Dl.scope=Kt.BLOCK_BLOT;let Sy=Dl;const Fo=Sy;class Ny extends Mr{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,s){t===0&&e===this.length()?this.format(n,s):super.formatAt(t,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const wn=Ny,Oy={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Ly=100,Ba=class extends Yn{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Oy),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=Kt.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,s){this.update(),super.formatAt(t,e,n,s)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const a=(d,h=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(n.has(d.domNode)||n.set(d.domNode,[]),h&&a(d.parent))},o=d=>{n.has(d.domNode)&&(d instanceof Yn&&d.children.forEach(o),n.delete(d.domNode),d.optimize(e))};let c=t;for(let d=0;c.length>0;d+=1){if(d>=Ly)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(h=>{const v=this.find(h.target,!0);v!=null&&(v.domNode===h.target&&(h.type==="childList"?(a(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(b=>{const p=this.find(b,!1);a(p,!1),p instanceof Yn&&p.children.forEach(g=>{a(g,!1)})})):h.type==="attributes"&&a(v.prev)),a(v))}),this.children.forEach(o),c=Array.from(this.observer.takeRecords()),s=c.slice();s.length>0;)t.push(s.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(s=>{const a=this.find(s.target,!0);return a==null?null:n.has(a.domNode)?(n.get(a.domNode).push(s),null):(n.set(a.domNode,[s]),a)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};Ba.blotName="scroll",Ba.defaultChild=Ii,Ba.allowedChildren=[Ii,Fo],Ba.scope=Kt.BLOCK_BLOT,Ba.tagName="DIV";let Cy=Ba;const yc=Cy,Ml=class If extends Mr{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof If&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ml.blotName="text",Ml.scope=Kt.INLINE_BLOT;let Ry=Ml;const No=Ry,qy=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ys,AttributorStore:Uo,BlockBlot:Ii,ClassAttributor:ts,ContainerBlot:Fo,EmbedBlot:wn,InlineBlot:_c,LeafBlot:Mr,ParentBlot:Yn,Registry:ti,Scope:Kt,ScrollBlot:yc,StyleAttributor:na,TextBlot:No},Symbol.toStringTag,{value:"Module"}));var Ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var no={exports:{}},ol,qu;function Iy(){if(qu)return ol;qu=1;var r=-1,t=1,e=0;function n(m,S,A,O,U){if(m===S)return m?[[e,m]]:[];if(A!=null){var D=P(m,S,A);if(D)return D}var H=c(m,S),Y=m.substring(0,H);m=m.substring(H),S=S.substring(H),H=h(m,S);var st=m.substring(m.length-H);m=m.substring(0,m.length-H),S=S.substring(0,S.length-H);var J=s(m,S);return Y&&J.unshift([e,Y]),st&&J.push([e,st]),T(J,U),O&&b(J),J}function s(m,S){var A;if(!m)return[[t,S]];if(!S)return[[r,m]];var O=m.length>S.length?m:S,U=m.length>S.length?S:m,D=O.indexOf(U);if(D!==-1)return A=[[t,O.substring(0,D)],[e,U],[t,O.substring(D+U.length)]],m.length>S.length&&(A[0][0]=A[2][0]=r),A;if(U.length===1)return[[r,m],[t,S]];var H=v(m,S);if(H){var Y=H[0],st=H[1],J=H[2],X=H[3],rt=H[4],at=n(Y,J),nt=n(st,X);return at.concat([[e,rt]],nt)}return a(m,S)}function a(m,S){for(var A=m.length,O=S.length,U=Math.ceil((A+O)/2),D=U,H=2*U,Y=new Array(H),st=new Array(H),J=0;J<H;J++)Y[J]=-1,st[J]=-1;Y[D+1]=0,st[D+1]=0;for(var X=A-O,rt=X%2!==0,at=0,nt=0,Z=0,K=0,ut=0;ut<U;ut++){for(var et=-ut+at;et<=ut-nt;et+=2){var ft=D+et,ot;et===-ut||et!==ut&&Y[ft-1]<Y[ft+1]?ot=Y[ft+1]:ot=Y[ft-1]+1;for(var Q=ot-et;ot<A&&Q<O&&m.charAt(ot)===S.charAt(Q);)ot++,Q++;if(Y[ft]=ot,ot>A)nt+=2;else if(Q>O)at+=2;else if(rt){var it=D+X-et;if(it>=0&&it<H&&st[it]!==-1){var ht=A-st[it];if(ot>=ht)return o(m,S,ot,Q)}}}for(var _t=-ut+Z;_t<=ut-K;_t+=2){var it=D+_t,ht;_t===-ut||_t!==ut&&st[it-1]<st[it+1]?ht=st[it+1]:ht=st[it-1]+1;for(var $t=ht-_t;ht<A&&$t<O&&m.charAt(A-ht-1)===S.charAt(O-$t-1);)ht++,$t++;if(st[it]=ht,ht>A)K+=2;else if($t>O)Z+=2;else if(!rt){var ft=D+X-_t;if(ft>=0&&ft<H&&Y[ft]!==-1){var ot=Y[ft],Q=D+ot-ft;if(ht=A-ht,ot>=ht)return o(m,S,ot,Q)}}}}return[[r,m],[t,S]]}function o(m,S,A,O){var U=m.substring(0,A),D=S.substring(0,O),H=m.substring(A),Y=S.substring(O),st=n(U,D),J=n(H,Y);return st.concat(J)}function c(m,S){if(!m||!S||m.charAt(0)!==S.charAt(0))return 0;for(var A=0,O=Math.min(m.length,S.length),U=O,D=0;A<U;)m.substring(D,U)==S.substring(D,U)?(A=U,D=A):O=U,U=Math.floor((O-A)/2+A);return L(m.charCodeAt(U-1))&&U--,U}function d(m,S){var A=m.length,O=S.length;if(A==0||O==0)return 0;A>O?m=m.substring(A-O):A<O&&(S=S.substring(0,A));var U=Math.min(A,O);if(m==S)return U;for(var D=0,H=1;;){var Y=m.substring(U-H),st=S.indexOf(Y);if(st==-1)return D;H+=st,(st==0||m.substring(U-H)==S.substring(0,H))&&(D=H,H++)}}function h(m,S){if(!m||!S||m.slice(-1)!==S.slice(-1))return 0;for(var A=0,O=Math.min(m.length,S.length),U=O,D=0;A<U;)m.substring(m.length-U,m.length-D)==S.substring(S.length-U,S.length-D)?(A=U,D=A):O=U,U=Math.floor((O-A)/2+A);return q(m.charCodeAt(m.length-U))&&U--,U}function v(m,S){var A=m.length>S.length?m:S,O=m.length>S.length?S:m;if(A.length<4||O.length*2<A.length)return null;function U(nt,Z,K){for(var ut=nt.substring(K,K+Math.floor(nt.length/4)),et=-1,ft="",ot,Q,it,ht;(et=Z.indexOf(ut,et+1))!==-1;){var _t=c(nt.substring(K),Z.substring(et)),$t=h(nt.substring(0,K),Z.substring(0,et));ft.length<$t+_t&&(ft=Z.substring(et-$t,et)+Z.substring(et,et+_t),ot=nt.substring(0,K-$t),Q=nt.substring(K+_t),it=Z.substring(0,et-$t),ht=Z.substring(et+_t))}return ft.length*2>=nt.length?[ot,Q,it,ht,ft]:null}var D=U(A,O,Math.ceil(A.length/4)),H=U(A,O,Math.ceil(A.length/2)),Y;if(!D&&!H)return null;H?D?Y=D[4].length>H[4].length?D:H:Y=H:Y=D;var st,J,X,rt;m.length>S.length?(st=Y[0],J=Y[1],X=Y[2],rt=Y[3]):(X=Y[0],rt=Y[1],st=Y[2],J=Y[3]);var at=Y[4];return[st,J,X,rt,at]}function b(m){for(var S=!1,A=[],O=0,U=null,D=0,H=0,Y=0,st=0,J=0;D<m.length;)m[D][0]==e?(A[O++]=D,H=st,Y=J,st=0,J=0,U=m[D][1]):(m[D][0]==t?st+=m[D][1].length:J+=m[D][1].length,U&&U.length<=Math.max(H,Y)&&U.length<=Math.max(st,J)&&(m.splice(A[O-1],0,[r,U]),m[A[O-1]+1][0]=t,O--,O--,D=O>0?A[O-1]:-1,H=0,Y=0,st=0,J=0,U=null,S=!0)),D++;for(S&&T(m),k(m),D=1;D<m.length;){if(m[D-1][0]==r&&m[D][0]==t){var X=m[D-1][1],rt=m[D][1],at=d(X,rt),nt=d(rt,X);at>=nt?(at>=X.length/2||at>=rt.length/2)&&(m.splice(D,0,[e,rt.substring(0,at)]),m[D-1][1]=X.substring(0,X.length-at),m[D+1][1]=rt.substring(at),D++):(nt>=X.length/2||nt>=rt.length/2)&&(m.splice(D,0,[e,X.substring(0,nt)]),m[D-1][0]=t,m[D-1][1]=rt.substring(0,rt.length-nt),m[D+1][0]=r,m[D+1][1]=X.substring(nt),D++),D++}D++}}var p=/[^a-zA-Z0-9]/,g=/\s/,y=/[\r\n]/,w=/\n\r?\n$/,$=/^\r?\n\r?\n/;function k(m){function S(nt,Z){if(!nt||!Z)return 6;var K=nt.charAt(nt.length-1),ut=Z.charAt(0),et=K.match(p),ft=ut.match(p),ot=et&&K.match(g),Q=ft&&ut.match(g),it=ot&&K.match(y),ht=Q&&ut.match(y),_t=it&&nt.match(w),$t=ht&&Z.match($);return _t||$t?5:it||ht?4:et&&!ot&&Q?3:ot||Q?2:et||ft?1:0}for(var A=1;A<m.length-1;){if(m[A-1][0]==e&&m[A+1][0]==e){var O=m[A-1][1],U=m[A][1],D=m[A+1][1],H=h(O,U);if(H){var Y=U.substring(U.length-H);O=O.substring(0,O.length-H),U=Y+U.substring(0,U.length-H),D=Y+D}for(var st=O,J=U,X=D,rt=S(O,U)+S(U,D);U.charAt(0)===D.charAt(0);){O+=U.charAt(0),U=U.substring(1)+D.charAt(0),D=D.substring(1);var at=S(O,U)+S(U,D);at>=rt&&(rt=at,st=O,J=U,X=D)}m[A-1][1]!=st&&(st?m[A-1][1]=st:(m.splice(A-1,1),A--),m[A][1]=J,X?m[A+1][1]=X:(m.splice(A+1,1),A--))}A++}}function T(m,S){m.push([e,""]);for(var A=0,O=0,U=0,D="",H="",Y;A<m.length;){if(A<m.length-1&&!m[A][1]){m.splice(A,1);continue}switch(m[A][0]){case t:U++,H+=m[A][1],A++;break;case r:O++,D+=m[A][1],A++;break;case e:var st=A-U-O-1;if(S){if(st>=0&&F(m[st][1])){var J=m[st][1].slice(-1);if(m[st][1]=m[st][1].slice(0,-1),D=J+D,H=J+H,!m[st][1]){m.splice(st,1),A--;var X=st-1;m[X]&&m[X][0]===t&&(U++,H=m[X][1]+H,X--),m[X]&&m[X][0]===r&&(O++,D=m[X][1]+D,X--),st=X}}if(R(m[A][1])){var J=m[A][1].charAt(0);m[A][1]=m[A][1].slice(1),D+=J,H+=J}}if(A<m.length-1&&!m[A][1]){m.splice(A,1);break}if(D.length>0||H.length>0){D.length>0&&H.length>0&&(Y=c(H,D),Y!==0&&(st>=0?m[st][1]+=H.substring(0,Y):(m.splice(0,0,[e,H.substring(0,Y)]),A++),H=H.substring(Y),D=D.substring(Y)),Y=h(H,D),Y!==0&&(m[A][1]=H.substring(H.length-Y)+m[A][1],H=H.substring(0,H.length-Y),D=D.substring(0,D.length-Y)));var rt=U+O;D.length===0&&H.length===0?(m.splice(A-rt,rt),A=A-rt):D.length===0?(m.splice(A-rt,rt,[t,H]),A=A-rt+1):H.length===0?(m.splice(A-rt,rt,[r,D]),A=A-rt+1):(m.splice(A-rt,rt,[r,D],[t,H]),A=A-rt+2)}A!==0&&m[A-1][0]===e?(m[A-1][1]+=m[A][1],m.splice(A,1)):A++,U=0,O=0,D="",H="";break}}m[m.length-1][1]===""&&m.pop();var at=!1;for(A=1;A<m.length-1;)m[A-1][0]===e&&m[A+1][0]===e&&(m[A][1].substring(m[A][1].length-m[A-1][1].length)===m[A-1][1]?(m[A][1]=m[A-1][1]+m[A][1].substring(0,m[A][1].length-m[A-1][1].length),m[A+1][1]=m[A-1][1]+m[A+1][1],m.splice(A-1,1),at=!0):m[A][1].substring(0,m[A+1][1].length)==m[A+1][1]&&(m[A-1][1]+=m[A+1][1],m[A][1]=m[A][1].substring(m[A+1][1].length)+m[A+1][1],m.splice(A+1,1),at=!0)),A++;at&&T(m,S)}function L(m){return m>=55296&&m<=56319}function q(m){return m>=56320&&m<=57343}function R(m){return q(m.charCodeAt(0))}function F(m){return L(m.charCodeAt(m.length-1))}function G(m){for(var S=[],A=0;A<m.length;A++)m[A][1].length>0&&S.push(m[A]);return S}function z(m,S,A,O){return F(m)||R(O)?null:G([[e,m],[r,S],[t,A],[e,O]])}function P(m,S,A){var O=typeof A=="number"?{index:A,length:0}:A.oldRange,U=typeof A=="number"?null:A.newRange,D=m.length,H=S.length;if(O.length===0&&(U===null||U.length===0)){var Y=O.index,st=m.slice(0,Y),J=m.slice(Y),X=U?U.index:null;t:{var rt=Y+H-D;if(X!==null&&X!==rt||rt<0||rt>H)break t;var at=S.slice(0,rt),nt=S.slice(rt);if(nt!==J)break t;var Z=Math.min(Y,rt),K=st.slice(0,Z),ut=at.slice(0,Z);if(K!==ut)break t;var et=st.slice(Z),ft=at.slice(Z);return z(K,et,ft,J)}t:{if(X!==null&&X!==Y)break t;var ot=Y,at=S.slice(0,ot),nt=S.slice(ot);if(at!==st)break t;var Q=Math.min(D-ot,H-ot),it=J.slice(J.length-Q),ht=nt.slice(nt.length-Q);if(it!==ht)break t;var et=J.slice(0,J.length-Q),ft=nt.slice(0,nt.length-Q);return z(st,et,ft,it)}}if(O.length>0&&U&&U.length===0)t:{var K=m.slice(0,O.index),it=m.slice(O.index+O.length),Z=K.length,Q=it.length;if(H<Z+Q)break t;var ut=S.slice(0,Z),ht=S.slice(H-Q);if(K!==ut||it!==ht)break t;var et=m.slice(Z,D-Q),ft=S.slice(Z,H-Q);return z(K,et,ft,it)}return null}function B(m,S,A,O){return n(m,S,A,O,!0)}return B.INSERT=t,B.DELETE=r,B.EQUAL=e,ol=B,ol}var gi={exports:{}};gi.exports;var Iu;function Pf(){return Iu||(Iu=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=9007199254740991,a="[object Arguments]",o="[object Array]",c="[object Boolean]",d="[object Date]",h="[object Error]",v="[object Function]",b="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Object]",w="[object Promise]",$="[object RegExp]",k="[object Set]",T="[object String]",L="[object Symbol]",q="[object WeakMap]",R="[object ArrayBuffer]",F="[object DataView]",G="[object Float32Array]",z="[object Float64Array]",P="[object Int8Array]",B="[object Int16Array]",m="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",U="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,H=/\w*$/,Y=/^\[object .+?Constructor\]$/,st=/^(?:0|[1-9]\d*)$/,J={};J[a]=J[o]=J[R]=J[F]=J[c]=J[d]=J[G]=J[z]=J[P]=J[B]=J[m]=J[p]=J[g]=J[y]=J[$]=J[k]=J[T]=J[L]=J[S]=J[A]=J[O]=J[U]=!0,J[h]=J[v]=J[q]=!1;var X=typeof Ks=="object"&&Ks&&Ks.Object===Object&&Ks,rt=typeof self=="object"&&self&&self.Object===Object&&self,at=X||rt||Function("return this")(),nt=t&&!t.nodeType&&t,Z=nt&&!0&&r&&!r.nodeType&&r,K=Z&&Z.exports===nt;function ut(f,E){return f.set(E[0],E[1]),f}function et(f,E){return f.add(E),f}function ft(f,E){for(var j=-1,ct=f?f.length:0;++j<ct&&E(f[j],j,f)!==!1;);return f}function ot(f,E){for(var j=-1,ct=E.length,ie=f.length;++j<ct;)f[ie+j]=E[j];return f}function Q(f,E,j,ct){for(var ie=-1,Pt=f?f.length:0;++ie<Pt;)j=E(j,f[ie],ie,f);return j}function it(f,E){for(var j=-1,ct=Array(f);++j<f;)ct[j]=E(j);return ct}function ht(f,E){return f==null?void 0:f[E]}function _t(f){var E=!1;if(f!=null&&typeof f.toString!="function")try{E=!!(f+"")}catch{}return E}function $t(f){var E=-1,j=Array(f.size);return f.forEach(function(ct,ie){j[++E]=[ie,ct]}),j}function Bt(f,E){return function(j){return f(E(j))}}function Qt(f){var E=-1,j=Array(f.size);return f.forEach(function(ct){j[++E]=ct}),j}var Jt=Array.prototype,Vt=Function.prototype,Ct=Object.prototype,Tt=at["__core-js_shared__"],Ht=function(){var f=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Et=Vt.toString,gt=Ct.hasOwnProperty,kt=Ct.toString,It=RegExp("^"+Et.call(gt).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=K?at.Buffer:void 0,Ft=at.Symbol,Dt=at.Uint8Array,Nt=Bt(Object.getPrototypeOf,Object),Rt=Object.create,Wt=Ct.propertyIsEnumerable,ae=Jt.splice,ne=Object.getOwnPropertySymbols,le=Ut?Ut.isBuffer:void 0,_e=Bt(Object.keys,Object),me=gr(at,"DataView"),$e=gr(at,"Map"),Zt=gr(at,"Promise"),Xt=gr(at,"Set"),se=gr(at,"WeakMap"),te=gr(Object,"create"),ce=ar(me),fe=ar($e),he=ar(Zt),Pe=ar(Xt),Ot=ar(se),je=Ft?Ft.prototype:void 0,Be=je?je.valueOf:void 0;function Ue(f){var E=-1,j=f?f.length:0;for(this.clear();++E<j;){var ct=f[E];this.set(ct[0],ct[1])}}function dr(){this.__data__=te?te(null):{}}function lr(f){return this.has(f)&&delete this.__data__[f]}function nr(f){var E=this.__data__;if(te){var j=E[f];return j===n?void 0:j}return gt.call(E,f)?E[f]:void 0}function vr(f){var E=this.__data__;return te?E[f]!==void 0:gt.call(E,f)}function Xe(f,E){var j=this.__data__;return j[f]=te&&E===void 0?n:E,this}Ue.prototype.clear=dr,Ue.prototype.delete=lr,Ue.prototype.get=nr,Ue.prototype.has=vr,Ue.prototype.set=Xe;function Ce(f){var E=-1,j=f?f.length:0;for(this.clear();++E<j;){var ct=f[E];this.set(ct[0],ct[1])}}function cr(){this.__data__=[]}function fr(f){var E=this.__data__,j=wr(E,f);if(j<0)return!1;var ct=E.length-1;return j==ct?E.pop():ae.call(E,j,1),!0}function sr(f){var E=this.__data__,j=wr(E,f);return j<0?void 0:E[j][1]}function Cr(f){return wr(this.__data__,f)>-1}function kr(f,E){var j=this.__data__,ct=wr(j,f);return ct<0?j.push([f,E]):j[ct][1]=E,this}Ce.prototype.clear=cr,Ce.prototype.delete=fr,Ce.prototype.get=sr,Ce.prototype.has=Cr,Ce.prototype.set=kr;function qe(f){var E=-1,j=f?f.length:0;for(this.clear();++E<j;){var ct=f[E];this.set(ct[0],ct[1])}}function mr(){this.__data__={hash:new Ue,map:new($e||Ce),string:new Ue}}function pt(f){return qt(this,f).delete(f)}function xt(f){return qt(this,f).get(f)}function At(f){return qt(this,f).has(f)}function ee(f,E){return qt(this,f).set(f,E),this}qe.prototype.clear=mr,qe.prototype.delete=pt,qe.prototype.get=xt,qe.prototype.has=At,qe.prototype.set=ee;function re(f){this.__data__=new Ce(f)}function _r(){this.__data__=new Ce}function cn(f){return this.__data__.delete(f)}function Yr(f){return this.__data__.get(f)}function Ur(f){return this.__data__.has(f)}function Er(f,E){var j=this.__data__;if(j instanceof Ce){var ct=j.__data__;if(!$e||ct.length<e-1)return ct.push([f,E]),this;j=this.__data__=new qe(ct)}return j.set(f,E),this}re.prototype.clear=_r,re.prototype.delete=cn,re.prototype.get=Yr,re.prototype.has=Ur,re.prototype.set=Er;function yr(f,E){var j=Pn(f)||rn(f)?it(f.length,String):[],ct=j.length,ie=!!ct;for(var Pt in f)gt.call(f,Pt)&&!(ie&&(Pt=="length"||qn(Pt,ct)))&&j.push(Pt);return j}function Jr(f,E,j){var ct=f[E];(!(gt.call(f,E)&&hn(ct,j))||j===void 0&&!(E in f))&&(f[E]=j)}function wr(f,E){for(var j=f.length;j--;)if(hn(f[j][0],E))return j;return-1}function Qe(f,E){return f&&tn(E,vn(E),f)}function Ar(f,E,j,ct,ie,Pt,ke){var ye;if(ct&&(ye=Pt?ct(f,ie,Pt,ke):ct(f)),ye!==void 0)return ye;if(!Nr(f))return f;var Fe=Pn(f);if(Fe){if(ye=ns(f),!E)return Qr(f,ye)}else{var Te=$r(f),tr=Te==v||Te==b;if(kn(f))return Hr(f,E);if(Te==y||Te==a||tr&&!Pt){if(_t(f))return Pt?f:{};if(ye=Sr(tr?{}:f),!E)return fn(f,Qe(ye,f))}else{if(!J[Te])return Pt?f:{};ye=$s(f,Te,Ar,E)}}ke||(ke=new re);var hr=ke.get(f);if(hr)return hr;if(ke.set(f,ye),!Fe)var Ke=j?en(f):vn(f);return ft(Ke||f,function(er,We){Ke&&(We=er,er=f[We]),Jr(ye,We,Ar(er,E,j,ct,We,f,ke))}),ye}function Fr(f){return Nr(f)?Rt(f):{}}function un(f,E,j){var ct=E(f);return Pn(f)?ct:ot(ct,j(f))}function zr(f){return kt.call(f)}function Rr(f){if(!Nr(f)||ss(f))return!1;var E=pn(f)||_t(f)?It:Y;return E.test(ar(f))}function Yt(f){if(!as(f))return _e(f);var E=[];for(var j in Object(f))gt.call(f,j)&&j!="constructor"&&E.push(j);return E}function Hr(f,E){if(E)return f.slice();var j=new f.constructor(f.length);return f.copy(j),j}function dn(f){var E=new f.constructor(f.byteLength);return new Dt(E).set(new Dt(f)),E}function Tr(f,E){var j=E?dn(f.buffer):f.buffer;return new f.constructor(j,f.byteOffset,f.byteLength)}function Zr(f,E,j){var ct=E?j($t(f),!0):$t(f);return Q(ct,ut,new f.constructor)}function Xr(f){var E=new f.constructor(f.source,H.exec(f));return E.lastIndex=f.lastIndex,E}function xn(f,E,j){var ct=E?j(Qt(f),!0):Qt(f);return Q(ct,et,new f.constructor)}function Cn(f){return Be?Object(Be.call(f)):{}}function Rn(f,E){var j=E?dn(f.buffer):f.buffer;return new f.constructor(j,f.byteOffset,f.length)}function Qr(f,E){var j=-1,ct=f.length;for(E||(E=Array(ct));++j<ct;)E[j]=f[j];return E}function tn(f,E,j,ct){j||(j={});for(var ie=-1,Pt=E.length;++ie<Pt;){var ke=E[ie],ye=void 0;Jr(j,ke,ye===void 0?f[ke]:ye)}return j}function fn(f,E){return tn(f,xr(f),E)}function en(f){return un(f,vn,xr)}function qt(f,E){var j=f.__data__;return In(E)?j[typeof E=="string"?"string":"hash"]:j.map}function gr(f,E){var j=ht(f,E);return Rr(j)?j:void 0}var xr=ne?Bt(ne,Object):Mn,$r=zr;(me&&$r(new me(new ArrayBuffer(1)))!=F||$e&&$r(new $e)!=p||Zt&&$r(Zt.resolve())!=w||Xt&&$r(new Xt)!=k||se&&$r(new se)!=q)&&($r=function(f){var E=kt.call(f),j=E==y?f.constructor:void 0,ct=j?ar(j):void 0;if(ct)switch(ct){case ce:return F;case fe:return p;case he:return w;case Pe:return k;case Ot:return q}return E});function ns(f){var E=f.length,j=f.constructor(E);return E&&typeof f[0]=="string"&&gt.call(f,"index")&&(j.index=f.index,j.input=f.input),j}function Sr(f){return typeof f.constructor=="function"&&!as(f)?Fr(Nt(f)):{}}function $s(f,E,j,ct){var ie=f.constructor;switch(E){case R:return dn(f);case c:case d:return new ie(+f);case F:return Tr(f,ct);case G:case z:case P:case B:case m:case S:case A:case O:case U:return Rn(f,ct);case p:return Zr(f,ct,j);case g:case T:return new ie(f);case $:return Xr(f);case k:return xn(f,ct,j);case L:return Cn(f)}}function qn(f,E){return E=E??s,!!E&&(typeof f=="number"||st.test(f))&&f>-1&&f%1==0&&f<E}function In(f){var E=typeof f;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?f!=="__proto__":f===null}function ss(f){return!!Ht&&Ht in f}function as(f){var E=f&&f.constructor,j=typeof E=="function"&&E.prototype||Ct;return f===j}function ar(f){if(f!=null){try{return Et.call(f)}catch{}try{return f+""}catch{}}return""}function jn(f){return Ar(f,!0,!0)}function hn(f,E){return f===E||f!==f&&E!==E}function rn(f){return is(f)&&gt.call(f,"callee")&&(!Wt.call(f,"callee")||kt.call(f)==a)}var Pn=Array.isArray;function $n(f){return f!=null&&Dn(f.length)&&!pn(f)}function is(f){return os(f)&&$n(f)}var kn=le||ls;function pn(f){var E=Nr(f)?kt.call(f):"";return E==v||E==b}function Dn(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=s}function Nr(f){var E=typeof f;return!!f&&(E=="object"||E=="function")}function os(f){return!!f&&typeof f=="object"}function vn(f){return $n(f)?yr(f):Yt(f)}function Mn(){return[]}function ls(){return!1}r.exports=jn}(gi,gi.exports)),gi.exports}var bi={exports:{}};bi.exports;var ju;function Df(){return ju||(ju=1,function(r,t){var e=200,n="__lodash_hash_undefined__",s=1,a=2,o=9007199254740991,c="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",v="[object Boolean]",b="[object Date]",p="[object Error]",g="[object Function]",y="[object GeneratorFunction]",w="[object Map]",$="[object Number]",k="[object Null]",T="[object Object]",L="[object Promise]",q="[object Proxy]",R="[object RegExp]",F="[object Set]",G="[object String]",z="[object Symbol]",P="[object Undefined]",B="[object WeakMap]",m="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",H="[object Int32Array]",Y="[object Uint8Array]",st="[object Uint8ClampedArray]",J="[object Uint16Array]",X="[object Uint32Array]",rt=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,Z={};Z[A]=Z[O]=Z[U]=Z[D]=Z[H]=Z[Y]=Z[st]=Z[J]=Z[X]=!0,Z[c]=Z[d]=Z[m]=Z[v]=Z[S]=Z[b]=Z[p]=Z[g]=Z[w]=Z[$]=Z[T]=Z[R]=Z[F]=Z[G]=Z[B]=!1;var K=typeof Ks=="object"&&Ks&&Ks.Object===Object&&Ks,ut=typeof self=="object"&&self&&self.Object===Object&&self,et=K||ut||Function("return this")(),ft=t&&!t.nodeType&&t,ot=ft&&!0&&r&&!r.nodeType&&r,Q=ot&&ot.exports===ft,it=Q&&K.process,ht=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),_t=ht&&ht.isTypedArray;function $t(f,E){for(var j=-1,ct=f==null?0:f.length,ie=0,Pt=[];++j<ct;){var ke=f[j];E(ke,j,f)&&(Pt[ie++]=ke)}return Pt}function Bt(f,E){for(var j=-1,ct=E.length,ie=f.length;++j<ct;)f[ie+j]=E[j];return f}function Qt(f,E){for(var j=-1,ct=f==null?0:f.length;++j<ct;)if(E(f[j],j,f))return!0;return!1}function Jt(f,E){for(var j=-1,ct=Array(f);++j<f;)ct[j]=E(j);return ct}function Vt(f){return function(E){return f(E)}}function Ct(f,E){return f.has(E)}function Tt(f,E){return f==null?void 0:f[E]}function Ht(f){var E=-1,j=Array(f.size);return f.forEach(function(ct,ie){j[++E]=[ie,ct]}),j}function Et(f,E){return function(j){return f(E(j))}}function gt(f){var E=-1,j=Array(f.size);return f.forEach(function(ct){j[++E]=ct}),j}var kt=Array.prototype,It=Function.prototype,Ut=Object.prototype,Ft=et["__core-js_shared__"],Dt=It.toString,Nt=Ut.hasOwnProperty,Rt=function(){var f=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Wt=Ut.toString,ae=RegExp("^"+Dt.call(Nt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=Q?et.Buffer:void 0,le=et.Symbol,_e=et.Uint8Array,me=Ut.propertyIsEnumerable,$e=kt.splice,Zt=le?le.toStringTag:void 0,Xt=Object.getOwnPropertySymbols,se=ne?ne.isBuffer:void 0,te=Et(Object.keys,Object),ce=xr(et,"DataView"),fe=xr(et,"Map"),he=xr(et,"Promise"),Pe=xr(et,"Set"),Ot=xr(et,"WeakMap"),je=xr(Object,"create"),Be=ar(ce),Ue=ar(fe),dr=ar(he),lr=ar(Pe),nr=ar(Ot),vr=le?le.prototype:void 0,Xe=vr?vr.valueOf:void 0;function Ce(f){var E=-1,j=f==null?0:f.length;for(this.clear();++E<j;){var ct=f[E];this.set(ct[0],ct[1])}}function cr(){this.__data__=je?je(null):{},this.size=0}function fr(f){var E=this.has(f)&&delete this.__data__[f];return this.size-=E?1:0,E}function sr(f){var E=this.__data__;if(je){var j=E[f];return j===n?void 0:j}return Nt.call(E,f)?E[f]:void 0}function Cr(f){var E=this.__data__;return je?E[f]!==void 0:Nt.call(E,f)}function kr(f,E){var j=this.__data__;return this.size+=this.has(f)?0:1,j[f]=je&&E===void 0?n:E,this}Ce.prototype.clear=cr,Ce.prototype.delete=fr,Ce.prototype.get=sr,Ce.prototype.has=Cr,Ce.prototype.set=kr;function qe(f){var E=-1,j=f==null?0:f.length;for(this.clear();++E<j;){var ct=f[E];this.set(ct[0],ct[1])}}function mr(){this.__data__=[],this.size=0}function pt(f){var E=this.__data__,j=Hr(E,f);if(j<0)return!1;var ct=E.length-1;return j==ct?E.pop():$e.call(E,j,1),--this.size,!0}function xt(f){var E=this.__data__,j=Hr(E,f);return j<0?void 0:E[j][1]}function At(f){return Hr(this.__data__,f)>-1}function ee(f,E){var j=this.__data__,ct=Hr(j,f);return ct<0?(++this.size,j.push([f,E])):j[ct][1]=E,this}qe.prototype.clear=mr,qe.prototype.delete=pt,qe.prototype.get=xt,qe.prototype.has=At,qe.prototype.set=ee;function re(f){var E=-1,j=f==null?0:f.length;for(this.clear();++E<j;){var ct=f[E];this.set(ct[0],ct[1])}}function _r(){this.size=0,this.__data__={hash:new Ce,map:new(fe||qe),string:new Ce}}function cn(f){var E=gr(this,f).delete(f);return this.size-=E?1:0,E}function Yr(f){return gr(this,f).get(f)}function Ur(f){return gr(this,f).has(f)}function Er(f,E){var j=gr(this,f),ct=j.size;return j.set(f,E),this.size+=j.size==ct?0:1,this}re.prototype.clear=_r,re.prototype.delete=cn,re.prototype.get=Yr,re.prototype.has=Ur,re.prototype.set=Er;function yr(f){var E=-1,j=f==null?0:f.length;for(this.__data__=new re;++E<j;)this.add(f[E])}function Jr(f){return this.__data__.set(f,n),this}function wr(f){return this.__data__.has(f)}yr.prototype.add=yr.prototype.push=Jr,yr.prototype.has=wr;function Qe(f){var E=this.__data__=new qe(f);this.size=E.size}function Ar(){this.__data__=new qe,this.size=0}function Fr(f){var E=this.__data__,j=E.delete(f);return this.size=E.size,j}function un(f){return this.__data__.get(f)}function zr(f){return this.__data__.has(f)}function Rr(f,E){var j=this.__data__;if(j instanceof qe){var ct=j.__data__;if(!fe||ct.length<e-1)return ct.push([f,E]),this.size=++j.size,this;j=this.__data__=new re(ct)}return j.set(f,E),this.size=j.size,this}Qe.prototype.clear=Ar,Qe.prototype.delete=Fr,Qe.prototype.get=un,Qe.prototype.has=zr,Qe.prototype.set=Rr;function Yt(f,E){var j=rn(f),ct=!j&&hn(f),ie=!j&&!ct&&$n(f),Pt=!j&&!ct&&!ie&&os(f),ke=j||ct||ie||Pt,ye=ke?Jt(f.length,String):[],Fe=ye.length;for(var Te in f)Nt.call(f,Te)&&!(ke&&(Te=="length"||ie&&(Te=="offset"||Te=="parent")||Pt&&(Te=="buffer"||Te=="byteLength"||Te=="byteOffset")||$s(Te,Fe)))&&ye.push(Te);return ye}function Hr(f,E){for(var j=f.length;j--;)if(jn(f[j][0],E))return j;return-1}function dn(f,E,j){var ct=E(f);return rn(f)?ct:Bt(ct,j(f))}function Tr(f){return f==null?f===void 0?P:k:Zt&&Zt in Object(f)?$r(f):as(f)}function Zr(f){return Nr(f)&&Tr(f)==c}function Xr(f,E,j,ct,ie){return f===E?!0:f==null||E==null||!Nr(f)&&!Nr(E)?f!==f&&E!==E:xn(f,E,j,ct,Xr,ie)}function xn(f,E,j,ct,ie,Pt){var ke=rn(f),ye=rn(E),Fe=ke?d:Sr(f),Te=ye?d:Sr(E);Fe=Fe==c?T:Fe,Te=Te==c?T:Te;var tr=Fe==T,hr=Te==T,Ke=Fe==Te;if(Ke&&$n(f)){if(!$n(E))return!1;ke=!0,tr=!1}if(Ke&&!tr)return Pt||(Pt=new Qe),ke||os(f)?tn(f,E,j,ct,ie,Pt):fn(f,E,Fe,j,ct,ie,Pt);if(!(j&s)){var er=tr&&Nt.call(f,"__wrapped__"),We=hr&&Nt.call(E,"__wrapped__");if(er||We){var nn=er?f.value():f,qr=We?E.value():E;return Pt||(Pt=new Qe),ie(nn,qr,j,ct,Pt)}}return Ke?(Pt||(Pt=new Qe),en(f,E,j,ct,ie,Pt)):!1}function Cn(f){if(!Dn(f)||In(f))return!1;var E=kn(f)?ae:at;return E.test(ar(f))}function Rn(f){return Nr(f)&&pn(f.length)&&!!Z[Tr(f)]}function Qr(f){if(!ss(f))return te(f);var E=[];for(var j in Object(f))Nt.call(f,j)&&j!="constructor"&&E.push(j);return E}function tn(f,E,j,ct,ie,Pt){var ke=j&s,ye=f.length,Fe=E.length;if(ye!=Fe&&!(ke&&Fe>ye))return!1;var Te=Pt.get(f);if(Te&&Pt.get(E))return Te==E;var tr=-1,hr=!0,Ke=j&a?new yr:void 0;for(Pt.set(f,E),Pt.set(E,f);++tr<ye;){var er=f[tr],We=E[tr];if(ct)var nn=ke?ct(We,er,tr,E,f,Pt):ct(er,We,tr,f,E,Pt);if(nn!==void 0){if(nn)continue;hr=!1;break}if(Ke){if(!Qt(E,function(qr,sn){if(!Ct(Ke,sn)&&(er===qr||ie(er,qr,j,ct,Pt)))return Ke.push(sn)})){hr=!1;break}}else if(!(er===We||ie(er,We,j,ct,Pt))){hr=!1;break}}return Pt.delete(f),Pt.delete(E),hr}function fn(f,E,j,ct,ie,Pt,ke){switch(j){case S:if(f.byteLength!=E.byteLength||f.byteOffset!=E.byteOffset)return!1;f=f.buffer,E=E.buffer;case m:return!(f.byteLength!=E.byteLength||!Pt(new _e(f),new _e(E)));case v:case b:case $:return jn(+f,+E);case p:return f.name==E.name&&f.message==E.message;case R:case G:return f==E+"";case w:var ye=Ht;case F:var Fe=ct&s;if(ye||(ye=gt),f.size!=E.size&&!Fe)return!1;var Te=ke.get(f);if(Te)return Te==E;ct|=a,ke.set(f,E);var tr=tn(ye(f),ye(E),ct,ie,Pt,ke);return ke.delete(f),tr;case z:if(Xe)return Xe.call(f)==Xe.call(E)}return!1}function en(f,E,j,ct,ie,Pt){var ke=j&s,ye=qt(f),Fe=ye.length,Te=qt(E),tr=Te.length;if(Fe!=tr&&!ke)return!1;for(var hr=Fe;hr--;){var Ke=ye[hr];if(!(ke?Ke in E:Nt.call(E,Ke)))return!1}var er=Pt.get(f);if(er&&Pt.get(E))return er==E;var We=!0;Pt.set(f,E),Pt.set(E,f);for(var nn=ke;++hr<Fe;){Ke=ye[hr];var qr=f[Ke],sn=E[Ke];if(ct)var ks=ke?ct(sn,qr,Ke,E,f,Pt):ct(qr,sn,Ke,f,E,Pt);if(!(ks===void 0?qr===sn||ie(qr,sn,j,ct,Pt):ks)){We=!1;break}nn||(nn=Ke=="constructor")}if(We&&!nn){var cs=f.constructor,us=E.constructor;cs!=us&&"constructor"in f&&"constructor"in E&&!(typeof cs=="function"&&cs instanceof cs&&typeof us=="function"&&us instanceof us)&&(We=!1)}return Pt.delete(f),Pt.delete(E),We}function qt(f){return dn(f,vn,ns)}function gr(f,E){var j=f.__data__;return qn(E)?j[typeof E=="string"?"string":"hash"]:j.map}function xr(f,E){var j=Tt(f,E);return Cn(j)?j:void 0}function $r(f){var E=Nt.call(f,Zt),j=f[Zt];try{f[Zt]=void 0;var ct=!0}catch{}var ie=Wt.call(f);return ct&&(E?f[Zt]=j:delete f[Zt]),ie}var ns=Xt?function(f){return f==null?[]:(f=Object(f),$t(Xt(f),function(E){return me.call(f,E)}))}:Mn,Sr=Tr;(ce&&Sr(new ce(new ArrayBuffer(1)))!=S||fe&&Sr(new fe)!=w||he&&Sr(he.resolve())!=L||Pe&&Sr(new Pe)!=F||Ot&&Sr(new Ot)!=B)&&(Sr=function(f){var E=Tr(f),j=E==T?f.constructor:void 0,ct=j?ar(j):"";if(ct)switch(ct){case Be:return S;case Ue:return w;case dr:return L;case lr:return F;case nr:return B}return E});function $s(f,E){return E=E??o,!!E&&(typeof f=="number"||nt.test(f))&&f>-1&&f%1==0&&f<E}function qn(f){var E=typeof f;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?f!=="__proto__":f===null}function In(f){return!!Rt&&Rt in f}function ss(f){var E=f&&f.constructor,j=typeof E=="function"&&E.prototype||Ut;return f===j}function as(f){return Wt.call(f)}function ar(f){if(f!=null){try{return Dt.call(f)}catch{}try{return f+""}catch{}}return""}function jn(f,E){return f===E||f!==f&&E!==E}var hn=Zr(function(){return arguments}())?Zr:function(f){return Nr(f)&&Nt.call(f,"callee")&&!me.call(f,"callee")},rn=Array.isArray;function Pn(f){return f!=null&&pn(f.length)&&!kn(f)}var $n=se||ls;function is(f,E){return Xr(f,E)}function kn(f){if(!Dn(f))return!1;var E=Tr(f);return E==g||E==y||E==h||E==q}function pn(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=o}function Dn(f){var E=typeof f;return f!=null&&(E=="object"||E=="function")}function Nr(f){return f!=null&&typeof f=="object"}var os=_t?Vt(_t):Rn;function vn(f){return Pn(f)?Yt(f):Qr(f)}function Mn(){return[]}function ls(){return!1}r.exports=is}(bi,bi.exports)),bi.exports}var so={},Pu;function jy(){if(Pu)return so;Pu=1,Object.defineProperty(so,"__esModule",{value:!0});const r=Pf(),t=Df();var e;return function(n){function s(d={},h={},v=!1){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});let b=r(h);v||(b=Object.keys(b).reduce((p,g)=>(b[g]!=null&&(p[g]=b[g]),p),{}));for(const p in d)d[p]!==void 0&&h[p]===void 0&&(b[p]=d[p]);return Object.keys(b).length>0?b:void 0}n.compose=s;function a(d={},h={}){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});const v=Object.keys(d).concat(Object.keys(h)).reduce((b,p)=>(t(d[p],h[p])||(b[p]=h[p]===void 0?null:h[p]),b),{});return Object.keys(v).length>0?v:void 0}n.diff=a;function o(d={},h={}){d=d||{};const v=Object.keys(h).reduce((b,p)=>(h[p]!==d[p]&&d[p]!==void 0&&(b[p]=h[p]),b),{});return Object.keys(d).reduce((b,p)=>(d[p]!==h[p]&&h[p]===void 0&&(b[p]=null),b),v)}n.invert=o;function c(d,h,v=!1){if(typeof d!="object")return h;if(typeof h!="object")return;if(!v)return h;const b=Object.keys(h).reduce((p,g)=>(d[g]===void 0&&(p[g]=h[g]),p),{});return Object.keys(b).length>0?b:void 0}n.transform=c}(e||(e={})),so.default=e,so}var ao={},Du;function Mf(){if(Du)return ao;Du=1,Object.defineProperty(ao,"__esModule",{value:!0});var r;return function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e}(r||(r={})),ao.default=r,ao}var io={},Mu;function Py(){if(Mu)return io;Mu=1,Object.defineProperty(io,"__esModule",{value:!0});const r=Mf();class t{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const s=this.ops[this.index];if(s){const a=this.offset,o=r.default.length(s);if(n>=o-a?(n=o-a,this.index+=1,this.offset=0):this.offset+=n,typeof s.delete=="number")return{delete:n};{const c={};return s.attributes&&(c.attributes=s.attributes),typeof s.retain=="number"?c.retain=n:typeof s.retain=="object"&&s.retain!==null?c.retain=s.retain:typeof s.insert=="string"?c.insert=s.insert.substr(a,n):c.insert=s.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,s=this.index,a=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=s,[a].concat(o)}}else return[]}}return io.default=t,io}var Bu;function Dy(){return Bu||(Bu=1,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=Iy(),n=Pf(),s=Df(),a=jy();t.AttributeMap=a.default;const o=Mf();t.Op=o.default;const c=Py();t.OpIterator=c.default;const d="\0",h=(b,p)=>{if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(b)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,b[g],p[g]]};class v{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const y={};return typeof p=="string"&&p.length===0?this:(y.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(y.attributes=g),this.push(y))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const y={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(y.attributes=g),this.push(y)}push(p){let g=this.ops.length,y=this.ops[g-1];if(p=n(p),typeof y=="object"){if(typeof p.delete=="number"&&typeof y.delete=="number")return this.ops[g-1]={delete:y.delete+p.delete},this;if(typeof y.delete=="number"&&p.insert!=null&&(g-=1,y=this.ops[g-1],typeof y!="object"))return this.ops.unshift(p),this;if(s(p.attributes,y.attributes)){if(typeof p.insert=="string"&&typeof y.insert=="string")return this.ops[g-1]={insert:y.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof y.retain=="number")return this.ops[g-1]={retain:y.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],y=[];return this.forEach(w=>{(p(w)?g:y).push(w)}),[g,y]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+o.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+o.default.length(g),0)}slice(p=0,g=1/0){const y=[],w=new c.default(this.ops);let $=0;for(;$<g&&w.hasNext();){let k;$<p?k=w.next(p-$):(k=w.next(g-$),y.push(k)),$+=o.default.length(k)}return new v(y)}compose(p){const g=new c.default(this.ops),y=new c.default(p.ops),w=[],$=y.peek();if($!=null&&typeof $.retain=="number"&&$.attributes==null){let T=$.retain;for(;g.peekType()==="insert"&&g.peekLength()<=T;)T-=g.peekLength(),w.push(g.next());$.retain-T>0&&y.next($.retain-T)}const k=new v(w);for(;g.hasNext()||y.hasNext();)if(y.peekType()==="insert")k.push(y.next());else if(g.peekType()==="delete")k.push(g.next());else{const T=Math.min(g.peekLength(),y.peekLength()),L=g.next(T),q=y.next(T);if(q.retain){const R={};if(typeof L.retain=="number")R.retain=typeof q.retain=="number"?T:q.retain;else if(typeof q.retain=="number")L.retain==null?R.insert=L.insert:R.retain=L.retain;else{const G=L.retain==null?"insert":"retain",[z,P,B]=h(L[G],q.retain),m=v.getHandler(z);R[G]={[z]:m.compose(P,B,G==="retain")}}const F=a.default.compose(L.attributes,q.attributes,typeof L.retain=="number");if(F&&(R.attributes=F),k.push(R),!y.hasNext()&&s(k.ops[k.ops.length-1],R)){const G=new v(g.rest());return k.concat(G).chop()}}else typeof q.delete=="number"&&(typeof L.retain=="number"||typeof L.retain=="object"&&L.retain!==null)&&k.push(q)}return k.chop()}concat(p){const g=new v(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new v;const y=[this,p].map(L=>L.map(q=>{if(q.insert!=null)return typeof q.insert=="string"?q.insert:d;const R=L===p?"on":"with";throw new Error("diff() called "+R+" non-document")}).join("")),w=new v,$=e(y[0],y[1],g,!0),k=new c.default(this.ops),T=new c.default(p.ops);return $.forEach(L=>{let q=L[1].length;for(;q>0;){let R=0;switch(L[0]){case e.INSERT:R=Math.min(T.peekLength(),q),w.push(T.next(R));break;case e.DELETE:R=Math.min(q,k.peekLength()),k.next(R),w.delete(R);break;case e.EQUAL:R=Math.min(k.peekLength(),T.peekLength(),q);const F=k.next(R),G=T.next(R);s(F.insert,G.insert)?w.retain(R,a.default.diff(F.attributes,G.attributes)):w.push(G).delete(R);break}q-=R}}),w.chop()}eachLine(p,g=`
`){const y=new c.default(this.ops);let w=new v,$=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const k=y.peek(),T=o.default.length(k)-y.peekLength(),L=typeof k.insert=="string"?k.insert.indexOf(g,T)-T:-1;if(L<0)w.push(y.next());else if(L>0)w.push(y.next(L));else{if(p(w,y.next(1).attributes||{},$)===!1)return;$+=1,w=new v}}w.length()>0&&p(w,{},$)}invert(p){const g=new v;return this.reduce((y,w)=>{if(w.insert)g.delete(o.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return g.retain(w.retain),y+w.retain;if(w.delete||typeof w.retain=="number"){const $=w.delete||w.retain;return p.slice(y,y+$).forEach(T=>{w.delete?g.push(T):w.retain&&w.attributes&&g.retain(o.default.length(T),a.default.invert(w.attributes,T.attributes))}),y+$}else if(typeof w.retain=="object"&&w.retain!==null){const $=p.slice(y,y+1),k=new c.default($.ops).next(),[T,L,q]=h(w.retain,k.insert),R=v.getHandler(T);return g.retain({[T]:R.invert(L,q)},a.default.invert(w.attributes,k.attributes)),y+1}}return y},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const y=p,w=new c.default(this.ops),$=new c.default(y.ops),k=new v;for(;w.hasNext()||$.hasNext();)if(w.peekType()==="insert"&&(g||$.peekType()!=="insert"))k.retain(o.default.length(w.next()));else if($.peekType()==="insert")k.push($.next());else{const T=Math.min(w.peekLength(),$.peekLength()),L=w.next(T),q=$.next(T);if(L.delete)continue;if(q.delete)k.push(q);else{const R=L.retain,F=q.retain;let G=typeof F=="object"&&F!==null?F:T;if(typeof R=="object"&&R!==null&&typeof F=="object"&&F!==null){const z=Object.keys(R)[0];if(z===Object.keys(F)[0]){const P=v.getHandler(z);P&&(G={[z]:P.transform(R[z],F[z],g)})}}k.retain(G,a.default.transform(L.attributes,q.attributes,g))}}return k.chop()}transformPosition(p,g=!1){g=!!g;const y=new c.default(this.ops);let w=0;for(;y.hasNext()&&w<=p;){const $=y.peekLength(),k=y.peekType();if(y.next(),k==="delete"){p-=Math.min($,p-w);continue}else k==="insert"&&(w<p||!g)&&(p+=$);w+=$}return p}}v.Op=o.default,v.OpIterator=c.default,v.AttributeMap=a.default,v.handlers={},t.default=v,r.exports=v,r.exports.default=v}(no,no.exports)),no.exports}var Nn=Dy();const zt=jf(Nn);class es extends wn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}es.blotName="break";es.tagName="BR";let Zn=class extends No{};const My={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zo(r){return r.replace(/[&<>"']/g,t=>My[t])}const fs=class fs extends _c{static compare(t,e){const n=fs.order.indexOf(t),s=fs.order.indexOf(e);return n>=0||s>=0?n-s:t===e?0:t<e?-1:1}formatAt(t,e,n,s){if(fs.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Kt.BLOT)){const a=this.isolate(t,e);s&&a.wrap(n,s)}else super.formatAt(t,e,n,s)}optimize(t){if(super.optimize(t),this.parent instanceof fs&&fs.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};Lt(fs,"allowedChildren",[fs,es,wn,Zn]),Lt(fs,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ws=fs;const Uu=1;class Lr extends Ii{constructor(){super(...arguments);Lt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Bf(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,s,a){n<=0||(this.scroll.query(s,Kt.BLOCK)?e+n===this.length()&&this.format(s,a):super.formatAt(e,Math.min(n,this.length()-e-1),s,a),this.cache={})}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s),this.cache={};return}if(n.length===0)return;const a=n.split(`
`),o=a.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let c=this;a.reduce((d,h)=>(c=c.split(d,!0),c.insertAt(0,h),h.length),e+o.length)}insertBefore(e,n){const{head:s}=this.children;super.insertBefore(e,n),s instanceof es&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Uu),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-Uu)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const s=super.split(e,n);return this.cache={},s}}Lr.blotName="block";Lr.tagName="P";Lr.defaultChild=es;Lr.allowedChildren=[es,ws,wn,Zn];class Sn extends wn{attach(){super.attach(),this.attributes=new Uo(this.domNode)}delta(){return new zt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,Kt.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,s){this.format(n,s)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const s=e.split(`
`),a=s.pop(),o=s.map(d=>{const h=this.scroll.create(Lr.blotName);return h.insertAt(0,d),h}),c=this.split(t);o.forEach(d=>{this.parent.insertBefore(d,c)}),a&&this.parent.insertBefore(this.scroll.create("text",a),c)}}Sn.scope=Kt.BLOCK_BLOT;function Bf(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(Mr).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),An(n,{},t)),new zt).insert(`
`,An(r))}function An(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:An(r.parent,t,e)}const En=class En extends wn{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(En.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,s=0;for(;n!=null&&n.statics.scope!==Kt.BLOCK_BLOT;)s+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=En.CONTENTS.length,n.optimize(),n.formatAt(s,En.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof Zn?this.prev:null,n=e?e.length():0,s=this.next instanceof Zn?this.next:null,a=s?s.text:"",{textNode:o}=this,c=o.data.split(En.CONTENTS).join("");o.data=En.CONTENTS;let d;if(e)d=e,(c||s)&&(e.insertAt(e.length(),c+a),s&&s.remove());else if(s)d=s,s.insertAt(0,c);else{const h=document.createTextNode(c);d=this.scroll.create(h),this.parent.insertBefore(d,this)}if(this.remove(),t){const h=(p,g)=>e&&p===e.domNode?g:p===o?n+g-1:s&&p===s.domNode?n+c.length+g:null,v=h(t.start.node,t.start.offset),b=h(t.end.node,t.end.offset);if(v!==null&&b!==null)return{startNode:d.domNode,startOffset:v,endNode:d.domNode,endOffset:b}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=En.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};Lt(En,"blotName","cursor"),Lt(En,"className","ql-cursor"),Lt(En,"tagName","span"),Lt(En,"CONTENTS","\uFEFF");let ei=En;var ll={exports:{}},Fu;function By(){return Fu||(Fu=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(d,h,v){this.fn=d,this.context=h,this.once=v||!1}function a(d,h,v,b,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var g=new s(v,b||d,p),y=e?e+h:h;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],g]:d._events[y].push(g):(d._events[y]=g,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],v,b;if(this._eventsCount===0)return h;for(b in v=this._events)t.call(v,b)&&h.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(v)):h},c.prototype.listeners=function(h){var v=e?e+h:h,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var p=0,g=b.length,y=new Array(g);p<g;p++)y[p]=b[p].fn;return y},c.prototype.listenerCount=function(h){var v=e?e+h:h,b=this._events[v];return b?b.fn?1:b.length:0},c.prototype.emit=function(h,v,b,p,g,y){var w=e?e+h:h;if(!this._events[w])return!1;var $=this._events[w],k=arguments.length,T,L;if($.fn){switch($.once&&this.removeListener(h,$.fn,void 0,!0),k){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,v),!0;case 3:return $.fn.call($.context,v,b),!0;case 4:return $.fn.call($.context,v,b,p),!0;case 5:return $.fn.call($.context,v,b,p,g),!0;case 6:return $.fn.call($.context,v,b,p,g,y),!0}for(L=1,T=new Array(k-1);L<k;L++)T[L-1]=arguments[L];$.fn.apply($.context,T)}else{var q=$.length,R;for(L=0;L<q;L++)switch($[L].once&&this.removeListener(h,$[L].fn,void 0,!0),k){case 1:$[L].fn.call($[L].context);break;case 2:$[L].fn.call($[L].context,v);break;case 3:$[L].fn.call($[L].context,v,b);break;case 4:$[L].fn.call($[L].context,v,b,p);break;default:if(!T)for(R=1,T=new Array(k-1);R<k;R++)T[R-1]=arguments[R];$[L].fn.apply($[L].context,T)}}return!0},c.prototype.on=function(h,v,b){return a(this,h,v,b,!1)},c.prototype.once=function(h,v,b){return a(this,h,v,b,!0)},c.prototype.removeListener=function(h,v,b,p){var g=e?e+h:h;if(!this._events[g])return this;if(!v)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===v&&(!p||y.once)&&(!b||y.context===b)&&o(this,g);else{for(var w=0,$=[],k=y.length;w<k;w++)(y[w].fn!==v||p&&!y[w].once||b&&y[w].context!==b)&&$.push(y[w]);$.length?this._events[g]=$.length===1?$[0]:$:o(this,g)}return this},c.prototype.removeAllListeners=function(h){var v;return h?(v=e?e+h:h,this._events[v]&&o(this,v)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,r.exports=c}(ll)),ll.exports}var Uy=By();const Fy=jf(Uy),Bl=new WeakMap,Ul=["error","warn","log","info"];let Fl="warn";function Uf(r){if(Fl&&Ul.indexOf(r)<=Ul.indexOf(Fl)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function Is(r){return Ul.reduce((t,e)=>(t[e]=Uf.bind(console,e,r),t),{})}Is.level=r=>{Fl=r};Uf.level=Is.level;const cl=Is("quill:events"),zy=["selectionchange","mousedown","mouseup","click"];zy.forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const a=Bl.get(s);a&&a.emitter&&a.emitter.handleDOM(...e)})})});class jt extends Fy{constructor(){super(),this.domListeners={},this.on("error",cl.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return cl.log.call(cl,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(this.domListeners[t.type]||[]).forEach(a=>{let{node:o,handler:c}=a;(t.target===o||o.contains(t.target))&&c(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}Lt(jt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Lt(jt,"sources",{API:"api",SILENT:"silent",USER:"user"});const ul=Is("quill:selection");class ba{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class Hy{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ba(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,jt.sources.USER),1)}),this.emitter.on(jt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(jt.events.SCROLL_UPDATE,(s,a)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=a.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(o?jt.sources.SILENT:s)}catch{}})}),this.emitter.on(jt.events.SCROLL_OPTIMIZE,(n,s)=>{if(s.range){const{startNode:a,startOffset:o,endNode:c,endOffset:d}=s.range;this.setNativeRange(a,o,c,d),this.update(jt.sources.SILENT)}}),this.update(jt.sources.SILENT)}handleComposition(){this.emitter.on(jt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(jt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(jt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,Kt.BLOCK))){if(n.start.node!==this.cursor.textNode){const s=this.scroll.find(n.start.node,!1);if(s==null)return;if(s instanceof Mr){const a=s.split(n.start.offset);s.parent.insertBefore(this.cursor,a)}else s.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let s,[a,o]=this.scroll.leaf(t);if(a==null)return null;if(e>0&&o===a.length()){const[v]=this.scroll.leaf(t+1);if(v){const[b]=this.scroll.line(t),[p]=this.scroll.line(t+1);b===p&&(a=v,o=0)}}[s,o]=a.position(o,!0);const c=document.createRange();if(e>0)return c.setStart(s,o),[a,o]=this.scroll.leaf(t+e),a==null?null:([s,o]=a.position(o,!0),c.setEnd(s,o),c.getBoundingClientRect());let d="left",h;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(c.setStart(s,o),c.setEnd(s,o+1)):(c.setStart(s,o-1),c.setEnd(s,o),d="right"),h=c.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;h=a.domNode.getBoundingClientRect(),o>0&&(d="right")}return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return ul.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&dl(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(o=>{const[c,d]=o,h=this.scroll.find(c,!0),v=h.offset(this.scroll);return d===0?v:h instanceof Mr?v+h.index(c,d):v+h.length()}),s=Math.min(Math.max(...n),this.scroll.length()-1),a=Math.min(s,...n);return new ba(a,s-a)}normalizeNative(t){if(!dl(this.root,t.startContainer)||!t.collapsed&&!dl(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:s,offset:a}=n;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>a)s=s.childNodes[a],a=0;else if(s.childNodes.length===a)s=s.lastChild,s instanceof Text?a=s.data.length:s.childNodes.length>0?a=s.childNodes.length:a=s.childNodes.length+1;else break;n.node=s,n.offset=a}),e}rangeToNative(t){const e=this.scroll.length(),n=(s,a)=>{s=Math.min(e-1,s);const[o,c]=this.scroll.leaf(s);return o?o.position(c,a):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ul.info("setNativeRange",t,e,n,s),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||a||t!==c.startContainer||e!==c.startOffset||n!==c.endContainer||s!==c.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(s=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const d=document.createRange();d.setStart(t,e),d.setEnd(n,s),o.removeAllRanges(),o.addRange(d)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jt.sources.API;if(typeof e=="string"&&(n=e,e=!1),ul.info("setRange",t),t!=null){const s=this.rangeToNative(t);this.setNativeRange(...s,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jt.sources.USER;const e=this.lastRange,[n,s]=this.getRange();if(this.lastRange=n,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!bc(e,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const a=[jt.events.SELECTION_CHANGE,Wa(this.lastRange),Wa(e),t];this.emitter.emit(jt.events.EDITOR_CHANGE,...a),t!==jt.sources.SILENT&&this.emitter.emit(...a)}}}function dl(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const Ky=/^[ -~]*$/;class Gy{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=zu(t),s=new zt;return Wy(n.ops.slice()).reduce((o,c)=>{const d=Nn.Op.length(c);let h=c.attributes||{},v=!1,b=!1;if(c.insert!=null){if(s.retain(d),typeof c.insert=="string"){const y=c.insert;b=!y.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(Sn,o)[0]),this.scroll.insertAt(o,y);const[w,$]=this.scroll.line(o);let k=Xs({},An(w));if(w instanceof Lr){const[T]=w.descendant(Mr,$);T&&(k=Xs(k,An(T)))}h=Nn.AttributeMap.diff(k,h)||{}}else if(typeof c.insert=="object"){const y=Object.keys(c.insert)[0];if(y==null)return o;const w=this.scroll.query(y,Kt.INLINE)!=null;if(w)(e<=o||this.scroll.descendant(Sn,o)[0])&&(b=!0);else if(o>0){const[$,k]=this.scroll.descendant(Mr,o-1);$ instanceof Zn?$.value()[k]!==`
`&&(v=!0):$ instanceof wn&&$.statics.scope===Kt.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(o,y,c.insert[y]),w){const[$]=this.scroll.descendant(Mr,o);if($){const k=Xs({},An($));h=Nn.AttributeMap.diff(k,h)||{}}}}e+=d}else if(s.push(c),c.retain!==null&&typeof c.retain=="object"){const y=Object.keys(c.retain)[0];if(y==null)return o;this.scroll.updateEmbedAt(o,y,c.retain[y])}Object.keys(h).forEach(y=>{this.scroll.formatAt(o,d,y,h[y])});const p=v?1:0,g=b?1:0;return e+=p+g,s.retain(p),s.delete(g),o+d+p+g},0),s.reduce((o,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(o,c.delete),o):o+Nn.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new zt().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(a=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(a,n[a])})}),this.scroll.optimize();const s=new zt().retain(t).retain(e,Wa(n));return this.update(s)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(a=>{this.scroll.formatAt(t,e,a,n[a])});const s=new zt().retain(t).retain(e,Wa(n));return this.update(s)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new zt)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],s=[];e===0?this.scroll.path(t).forEach(c=>{const[d]=c;d instanceof Lr?n.push(d):d instanceof Mr&&s.push(d)}):(n=this.scroll.lines(t,e),s=this.scroll.descendants(Mr,t,e));const[a,o]=[n,s].map(c=>{const d=c.shift();if(d==null)return{};let h=An(d);for(;Object.keys(h).length>0;){const v=c.shift();if(v==null)return h;h=Vy(An(v),h)}return h});return{...a,...o}}getHTML(t,e){const[n,s]=this.scroll.line(t);if(n){const a=n.length();return n.length()>=s+e&&!(s===0&&e===a)?ji(n,s,e,!0):ji(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=zu(e),s=new zt().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(s)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new zt().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e.length,s,n[s])}),this.update(new zt().retain(t).insert(e,Wa(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Lr.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof es}removeFormat(t,e){const n=this.getText(t,e),[s,a]=this.scroll.line(t+e);let o=0,c=new zt;s!=null&&(o=s.length()-a,c=s.delta().slice(a,a+o-1).insert(`
`));const h=this.getContents(t,e+o).diff(new zt().insert(n).concat(c)),v=new zt().retain(t).concat(h);return this.applyDelta(v)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Ky)&&this.scroll.find(e[0].target)){const a=this.scroll.find(e[0].target),o=An(a),c=a.offset(this.scroll),d=e[0].oldValue.replace(ei.CONTENTS,""),h=new zt().insert(d),v=new zt().insert(a.value()),b=n&&{oldRange:Hu(n.oldRange,-c),newRange:Hu(n.newRange,-c)};t=new zt().retain(c).concat(h.diff(v,b)).reduce((g,y)=>y.insert?g.insert(y.insert,o):g.push(y),new zt),this.delta=s.compose(t)}else this.delta=this.getDelta(),(!t||!bc(s.compose(t),this.delta))&&(t=s.diff(this.delta,n));return t}}function Ua(r,t,e){if(r.length===0){const[g]=fl(e.pop());return t<=0?`</li></${g}>`:`</li></${g}>${Ua([],t-1,e)}`}const[{child:n,offset:s,length:a,indent:o,type:c},...d]=r,[h,v]=fl(c);if(o>t)return e.push(c),o===t+1?`<${h}><li${v}>${ji(n,s,a)}${Ua(d,o,e)}`:`<${h}><li>${Ua(r,t+1,e)}`;const b=e[e.length-1];if(o===t&&c===b)return`</li><li${v}>${ji(n,s,a)}${Ua(d,o,e)}`;const[p]=fl(e.pop());return`</li></${p}>${Ua(r,t-1,e)}`}function ji(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof Zn)return zo(r.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(r instanceof Yn){if(r.statics.blotName==="list-container"){const h=[];return r.children.forEachAt(t,e,(v,b,p)=>{const g="formats"in v&&typeof v.formats=="function"?v.formats():{};h.push({child:v,offset:b,length:p,indent:g.indent||0,type:g.list})}),Ua(h,-1,[])}const s=[];if(r.children.forEachAt(t,e,(h,v,b)=>{s.push(ji(h,v,b))}),n||r.statics.blotName==="list")return s.join("");const{outerHTML:a,innerHTML:o}=r.domNode,[c,d]=a.split(`>${o}<`);return c==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${d}`:`${c}>${s.join("")}<${d}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function Vy(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const s=t[n];return s===r[n]?e[n]=s:Array.isArray(s)?s.indexOf(r[n])<0?e[n]=s.concat([r[n]]):e[n]=s:e[n]=[s,r[n]],e},{})}function fl(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function zu(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new zt)}function Hu(r,t){let{index:e,length:n}=r;return new ba(e+t,n)}function Wy(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((s,a)=>{a&&t.push({insert:`
`,attributes:e.attributes}),s&&t.push({insert:s,attributes:e.attributes})}):t.push(e)}),t}class rs{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}Lt(rs,"DEFAULTS",{});const oo="\uFEFF";class wc extends wn{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(oo),this.rightGuard=document.createTextNode(oo),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const s=t.data.split(oo).join("");if(t===this.leftGuard)if(this.prev instanceof Zn){const a=this.prev.length();this.prev.insertAt(a,s),e={startNode:this.prev.domNode,startOffset:a+s.length}}else n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof Zn?(this.next.insertAt(0,s),e={startNode:this.next.domNode,startOffset:s.length}):(n=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:s.length}));return t.data=oo,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const s=this.restore(n.target);s&&(e.range=s)}})}}class Yy{constructor(t,e){Lt(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof wc)&&(this.emitter.emit(jt.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(jt.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(jt.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(jt.events.COMPOSITION_END,t),this.isComposing=!1}}const $i=class $i{constructor(t,e){Lt(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};Lt($i,"DEFAULTS",{modules:{}}),Lt($i,"themes",{default:$i});let ri=$i;const Jy=r=>r.parentElement||r.getRootNode().host||null,Zy=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},lo=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},Ku=(r,t,e,n,s,a)=>r<e&&t>n?0:r<e?-(e-r+s):t>n?t-r>n-e?r+s-e:t-n+a:0,Xy=(r,t)=>{var a,o,c;const e=r.ownerDocument;let n=t,s=r;for(;s;){const d=s===e.body,h=d?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:Zy(s),v=getComputedStyle(s),b=Ku(n.left,n.right,h.left,h.right,lo(v.scrollPaddingLeft),lo(v.scrollPaddingRight)),p=Ku(n.top,n.bottom,h.top,h.bottom,lo(v.scrollPaddingTop),lo(v.scrollPaddingBottom));if(b||p)if(d)(c=e.defaultView)==null||c.scrollBy(b,p);else{const{scrollLeft:g,scrollTop:y}=s;p&&(s.scrollTop+=p),b&&(s.scrollLeft+=b);const w=s.scrollLeft-g,$=s.scrollTop-y;n={left:n.left-w,top:n.top-$,right:n.right-w,bottom:n.bottom-$}}s=d||v.position==="fixed"?null:Jy(s)}},Qy=100,t2=["block","break","cursor","inline","scroll","text"],e2=(r,t,e)=>{const n=new ti;return t2.forEach(s=>{const a=t.query(s);a&&n.register(a)}),r.forEach(s=>{let a=t.query(s);a||e.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;a;)if(n.register(a),a="blotName"in a?a.requiredContainer??null:null,o+=1,o>Qy){e.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),n},Ja=Is("quill"),co=new ti;Yn.uiClass="ql-ui";const Fn=class Fn{static debug(t){t===!0&&(t="log"),Is.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Bl.get(t)||co.find(t,e)}static import(t){return this.imports[t]==null&&Ja.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(s=>{this.register(s,t[s],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Ja.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&co.register(e),typeof e.register=="function"&&e.register(co)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=r2(t,e),this.container=this.options.container,this.container==null){Ja.error("Invalid Quill container",t);return}this.options.debug&&Fn.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Bl.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new jt;const s=yc.blotName,a=this.options.registry.query(s);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Gy(this.scroll),this.selection=new Hy(this.scroll,this.emitter),this.composition=new Yy(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(jt.events.EDITOR_CHANGE,o=>{o===jt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(jt.events.SCROLL_UPDATE,(o,c)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),v=d&&h?{oldRange:d,newRange:h}:void 0;Un.call(this,()=>this.editor.update(null,c,v),o)}),this.emitter.on(jt.events.SCROLL_EMBED_UPDATE,(o,c)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),v=d&&h?{oldRange:d,newRange:h}:void 0;Un.call(this,()=>{const b=new zt().retain(o.offset(this)).retain({[o.statics.blotName]:c});return this.editor.update(b,[],v)},Fn.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=Ts(t,e,n),Un.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jt.sources.API;return Un.call(this,()=>{const s=this.getSelection(!0);let a=new zt;if(s==null)return a;if(this.scroll.query(t,Kt.BLOCK))a=this.editor.formatLine(s.index,s.length,{[t]:e});else{if(s.length===0)return this.selection.format(t,e),a;a=this.editor.formatText(s.index,s.length,{[t]:e})}return this.setSelection(s,jt.sources.SILENT),a},n)}formatLine(t,e,n,s,a){let o;return[t,e,o,a]=Ts(t,e,n,s,a),Un.call(this,()=>this.editor.formatLine(t,e,o),a,t,0)}formatText(t,e,n,s,a){let o;return[t,e,o,a]=Ts(t,e,n,s,a),Un.call(this,()=>this.editor.formatText(t,e,o),a,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const s=this.container.getBoundingClientRect();return{bottom:n.bottom-s.top,height:n.height,left:n.left-s.left,right:n.right-s.left,top:n.top-s.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Ts(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ts(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ts(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Fn.sources.API;return Un.call(this,()=>this.editor.insertEmbed(t,e,n),s,t)}insertText(t,e,n,s,a){let o;return[t,,o,a]=Ts(t,0,n,s,a),Un.call(this,()=>this.editor.insertText(t,e,o),a,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=Ts(t,e,n),Un.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){Xy(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt.sources.API;return Un.call(this,()=>{t=new zt(t);const n=this.getLength(),s=this.editor.deleteText(0,n),a=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(a).compose(o)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||Fn.sources.API):([t,e,,n]=Ts(t,e,n),this.selection.setRange(new ba(Math.max(0,t),e),n),n!==jt.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt.sources.API;const n=new zt().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jt.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt.sources.API;return Un.call(this,()=>(t=new zt(t),this.editor.applyDelta(t)),e,!0)}};Lt(Fn,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:co,theme:"default"}),Lt(Fn,"events",jt.events),Lt(Fn,"sources",jt.sources),Lt(Fn,"version","2.0.3"),Lt(Fn,"imports",{delta:zt,parchment:qy,"core/module":rs,"core/theme":ri});let dt=Fn;function Gu(r){return typeof r=="string"?document.querySelector(r):r}function hl(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,s]=e;return{...t,[n]:s===!0?{}:s}},{})}function Vu(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function r2(r,t){const e=Gu(r);if(!e)throw new Error("Invalid Quill container");const s=!t.theme||t.theme===dt.DEFAULTS.theme?ri:dt.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:a,...o}=dt.DEFAULTS,{modules:c,...d}=s.DEFAULTS;let h=hl(t.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const v=Xs({},hl(a),hl(c),h),b={...o,...Vu(d),...Vu(t)};let p=t.registry;return p?t.formats&&Ja.warn('Ignoring "formats" option because "registry" is specified'):p=t.formats?e2(t.formats,b.registry,Ja):b.registry,{...b,registry:p,container:e,theme:s,modules:Object.entries(v).reduce((g,y)=>{let[w,$]=y;if(!$)return g;const k=dt.import(`modules/${w}`);return k==null?(Ja.error(`Cannot load ${w} module. Are you sure you registered it?`),g):{...g,[w]:Xs({},k.DEFAULTS||{},$)}},{}),bounds:Gu(b.bounds)}}function Un(r,t,e,n){if(!this.isEnabled()&&t===jt.sources.USER&&!this.allowReadOnlyEdits)return new zt;let s=e==null?null:this.getSelection();const a=this.editor.delta,o=r();if(s!=null&&(e===!0&&(e=s.index),n==null?s=Wu(s,o,t):n!==0&&(s=Wu(s,e,n,t)),this.setSelection(s,jt.sources.SILENT)),o.length()>0){const c=[jt.events.TEXT_CHANGE,o,a,t];this.emitter.emit(jt.events.EDITOR_CHANGE,...c),t!==jt.sources.SILENT&&this.emitter.emit(...c)}return o}function Ts(r,t,e,n,s){let a={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(s=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(s=n,n=e,e=t,t=0),typeof e=="object"?(a=e,s=n):typeof e=="string"&&(n!=null?a[e]=n:s=e),s=s||jt.sources.API,[r,t,a,s]}function Wu(r,t,e,n){const s=typeof e=="number"?e:0;if(r==null)return null;let a,o;return t&&typeof t.transformPosition=="function"?[a,o]=[r.index,r.index+r.length].map(c=>t.transformPosition(c,n!==jt.sources.USER)):[a,o]=[r.index,r.index+r.length].map(c=>c<t||c===t&&n===jt.sources.USER?c:s>=0?c+s:Math.max(t,c+s)),new ba(a,o-a)}class Ea extends Fo{}function Yu(r){return r instanceof Lr||r instanceof Sn}function Ju(r){return typeof r.updateContent=="function"}class Fa extends yc{constructor(t,e,n){let{emitter:s}=n;super(t,e),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(jt.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(jt.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(jt.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,s]=this.line(t),[a]=this.line(t+e);if(super.deleteAt(t,e),a!=null&&n!==a&&s>0){if(n instanceof Sn||a instanceof Sn){this.optimize();return}const o=a.children.head instanceof es?null:a.children.head;n.moveChildren(a,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,s){super.formatAt(t,e,n,s),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,Kt.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),n==null&&e.endsWith(`
`)?s.insertAt(0,e.slice(0,-1),n):s.insertAt(0,e,n)}else{const s=this.scroll.create(e,n);this.appendChild(s)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===Kt.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new zt().insert(`
`))),s=n.pop();if(s==null)return;this.batchStart();const a=n.shift();if(a){const d=a.type==="block"&&(a.delta.length()===0||!this.descendant(Sn,t)[0]&&t<this.length()),h=a.type==="block"?a.delta:new zt().insert({[a.key]:a.value});pl(this,t,h);const v=a.type==="block"?1:0,b=t+h.length()+v;d&&this.insertAt(b-1,`
`);const p=An(this.line(t)[0]),g=Nn.AttributeMap.diff(p,a.attributes)||{};Object.keys(g).forEach(y=>{this.formatAt(b-1,1,y,g[y])}),t=b}let[o,c]=this.children.find(t);if(n.length&&(o&&(o=o.split(c),c=0),n.forEach(d=>{if(d.type==="block"){const h=this.createBlock(d.attributes,o||void 0);pl(h,0,d.delta)}else{const h=this.create(d.key,d.value);this.insertBefore(h,o||void 0),Object.keys(d.attributes).forEach(v=>{h.format(v,d.attributes[v])})}})),s.type==="block"&&s.delta.length()){const d=o?o.offset(o.scroll)+c:this.length();pl(this,d,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,s]=e;return n instanceof Mr?[n,s]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Yu,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(s,a,o)=>{let c=[],d=o;return s.children.forEachAt(a,o,(h,v,b)=>{Yu(h)?c.push(h):h instanceof Fo&&(c=c.concat(n(h,v,d))),d-=b}),c};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(jt.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=jt.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:s}=n;const a=this.find(s,!0);return a&&!Ju(a)}),t.length>0&&this.emitter.emit(jt.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(jt.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[s]=this.descendant(a=>a instanceof Sn,t);s&&s.statics.blotName===e&&Ju(s)&&s.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new zt;return t.forEach(s=>{const a=s==null?void 0:s.insert;if(a)if(typeof a=="string"){const o=a.split(`
`);o.slice(0,-1).forEach(d=>{n.insert(d,s.attributes),e.push({type:"block",delta:n,attributes:s.attributes??{}}),n=new zt});const c=o[o.length-1];c&&n.insert(c,s.attributes)}else{const o=Object.keys(a)[0];if(!o)return;this.query(o,Kt.INLINE)?n.push(s):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new zt,e.push({type:"blockEmbed",key:o,value:a[o],attributes:s.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const s={};Object.entries(t).forEach(c=>{let[d,h]=c;this.query(d,Kt.BLOCK&Kt.BLOT)!=null?n=d:s[d]=h});const a=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(a,e||void 0);const o=a.length();return Object.entries(s).forEach(c=>{let[d,h]=c;a.formatAt(0,o,d,h)}),a}}Lt(Fa,"blotName","scroll"),Lt(Fa,"className","ql-editor"),Lt(Fa,"tagName","DIV"),Lt(Fa,"defaultChild",Lr),Lt(Fa,"allowedChildren",[Lr,Sn,Ea]);function pl(r,t,e){e.reduce((n,s)=>{const a=Nn.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const c=s.insert;r.insertAt(n,c);const[d]=r.descendant(Mr,n),h=An(d);o=Nn.AttributeMap.diff(h,o)||{}}else if(typeof s.insert=="object"){const c=Object.keys(s.insert)[0];if(c==null)return n;if(r.insertAt(n,c,s.insert[c]),r.scroll.query(c,Kt.INLINE)!=null){const[h]=r.descendant(Mr,n),v=An(h);o=Nn.AttributeMap.diff(v,o)||{}}}}return Object.keys(o).forEach(c=>{r.formatAt(n,a,c,o[c])}),n+a},t)}const xc={scope:Kt.BLOCK,whitelist:["right","center","justify"]},n2=new ys("align","align",xc),Ff=new ts("align","ql-align",xc),zf=new na("align","text-align",xc);class Hf extends na{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):e}}const s2=new ts("color","ql-color",{scope:Kt.INLINE}),$c=new Hf("color","color",{scope:Kt.INLINE}),a2=new ts("background","ql-bg",{scope:Kt.INLINE}),kc=new Hf("background","background-color",{scope:Kt.INLINE});class Aa extends Ea{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${zo(this.code(t,e))}
</pre>`}}class Br extends Lr{static register(){dt.register(Aa)}}Lt(Br,"TAB","  ");class Ec extends ws{}Ec.blotName="code";Ec.tagName="CODE";Br.blotName="code-block";Br.className="ql-code-block";Br.tagName="DIV";Aa.blotName="code-block-container";Aa.className="ql-code-block-container";Aa.tagName="DIV";Aa.allowedChildren=[Br];Br.allowedChildren=[Zn,es,ei];Br.requiredContainer=Aa;const Ac={scope:Kt.BLOCK,whitelist:["rtl"]},Kf=new ys("direction","dir",Ac),Gf=new ts("direction","ql-direction",Ac),Vf=new na("direction","direction",Ac),Wf={scope:Kt.INLINE,whitelist:["serif","monospace"]},Yf=new ts("font","ql-font",Wf);class i2 extends na{value(t){return super.value(t).replace(/["']/g,"")}}const Jf=new i2("font","font-family",Wf),Zf=new ts("size","ql-size",{scope:Kt.INLINE,whitelist:["small","large","huge"]}),Xf=new na("size","font-size",{scope:Kt.INLINE,whitelist:["10px","18px","32px"]}),o2=Is("quill:keyboard"),l2=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Ho extends rs{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=u2(t);if(s==null){o2.warn("Attempted to add invalid keyboard binding",s);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const c={...s,key:o,...e,...n};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const s=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(k=>Ho.match(t,k));if(s.length===0)return;const a=dt.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[c,d]=this.quill.getLine(o.index),[h,v]=this.quill.getLeaf(o.index),[b,p]=o.length===0?[h,v]:this.quill.getLeaf(o.index+o.length),g=h instanceof No?h.value().slice(0,v):"",y=b instanceof No?b.value().slice(p):"",w={collapsed:o.length===0,empty:o.length===0&&c.length()<=1,format:this.quill.getFormat(o),line:c,offset:d,prefix:g,suffix:y,event:t};s.some(k=>{if(k.collapsed!=null&&k.collapsed!==w.collapsed||k.empty!=null&&k.empty!==w.empty||k.offset!=null&&k.offset!==w.offset)return!1;if(Array.isArray(k.format)){if(k.format.every(T=>w.format[T]==null))return!1}else if(typeof k.format=="object"&&!Object.keys(k.format).every(T=>k.format[T]===!0?w.format[T]!=null:k.format[T]===!1?w.format[T]==null:bc(k.format[T],w.format[T])))return!1;return k.prefix!=null&&!k.prefix.test(w.prefix)||k.suffix!=null&&!k.suffix.test(w.suffix)?!1:k.handler.call(this,o,w,k)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let s={};const[a]=this.quill.getLine(t.index);let o=new zt().retain(t.index-n).delete(n);if(e.offset===0){const[c]=this.quill.getLine(t.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const h=a.formats(),v=this.quill.getFormat(t.index-1,1);if(s=Nn.AttributeMap.diff(h,v)||{},Object.keys(s).length>0){const b=new zt().retain(t.index+a.length()-2).retain(1,s);o=o.compose(b)}}}this.quill.updateContents(o,dt.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let s={};const[a]=this.quill.getLine(t.index);let o=new zt().retain(t.index).delete(n);if(e.offset>=a.length()-1){const[c]=this.quill.getLine(t.index+1);if(c){const d=a.formats(),h=this.quill.getFormat(t.index,1);s=Nn.AttributeMap.diff(d,h)||{},Object.keys(s).length>0&&(o=o.retain(c.length()-1).retain(1,s))}}this.quill.updateContents(o,dt.sources.USER),this.quill.focus()}handleDeleteRange(t){Tc({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((a,o)=>(this.quill.scroll.query(o,Kt.BLOCK)&&!Array.isArray(e.format[o])&&(a[o]=e.format[o]),a),{}),s=new zt().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(s,dt.sources.USER),this.quill.setSelection(t.index+1,dt.sources.SILENT),this.quill.focus()}}const c2={bindings:{bold:vl("bold"),italic:vl("italic"),underline:vl("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",dt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",dt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",dt.sources.USER):t.format.list!=null&&this.quill.format("list",!1,dt.sources.USER)}},"indent code-block":Zu(!0),"outdent code-block":Zu(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,dt.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new zt().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,dt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,dt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,dt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,dt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},s=new zt().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,dt.sources.USER),this.quill.setSelection(r.index+1,dt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),s=new zt().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,dt.sources.USER),this.quill.setSelection(r.index+1,dt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,s,a]=t.getTable(r),o=d2(e,n,s,a);if(o==null)return;let c=e.offset();if(o<0){const d=new zt().retain(c).insert(`
`);this.quill.updateContents(d,dt.sources.USER),this.quill.setSelection(r.index+1,r.length,dt.sources.SILENT)}else if(o>0){c+=e.length();const d=new zt().retain(c).insert(`
`);this.quill.updateContents(d,dt.sources.USER),this.quill.setSelection(c,dt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,s=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(s-1,dt.sources.USER):this.quill.setSelection(s+n.length(),dt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,s]=this.quill.getLine(r.index);if(s>e)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(r.index," ",dt.sources.USER),this.quill.history.cutoff();const o=new zt().retain(r.index-s).delete(e+1).retain(n.length()-2-s).retain(1,{list:a});return this.quill.updateContents(o,dt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,dt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,s=t;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const a=new zt().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,dt.sources.USER),this.quill.setSelection(r.index-1,dt.sources.SILENT),!1}return!0}},"embed left":uo("ArrowLeft",!1),"embed left shift":uo("ArrowLeft",!0),"embed right":uo("ArrowRight",!1),"embed right shift":uo("ArrowRight",!0),"table down":Xu(!1),"table up":Xu(!0)}};Ho.DEFAULTS=c2;function Zu(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const s=this.quill.scroll.query("code-block"),{TAB:a}=s;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,a,dt.sources.USER),this.quill.setSelection(t.index+a.length,dt.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:c,length:d}=t;o.forEach((h,v)=>{r?(h.insertAt(0,a),v===0?c+=a.length:d+=a.length):h.domNode.textContent.startsWith(a)&&(h.deleteAt(0,a.length),v===0?c-=a.length:d-=a.length)}),this.quill.update(dt.sources.USER),this.quill.setSelection(c,d,dt.sources.SILENT)}}}function uo(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:s}=n;r==="ArrowRight"&&(s+=n.length+1);const[a]=this.quill.getLeaf(s);return a instanceof wn?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,dt.sources.USER):this.quill.setSelection(n.index-1,dt.sources.USER):t?this.quill.setSelection(n.index,n.length+1,dt.sources.USER):this.quill.setSelection(n.index+n.length+1,dt.sources.USER),!1):!0}}}function vl(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],dt.sources.USER)}}}function Xu(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",s=e.line,a=s.parent[n];if(a!=null){if(a.statics.blotName==="table-row"){let o=a.children.head,c=s;for(;c.prev!=null;)c=c.prev,o=o.next;const d=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(d,0,dt.sources.USER)}}else{const o=s.table()[n];o!=null&&(r?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,dt.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,dt.sources.USER))}return!1}}}function u2(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=Wa(r);else return null;return r.shortKey&&(r[l2]=r.shortKey,delete r.shortKey),r}function Tc(r){let{quill:t,range:e}=r;const n=t.getLines(e);let s={};if(n.length>1){const a=n[0].formats(),o=n[n.length-1].formats();s=Nn.AttributeMap.diff(o,a)||{}}t.deleteText(e,dt.sources.USER),Object.keys(s).length>0&&t.formatLine(e.index,1,s,dt.sources.USER),t.setSelection(e.index,dt.sources.SILENT)}function d2(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const f2=/font-weight:\s*normal/,h2=["P","OL","UL"],Qu=r=>r&&h2.includes(r.tagName),p2=r=>{Array.from(r.querySelectorAll("br")).filter(t=>Qu(t.previousElementSibling)&&Qu(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},v2=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(f2)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function m2(r){r.querySelector('[id^="docs-internal-guid-"]')&&(v2(r),p2(r))}const g2=/\bmso-list:[^;]*ignore/i,b2=/\bmso-list:[^;]*\bl(\d+)/i,_2=/\bmso-list:[^;]*\blevel(\d+)/i,y2=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(b2);if(!n)return null;const s=Number(n[1]),a=e==null?void 0:e.match(_2),o=a?Number(a[1]):1,c=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=t.match(c),h=d&&d[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:h,element:r}},w2=r=>{var o,c;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(d=>{(d.getAttribute("style")||"").match(g2)?e.push(d):n.push(d)}),e.forEach(d=>{var h;return(h=d.parentNode)==null?void 0:h.removeChild(d)});const s=r.documentElement.innerHTML,a=n.map(d=>y2(d,s)).filter(d=>d);for(;a.length;){const d=[];let h=a.shift();for(;h;)d.push(h),h=a.length&&((o=a[0])==null?void 0:o.element)===h.element.nextElementSibling&&a[0].id===h.id?a.shift():null;const v=document.createElement("ul");d.forEach(g=>{const y=document.createElement("li");y.setAttribute("data-list",g.type),g.indent>1&&y.setAttribute("class",`ql-indent-${g.indent-1}`),y.innerHTML=g.element.innerHTML,v.appendChild(y)});const b=(c=d[0])==null?void 0:c.element,{parentNode:p}=b??{};b&&(p==null||p.replaceChild(v,b)),d.slice(1).forEach(g=>{let{element:y}=g;p==null||p.removeChild(y)})}};function x2(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&w2(r)}const $2=[x2,m2],k2=r=>{r.documentElement&&$2.forEach(t=>{t(r)})},E2=Is("quill:clipboard"),A2=[[Node.TEXT_NODE,D2],[Node.TEXT_NODE,ed],["br",L2],[Node.ELEMENT_NODE,ed],[Node.ELEMENT_NODE,O2],[Node.ELEMENT_NODE,N2],[Node.ELEMENT_NODE,j2],["li",q2],["ol, ul",I2],["pre",C2],["tr",P2],["b",ml("bold")],["i",ml("italic")],["strike",ml("strike")],["style",R2]],T2=[n2,Kf].reduce((r,t)=>(r[t.keyName]=t,r),{}),td=[zf,kc,$c,Vf,Jf,Xf].reduce((r,t)=>(r[t.keyName]=t,r),{});class Qf extends rs{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],A2.concat(this.options.matchers??[]).forEach(n=>{let[s,a]=n;this.addMatcher(s,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Br.blotName])return new zt().insert(n||"",{[Br.blotName]:s[Br.blotName]});if(!e)return new zt().insert(n||"",s);const a=this.convertHTML(e);return Yi(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||s.table)?a.compose(new zt().retain(a.length()-1).delete(1)):a}normalizeHTML(t){k2(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,s=new WeakMap,[a,o]=this.prepareMatching(n,s);return Sc(this.quill.scroll,n,a,o,s)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt.sources.API;if(typeof t=="string"){const s=this.convert({html:t,text:""});this.quill.setContents(s,e),this.quill.setSelection(0,dt.sources.SILENT)}else{const s=this.convert({html:e,text:""});this.quill.updateContents(new zt().retain(t).concat(s),n),this.quill.setSelection(t+s.length(),dt.sources.SILENT)}}onCaptureCopy(t){var o,c;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:s,text:a}=this.onCopy(n,e);(o=t.clipboardData)==null||o.setData("text/plain",a),(c=t.clipboardData)==null||c.setData("text/html",s),e&&Tc({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,c,d,h,v;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html");let s=(c=t.clipboardData)==null?void 0:c.getData("text/plain");if(!n&&!s){const b=(d=t.clipboardData)==null?void 0:d.getData("text/uri-list");b&&(s=this.normalizeURIList(b))}const a=Array.from(((h=t.clipboardData)==null?void 0:h.files)||[]);if(!n&&a.length>0){this.quill.uploader.upload(e,a);return}if(n&&a.length>0){const b=new DOMParser().parseFromString(n,"text/html");if(b.body.childElementCount===1&&((v=b.body.firstElementChild)==null?void 0:v.tagName)==="IMG"){this.quill.uploader.upload(e,a);return}}this.onPaste(e,{html:n,text:s})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:s}=e;const a=this.quill.getFormat(t.index),o=this.convert({text:n,html:s},a);E2.log("onPaste",o,{text:n,html:s});const c=new zt().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(c,dt.sources.USER),this.quill.setSelection(c.length()-t.length,dt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],s=[];return this.matchers.forEach(a=>{const[o,c]=a;switch(o){case Node.TEXT_NODE:s.push(c);break;case Node.ELEMENT_NODE:n.push(c);break;default:Array.from(t.querySelectorAll(o)).forEach(d=>{if(e.has(d)){const h=e.get(d);h==null||h.push(c)}else e.set(d,[c])});break}}),[n,s]}}Lt(Qf,"DEFAULTS",{matchers:[]});function Ta(r,t,e,n){return n.query(t)?r.reduce((s,a)=>{if(!a.insert)return s;if(a.attributes&&a.attributes[t])return s.push(a);const o=e?{[t]:e}:{};return s.insert(a.insert,{...o,...a.attributes})},new zt):r}function Yi(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const s=r.ops[n];if(typeof s.insert!="string")break;e=s.insert+e}return e.slice(-1*t.length)===t}function Gs(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof wn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function S2(r,t){return r.previousElementSibling&&r.nextElementSibling&&!Gs(r.previousElementSibling,t)&&!Gs(r.nextElementSibling,t)}const fo=new WeakMap;function th(r){return r==null?!1:(fo.has(r)||(r.tagName==="PRE"?fo.set(r,!0):fo.set(r,th(r.parentNode))),fo.get(r))}function Sc(r,t,e,n,s){return t.nodeType===t.TEXT_NODE?n.reduce((a,o)=>o(t,a,r),new zt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,o)=>{let c=Sc(r,o,e,n,s);return o.nodeType===t.ELEMENT_NODE&&(c=e.reduce((d,h)=>h(o,d,r),c),c=(s.get(o)||[]).reduce((d,h)=>h(o,d,r),c)),a.concat(c)},new zt):new zt}function ml(r){return(t,e,n)=>Ta(e,r,!0,n)}function N2(r,t,e){const n=ys.keys(r),s=ts.keys(r),a=na.keys(r),o={};return n.concat(s).concat(a).forEach(c=>{let d=e.query(c,Kt.ATTRIBUTE);d!=null&&(o[d.attrName]=d.value(r),o[d.attrName])||(d=T2[c],d!=null&&(d.attrName===c||d.keyName===c)&&(o[d.attrName]=d.value(r)||void 0),d=td[c],d!=null&&(d.attrName===c||d.keyName===c)&&(d=td[c],o[d.attrName]=d.value(r)||void 0))}),Object.entries(o).reduce((c,d)=>{let[h,v]=d;return Ta(c,h,v,e)},t)}function O2(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof wn){const s={},a=n.value(r);if(a!=null)return s[n.blotName]=a,new zt().insert(s,n.formats(r,e))}else if(n.prototype instanceof Ii&&!Yi(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Ta(t,n.blotName,n.formats(r,e),e);return t}function L2(r,t){return Yi(t,`
`)||t.insert(`
`),t}function C2(r,t,e){const n=e.query("code-block"),s=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return Ta(t,"code-block",s,e)}function R2(){return new zt}function q2(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!Yi(t,`
`))return t;let s=-1,a=r.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(s+=1),a=a.parentNode;return s<=0?t:t.reduce((o,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?o.push(c):o.insert(c.insert,{indent:s,...c.attributes||{}}):o,new zt)}function I2(r,t,e){const n=r;let s=n.tagName==="OL"?"ordered":"bullet";const a=n.getAttribute("data-checked");return a&&(s=a==="true"?"checked":"unchecked"),Ta(t,"list",s,e)}function ed(r,t,e){if(!Yi(t,`
`)){if(Gs(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(Gs(n,e))return t.insert(`
`);const s=e.query(n);if(s&&s.prototype instanceof Sn)return t.insert(`
`);n=n.firstChild}}}return t}function j2(r,t,e){var a;const n={},s=r.style||{};return s.fontStyle==="italic"&&(n.italic=!0),s.textDecoration==="underline"&&(n.underline=!0),s.textDecoration==="line-through"&&(n.strike=!0),((a=s.fontWeight)!=null&&a.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,c)=>{let[d,h]=c;return Ta(o,d,h,e)},t),parseFloat(s.textIndent||0)>0?new zt().insert("	").concat(t):t}function P2(r,t,e){var s,a;const n=((s=r.parentElement)==null?void 0:s.tagName)==="TABLE"?r.parentElement:(a=r.parentElement)==null?void 0:a.parentElement;if(n!=null){const c=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return Ta(t,"table",c,e)}return t}function D2(r,t,e){var s;let n=r.data;if(((s=r.parentElement)==null?void 0:s.tagName)==="O:P")return t.insert(n.trim());if(!th(r)){if(n.trim().length===0&&n.includes(`
`)&&!S2(r,e))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&Gs(r.parentElement,e)||r.previousSibling instanceof Element&&Gs(r.previousSibling,e))&&(n=n.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&Gs(r.parentElement,e)||r.nextSibling instanceof Element&&Gs(r.nextSibling,e))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class eh extends rs{constructor(e,n){super(e,n);Lt(this,"lastRecorded",0);Lt(this,"ignoreChange",!1);Lt(this,"stack",{undo:[],redo:[]});Lt(this,"currentRange",null);this.quill.on(dt.events.EDITOR_CHANGE,(s,a,o,c)=>{s===dt.events.SELECTION_CHANGE?a&&c!==dt.sources.SILENT&&(this.currentRange=a):s===dt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===dt.sources.USER?this.record(a,o):this.transform(a)),this.currentRange=zl(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const a=this.quill.getContents(),o=s.delta.invert(a);this.stack[n].push({delta:o,range:zl(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,dt.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(n),a=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(s=s.compose(c.delta),a=c.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){rd(this.stack.undo,e),rd(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,dt.sources.USER);else{const n=B2(this.quill.scroll,e.delta);this.quill.setSelection(n,dt.sources.USER)}}}Lt(eh,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function rd(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const s=r[n];r[n]={delta:e.transform(s.delta,!0),range:s.range&&zl(s.range,e)},e=s.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function M2(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,Kt.BLOCK)!=null):!1}function B2(r,t){const e=t.reduce((s,a)=>s+(a.delete||0),0);let n=t.length()-e;return M2(r,t)&&(n-=1),n}function zl(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class rh extends rs{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(n.clientX,n.clientY);s=document.createRange(),s.setStart(c.offsetNode,c.offset),s.setEnd(c.offsetNode,c.offset)}const a=s&&t.selection.normalizeNative(s);if(a){const c=t.selection.normalizedToRange(a);(o=n.dataTransfer)!=null&&o.files&&this.upload(c,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(s=>{var a;s&&((a=this.options.mimetypes)!=null&&a.includes(s.type))&&n.push(s)}),n.length>0&&this.options.handler.call(this,t,n)}}rh.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(s=>{const a=new FileReader;a.onload=()=>{s(a.result)},a.readAsDataURL(n)}));Promise.all(e).then(n=>{const s=n.reduce((a,o)=>a.insert({image:o}),new zt().retain(r.index).delete(r.length));this.quill.updateContents(s,jt.sources.USER),this.quill.setSelection(r.index+n.length,jt.sources.SILENT)})}};const U2=["insertText","insertReplacementText"];class F2 extends rs{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(dt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Tc({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new zt().retain(t.index).insert(e,n),dt.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,dt.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!U2.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=z2(t);if(n==null)return;const s=this.quill.selection.normalizeNative(e),a=s?this.quill.selection.normalizedToRange(s):null;a&&this.replaceText(a,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function z2(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const H2=/Mac/i.test(navigator.platform),K2=100,G2=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||H2&&r.key==="a"&&r.ctrlKey===!0);class V2 extends rs{constructor(e,n){super(e,n);Lt(this,"isListening",!1);Lt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:s,event:a}=n;if(!(s instanceof Yn)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&a.key!=="ArrowRight"||!o&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),dt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&G2(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+K2,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const s=this.quill.scroll.find(n.startContainer);if(!(s instanceof Yn)||!s.uiNode)return;const a=document.createRange();a.setStartAfter(s.uiNode),a.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(a)}}dt.register({"blots/block":Lr,"blots/block/embed":Sn,"blots/break":es,"blots/container":Ea,"blots/cursor":ei,"blots/embed":wc,"blots/inline":ws,"blots/scroll":Fa,"blots/text":Zn,"modules/clipboard":Qf,"modules/history":eh,"modules/keyboard":Ho,"modules/uploader":rh,"modules/input":F2,"modules/uiNode":V2});class W2 extends ts{add(t,e){let n=0;if(e==="+1"||e==="-1"){const s=this.value(t)||0;n=e==="+1"?s+1:s-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Y2=new W2("indent","ql-indent",{scope:Kt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Hl extends Lr{}Lt(Hl,"blotName","blockquote"),Lt(Hl,"tagName","blockquote");class Kl extends Lr{static formats(t){return this.tagName.indexOf(t.tagName)+1}}Lt(Kl,"blotName","header"),Lt(Kl,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ji extends Ea{}Ji.blotName="list-container";Ji.tagName="OL";class Zi extends Lr{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){dt.register(Ji)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),s=a=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),a.preventDefault()):o==="unchecked"&&(this.format("list","checked"),a.preventDefault())};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Zi.blotName="list";Zi.tagName="LI";Ji.allowedChildren=[Zi];Zi.requiredContainer=Ji;class Pi extends ws{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Lt(Pi,"blotName","bold"),Lt(Pi,"tagName",["STRONG","B"]);class Gl extends Pi{}Lt(Gl,"blotName","italic"),Lt(Gl,"tagName",["EM","I"]);class Vs extends ws{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return nh(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}Lt(Vs,"blotName","link"),Lt(Vs,"tagName","A"),Lt(Vs,"SANITIZED_URL","about:blank"),Lt(Vs,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function nh(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class Vl extends ws{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}Lt(Vl,"blotName","script"),Lt(Vl,"tagName",["SUB","SUP"]);class Wl extends Pi{}Lt(Wl,"blotName","strike"),Lt(Wl,"tagName",["S","STRIKE"]);class Yl extends ws{}Lt(Yl,"blotName","underline"),Lt(Yl,"tagName","U");class mo extends wc{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}Lt(mo,"blotName","formula"),Lt(mo,"className","ql-formula"),Lt(mo,"tagName","SPAN");const nd=["alt","height","width"];class Jl extends wn{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return nd.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return nh(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){nd.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}Lt(Jl,"blotName","image"),Lt(Jl,"tagName","IMG");const sd=["height","width"];class go extends Sn{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return sd.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Vs.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){sd.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}Lt(go,"blotName","video"),Lt(go,"className","ql-video"),Lt(go,"tagName","IFRAME");const _i=new ts("code-token","hljs",{scope:Kt.INLINE});class Cs extends ws{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Br.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),_i.add(this.domNode,n)}format(t,e){t!==Cs.blotName?super.format(t,e):e?_i.add(this.domNode,e):(_i.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),_i.value(this.domNode)||this.unwrap()}}Cs.blotName="code-token";Cs.className="ql-token";class Tn extends Br{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Cs.blotName,!1),super.replaceWith(t,e)}}class xi extends Aa{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Tn.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,s){n===Tn.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,s)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,a=Tn.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((d,h)=>d.concat(Bf(h,!1)),new zt),c=t(s,a);o.diff(c).reduce((d,h)=>{let{retain:v,attributes:b}=h;return v?(b&&Object.keys(b).forEach(p=>{[Tn.blotName,Cs.blotName].includes(p)&&this.formatAt(d,v,p,b[p])}),d+v):d},0)}this.cachedText=s,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?Tn.formats(n.domNode):"plain"}">
${zo(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Tn.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}xi.allowedChildren=[Tn];Tn.requiredContainer=xi;Tn.allowedChildren=[Cs,ei,Zn,es];const J2=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class sh extends rs{static register(){dt.register(Cs,!0),dt.register(Tn,!0),dt.register(xi,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,s)=>{let{key:a}=s;return n[a]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(dt.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof xi))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:s,label:a}=n;const o=e.ownerDocument.createElement("option");o.textContent=a,o.setAttribute("value",s),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(Tn.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Tn.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(dt.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(dt.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(xi):[t]).forEach(a=>{a.highlight(this.highlightBlot,e)}),this.quill.update(dt.sources.SILENT),n!=null&&this.quill.setSelection(n,dt.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return zo(t).split(`
`).reduce((s,a,o)=>(o!==0&&s.insert(`
`,{[Br.blotName]:e}),s.insert(a)),new zt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Br.className),n.innerHTML=J2(this.options.hljs,e,t),Sc(this.quill.scroll,n,[(s,a)=>{const o=_i.value(s);return o?a.compose(new zt().retain(a.length(),{[Cs.blotName]:o})):a}],[(s,a)=>s.data.split(`
`).reduce((o,c,d)=>(d!==0&&o.insert(`
`,{[Br.blotName]:e}),o.insert(c)),a)],new WeakMap)}}sh.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ki=class ki extends Lr{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Nc()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===ki.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Lt(ki,"blotName","table"),Lt(ki,"tagName","TD");let Hn=ki;class Rs extends Ea{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),s=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===s.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),s=e.next.formats();if(n.table!==s.table){const a=this.splitAfter(e);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Lt(Rs,"blotName","table-row"),Lt(Rs,"tagName","TR");class _s extends Ea{}Lt(_s,"blotName","table-body"),Lt(_s,"tagName","TBODY");class ni extends Ea{balanceCells(){const t=this.descendants(Rs),e=t.reduce((n,s)=>Math.max(s.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let s;n.children.head!=null&&(s=Hn.formats(n.children.head.domNode));const a=this.scroll.create(Hn.blotName,s);n.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(_s);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t);s!=null&&s.remove()})}insertColumn(t){const[e]=this.descendant(_s);e==null||e.children.head==null||e.children.forEach(n=>{const s=n.children.at(t),a=Hn.formats(n.children.head.domNode),o=this.scroll.create(Hn.blotName,a);n.insertBefore(o,s)})}insertRow(t){const[e]=this.descendant(_s);if(e==null||e.children.head==null)return;const n=Nc(),s=this.scroll.create(Rs.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(Hn.blotName,n);s.appendChild(o)});const a=e.children.at(t);e.insertBefore(s,a)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}Lt(ni,"blotName","table-container"),Lt(ni,"tagName","TABLE");ni.allowedChildren=[_s];_s.requiredContainer=ni;_s.allowedChildren=[Rs];Rs.requiredContainer=_s;Rs.allowedChildren=[Hn];Hn.requiredContainer=Rs;function Nc(){return`row-${Math.random().toString(36).slice(2,6)}`}class Z2 extends rs{static register(){dt.register(Hn),dt.register(Rs),dt.register(_s),dt.register(ni)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ni).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(dt.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(dt.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(dt.sources.USER),this.quill.setSelection(e,dt.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Hn.blotName)return[null,null,null,-1];const s=e.parent;return[s.parent.parent,s,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const o=a.cellOffset();n.insertColumn(o+t),this.quill.update(dt.sources.USER);let c=s.rowOffset();t===0&&(c+=1),this.quill.setSelection(e.index+c,e.length,dt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,s,a]=this.getTable(e);if(a==null)return;const o=s.rowOffset();n.insertRow(o+t),this.quill.update(dt.sources.USER),t>0?this.quill.setSelection(e,dt.sources.SILENT):this.quill.setSelection(e.index+s.children.length,e.length,dt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const s=new Array(t).fill(0).reduce(a=>{const o=new Array(e).fill(`
`).join("");return a.insert(o,{table:Nc()})},new zt().retain(n.index));this.quill.updateContents(s,dt.sources.USER),this.quill.setSelection(n.index,dt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(dt.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(dt.events.TEXT_CHANGE,(n,s,a)=>{a===dt.sources.USER&&this.balanceTables()}),!0):!1)})}}const ad=Is("quill:toolbar");class Oc extends rs{constructor(t,e){var n,s;if(super(t,e),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),X2(a,this.options.container),(s=(n=t.container)==null?void 0:n.parentNode)==null||s.insertBefore(a,t.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){ad.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var c;const o=(c=this.options.handlers)==null?void 0:c[a];o&&this.addHandler(a,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(dt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(s=>s.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){ad.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,s=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const c=t.options[t.selectedIndex];c.hasAttribute("selected")?a=!1:a=c.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,a);else if(this.quill.scroll.query(e).prototype instanceof wn){if(a=prompt(`Enter ${e}`),!a)return;this.quill.updateContents(new zt().retain(o.index).delete(o.length).insert({[e]:a}),dt.sources.USER)}else this.quill.format(e,a,dt.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[s,a]=n;if(a.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[s]==null)o=a.querySelector("option[selected]");else if(!Array.isArray(e[s])){let c=e[s];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),o=a.querySelector(`option[value="${c}"]`)}o==null?(a.value="",a.selectedIndex=-1):o.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const o=e[s],c=o===a.getAttribute("value")||o!=null&&o.toString()===a.getAttribute("value")||o==null&&!a.getAttribute("value");a.classList.toggle("ql-active",c),a.setAttribute("aria-pressed",c.toString())}else{const o=e[s]!=null;a.classList.toggle("ql-active",o),a.setAttribute("aria-pressed",o.toString())}})}}Oc.DEFAULTS={};function id(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function X2(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(s=>{if(typeof s=="string")id(n,s);else{const a=Object.keys(s)[0],o=s[a];Array.isArray(o)?Q2(n,a,o):id(n,a,o)}}),r.appendChild(n)})}function Q2(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(s=>{const a=document.createElement("option");s!==!1?a.setAttribute("value",String(s)):a.setAttribute("selected","selected"),n.appendChild(a)}),r.appendChild(n)}Oc.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,Kt.INLINE)!=null&&this.quill.format(e,!1,dt.sources.USER)})}else this.quill.removeFormat(r.index,r.length,dt.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",dt.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,dt.sources.USER),this.quill.format("direction",r,dt.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let s=r==="+1"?1:-1;e.direction==="rtl"&&(s*=-1),this.quill.format("indent",n+s,dt.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,dt.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,dt.sources.USER):this.quill.format("list","unchecked",dt.sources.USER):this.quill.format("list",r,dt.sources.USER)}}};const tw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',ew='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',rw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',nw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',sw='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',aw='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',iw='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',ow='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',od='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',lw='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',cw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',uw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',dw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',fw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',hw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',pw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',mw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',gw='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',bw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',_w='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',yw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',ww='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',xw='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',$w='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',kw='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Ew='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Aw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Tw='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Sw='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Nw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Ow='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Lw='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Di={align:{"":tw,center:ew,right:rw,justify:nw},background:sw,blockquote:aw,bold:iw,clean:ow,code:od,"code-block":od,color:lw,direction:{"":cw,rtl:uw},formula:dw,header:{1:fw,2:hw,3:pw,4:vw,5:mw,6:gw},italic:bw,image:_w,indent:{"+1":yw,"-1":ww},link:xw,list:{bullet:$w,check:kw,ordered:Ew},script:{sub:Aw,super:Tw},strike:Sw,table:Nw,underline:Ow,video:Lw},Cw='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ld=0;function cd(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class Ko{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),cd(this.label,"aria-expanded"),cd(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(e,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=Cw,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${ld}`,ld+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class ah extends Ko{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),s=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=s:n.style.fill=s)}}class ih extends Ko{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const Rw=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class oh{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Rw(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let o=0;if(a.right>s.right&&(o=s.right-a.right,this.root.style.left=`${e+o}px`),a.left<s.left&&(o=s.left-a.left,this.root.style.left=`${e+o}px`),a.bottom>s.bottom){const c=a.bottom-a.top,d=t.bottom-t.top+c;this.root.style.top=`${n-d}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const qw=[!1,"center","right","justify"],Iw=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],jw=[!1,"serif","monospace"],Pw=["1","2","3",!1],Dw=["small",!1,"large","huge"];class Xi extends ri{constructor(t,e){super(t,e);const n=s=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(s.target)||a.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),e[a]!=null))if(a==="direction")n.innerHTML=e[a][""]+e[a].rtl;else if(typeof e[a]=="string")n.innerHTML=e[a];else{const o=n.value||"";o!=null&&e[a][o]&&(n.innerHTML=e[a][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&vi(s,qw),typeof e.align=="object"))return new ih(s,e.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const a=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&vi(s,Iw,a==="background"?"#ffffff":"#000000"),new ah(s,e[a])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?vi(s,jw):s.classList.contains("ql-header")?vi(s,Pw):s.classList.contains("ql-size")&&vi(s,Dw)),new Ko(s)});const n=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(jt.events.EDITOR_CHANGE,n)}}Xi.DEFAULTS=Xs({},ri.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class lh extends oh{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,jt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,jt.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=Mw(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,jt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",jt.sources.USER),this.quill.setSelection(n+2,jt.sources.USER)}break}}this.textbox.value="",this.hide()}}function Mw(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function vi(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const s=document.createElement("option");n===e?s.setAttribute("selected","selected"):s.setAttribute("value",String(n)),r.appendChild(s)})}const Bw=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ch extends lh{constructor(t,e){super(t,e),this.quill.on(jt.events.EDITOR_CHANGE,(n,s,a,o)=>{if(n===jt.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===jt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(s.index,s.length);if(c.length===1){const d=this.quill.getBounds(s);d!=null&&this.position(d)}else{const d=c[c.length-1],h=this.quill.getIndex(d),v=Math.min(d.length()-1,s.index+s.length-h),b=this.quill.getBounds(new ba(h,v));b!=null&&this.position(b)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(jt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}Lt(ch,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class uh extends Xi{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Bw),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new ch(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Di),this.buildPickers(t.container.querySelectorAll("select"),Di))}}uh.DEFAULTS=Xs({},Xi.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,dt.sources.USER)}}}}});const Uw=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class dh extends lh{constructor(){super(...arguments);Lt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,jt.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(jt.events.SELECTION_CHANGE,(e,n,s)=>{if(e!=null){if(e.length===0&&s===jt.sources.USER){const[a,o]=this.quill.scroll.descendant(Vs,e.index);if(a!=null){this.linkRange=new ba(e.index-o,a.length());const c=Vs.formats(a.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Lt(dh,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class fh extends Xi{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Uw),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Di),this.buildPickers(t.container.querySelectorAll("select"),Di),this.tooltip=new dh(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}fh.DEFAULTS=Xs({},Xi.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,dt.sources.USER)}}}}});dt.register({"attributors/attribute/direction":Kf,"attributors/class/align":Ff,"attributors/class/background":a2,"attributors/class/color":s2,"attributors/class/direction":Gf,"attributors/class/font":Yf,"attributors/class/size":Zf,"attributors/style/align":zf,"attributors/style/background":kc,"attributors/style/color":$c,"attributors/style/direction":Vf,"attributors/style/font":Jf,"attributors/style/size":Xf},!0);dt.register({"formats/align":Ff,"formats/direction":Gf,"formats/indent":Y2,"formats/background":kc,"formats/color":$c,"formats/font":Yf,"formats/size":Zf,"formats/blockquote":Hl,"formats/code-block":Br,"formats/header":Kl,"formats/list":Zi,"formats/bold":Pi,"formats/code":Ec,"formats/italic":Gl,"formats/link":Vs,"formats/script":Vl,"formats/strike":Wl,"formats/underline":Yl,"formats/formula":mo,"formats/image":Jl,"formats/video":go,"modules/syntax":sh,"modules/table":Z2,"modules/toolbar":Oc,"themes/bubble":uh,"themes/snow":fh,"ui/icons":Di,"ui/picker":Ko,"ui/icon-picker":ih,"ui/color-picker":ah,"ui/tooltip":oh},!0);var Fw=W('<div class="margin svelte-1960fvg"></div> <div class="table-outline main_data svelte-1960fvg"><div class="table-head table-title svelte-1960fvg"><input type="text" id="title" class="svelte-1960fvg"></div> <div class="table-contents-gray svelte-1960fvg"><select class="namewidth svelte-1960fvg"><option> </option><option> </option><option> </option></select></div> <div class="table-contents-white svelte-1960fvg"><div id="editor" class="svelte-1960fvg"></div></div> <div class="form-group svelte-1960fvg"><button class="emphasis-button"> </button> <button class="simple-button"> </button></div></div>',1);function zw(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(Ie,"$lang",e),a=()=>I(br,"$myaccount",e),o=()=>I(Tl,"$modify_postid",e),c=()=>I(gs,"$myUnionAccount",e);let d=N(""),h="",v,b=N("free");const p="/"+n();async function g(){const J=document.createElement("input");J.setAttribute("type","file"),J.setAttribute("accept","image/*"),J.click(),J.onchange=async()=>{const X=J.files?J.files[0]:null;if(!X)return alert(s()?"파일이 선택되지 않았습니다.":"No File Selected.");const rt=new FileReader;rt.onloadend=async()=>{const at=rt.result;try{const nt=await y(at);if(nt){const Z=v.getSelection();v.insertEmbed((Z==null?void 0:Z.index)||0,"image",nt)}}catch(nt){console.error("Upload Error:",nt)}},rt.readAsDataURL(X)}}async function y(J){const X=await Mt("/cloudinary/upload","POST",{image:J});if(!X.ok)throw new Error("Upload Error");return(await X.json()).url}async function w(){const J={title:i(d),category:i(b),content:h,nickname:a(),postId:o(),account:c()};try{(await Mt("/board/write","POST",J)).ok&&(alert(s()?"글을 성공적으로 작성하였습니다":"Post Successed"),k(),Li(`${p}/boardlist`))}catch(X){console.error("네트워크 오류:",X),alert(`Network Error: ${X.message}`)}}async function $(){if(o()!=="none")try{const X=await(await fetch(`/board/post?post_id=${o()}`)).json();_(d,X.title),h=X.content,_(b,X.category)}catch{alert(s()?"게시물을 불러오는데 실패하였습니다":"Loading post failed")}}or(async()=>{await $(),v=new dt("#editor",{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,!1],class:"custom-header"}],["bold","italic","underline"],["image","code-block"]],handlers:{image:g}}}}),h&&v.clipboard.dangerouslyPasteHTML(h),v.on("text-change",()=>{h=v.root.innerHTML})});function k(){Tl.set("none")}function T(){k(),Li(`${p}/boardlist`)}Ae();var L=Fw(),q=u(vt(L),2),R=l(q),F=l(R),G=u(R,2),z=l(G);V(()=>{i(b),hs(()=>{s()})});var P=l(z);P.value=(P.__value="free")==null?"":"free";var B=l(P),m=u(P);m.value=(m.__value="trade")==null?"":"trade";var S=l(m),A=u(m);A.value=(A.__value="setting")==null?"":"setting";var O=l(A),U=u(G,4),D=l(U),H=l(D),Y=u(D,2),st=l(Y);V(()=>{x(B,s()?"자유":"Free"),x(S,s()?"거래":"Trade"),x(O,s()?"공략":"Tips"),x(H,s()?"작성하기":"Post"),x(st,s()?"취소하기":"Cancel")}),M(F,()=>i(d),J=>_(d,J)),ps(z,()=>i(b),J=>_(b,J)),tt("click",D,w),tt("click",Y,T),C(r,L),ve()}var Hw=W('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),Kw=W('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),Gw=W('<tr class="details-row svelte-18mpmu7"><td colspan="4" class="details svelte-18mpmu7"><!></td></tr>'),Vw=W('<tr class="table-row svelte-18mpmu7"><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td><td class="svelte-18mpmu7"> </td></tr> <!>',1),Ww=W('<table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7"> </th><th class="svelte-18mpmu7"> </th><th class="svelte-18mpmu7"> </th><th class="svelte-18mpmu7"> </th></tr></thead><tbody></tbody></table>'),Yw=W('<div class="table-outline main_data"><table class="svelte-18mpmu7"><thead><tr class="svelte-18mpmu7"><th class="svelte-18mpmu7"> </th><th class="svelte-18mpmu7"> </th><th class="svelte-18mpmu7"> </th><th class="svelte-18mpmu7"> </th></tr></thead><tbody></tbody></table> <div class="toggle-wrapper"><button class="simple-button"> </button></div> <!></div>');function Jw(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e),s=()=>I(Re,"$mode",e);let a=n()?"이전 시즌 결과 숨기기":"Hide Past Season",o=n()?"이전 시즌 결과 보이기":"Show Past Season",c=[{season:"2024.10-11 랭킹전",first:"마스터",second:"DTBar",third:"Jay",details:"비고뇌 정식전 : 1위 DTBAR 2위 Jay 3위 IRONKIM<br/>고뇌 정식전 : 1위 마스터 2위 DTBAR 3위 Jay<br/>2:2 정식전 : 1위 오찬물 수수깡수수 2위 DTBAR IRONKIM 3위 퓨리 마스터<br/>조드 정식전 : 1위 봐바 2위 DUKY 3위 Az"},{season:"2024.9 랭킹전",first:"DTbar",second:"Duky",third:"오찬물",details:"고뇌 정식전 : 1위 스티븐 2위 Jay 3위 오찬물<br/>비고뇌 정식전 : 1위 BallistaBB 2위 지존 3위 수수깡수수"},{season:"2024.8 랭킹전",first:"Duky",second:"마스터",third:"옥땅",details:"정식전 : 1위 IRONKIM 2위 배로나 3위 듀키"},{season:"2024.7 랭킹전",first:"Duky",second:"Jay",third:"바아바아",details:"플레이오프 : 1위 Jay 2위 옥례 3위 Duky<br/>3티어 정식전 : 1위 배로나 2위 오찬물 3위 duky<br/>고뇌 정규전 : 1위 바아바아 2위 오찬물 3위 Duky<br/>레어 정규전 : 1위 낑깡 2위 Ari 3위 su"},{season:"2024.6 랭킹전",first:"Head",second:"Jay",third:"Duky",details:"3티어 정식전 : 1위 Duky 2위 Jay 3위 IRONKIM<br/>고뇌 정규전 : 1위 Head 2위 jay 3위 봐바<br/>레어 정규전 : 1위 Jay 2위 지존 3위 스티븐"},{season:"2024.5 랭킹전",first:"Duky",second:"Head",third:"IRONKIM",details:"정식전 : 1위 줍줍 2위 Duky 3위 쭈니바바리안<br/>테마전 : 1위 금복이 2위 goyard 3위 IRONKIM"},{season:"2024.4 랭킹전",first:"Jay",second:"Duky",third:"줍줍",details:"정식전 : 1위 aerts 2위 Head 3위 jay<br/>테마전 : 아리앗옥례 & 오찬물 & Jay"},{season:"2024.3 랭킹전",first:"Duky",second:"BigMara",third:"팍씨",details:"정식전 : 1위 Joral_Sinsa 2위 Jak 3위 바바<br/>테마전 : 1위 Jay 2위 아이언킴 3위 오찬물 <br/> 테마전 : 1위 Jay 2위 아이언킴 3위 오찬물"},{season:"2024.2 랭킹전",first:"barbar",second:"오찬물",third:"Duky",details:"정식전 : 1위 오찬물 2위 BallistaBB 3위 GeonDal<br/>테마전 : 1위 옥례 2위 옥땅 3위 IRONKIM"},{season:"2024.1 랭킹전",first:"오찬물",second:"Duky",third:"Head",details:"정식전 : 1위 Duky 2위 Jay 3위 오찬물"}],d=[{season:"2024.11-12 랭킹전",first:"제트",second:"우리",third:"Hyeonmin",details:"정규대회 자유전 : 1위 Hyeonmin 2위 Mopalmo 3위 우리<br/>정규대회 FP2전 : 1위 BallistaBB 2위 Hyeonmin 3위 우리"},{season:"2024.10 랭킹전",first:"우리",second:"스티븐",third:"제트",details:"24. 10. 정규대회 인내전 : 1위 스티븐 2위 Hell 3위 Madon<br/>24. 10. 정규대회 비인내전 : 1위 우리 2위 파괴 3위 LoPala"},{season:"2024.9 랭킹전",first:"스티븐",second:"독재",third:"BallistaBB",details:"24. 9. 정규대회 : 1위 스티븐 2위 독재 3위 Art"},{season:"2024.8 랭킹전",first:"스티븐",second:"Art",third:"허경영",details:"-"},{season:"2024.7 랭킹전",first:"카니아",second:"BallistaBB",third:"Art",details:"-"},{season:"2024.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"kissa",details:"-"},{season:"2024.5 랭킹전",first:"BallistaBB",second:"스티븐",third:"MAX",details:"-"},{season:"2024.2 랭킹전",first:"Jay",second:"제트",third:"MAX",details:"-"},{season:"2024.1 랭킹전",first:"Jay",second:"스티븐",third:"제트",details:"23.12 정기전 : 1위 Robe 2위 스티븐 3위 제트<br>23.11 정기전 : 1위 파괴 2위 스티븐 3위 Robe"}],h=[{season:"2023.12 랭킹전",first:"Duky",second:"Jak",third:"아리",details:"정식전 : 1위 아리 2위 도라라 3위 Duky "},{season:"2023.11 랭킹전",first:"Jak",second:"Duky",third:"오찬물",details:"정식전 : 1위 봐바 2위 도라라 3위 Art_ist <br/> 테마전 : 1위 잼재미 2위 Jak 3위 아리앗옥례"},{season:"2023.10 랭킹전",first:"오찬물",second:"ALO",third:"오찬물",details:"정식전 : 1위 봐바 2위 배로나 3위 잼재미<br/> 테마전 : 아리 & 오찬물 & 아리앗옥례"},{season:"2023.9 랭킹전",first:"오찬물",second:"Jak",third:"바바",details:"정식전 : 1위 오찬물 2위 봐바 3위 IRONKIM"},{season:"2023.8 랭킹전",first:"Duky",second:"Duky",third:"IRONKIM",details:"정식전 : 1위 Jak 2위 BB 3위 도적"},{season:"2023.7 랭킹전",first:"BB(통합우승)",second:"BB(고뇌우승)",third:"BB(비고뇌우승)",details:"정식전 : 1위 Duky 2위 묵선 3위 오찬물"},{season:"시즌 10",first:"ALO",second:"ADOOBA",third:"Duky",details:"정식전 10회 : 1위 도적 2위 ALO 3위 Jak"},{season:"시즌 9",first:"스티븐",second:"ADOOBA",third:"Duky",details:"정식전 9회 : 1위 Duky 2위 ADOOBA 3위 Jak"},{season:"시즌 8",first:"스티븐",second:"Duky",third:"ALO",details:"정식전 8회 : 1위 배로나 2위 Duky 3위 Art_ist<br/>테마전 8회 : 1위 GeonDal 2위 BallistaBB 3위 오찬물"},{season:"시즌 7",first:"봐바",second:"ALO",third:"도라라",details:"정식전 7회 : 1위 PABLO 2위 야토신 3위 DUTY<br/>테마전 7회 : 1위 ADOOBA & 스티븐 & 도라라 2위  3위 "},{season:"시즌 6",first:"PABLO",second:"오찬물",third:"ADOOBA",details:"정식전 6회 : 1위 Joral_Sinsa 2위 GeonDal 3위 RFHH<br/>테마전 6회 : 1위 도적 & Jak 2위  3위 "},{season:"시즌 5",first:"ADOOBA",second:"오찬물",third:"Joral_Sinsa",details:"정식전 5회 : 1위 ALO 2위 RFHH 3위 TOONGTANG<br/>테마전 5회 : 1위 돌아돌아 & 파멸 2위  3위 "},{season:"시즌 4",first:"Joral_Sinsa",second:"오찬물",third:"ADOOBA",details:"정식전 4회 : 1위 파멸 2위 GG 3위 좀건들지마봐<br/>테마전 4회 : 1위 Az 2위 TOONGTANG 3위 행복한우빈이네"},{season:"시즌 3",first:"TOONGTANG",second:"Joral_Sinsa",third:"ALO",details:"정식전 3회 : 1위 Thanos 2위 MikeTyson 3위 Az<br/>테마전 3회 : 1위 GG 2위 돌아돌아 3위 TOONGTANG"},{season:"시즌 2",first:"TOONGTANG",second:"BABBARIAN",third:"Thanos",details:"정식전 2회 : 1위 TOONGTANG 2위 AlwaysReview 3위 Az<br/>테마전 2회 : 1위 BABBARIAN & Thanos 2위  3위 "},{season:"시즌 1",first:"TOONGTANG",second:"Thanos",third:"AlwaysReview",details:"정식전 1회 : 1위 돌아돌아 2위 FBI멀더 3위 BallistaBB<br/>테마전 1회 : 1위 TOONGTANG 2위 BallistaBB 3위 PK"}],v=[{season:"2023.10 랭킹전",first:"스티븐",second:"달빛",third:"스티븐",details:"정기전 : 1위 CASINO 2위 Queen 3위 드루<br/>23.7 정기전 : 1위 Edward 2위 스티븐 3위 모팔모"},{season:"2023.6 랭킹전",first:"스티븐",second:"BallistaBB",third:"yakuza",details:"정기전 : 1위 yakuza 2위 BallistaBB 3위 모팔모"},{season:"2023.5 랭킹전",first:"Robe",second:"달건",third:"Boss",details:"정기전 : 1위 달건 2위 Robe 3위 Joy<br/>테마전 : 1위 Robe 2위 Southbank 3위 Art_ist"}],b=[],p=[],g=N([]),y=N([]);s()==="babapk"?(_(g,c),_(y,h)):s()==="mpk"?(_(g,d),_(y,v)):(_(g,b),_(y,p));let w=N(Array(i(g).length).fill(!1)),$=N(Array(i(y).length).fill(!1)),k=N(!1);function T(rt){_(w,i(w).map((at,nt)=>nt===rt?!at:at))}function L(rt){_($,i($).map((at,nt)=>nt===rt?!at:at))}function q(){_(k,!i(k))}Ae();var R=Yw(),F=l(R),G=l(F),z=l(G),P=l(z),B=l(P),m=u(P),S=l(m),A=u(m),O=l(A),U=u(A),D=l(U),H=u(G);be(H,5,()=>i(g),xe,(rt,at,nt)=>{let Z=()=>i(at).season,K=()=>i(at).first,ut=()=>i(at).second,et=()=>i(at).third,ft=()=>i(at).details;var ot=Kw(),Q=vt(ot),it=l(Q),ht=l(it),_t=u(it),$t=l(_t),Bt=u(_t),Qt=l(Bt),Jt=u(Bt),Vt=l(Jt),Ct=u(Q,2);mt(Ct,()=>i(w)[nt],Tt=>{var Ht=Hw(),Et=l(Ht),gt=l(Et);$l(gt,ft),C(Tt,Ht)}),V(()=>{x(ht,Z()),x($t,K()),x(Qt,ut()),x(Vt,et())}),tt("click",Q,()=>T(nt)),C(rt,ot)});var Y=u(F,2),st=l(Y),J=l(st),X=u(Y,2);mt(X,()=>i(k),rt=>{var at=Ww(),nt=l(at),Z=l(nt),K=l(Z),ut=l(K),et=u(K),ft=l(et),ot=u(et),Q=l(ot),it=u(ot),ht=l(it),_t=u(nt);be(_t,5,()=>i(y),xe,($t,Bt,Qt)=>{let Jt=()=>i(Bt).season,Vt=()=>i(Bt).first,Ct=()=>i(Bt).second,Tt=()=>i(Bt).third,Ht=()=>i(Bt).details;var Et=Vw(),gt=vt(Et),kt=l(gt),It=l(kt),Ut=u(kt),Ft=l(Ut),Dt=u(Ut),Nt=l(Dt),Rt=u(Dt),Wt=l(Rt),ae=u(gt,2);mt(ae,()=>i($)[Qt],ne=>{var le=Gw(),_e=l(le),me=l(_e);$l(me,Ht),C(ne,le)}),V(()=>{x(It,Jt()),x(Ft,Vt()),x(Nt,Ct()),x(Wt,Tt())}),tt("click",gt,()=>L(Qt)),C($t,Et)}),V(()=>{x(ut,n()?"시즌 이름":"Season Name"),x(ft,n()?"1위":"1st"),x(Q,n()?"2위":"2nd"),x(ht,n()?"3위":"3rd")}),C(rt,at)}),V(()=>{x(B,n()?"시즌 이름":"Season Name"),x(S,n()?"1위":"1st"),x(O,n()?"2위":"2nd"),x(D,n()?"3위":"3rd"),x(J,i(k)?a:o)}),tt("click",st,q),C(r,R),ve()}var Zw=W('<tr class="svelte-o4nmjd"><td class="svelte-o4nmjd"><!></td></tr>'),Xw=W('<div class="info-container"><table class="svelte-o4nmjd"><thead><tr class="svelte-o4nmjd"><th class="svelte-o4nmjd"> </th></tr></thead><tbody></tbody></table></div>');function Qw(r){const t=we(),e=()=>I(Ie,"$lang",t),n=()=>I(Re,"$mode",t);let s=N();const a=[{href:"/mpk/elo",title:e()?"Elo 점수 예상계산기":"Elo Calculate"},{href:"/mpk/simul",title:e()?"시뮬레이터":"Simulate"},{href:"/mpk/ring",title:e()?"링 스탯 측정기":"Check Ring Stats"}],o=[{href:"/babapk/pscore",title:e()?"파워점수 계산기":"Power Score Calculate"},{href:"/babapk/visio",title:e()?"렙당뚜껑 계산기":"Visio Calculate"},{href:"/babapk/elo",title:e()?"Elo 점수 예상계산기":"Elo Calculate"},{href:"/babapk/simul",title:e()?"시뮬레이터":"Simulate"},{href:"/babapk/ring",title:e()?"링 스탯 측정기":"Check Ring Stats"}],c=[{href:"/zpke/pscore",title:e()?"파워점수 계산기":"Power Score Calculate"},{href:"/zpke/elo",title:e()?"Elo 점수 예상계산기":"Elo Calculate"},{href:"/zpke/simul",title:"시뮬레이터"},{href:"/zpke/ring",title:e()?"시뮬레이터":"Simulate"}];n()==="babapk"?_(s,o):n()==="mpk"?_(s,a):_(s,c);var d=Xw(),h=l(d),v=l(h),b=l(v),p=l(b),g=l(p),y=u(v);be(y,5,()=>i(s),xe,($,k)=>{var T=Zw(),L=l(T),q=l(L);Ss(q,{get to(){return i(k).href},children:(R,F)=>{var G=an();V(()=>x(G,i(k).title)),C(R,G)},$$slots:{default:!0}}),C($,T)}),V(()=>x(g,`${n()??""} ${(e()?"계산기 들어가기":"Calculater Links(Korean)")??""}`)),C(r,d)}var tx=W('<table><thead><tr><th colspan="4">질딘용 파워 점수 계산기</th></tr></thead><tbody><tr><td>방어</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>+ 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>% 어레</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>오버 힘</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>오버 민첩</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 오버 스탯</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>활력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>생명력</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>민뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>맥뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>데미지 추가(추뎀)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>증뎀</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 기술 레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>모든 성기사 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>공격 오라 기술레벨</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>방깎</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>강타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>치타</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td><td>모든 스탯(노오버)</td><td><input type="number" class="input-text short svelte-fvpgg3"></td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function ex(r,t){pe(t,!1);const e=N(),n=N(),s=N(),a=N(),o=N(),c=N(),d=N(),h=N(),v=N(),b=N();let p=N(0),g=N(0),y=N(0),w=N(0),$=N(0),k=N(0),T=N(0),L=N(0),q=N(0),R=N(0),F=N(0),G=N(0),z=N(0),P=N(0),B=0,m=N(0),S=N(0),A=N(0),O=N(0),U=N(0),D=N(0),H=N(0),Y=N(0),st=N(0),J,X,rt,at,nt,Z,K,ut,et,ft,ot,Q,it,ht,_t,$t,Bt,Qt,Jt,Vt;const Ct=()=>{J=Math.floor((133+i(R)+i(G))*(100+(492+i(z))+B*6+i(st)*17+480+378+23*(i(P)+i(Y)+7)-138+(232+i(w)+i(k)))/100),X=Math.floor((552+i(F)+i(G))*(100+(492+i(z))+B*6+i(st)*17+480+378+23*(i(P)+i(Y)+7)-138+(232+i(w)+i(k)))/100),rt=Math.floor((148*5+(i($)+i(k))*5-15+i(g)+2743)*(199+i(y)+170+20+270+B*10+i(st)*5+15*(i(P)+i(Y)+7)-15*6)/100),at=Math.floor((3139+i(p)+Math.floor((148+i($)+i(k))/4))*(860+15*(i(Y)+i(P)+B+7)-15*6)/100),nt=Math.round((55+99*2-2+(420+i(U)+i(D)*2)*3-25*3+60+i(L)+740)*(i(m)+100+71+(5+i(P))*3-9)/100)+i(q)+148+(i(k)+i(D)+80+i(T))*3,Z=i(c)+i(S),K=i(d)+i(A),ut=i(h)+i(O),et=0,ft=(ut/100+(100-ut)/100*et/100)*100,ot=(i(e)+i(n))/6/2/2,Q=(J+X)/6/2/2,it=nt/2/10*i(d)/100/2,ht=i(o)/2/10*K/100/2,_t=ot*(i(b)/100+1)+it,$t=Q*(ft/100+1)+ht,Bt=i(s)/(i(s)+at*(100-i(c)/2)/100)*.25,Qt=rt/(rt+i(a)*(100-Z/2)/100)*.25,Jt=nt/_t*4/25/Bt,Vt=i(o)/$t*4/25/Qt,_(H,Math.round((Jt/Vt*100-100)*100*100)/100)};de(()=>{},()=>{_(e,2267)}),de(()=>{},()=>{_(n,9411)}),de(()=>{},()=>{_(s,23374)}),de(()=>{},()=>{_(a,27790)}),de(()=>{},()=>{_(o,4346)}),de(()=>{},()=>{_(c,0)}),de(()=>{},()=>{_(d,25)}),de(()=>{},()=>{_(h,52)}),de(()=>{},()=>{_(v,0)}),de(()=>{},()=>{_(b,52)}),Wr();var Tt=tx(),Ht=u(l(Tt)),Et=l(Ht),gt=u(l(Et)),kt=l(gt),It=u(gt,2),Ut=l(It),Ft=u(Et),Dt=u(l(Ft)),Nt=l(Dt),Rt=u(Dt,2),Wt=l(Rt),ae=u(Ft),ne=u(l(ae)),le=l(ne),_e=u(ne,2),me=l(_e),$e=u(ae),Zt=u(l($e)),Xt=l(Zt),se=u(Zt,2),te=l(se),ce=u($e),fe=u(l(ce)),he=l(fe),Pe=u(fe,2),Ot=l(Pe),je=u(ce),Be=u(l(je)),Ue=l(Be),dr=u(Be,2),lr=l(dr),nr=u(je),vr=u(l(nr)),Xe=l(vr),Ce=u(vr,2),cr=l(Ce),fr=u(nr),sr=u(l(fr)),Cr=l(sr),kr=u(sr,2),qe=l(kr),mr=u(fr),pt=u(l(mr)),xt=l(pt),At=u(pt,2),ee=l(At),re=u(mr),_r=u(l(re)),cn=l(_r),Yr=u(_r,2),Ur=l(Yr),Er=u(re),yr=u(l(Er)),Jr=l(yr),wr=u(yr,2),Qe=l(wr),Ar=u(Er),Fr=l(Ar),un=l(Fr),zr=u(Fr),Rr=l(zr);V(()=>x(Rr,`당신의 아이템 파워 점수는 ${i(H)??""}점 입니다`)),M(kt,()=>i(p),Yt=>_(p,Yt)),M(Ut,()=>i(g),Yt=>_(g,Yt)),M(Nt,()=>i(y),Yt=>_(y,Yt)),M(Wt,()=>i(w),Yt=>_(w,Yt)),M(le,()=>i($),Yt=>_($,Yt)),M(me,()=>i(k),Yt=>_(k,Yt)),M(Xt,()=>i(T),Yt=>_(T,Yt)),M(te,()=>i(L),Yt=>_(L,Yt)),M(he,()=>i(q),Yt=>_(q,Yt)),M(Ot,()=>i(R),Yt=>_(R,Yt)),M(Ue,()=>i(F),Yt=>_(F,Yt)),M(lr,()=>i(G),Yt=>_(G,Yt)),M(Xe,()=>i(z),Yt=>_(z,Yt)),M(cr,()=>i(P),Yt=>_(P,Yt)),M(Cr,()=>i(Y),Yt=>_(Y,Yt)),M(qe,()=>i(st),Yt=>_(st,Yt)),M(xt,()=>i(m),Yt=>_(m,Yt)),M(ee,()=>i(S),Yt=>_(S,Yt)),M(cn,()=>i(A),Yt=>_(A,Yt)),M(Ur,()=>i(O),Yt=>_(O,Yt)),M(Jr,()=>i(U),Yt=>_(U,Yt)),M(Qe,()=>i(D),Yt=>_(D,Yt)),tt("click",un,Ct),C(r,Tt),ve()}var rx=W('<table><thead><tr><th colspan="4">바바용 파워 점수 계산기</th></tr></thead><tbody><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>방어</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 어레</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>% 어레</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 힘</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>오버 민첩</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 오버 스탯</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>활력</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>생명력</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>총 렙당 피</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>민뎀</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>맥뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>데미지 추가(추뎀)</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>증뎀</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+모든(바바) 스킬</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>전투지시</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>외침</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>철갑피부</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 함성 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 숙련 기술 레벨</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>+ 전투 기술 레벨</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>최대 생명력 상승 %</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>방깎</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>강타</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>치타</td></tr><tr><td><input type="number" class="input-text short svelte-15834hv"></td><td>힘과 민첩(노오버)</td><td><input type="number" class="input-text short svelte-15834hv"></td><td>모든 스탯(노오버)</td></tr><tr><td colspan="2"><button class="emphasis-button" type="button">파워 점수 계산</button></td><td colspan="2"> </td></tr></tbody></table>');function nx(r,t){pe(t,!1);const e=N(),n=N(),s=N(),a=N(),o=N(),c=N(),d=N(),h=N(),v=N(),b=N();let p=N(0),g=N(0),y=N(0),w=N(0),$=N(0),k=N(0),T=N(0),L=N(0),q=N(0),R=N(0),F=N(0),G=N(0),z=N(0),P=N(0),B=N(0),m=N(0),S=N(0),A=N(0),O=N(0),U=N(0),D=N(0),H=N(0),Y=N(0),st=N(0),J=N(0),X=N(0),rt=N(0),at,nt,Z,K,ut,et,ft,ot,Q,it,ht,_t,$t,Bt,Qt,Jt,Vt,Ct,Tt,Ht;const Et=()=>{at=Math.floor((427+i(R)+i(G))*(100+(440+i(z))+(258+6*10+i(P)*10)+(10+i(U)*5+i(O)*5)+(232+i(w)+i(k)))/100),nt=Math.floor((592+i(F)+i(G))*(100+(440+i(z))+(258+6*10+i(P)*10)+(10+i(U)*5+i(O)*5)+(232+i(w)+i(k)))/100),Z=Math.floor((222*5+(i($)+i(k))*5-15+i(g)+3119)*(120+i(y)+248+180+13*(i(P)+6)-13*6+(i(U)+2)*5+i(O)*8)/100),K=Math.floor((3583+i(p)+Math.floor((222+i($)+i(k))/4))*(690+20*(i(P)+6)+(i(B)+i(S)+i(O)+i(A))*10)/100),ut=Math.round((55+99*2-2+(306+i(J)+i(X)*2)*4-25*4+60+i(L)+855)*(i(D)+100+113+(6+i(P)+i(m))*3)/100)+i(q)+148+(i(k)+i(X)+80+i(T))*4,et=i(c)+i(H),ft=i(d)+i(Y),ot=i(h)+i(st),Q=i(v)+(i(P)+i(O)>=4?1:0),it=(ot/100+(100-ot)/100*Q/100)*100,ht=(i(e)+i(n))/6/2/2,_t=(at+nt)/6/2/2,$t=ut/2/10*i(d)/100/2,Bt=i(o)/2/10*ft/100/2,Qt=ht*(i(b)/100+1)+$t,Jt=_t*(it/100+1)+Bt,Vt=i(s)/(i(s)+K*(100-i(c)/2)/100)*.25,Ct=Z/(Z+i(a)*(100-et/2)/100)*.25,Tt=ut/Qt*4/25/Vt,Ht=i(o)/Jt*4/25/Ct,_(rt,Math.round((Tt/Ht*100-100)*100*100)/100)};de(()=>{},()=>{_(e,4697)}),de(()=>{},()=>{_(n,6512)}),de(()=>{},()=>{_(s,23514)}),de(()=>{},()=>{_(a,29467)}),de(()=>{},()=>{_(o,5758)}),de(()=>{},()=>{_(c,25)}),de(()=>{},()=>{_(d,25)}),de(()=>{},()=>{_(h,35)}),de(()=>{},()=>{_(v,31)}),de(()=>{},()=>{_(b,55.15)}),Wr();var gt=rx(),kt=u(l(gt)),It=l(kt),Ut=l(It),Ft=l(Ut),Dt=u(Ut,2),Nt=l(Dt),Rt=u(It),Wt=l(Rt),ae=l(Wt),ne=u(Wt,2),le=l(ne),_e=u(Rt),me=l(_e),$e=l(me),Zt=u(me,2),Xt=l(Zt),se=u(_e),te=l(se),ce=l(te),fe=u(te,2),he=l(fe),Pe=u(se),Ot=l(Pe),je=l(Ot),Be=u(Ot,2),Ue=l(Be),dr=u(Pe),lr=l(dr),nr=l(lr),vr=u(lr,2),Xe=l(vr),Ce=u(dr),cr=l(Ce),fr=l(cr),sr=u(cr,2),Cr=l(sr),kr=u(Ce),qe=l(kr),mr=l(qe),pt=u(qe,2),xt=l(pt),At=u(kr),ee=l(At),re=l(ee),_r=u(ee,2),cn=l(_r),Yr=u(At),Ur=l(Yr),Er=l(Ur),yr=u(Ur,2),Jr=l(yr),wr=u(Yr),Qe=l(wr),Ar=l(Qe),Fr=u(Qe,2),un=l(Fr),zr=u(wr),Rr=l(zr),Yt=l(Rr),Hr=u(Rr,2),dn=l(Hr),Tr=u(zr),Zr=l(Tr),Xr=l(Zr),xn=u(Zr,2),Cn=l(xn),Rn=u(Tr),Qr=l(Rn),tn=l(Qr),fn=u(Qr),en=l(fn);V(()=>x(en,`당신의 아이템 파워 점수는 ${i(rt)??""}점 입니다`)),M(Ft,()=>i(p),qt=>_(p,qt)),M(Nt,()=>i(g),qt=>_(g,qt)),M(ae,()=>i(y),qt=>_(y,qt)),M(le,()=>i(w),qt=>_(w,qt)),M($e,()=>i($),qt=>_($,qt)),M(Xt,()=>i(k),qt=>_(k,qt)),M(ce,()=>i(T),qt=>_(T,qt)),M(he,()=>i(L),qt=>_(L,qt)),M(je,()=>i(q),qt=>_(q,qt)),M(Ue,()=>i(R),qt=>_(R,qt)),M(nr,()=>i(F),qt=>_(F,qt)),M(Xe,()=>i(G),qt=>_(G,qt)),M(fr,()=>i(z),qt=>_(z,qt)),M(Cr,()=>i(P),qt=>_(P,qt)),M(mr,()=>i(m),qt=>_(m,qt)),M(xt,()=>i(B),qt=>_(B,qt)),M(re,()=>i(S),qt=>_(S,qt)),M(cn,()=>i(A),qt=>_(A,qt)),M(Er,()=>i(O),qt=>_(O,qt)),M(Jr,()=>i(U),qt=>_(U,qt)),M(Ar,()=>i(D),qt=>_(D,qt)),M(un,()=>i(H),qt=>_(H,qt)),M(Yt,()=>i(Y),qt=>_(Y,qt)),M(dn,()=>i(st),qt=>_(st,qt)),M(Xr,()=>i(J),qt=>_(J,qt)),M(Cn,()=>i(X),qt=>_(X,qt)),tt("click",tn,Et),C(r,gt),ve()}var sx=W(`<table><thead><tr><th colspan="4">BABAPK 렙당뚜껑 계산기</th></tr></thead><tbody><tr><td colspan="4">아이템 기본 스탯</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>방어</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 모든(바바) 스킬</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>% 어레 보너스</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>전투지시</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>외침</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>철갑피부</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+ 어레</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td></td><td></td></tr><tr><td colspan="4">2 소켓일 시 추가 주얼 스탯(1소켓일 시에는 모두 0 입력)</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>증뎀</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>최소 데미지</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>최대 데미지</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>힘</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>민첩</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>생명력</td></tr><tr><td><input class="input-text short svelte-synbn7" type="number"></td><td>어레</td><td><input class="input-text short svelte-synbn7" type="number"></td><td>+방어</td></tr><tr><td colspan="4"><button class="emphasis-button" type="button">가치 계산</button><br> </td></tr><tr><td class="text svelte-synbn7" colspan="4">유니크 뚜껑과 비교<br> 504 방어 슬가 점수 = 100<br> 756 방어 에테 슬가 점수 = 95.54<br> 408 방어 3/3/3 스킬 악마뿔의 날 점수 = 95.77<br> 611 방어 3/3/3 스킬 에테 악마뿔의 날 점수 = 91.47</td></tr><tr><td class="text svelte-synbn7" colspan="4">이 계산기는 발리스타에 의해 만들어졌습니다<br> 99레벨, 으뜸 슬가, 3/20/20 부적, 강철찢개, 버석고뇌 : 100점<br> 만약 점수가 100점을 넘는다면 그만큼 슬가보다 좋은 뚜껑임을 나타냅니다.</td></tr><tr><td class="text svelte-synbn7" colspan="4">어떻게 사용하나요?<br> 뚜껑의 스탯을 입력하세요<br> 만약 1소켓인 경우 주얼 입력을 모두 0으로 하세요. 만약 그렇지 않다면, 지증속
          주얼 2개를 제외한 자신이 사용할 전투주얼 수치를 넣으세요<br> % 상승 어레와 + 상승 어레를 구별해서 넣어주세요</td></tr></tbody></table>`);function ax(r){let t=N(0),e=N(0),n=N(0),s=N(0),a=N(0),o=N(0),c=N(0),d=N(0),h=N(0),v=N(0),b=N(0),p=N(0),g=N(0),y=N(0),w=N(0),$=N(0),k=N(0),T=N(0),L=N(0),q=N(0),R=N(0),F=N(0);function G(){_(F,Math.round((2130+i(o)+i(L)+4*(i(s)+i(a)+i(T)+i(k)))*(2.25+(i(e)+i(c))*.03)+468)/(.25*23514/(23514+Math.floor((3134+i(t)+i(R))*(.2*i(e)+7.7+.1*(i(h)+i(d)))*.875))*5604.5/12)/(5758/(.25*Math.floor((4214+i(v)+i(q))*(5.02+i(e)*.13+i(n)*.01))/(Math.floor((i(v)+i(q)+4214)*(5.02+i(e)*.13+i(n)*.01))+29467*.875)*(((219+i(p)+i(g)+i($)+i(w))/2+400)*(10.7+.1*i(e)+.01*(i(b)+i(y))))/12))*100)}var z=sx(),P=u(l(z)),B=u(l(P)),m=l(B),S=l(m),A=u(m,2),O=l(A),U=u(B),D=l(U),H=l(D),Y=u(D,2),st=l(Y),J=u(U),X=l(J),rt=l(X),at=u(X,2),nt=l(at),Z=u(J),K=l(Z),ut=l(K),et=u(K,2),ft=l(et),ot=u(Z),Q=l(ot),it=l(Q),ht=u(Q,2),_t=l(ht),$t=u(ot),Bt=l($t),Qt=l(Bt),Jt=u(Bt,2),Vt=l(Jt),Ct=u($t),Tt=l(Ct),Ht=l(Tt),Et=u(Ct,2),gt=l(Et),kt=l(gt),It=u(gt,2),Ut=l(It),Ft=u(Et),Dt=l(Ft),Nt=l(Dt),Rt=u(Dt,2),Wt=l(Rt),ae=u(Ft),ne=l(ae),le=l(ne),_e=u(ne,2),me=l(_e),$e=u(ae),Zt=l($e),Xt=l(Zt),se=u(Zt,2),te=l(se),ce=u($e),fe=l(ce),he=l(fe),Pe=u(he,2);V(()=>x(Pe,` 당신의 렙당 뚜껑의 점수는 ${i(F)??""}입니다`)),M(S,()=>i(t),Ot=>_(t,Ot)),M(O,()=>i(e),Ot=>_(e,Ot)),M(H,()=>i(n),Ot=>_(n,Ot)),M(st,()=>i(s),Ot=>_(s,Ot)),M(rt,()=>i(a),Ot=>_(a,Ot)),M(nt,()=>i(o),Ot=>_(o,Ot)),M(ut,()=>i(c),Ot=>_(c,Ot)),M(ft,()=>i(d),Ot=>_(d,Ot)),M(it,()=>i(h),Ot=>_(h,Ot)),M(_t,()=>i(v),Ot=>_(v,Ot)),M(Qt,()=>i(b),Ot=>_(b,Ot)),M(Vt,()=>i(p),Ot=>_(p,Ot)),M(Ht,()=>i(g),Ot=>_(g,Ot)),M(kt,()=>i(y),Ot=>_(y,Ot)),M(Ut,()=>i(w),Ot=>_(w,Ot)),M(Nt,()=>i($),Ot=>_($,Ot)),M(Wt,()=>i(k),Ot=>_(k,Ot)),M(le,()=>i(T),Ot=>_(T,Ot)),M(me,()=>i(L),Ot=>_(L,Ot)),M(Xt,()=>i(q),Ot=>_(q,Ot)),M(te,()=>i(R),Ot=>_(R,Ot)),tt("click",he,G),C(r,z)}var ix=W('<table><thead><tr><th>링 스탯 측정기</th></tr></thead><tbody><tr><td><select class="input-text short svelte-1d6dr2d"><option>야만용사</option><option>성기사</option><option>드루이드</option><option>아마존</option></select></td></tr><tr><td><label><input class="input-text short svelte-1d6dr2d" type="checkbox"> + 5% 추가어레</label> <input class="input-text short svelte-1d6dr2d" type="number"> 최소 데미지</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 최대 데미지 <input class="input-text short svelte-1d6dr2d" type="number"> 어레</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 힘 <input class="input-text short svelte-1d6dr2d" type="number"> 민첩</td></tr><tr><td><input class="input-text short svelte-1d6dr2d" type="number"> 생명력</td></tr><tr><td><button class="emphasis-button">계산</button><br> <br> 단순히 스탯만을 계산하므로 전체적인 성능과는 차이가 있을 수 있습니다.</td></tr></tbody></table>');function ox(r,t){pe(t,!1);const e=N();let n=N(0),s=N(0),a=N(0),o=N(0),c=N(0),d=N(0),h=N(4),v=N(0),b=N(!1);de(()=>(i(s),i(a),i(n),i(d),i(c),i(o),i(h),i(b)),()=>{_(e,()=>{let Z=i(s)+i(a)+i(n)/5+(i(d)+i(c))*1.5+i(o)/i(h);i(b)&&(Z+=38/5),_(v,Z)})}),Wr();var p=ix(),g=u(l(p)),y=l(g),w=l(y),$=l(w);V(()=>{i(h),hs(()=>{i(e)})});var k=l($);k.value=(k.__value="4")==null?"":"4";var T=u(k);T.value=(T.__value="3")==null?"":"3";var L=u(T);L.value=(L.__value="2")==null?"":"2";var q=u(L);q.value=(q.__value="3")==null?"":"3";var R=u(y),F=l(R),G=l(F),z=l(G),P=u(G,2),B=u(R),m=l(B),S=l(m),A=u(S,2),O=u(B),U=l(O),D=l(U),H=u(D,2),Y=u(O),st=l(Y),J=l(st),X=u(Y),rt=l(X),at=l(rt),nt=u(at,2);V(()=>x(nt,` 이 링의 전체 스탯은 ${i(v)??""} 스탯 입니다. `)),ps($,()=>i(h),Z=>_(h,Z)),tt("change",$,function(...Z){var K;(K=i(e))==null||K.apply(this,Z)}),Fp(z,()=>i(b),Z=>_(b,Z)),M(P,()=>i(c),Z=>_(c,Z)),M(S,()=>i(d),Z=>_(d,Z)),M(A,()=>i(n),Z=>_(n,Z)),M(D,()=>i(s),Z=>_(s,Z)),M(H,()=>i(a),Z=>_(a,Z)),M(J,()=>i(o),Z=>_(o,Z)),tt("click",at,function(...Z){var K;(K=i(e))==null||K.apply(this,Z)}),C(r,p),ve()}var lx=W('<tr><td> </td><td><input class="input-text short svelte-b8vo4p" type="range" min="0"></td></tr> <tr><td> <br> <br> <br> <br> <br> <br></td><td> <br> <br> <br> <br> <br> <br></td></tr>',1),cx=W(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>내 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 내 스탯으로 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>공격 프레임</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상대 설정 파일로 저장</td><td><button class="simple-button">저장</button></td><td>파일을 상대 스탯으로 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr><!></tbody></table></div>`);function ux(r,t){pe(t,!1);const e=we(),n=()=>I(ut,"$mycharlv",e),s=()=>I(et,"$myhp",e),a=()=>I(ot,"$mymaxdmg",e),o=()=>I(ft,"$mymindmg",e),c=()=>I(Q,"$myar",e),d=()=>I(it,"$mydf",e),h=()=>I(ht,"$myframe",e),v=()=>I(_t,"$mydfoff",e),b=()=>I($t,"$myreduce",e),p=()=>I(Bt,"$mycrush",e),g=()=>I(Qt,"$mycs",e),y=()=>I(Jt,"$myds",e),w=()=>I(Vt,"$mydodge",e),$=()=>I(Ct,"$myopenwound",e),k=()=>I(Tt,"$mythorns",e),T=()=>I(Ht,"$myclass",e),L=()=>I(Et,"$yourcharlv",e),q=()=>I(gt,"$yourhp",e),R=()=>I(It,"$yourmaxdmg",e),F=()=>I(kt,"$yourmindmg",e),G=()=>I(Ut,"$yourar",e),z=()=>I(Ft,"$yourdf",e),P=()=>I(Dt,"$yourframe",e),B=()=>I(Nt,"$yourdfoff",e),m=()=>I(Rt,"$yourreduce",e),S=()=>I(Wt,"$yourcrush",e),A=()=>I(ae,"$yourcs",e),O=()=>I(ne,"$yourds",e),U=()=>I(le,"$yourdodge",e),D=()=>I(_e,"$youropenwound",e),H=()=>I(me,"$yourthorns",e),Y=()=>I($e,"$yourclass",e),st=()=>I(Zt,"$iterations",e),J=()=>I(Xt,"$win",e),X=()=>I(se,"$lose",e),rt=()=>I(te,"$draw",e),at=()=>I(ce,"$winRate",e);let nt=N(0),Z=N(0),K=N([]),ut=lt(99),et=lt(0),ft=lt(0),ot=lt(0),Q=lt(0),it=lt(0),ht=lt(4),_t=lt(0),$t=lt(0),Bt=lt(0),Qt=lt(0),Jt=lt(0),Vt=lt(0),Ct=lt(0),Tt=lt(0),Ht=lt(1),Et=lt(99),gt=lt(0),kt=lt(0),It=lt(0),Ut=lt(0),Ft=lt(0),Dt=lt(4),Nt=lt(0),Rt=lt(50),Wt=lt(0),ae=lt(0),ne=lt(0),le=lt(0),_e=lt(0),me=lt(0),$e=lt(1),Zt=lt(2e3),Xt=lt(0),se=lt(0),te=lt(0),ce=lt(0);const fe=()=>{const St={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:c(),df:d(),frame:[h()],dfoff:v(),reduce:b(),crush:p(),cs:g(),ds:y(),dodge:w(),openwound:$(),thorns:k(),class:T()},rr=JSON.stringify(St),yt=new Blob([rr],{type:"application/json"}),Se=URL.createObjectURL(yt),Oe=document.createElement("a");Oe.download="my_stat.json",Oe.href=Se,Oe.click()},he=()=>{const St={charlv:L(),hp:q(),maxdmg:R(),mindmg:F(),ar:G(),df:z(),frame:[P()],dfoff:B(),reduce:m(),crush:S(),cs:A(),ds:O(),dodge:U(),openwound:D(),thorns:H(),class:Y()},rr=JSON.stringify(St),yt=new Blob([rr],{type:"application/json"}),Se=URL.createObjectURL(yt),Oe=document.createElement("a");Oe.download="opponent_stat.json",Oe.href=Se,Oe.click()},Pe=St=>{var Se;const rr=(Se=St.target.files)==null?void 0:Se[0];if(!rr)return;const yt=new FileReader;yt.onload=Oe=>{var Ze;try{const Gt=JSON.parse((Ze=Oe.target)==null?void 0:Ze.result);Object.keys(Gt).forEach(Ir=>{if(Gt[Ir]===void 0)throw Error}),ut.set(Gt.charlv),et.set(Gt.hp),ot.set(Gt.maxdmg),ft.set(Gt.mindmg),Q.set(Gt.ar),it.set(Gt.df),ht.set(Gt.frame[0]),_t.set(Gt.dfoff),$t.set(Gt.reduce),Bt.set(Gt.crush),Qt.set(Gt.cs),Jt.set(Gt.ds),Vt.set(Gt.dodge),Ct.set(Gt.openwound),Tt.set(Gt.thorns),Ht.set(Gt.class)}catch{alert("Invalid JSON file")}},yt.readAsText(rr)},Ot=St=>{var Se;const rr=(Se=St.target.files)==null?void 0:Se[0];if(!rr)return;const yt=new FileReader;yt.onload=Oe=>{var Ze;try{const Gt=JSON.parse((Ze=Oe.target)==null?void 0:Ze.result);Object.keys(Gt).forEach(Ir=>{if(Gt[Ir]===void 0)throw Error}),Et.set(Gt.charlv),gt.set(Gt.hp),It.set(Gt.maxdmg),kt.set(Gt.mindmg),Ut.set(Gt.ar),Ft.set(Gt.df),Dt.set(Gt.frame[0]),Nt.set(Gt.dfoff),Rt.set(Gt.reduce),Wt.set(Gt.crush),ae.set(Gt.cs),ne.set(Gt.ds),le.set(Gt.dodge),_e.set(Gt.openwound),me.set(Gt.thorns),$e.set(Gt.class)}catch{alert("Invalid JSON file")}},yt.readAsText(rr)},je=async()=>{Xt.set(0),se.set(0),te.set(0),ce.set(0);const St={myhp:s(),yourhp:q(),myframe:[h()],yourframe:[P()],myclass:T(),yourclass:Y(),mycharlv:n(),yourcharlv:L(),iterations:st(),myar:c(),yourar:G(),mydf:d(),yourdf:z(),mydfoff:v(),yourdfoff:B(),mydodge:w(),yourdodge:U(),mycrush:p(),yourcrush:S(),myopenwound:$(),youropenwound:D(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:R(),yourmindmg:F(),myreduce:b(),yourreduce:m(),mycs:g(),myds:y(),yourcs:A(),yourds:O(),mythorns:k(),yourthorns:H()};try{const rr=await Mt("/calculate","POST",St);if(rr.ok){const yt=await rr.json();Xt.set(yt[0].winCount),se.set(yt[0].loseCount),te.set(yt[0].drawCount);const Se=Number(yt[0].winRate.toFixed(2));ce.set(Se),_(Z,yt[1].length),_(K,yt[1])}else console.error("Error calculating:",rr.statusText)}catch(rr){console.error("Error calculating:",rr),alert("Calculation failed.")}};Ae();var Be=cx(),Ue=u(l(Be),2),dr=l(Ue),lr=l(dr),nr=u(l(lr)),vr=l(nr),Xe=u(nr,2),Ce=l(Xe),cr=u(lr),fr=u(l(cr)),sr=l(fr),Cr=u(fr,2),kr=l(Cr),qe=u(cr),mr=u(l(qe)),pt=l(mr),xt=u(mr,2),At=l(xt),ee=u(qe),re=u(l(ee)),_r=l(re),cn=u(re,2),Yr=l(cn),Ur=u(ee),Er=u(l(Ur)),yr=l(Er),Jr=u(Er,2),wr=l(Jr),Qe=u(Ur),Ar=u(l(Qe)),Fr=l(Ar),un=u(Ar,2),zr=l(un),Rr=u(Qe),Yt=u(l(Rr)),Hr=l(Yt),dn=u(Yt,2),Tr=l(dn),Zr=u(Rr),Xr=u(l(Zr)),xn=l(Xr),Cn=u(Xr,2),Rn=l(Cn),Qr=u(Ue,4),tn=l(Qr),fn=l(tn),en=u(l(fn)),qt=l(en),gr=u(en,2),xr=l(gr),$r=u(fn),ns=u(l($r)),Sr=l(ns),$s=u(ns,2),qn=l($s),In=u($r),ss=u(l(In)),as=l(ss),ar=u(ss,2),jn=l(ar),hn=u(In),rn=u(l(hn)),Pn=l(rn),$n=u(rn,2),is=l($n),kn=u(hn),pn=u(l(kn)),Dn=l(pn),Nr=u(pn,2),os=l(Nr),vn=u(kn),Mn=u(l(vn)),ls=l(Mn),f=u(Mn,2),E=l(f),j=u(vn),ct=u(l(j)),ie=l(ct),Pt=u(ct,2),ke=l(Pt),ye=u(j),Fe=u(l(ye)),Te=l(Fe),tr=u(Fe,2),hr=l(tr),Ke=u(Qr,2),er=l(Ke),We=l(er),nn=u(l(We)),qr=l(nn),sn=u(We),ks=u(l(sn)),cs=l(ks),us=u(Ke,2),fi=l(us),sa=l(fi),Sa=u(l(sa)),Es=l(Sa),js=u(Es,2),As=u(js,2),Ps=u(As,2),aa=u(sa,3);mt(aa,()=>i(K).length>0,St=>{var rr=lx(),yt=vt(rr),Se=l(yt),Oe=l(Se),Ze=u(Se),Gt=l(Ze),Ir=u(yt,2),oe=l(Ir),Bn=l(oe),mn=u(Bn,2),Kr=u(mn,2),ia=u(Kr,2),oa=u(ia,2),Na=u(oa,2),Oa=u(oe),La=l(Oa),la=u(La,2),ca=u(la,2),Ds=u(ca,2),Ms=u(Ds,2),ua=u(Ms,2);V(()=>{x(Oe,`${i(nt)??""} 프레임 보기`),Ee(Gt,"max",i(Z)),x(Bn,`내 체력 : ${i(K)[i(nt)].myLife??""}`),x(mn,` ${(i(K)[i(nt)].myTriedAttack?"공격시도":null)??""} `),x(Kr,` ${(i(K)[i(nt)].myAttackSuccess?`공격성공 : ${i(K)[i(nt)].myAttackSuccess}`:null)??""} `),x(ia,` ${(i(K)[i(nt)].myCrushSuccess?"강타발동":null)??""} `),x(oa,` ${(i(K)[i(nt)].myDeadlySuccess?"치타발동":null)??""} `),x(Na,` ${(i(K)[i(nt)].myOpenedWoundSuccess?"상악발동":null)??""} `),x(La,`상대 체력 : ${i(K)[i(nt)].yourLife??""}`),x(la,` ${(i(K)[i(nt)].yourTriedAttack?"공격시도":null)??""} `),x(ca,` ${(i(K)[i(nt)].yourAttackSuccess?`공격성공: ${i(K)[i(nt)].yourAttackSuccess}`:null)??""} `),x(Ds,` ${(i(K)[i(nt)].yourCrushSuccess?"강타발동":null)??""} `),x(Ms,` ${(i(K)[i(nt)].yourDeadlySuccess?"치타발동":null)??""} `),x(ua,` ${(i(K)[i(nt)].yourOpenedWoundSuccess?"상악발동":null)??""} `)}),M(Gt,()=>i(nt),Ca=>_(nt,Ca)),C(St,rr)}),V(()=>{x(Es,`승 : ${J()??""}`),x(js,` 패 : ${X()??""}`),x(As,` 무승부 : ${rt()??""}`),x(Ps,` 승률 : ${at()??""} %`)}),M(vr,n,St=>bt(ut,St)),M(Ce,o,St=>bt(ft,St)),M(sr,a,St=>bt(ot,St)),M(kr,c,St=>bt(Q,St)),M(pt,v,St=>bt(_t,St)),M(At,d,St=>bt(it,St)),M(_r,s,St=>bt(et,St)),M(Yr,h,St=>bt(ht,St)),M(yr,b,St=>bt($t,St)),M(wr,p,St=>bt(Bt,St)),M(Fr,y,St=>bt(Jt,St)),M(zr,g,St=>bt(Qt,St)),M(Hr,$,St=>bt(Ct,St)),M(Tr,k,St=>bt(Tt,St)),tt("click",xn,fe),tt("change",Rn,Pe),M(qt,L,St=>bt(Et,St)),M(xr,F,St=>bt(kt,St)),M(Sr,R,St=>bt(It,St)),M(qn,G,St=>bt(Ut,St)),M(as,B,St=>bt(Nt,St)),M(jn,z,St=>bt(Ft,St)),M(Pn,q,St=>bt(gt,St)),M(is,P,St=>bt(Dt,St)),M(Dn,m,St=>bt(Rt,St)),M(os,S,St=>bt(Wt,St)),M(ls,O,St=>bt(ne,St)),M(E,A,St=>bt(ae,St)),M(ie,D,St=>bt(_e,St)),M(ke,H,St=>bt(me,St)),tt("click",Te,he),tt("change",hr,Ot),M(qr,st,St=>bt(Zt,St)),tt("click",cs,je),C(r,Be),ve()}var dx=W('<div class="main-container svelte-h7jwtc"><div class="table-head svelte-h7jwtc">Elo점수 예상 계산기</div> <div class="form-wrapper svelte-h7jwtc"><div class="input-group svelte-h7jwtc"><label for="wScore" class="svelte-h7jwtc">승자 점수</label> <input type="number" id="wScore" class="input-text name svelte-h7jwtc"></div> <div class="input-group svelte-h7jwtc"><label for="lScore" class="svelte-h7jwtc">패자 점수</label> <input type="number" id="lScore" class="input-text name svelte-h7jwtc"></div></div> <div class="result-wrapper svelte-h7jwtc"><button class="emphasis-button">계산</button> <p class="result-text svelte-h7jwtc"> </p></div></div>');function fx(r,t){pe(t,!1);const e=N();let n=N(),s=N(),a=N();const o=32,c=400;de(()=>(i(n),i(s)),()=>{_(e,()=>{if(i(n)!==void 0&&i(s)!==void 0){const T=1/(1+Math.pow(10,(i(s)-i(n))/c));_(a,Math.round(o*(1-T)))}else _(a,void 0)})}),Wr();var d=dx(),h=u(l(d),2),v=l(h),b=u(l(v),2),p=u(v,2),g=u(l(p),2),y=u(h,2),w=l(y),$=u(w,2),k=l($);V(()=>x(k,`예상 득실 점수: ${(i(a)!==void 0?i(a):"값을 입력하세요")??""}`)),M(b,()=>i(n),T=>_(n,T)),M(g,()=>i(s),T=>_(s,T)),tt("click",w,function(...T){var L;(L=i(e))==null||L.apply(this,T)}),C(r,d),ve()}var hx=W("<option> </option>"),px=W('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-18a1swj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="input-text score svelte-18a1swj"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br></div>'),vx=W('<div class="left">권한이 없습니다.</div>'),mx=W('<div class="main_data"><!></div>');function gx(r,t){pe(t,!1);const e=we(),n=()=>I(wa,"$nicknames",e),s=()=>I(Re,"$mode",e),a=()=>I(ln,"$admin",e);let o=N(),c=N();function d(w){_(o,v(w.target.value,n()))}function h(w){_(c,w.target.value)}function v(w,$){return $.includes(w)?w:""}or(()=>{ui(s())});async function b(){const w={player:i(o),playerScore:i(c),mode:s()};try{(await Mt("/admin-score/submit","POST",w)).status===201&&alert("점수 부여 완료")}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const $=await Mt("/admin-score/reset","DELETE",{mode:s()});$&&$.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${$.status}`)}catch{alert("오류 발생")}}Ae();var g=mx(),y=l(g);mt(y,()=>a().includes(s()),w=>{var $=px(),k=u(l($)),T=u(k,2);be(T,5,n,xe,(F,G)=>{var z=hx(),P={},B=l(z);V(()=>{P!==(P=i(G))&&(z.value=(z.__value=i(G))==null?"":i(G)),x(B,i(G))}),C(F,z)});var L=u(T,2),q=u(L,2),R=u(q,8);M(k,()=>i(o),F=>_(o,F)),tt("blur",k,d),M(L,()=>i(c),F=>_(c,F)),tt("change",L,h),tt("click",q,b),tt("click",R,p),C(w,$)},w=>{var $=vx();C(w,$)}),C(r,g),ve()}var bx=W("<option> </option>"),_x=W("<option> </option>"),yx=W('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button> <br> <br> <div class="left">이 선수의 소속 클랜 초기화하기 <input list="nicknames_list" class="input-text name svelte-13bvvkj" placeholder="선수 선택"> <button class="simple-button">클랜초기화하기</button> <br> <br> 클랜 점수 변경/삭제 <select class="input-text name svelte-13bvvkj"><option>클랜을 선택하세요</option><!></select> <input type="number" placeholder="점수" class="input-text score svelte-13bvvkj"> <button class="simple-button">점수 부여하기</button> <button class="emphasis-button">이 클랜 삭제하기</button></div></div> <br><br> <input type="text" class="input-text name svelte-13bvvkj" placeholder="클랜명 입력"> <button class="simple-button">클랜 추가하기</button><br>',1),wx=W('<div class="left">권한이 없습니다.</div>'),xx=W('<div class="main_data"><!></div>');function $x(r,t){pe(t,!1);const e=we(),n=()=>I(wa,"$nicknames",e),s=()=>I(Re,"$mode",e),a=()=>I(ln,"$admin",e);let o=N(),c=N();function d(m){_(o,v(m.target.value,n()))}function h(m){_(c,m.target.value)}function v(m,S){return S.includes(m)?m:""}or(async()=>{ui(s()),$()});let b=N(),p=N(),g=N(),y=N(),w=N();async function $(){const m=`/clan/${s()}/list`;try{const S=await Mt(m,"GET");S.status===200?_(g,await S.json()):console.error(`Error: Received status ${S.status}`)}catch(S){console.error("Error fetching clan list:",S)}}async function k(){const m={player:i(o),playerScore:i(c),mode:s()};try{const S=await Mt("/admin-score/submit","POST",m);S&&S.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${S.status}`)}catch{alert("오류 발생")}}async function T(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const S=await Mt("/admin-score/reset","DELETE",{mode:s()});S&&S.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${S.status}`)}catch{alert("오류 발생")}}async function L(){const m={player:i(b)};try{const S=await Mt(`/clan/${s()}/reset`,"POST",m);alert("해당 선수 클랜 리셋 완료")}catch(S){alert("오류 발생 :"+S)}}async function q(m){const S=`/clan/${s()}/create`,A={name:m};try{const O=await Mt(S,"POST",A);O.status===201?alert("클랜 생성에 성공하였습니다"):O.status===400&&alert("클랜 생성에 실패하였습니다")}catch{alert("클랜 생성에 실패하였습니다")}}function R(m){_(b,v(m.target.value,n()))}function F(m){_(y,Number(m.target.value))}async function G(){const m={clan:i(p),clanScore:i(y)};try{(await Mt(`/clan/${s()}/score`,"POST",m)).status===201?alert(i(p)+" 클랜 점수 부여 완료"):alert("오류 발생")}catch(S){alert("오류 발생 :"+S)}}async function z(){const m={clan:i(p)};if(confirm(`${i(p)} 클랜을 삭제합니다. 계속하시겠습니까?`))try{const A=await Mt(`/clan/${s()}/delete`,"DELETE",m);alert(`${i(p)} 클랜 삭제 완료`),$()}catch(A){alert("오류 발생 :"+A)}}Ae();var P=xx(),B=l(P);mt(B,()=>a().includes("babapk"),m=>{var S=yx(),A=vt(S),O=u(l(A)),U=u(O,2);be(U,5,n,xe,(ot,Q)=>{var it=bx(),ht={},_t=l(it);V(()=>{ht!==(ht=i(Q))&&(it.value=(it.__value=i(Q))==null?"":i(Q)),x(_t,i(Q))}),C(ot,it)});var D=u(U,2),H=u(D,2),Y=u(H,6),st=u(Y,6),J=u(l(st)),X=u(J,2),rt=u(X,6);V(()=>{i(p),hs(()=>{i(g)})});var at=l(rt);at.value=(at.__value="none")==null?"":"none";var nt=u(at);be(nt,1,()=>i(g),xe,(ot,Q)=>{var it=_x(),ht={},_t=l(it);V(()=>{ht!==(ht=i(Q).name)&&(it.value=(it.__value=i(Q).name)==null?"":i(Q).name),x(_t,i(Q).name)}),C(ot,it)});var Z=u(rt,2),K=u(Z,2),ut=u(K,2),et=u(A,5),ft=u(et,2);M(O,()=>i(o),ot=>_(o,ot)),tt("blur",O,d),M(D,()=>i(c),ot=>_(c,ot)),tt("change",D,h),tt("click",H,k),tt("click",Y,T),M(J,()=>i(b),ot=>_(b,ot)),tt("blur",J,R),tt("click",X,L),ps(rt,()=>i(p),ot=>_(p,ot)),M(Z,()=>i(y),ot=>_(y,ot)),tt("change",Z,F),tt("click",K,()=>G()),tt("click",ut,()=>z()),M(et,()=>i(w),ot=>_(w,ot)),tt("click",ft,()=>q(i(w))),C(m,S)},m=>{var S=wx();C(m,S)}),C(r,P),ve()}var kx=W("<option> </option>"),Ex=W("<option> </option>"),Ax=W('<tr><td> </td><td><input class="input-text short svelte-b8vo4p" type="range" min="0"></td></tr> <tr><td> <br> <br> <br> <br> <br> <br></td><td> <br> <br> <br> <br> <br> <br></td></tr>',1),Tx=W(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>회피율(아마존)</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>클래스</td><td><select class="input-text short svelte-b8vo4p"><option>질딘</option><option>컨센바바</option><option>늑드루</option><option>잽마</option></select></td><td>공격 프레임</td><td><select class="input-text short svelte-b8vo4p"></select></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr><!></tbody></table></div>`);function Sx(r,t){pe(t,!1);const e=we(),n=()=>I(ft,"$mycharlv",e),s=()=>I(ot,"$myhp",e),a=()=>I(it,"$mymaxdmg",e),o=()=>I(Q,"$mymindmg",e),c=()=>I(ht,"$myar",e),d=()=>I(_t,"$mydf",e),h=()=>I($t,"$myframe",e),v=()=>I(Bt,"$mydfoff",e),b=()=>I(Qt,"$myreduce",e),p=()=>I(Jt,"$mycrush",e),g=()=>I(Vt,"$mycs",e),y=()=>I(Ct,"$myds",e),w=()=>I(Tt,"$mydodge",e),$=()=>I(Ht,"$myopenwound",e),k=()=>I(Et,"$mythorns",e),T=()=>I(gt,"$myclass",e),L=()=>I(It,"$yourcharlv",e),q=()=>I(Ut,"$yourhp",e),R=()=>I(Dt,"$yourmaxdmg",e),F=()=>I(Ft,"$yourmindmg",e),G=()=>I(Nt,"$yourar",e),z=()=>I(Rt,"$yourdf",e),P=()=>I(Wt,"$yourframe",e),B=()=>I(ae,"$yourdfoff",e),m=()=>I(ne,"$yourreduce",e),S=()=>I(le,"$yourcrush",e),A=()=>I(_e,"$yourcs",e),O=()=>I(me,"$yourds",e),U=()=>I($e,"$yourdodge",e),D=()=>I(Zt,"$youropenwound",e),H=()=>I(Xt,"$yourthorns",e),Y=()=>I(se,"$yourclass",e),st=()=>I(kt,"$myframelist",e),J=()=>I(te,"$yourframelist",e),X=()=>I(ce,"$iterations",e),rt=()=>I(fe,"$win",e),at=()=>I(he,"$lose",e),nt=()=>I(Pe,"$draw",e),Z=()=>I(Ot,"$winRate",e);let K=N(0),ut=N(0),et=N([]),ft=lt(99),ot=lt(0),Q=lt(0),it=lt(0),ht=lt(0),_t=lt(0),$t=lt([4]),Bt=lt(0),Qt=lt(0),Jt=lt(0),Vt=lt(0),Ct=lt(0),Tt=lt(0),Ht=lt(0),Et=lt(0),gt=lt(1),kt=lt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),It=lt(99),Ut=lt(0),Ft=lt(0),Dt=lt(0),Nt=lt(0),Rt=lt(0),Wt=lt([4]),ae=lt(0),ne=lt(50),le=lt(0),_e=lt(0),me=lt(0),$e=lt(0),Zt=lt(0),Xt=lt(0),se=lt(1),te=lt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),ce=lt(2e3),fe=lt(0),he=lt(0),Pe=lt(0),Ot=lt(0);const je=()=>{const wt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:c(),df:d(),frame:h(),dfoff:v(),reduce:b(),crush:p(),cs:g(),ds:y(),dodge:w(),openwound:$(),thorns:k(),class:T()},ze=JSON.stringify(wt),De=new Blob([ze],{type:"application/json"}),pr=URL.createObjectURL(De),Or=document.createElement("a");Or.download="my_stat.json",Or.href=pr,Or.click()},Be=()=>{const wt={charlv:L(),hp:q(),maxdmg:R(),mindmg:F(),ar:G(),df:z(),frame:P(),dfoff:B(),reduce:m(),crush:S(),cs:A(),ds:O(),dodge:U(),openwound:D(),thorns:H(),class:Y()},ze=JSON.stringify(wt),De=new Blob([ze],{type:"application/json"}),pr=URL.createObjectURL(De),Or=document.createElement("a");Or.download="opponent_stat.json",Or.href=pr,Or.click()},Ue=wt=>{var pr;const ze=(pr=wt.target.files)==null?void 0:pr[0];if(!ze)return;const De=new FileReader;De.onload=Or=>{var da;try{const ge=JSON.parse((da=Or.target)==null?void 0:da.result);Object.keys(ge).forEach(ds=>{if(ge[ds]===void 0)throw Error}),gt.set(ge.class),nr(),ft.set(ge.charlv),ot.set(ge.hp),it.set(ge.maxdmg),Q.set(ge.mindmg),ht.set(ge.ar),_t.set(ge.df),Bt.set(ge.dfoff),Qt.set(ge.reduce),Jt.set(ge.crush),Vt.set(ge.cs),Ct.set(ge.ds),Tt.set(ge.dodge),Ht.set(ge.openwound),Et.set(ge.thorns);const hi=ge.frame,Bs=st().find(ds=>JSON.stringify(ds.value)===JSON.stringify(hi));Bs?$t.set(Bs.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},De.readAsText(ze)},dr=wt=>{var pr;const ze=(pr=wt.target.files)==null?void 0:pr[0];if(!ze)return;const De=new FileReader;De.onload=Or=>{var da;try{const ge=JSON.parse((da=Or.target)==null?void 0:da.result);Object.keys(ge).forEach(ds=>{if(ge[ds]===void 0)throw Error}),se.set(ge.class),vr(),It.set(ge.charlv),Ut.set(ge.hp),Dt.set(ge.maxdmg),Ft.set(ge.mindmg),Nt.set(ge.ar),Rt.set(ge.df),ae.set(ge.dfoff),ne.set(ge.reduce),le.set(ge.crush),_e.set(ge.cs),me.set(ge.ds),$e.set(ge.dodge),Zt.set(ge.openwound),Xt.set(ge.thorns);const hi=ge.frame,Bs=J().find(ds=>JSON.stringify(ds.value)===JSON.stringify(hi));Bs?Wt.set(Bs.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},De.readAsText(ze)},lr=async()=>{fe.set(0),he.set(0),Pe.set(0),Ot.set(0);const wt={myhp:s(),yourhp:q(),myframe:h(),yourframe:P(),myclass:T(),yourclass:Y(),mycharlv:n(),yourcharlv:L(),iterations:X(),myar:c(),yourar:G(),mydf:d(),yourdf:z(),mydfoff:v(),yourdfoff:B(),mydodge:w(),yourdodge:U(),mycrush:p(),yourcrush:S(),myopenwound:$(),youropenwound:D(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:R(),yourmindmg:F(),myreduce:b(),yourreduce:m(),mycs:g(),myds:y(),yourcs:A(),yourds:O(),mythorns:k(),yourthorns:H()};try{const ze=await Mt("/calculate","POST",wt);if(ze.ok){const De=await ze.json();fe.set(De[0].winCount),he.set(De[0].loseCount),Pe.set(De[0].drawCount);const pr=Number(De[0].winRate.toFixed(2));Ot.set(pr),_(ut,De[1].length),_(et,De[1])}else console.error("Error calculating:",ze.statusText)}catch(ze){console.error("Error calculating:",ze),alert("Calculation failed.")}};function nr(){T()===1?kt.set([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]):T()===2?kt.set([{name:"9프레임",value:[9]},{name:"10프레임",value:[10]},{name:"11프레임",value:[11]},{name:"12프레임",value:[12]},{name:"13프레임",value:[13]},{name:"14프레임",value:[14]},{name:"15프레임",value:[15]}]):T()===3?kt.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):T()===4&&kt.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function vr(){Y()===1?te.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):Y()===2?te.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):Y()===3?te.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):Y()===4&&te.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}Ae();var Xe=Tx(),Ce=u(l(Xe),2),cr=l(Ce),fr=l(cr),sr=u(l(fr)),Cr=l(sr),kr=u(sr,2),qe=l(kr),mr=u(fr),pt=u(l(mr)),xt=l(pt),At=u(pt,2),ee=l(At),re=u(mr),_r=u(l(re)),cn=l(_r),Yr=u(_r,2),Ur=l(Yr),Er=u(re),yr=u(l(Er)),Jr=l(yr),wr=u(yr,2),Qe=l(wr),Ar=u(Er),Fr=u(l(Ar)),un=l(Fr),zr=u(Fr,2),Rr=l(zr),Yt=u(Ar),Hr=u(l(Yt)),dn=l(Hr),Tr=u(Hr,2),Zr=l(Tr),Xr=u(Yt),xn=u(l(Xr)),Cn=l(xn),Rn=u(xn,2),Qr=l(Rn),tn=u(Xr),fn=u(l(tn)),en=l(fn);V(()=>{T(),hs(()=>{})});var qt=l(en);qt.value=(qt.__value=1)==null?"":1;var gr=u(qt);gr.value=(gr.__value=2)==null?"":2;var xr=u(gr);xr.value=(xr.__value=3)==null?"":3;var $r=u(xr);$r.value=($r.__value=4)==null?"":4;var ns=u(fn,2),Sr=l(ns);V(()=>{h(),hs(()=>{st()})}),be(Sr,5,st,wt=>wt.name,(wt,ze)=>{var De=kx(),pr={},Or=l(De);V(()=>{pr!==(pr=i(ze).value)&&(De.value=(De.__value=i(ze).value)==null?"":i(ze).value),x(Or,i(ze).name)}),C(wt,De)});var $s=u(tn),qn=u(l($s)),In=l(qn),ss=u(qn,2),as=l(ss),ar=u(Ce,4),jn=l(ar),hn=l(jn),rn=u(l(hn)),Pn=l(rn),$n=u(rn,2),is=l($n),kn=u(hn),pn=u(l(kn)),Dn=l(pn),Nr=u(pn,2),os=l(Nr),vn=u(kn),Mn=u(l(vn)),ls=l(Mn),f=u(Mn,2),E=l(f),j=u(vn),ct=u(l(j)),ie=l(ct),Pt=u(ct,2),ke=l(Pt),ye=u(j),Fe=u(l(ye)),Te=l(Fe),tr=u(Fe,2),hr=l(tr),Ke=u(ye),er=u(l(Ke)),We=l(er),nn=u(er,2),qr=l(nn),sn=u(Ke),ks=u(l(sn)),cs=l(ks),us=u(ks,2),fi=l(us),sa=u(sn),Sa=u(l(sa)),Es=l(Sa);V(()=>{Y(),hs(()=>{})});var js=l(Es);js.value=(js.__value=1)==null?"":1;var As=u(js);As.value=(As.__value=2)==null?"":2;var Ps=u(As);Ps.value=(Ps.__value=3)==null?"":3;var aa=u(Ps);aa.value=(aa.__value=4)==null?"":4;var St=u(Sa,2),rr=l(St);V(()=>{P(),hs(()=>{J()})}),be(rr,5,J,wt=>wt.name,(wt,ze)=>{var De=Ex(),pr={},Or=l(De);V(()=>{pr!==(pr=i(ze).value)&&(De.value=(De.__value=i(ze).value)==null?"":i(ze).value),x(Or,i(ze).name)}),C(wt,De)});var yt=u(sa),Se=u(l(yt)),Oe=l(Se),Ze=u(Se,2),Gt=l(Ze),Ir=u(ar,2),oe=l(Ir),Bn=l(oe),mn=u(l(Bn)),Kr=l(mn),ia=u(Bn),oa=u(l(ia)),Na=l(oa),Oa=u(Ir,2),La=l(Oa),la=l(La),ca=u(l(la)),Ds=l(ca),Ms=u(Ds,2),ua=u(Ms,2),Ca=u(ua,2),Go=u(la,3);mt(Go,()=>i(et).length>0,wt=>{var ze=Ax(),De=vt(ze),pr=l(De),Or=l(pr),da=u(pr),ge=l(da),hi=u(De,2),Bs=l(hi),ds=l(Bs),Lc=u(ds,2),Cc=u(Lc,2),Rc=u(Cc,2),qc=u(Rc,2),hh=u(qc,2),ph=u(Bs),Ic=l(ph),jc=u(Ic,2),Pc=u(jc,2),Dc=u(Pc,2),Mc=u(Dc,2),vh=u(Mc,2);V(()=>{x(Or,`${i(K)??""} 프레임 보기`),Ee(ge,"max",i(ut)),x(ds,`내 체력 : ${i(et)[i(K)].myLife??""}`),x(Lc,` ${(i(et)[i(K)].myTriedAttack?"공격시도":null)??""} `),x(Cc,` ${(i(et)[i(K)].myAttackSuccess?`공격성공 : ${i(et)[i(K)].myAttackSuccess}`:null)??""} `),x(Rc,` ${(i(et)[i(K)].myCrushSuccess?"강타발동":null)??""} `),x(qc,` ${(i(et)[i(K)].myDeadlySuccess?"치타발동":null)??""} `),x(hh,` ${(i(et)[i(K)].myOpenedWoundSuccess?"상악발동":null)??""} `),x(Ic,`상대 체력 : ${i(et)[i(K)].yourLife??""}`),x(jc,` ${(i(et)[i(K)].yourTriedAttack?"공격시도":null)??""} `),x(Pc,` ${(i(et)[i(K)].yourAttackSuccess?`공격성공: ${i(et)[i(K)].yourAttackSuccess}`:null)??""} `),x(Dc,` ${(i(et)[i(K)].yourCrushSuccess?"강타발동":null)??""} `),x(Mc,` ${(i(et)[i(K)].yourDeadlySuccess?"치타발동":null)??""} `),x(vh,` ${(i(et)[i(K)].yourOpenedWoundSuccess?"상악발동":null)??""} `)}),M(ge,()=>i(K),mh=>_(K,mh)),C(wt,ze)}),V(()=>{x(Ds,`승 : ${rt()??""}`),x(Ms,` 패 : ${at()??""}`),x(ua,` 무승부 : ${nt()??""}`),x(Ca,` 승률 : ${Z()??""} %`)}),M(Cr,n,wt=>bt(ft,wt)),M(qe,o,wt=>bt(Q,wt)),M(xt,a,wt=>bt(it,wt)),M(ee,c,wt=>bt(ht,wt)),M(cn,v,wt=>bt(Bt,wt)),M(Ur,d,wt=>bt(_t,wt)),M(Jr,s,wt=>bt(ot,wt)),M(Qe,w,wt=>bt(Tt,wt)),M(un,b,wt=>bt(Qt,wt)),M(Rr,p,wt=>bt(Jt,wt)),M(dn,y,wt=>bt(Ct,wt)),M(Zr,g,wt=>bt(Vt,wt)),M(Cn,$,wt=>bt(Ht,wt)),M(Qr,k,wt=>bt(Et,wt)),ps(en,T,wt=>bt(gt,wt)),tt("change",en,()=>nr()),ps(Sr,h,wt=>bt($t,wt)),tt("click",In,je),tt("change",as,Ue),M(Pn,L,wt=>bt(It,wt)),M(is,F,wt=>bt(Ft,wt)),M(Dn,R,wt=>bt(Dt,wt)),M(os,G,wt=>bt(Nt,wt)),M(ls,B,wt=>bt(ae,wt)),M(E,z,wt=>bt(Rt,wt)),M(ie,q,wt=>bt(Ut,wt)),M(ke,U,wt=>bt($e,wt)),M(Te,m,wt=>bt(ne,wt)),M(hr,S,wt=>bt(le,wt)),M(We,O,wt=>bt(me,wt)),M(qr,A,wt=>bt(_e,wt)),M(cs,D,wt=>bt(Zt,wt)),M(fi,H,wt=>bt(Xt,wt)),ps(Es,Y,wt=>bt(se,wt)),tt("change",Es,()=>vr()),ps(rr,P,wt=>bt(Wt,wt)),tt("click",Oe,Be),tt("change",Gt,dr),M(Kr,X,wt=>bt(ce,wt)),tt("click",Na,lr),C(r,Xe),ve()}var Nx=W('<tr><td> </td><td><input class="input-text short svelte-b8vo4p" type="range" min="0"></td></tr> <tr><td> <br> <br> <br> <br> <br> <br></td><td> <br> <br> <br> <br> <br> <br></td></tr>',1),Ox=W(`<div class="main_data table-outline"><div class="table-head">내 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>-</td><td>-</td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="myfileUpload" style="display: none" accept="application/json"> <label for="myfileUpload" class="simple-button">불러오기</label></td></tr></tbody></table> <div class="table-head">상대 캐릭터 스탯</div> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>레벨</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>최소 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>최대 데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 어레</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>방깎</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>총 방어</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>총 생명력</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>-</td><td>-</td></tr><tr><td>피해 감소 %</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>강타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>치타</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>극대화</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>상악</td><td><input type="number" class="input-text short svelte-b8vo4p"></td><td>반사데미지</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>세팅 저장</td><td><button class="simple-button">저장</button></td><td>세팅 불러오기</td><td><input type="file" id="yourfileUpload" style="display: none" accept="application/json"> <label class="simple-button" for="yourfileUpload">불러오기</label></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>대전 시뮬 횟수?</td><td><input type="number" class="input-text short svelte-b8vo4p"></td></tr><tr><td>시뮬레이션 시작</td><td><button class="emphasis-button">시작</button></td></tr></tbody></table> <table class="table-contents-wrapper svelte-b8vo4p"><tbody><tr><td>시뮬레이션 결과</td><td> <br> <br> <br> </td></tr><tr><td colspan="2">계산기 사용법</td></tr><tr><td colspan="2" class="text svelte-b8vo4p">이 계산기는 두 세팅된 캐릭터의 모의 대전을 진행하여 승률을 계산하는 시뮬레이터입니다.
          각 입력란에는 스탯창 수치를 입력해야합니다.(아이템 수치 입력 X) 만약 아이템을
          장착시 스탯값을 알 수 없다면 장비스탯 구하기 계산기에서 마지막으로 저장한
          스탯을 여기에서 불러와 사용할 수 있습니다. 입력란의 민뎀과 맥뎀은 물리 데미지만을
          입력해야합니다(원소데미지 입력X) 또한 여기서는 소량의 원소데미지는 무시하고
          계산합니다. 입력란의 모든 수치를 입력하고 양쪽 값이 동등하다고 수치를 생략해서는
          안됩니다. 또한 대전 시뮬은 최소 2천번 이상 돌리는 것을 추천드립니다.</td></tr><!></tbody></table></div>`);function Lx(r,t){pe(t,!1);const e=we(),n=()=>I(ft,"$mycharlv",e),s=()=>I(ot,"$myhp",e),a=()=>I(it,"$mymaxdmg",e),o=()=>I(Q,"$mymindmg",e),c=()=>I(ht,"$myar",e),d=()=>I(_t,"$mydf",e),h=()=>I($t,"$myframe",e),v=()=>I(Bt,"$mydfoff",e),b=()=>I(Qt,"$myreduce",e),p=()=>I(Jt,"$mycrush",e),g=()=>I(Vt,"$mycs",e),y=()=>I(Ct,"$myds",e),w=()=>I(Tt,"$mydodge",e),$=()=>I(Ht,"$myopenwound",e),k=()=>I(Et,"$mythorns",e),T=()=>I(gt,"$myclass",e),L=()=>I(It,"$yourcharlv",e),q=()=>I(Ut,"$yourhp",e),R=()=>I(Dt,"$yourmaxdmg",e),F=()=>I(Ft,"$yourmindmg",e),G=()=>I(Nt,"$yourar",e),z=()=>I(Rt,"$yourdf",e),P=()=>I(Wt,"$yourframe",e),B=()=>I(ae,"$yourdfoff",e),m=()=>I(ne,"$yourreduce",e),S=()=>I(le,"$yourcrush",e),A=()=>I(_e,"$yourcs",e),O=()=>I(me,"$yourds",e),U=()=>I($e,"$yourdodge",e),D=()=>I(Zt,"$youropenwound",e),H=()=>I(Xt,"$yourthorns",e),Y=()=>I(se,"$yourclass",e),st=()=>I(kt,"$myframelist",e),J=()=>I(te,"$yourframelist",e),X=()=>I(ce,"$iterations",e),rt=()=>I(fe,"$win",e),at=()=>I(he,"$lose",e),nt=()=>I(Pe,"$draw",e),Z=()=>I(Ot,"$winRate",e);let K=N(0),ut=N(0),et=N([]),ft=lt(99),ot=lt(0),Q=lt(0),it=lt(0),ht=lt(0),_t=lt(0),$t=lt([4,4,4,4,8]),Bt=lt(0),Qt=lt(0),Jt=lt(0),Vt=lt(0),Ct=lt(0),Tt=lt(0),Ht=lt(0),Et=lt(0),gt=lt(1),kt=lt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),It=lt(99),Ut=lt(0),Ft=lt(0),Dt=lt(0),Nt=lt(0),Rt=lt(0),Wt=lt([4]),ae=lt(0),ne=lt(50),le=lt(0),_e=lt(0),me=lt(0),$e=lt(0),Zt=lt(0),Xt=lt(0),se=lt(1),te=lt([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]),ce=lt(2e3),fe=lt(0),he=lt(0),Pe=lt(0),Ot=lt(0);const je=()=>{const yt={charlv:n(),hp:s(),maxdmg:a(),mindmg:o(),ar:c(),df:d(),frame:h(),dfoff:v(),reduce:b(),crush:p(),cs:g(),ds:y(),dodge:w(),openwound:$(),thorns:k(),class:T()},Se=JSON.stringify(yt),Oe=new Blob([Se],{type:"application/json"}),Ze=URL.createObjectURL(Oe),Gt=document.createElement("a");Gt.download="my_stat.json",Gt.href=Ze,Gt.click()},Be=()=>{const yt={charlv:L(),hp:q(),maxdmg:R(),mindmg:F(),ar:G(),df:z(),frame:P(),dfoff:B(),reduce:m(),crush:S(),cs:A(),ds:O(),dodge:U(),openwound:D(),thorns:H(),class:Y()},Se=JSON.stringify(yt),Oe=new Blob([Se],{type:"application/json"}),Ze=URL.createObjectURL(Oe),Gt=document.createElement("a");Gt.download="opponent_stat.json",Gt.href=Ze,Gt.click()},Ue=yt=>{var Ze;const Se=(Ze=yt.target.files)==null?void 0:Ze[0];if(!Se)return;const Oe=new FileReader;Oe.onload=Gt=>{var Ir;try{const oe=JSON.parse((Ir=Gt.target)==null?void 0:Ir.result);Object.keys(oe).forEach(Kr=>{if(oe[Kr]===void 0)throw Error}),gt.set(oe.class),nr(),ft.set(oe.charlv),ot.set(oe.hp),it.set(oe.maxdmg),Q.set(oe.mindmg),ht.set(oe.ar),_t.set(oe.df),Bt.set(oe.dfoff),Qt.set(oe.reduce),Jt.set(oe.crush),Vt.set(oe.cs),Ct.set(oe.ds),Tt.set(oe.dodge),Ht.set(oe.openwound),Et.set(oe.thorns);const Bn=oe.frame,mn=st().find(Kr=>JSON.stringify(Kr.value)===JSON.stringify(Bn));mn?$t.set(mn.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Oe.readAsText(Se)},dr=yt=>{var Ze;const Se=(Ze=yt.target.files)==null?void 0:Ze[0];if(!Se)return;const Oe=new FileReader;Oe.onload=Gt=>{var Ir;try{const oe=JSON.parse((Ir=Gt.target)==null?void 0:Ir.result);Object.keys(oe).forEach(Kr=>{if(oe[Kr]===void 0)throw Error}),se.set(oe.class),vr(),It.set(oe.charlv),Ut.set(oe.hp),Dt.set(oe.maxdmg),Ft.set(oe.mindmg),Nt.set(oe.ar),Rt.set(oe.df),ae.set(oe.dfoff),ne.set(oe.reduce),le.set(oe.crush),_e.set(oe.cs),me.set(oe.ds),$e.set(oe.dodge),Zt.set(oe.openwound),Xt.set(oe.thorns);const Bn=oe.frame,mn=J().find(Kr=>JSON.stringify(Kr.value)===JSON.stringify(Bn));mn?Wt.set(mn.value):alert("Frame 값이 목록에 없습니다.")}catch{alert("Invalid JSON file")}},Oe.readAsText(Se)},lr=async()=>{fe.set(0),he.set(0),Pe.set(0),Ot.set(0);const yt={myhp:s(),yourhp:q(),myframe:h(),yourframe:P(),myclass:T(),yourclass:Y(),mycharlv:n(),yourcharlv:L(),iterations:X(),myar:c(),yourar:G(),mydf:d(),yourdf:z(),mydfoff:v(),yourdfoff:B(),mydodge:w(),yourdodge:U(),mycrush:p(),yourcrush:S(),myopenwound:$(),youropenwound:D(),mymaxdmg:a(),mymindmg:o(),yourmaxdmg:R(),yourmindmg:F(),myreduce:b(),yourreduce:m(),mycs:g(),myds:y(),yourcs:A(),yourds:O(),mythorns:k(),yourthorns:H()};try{const Se=await Mt("/calculate","POST",yt);if(Se.ok){const Oe=await Se.json();fe.set(Oe[0].winCount),he.set(Oe[0].loseCount),Pe.set(Oe[0].drawCount);const Ze=Number(Oe[0].winRate.toFixed(2));Ot.set(Ze),_(ut,Oe[1].length),_(et,Oe[1])}else console.error("Error calculating:",Se.statusText)}catch(Se){console.error("Error calculating:",Se),alert("Calculation failed.")}};function nr(){T()===1?kt.set([{name:"4/8프레임",value:[4,4,4,4,8]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/10프레임",value:[5,5,5,5,10]}]):T()===2?kt.set([{name:"9프레임",value:[9]},{name:"10프레임",value:[10]},{name:"11프레임",value:[11]},{name:"12프레임",value:[12]},{name:"13프레임",value:[13]},{name:"14프레임",value:[14]},{name:"15프레임",value:[15]}]):T()===3?kt.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):T()===4&&kt.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}function vr(){Y()===1?te.set([{name:"5/10프레임",value:[5,5,5,5,10]},{name:"5/9프레임",value:[5,5,5,5,9]},{name:"5/8프레임",value:[5,5,5,5,8]},{name:"4/8프레임",value:[4,4,4,4,8]}]):Y()===2?te.set([{name:"15프레임",value:[15]},{name:"14프레임",value:[14]},{name:"13프레임",value:[13]},{name:"12프레임",value:[12]},{name:"11프레임",value:[11]},{name:"10프레임",value:[10]},{name:"9프레임",value:[9]}]):Y()===3?te.set([{name:"5/3/6프레임",value:[5,3,3,3,6]},{name:"5/4/6프레임",value:[5,4,4,4,6]},{name:"5/4/7프레임",value:[5,4,4,4,7]},{name:"6/4/7프레임",value:[6,4,4,4,7]},{name:"6/4/8프레임",value:[6,4,4,4,8]}]):Y()===4&&te.set([{name:"12프레임",value:[4]},{name:"13프레임",value:[4,4,5]},{name:"14프레임",value:[4,4,6]},{name:"15프레임",value:[4,5,6]},{name:"16프레임",value:[5,5,6]},{name:"17프레임",value:[5,5,6]},{name:"18프레임",value:[5,6,6]}])}Ae();var Xe=Ox(),Ce=u(l(Xe),2),cr=l(Ce),fr=l(cr),sr=u(l(fr)),Cr=l(sr),kr=u(sr,2),qe=l(kr),mr=u(fr),pt=u(l(mr)),xt=l(pt),At=u(pt,2),ee=l(At),re=u(mr),_r=u(l(re)),cn=l(_r),Yr=u(_r,2),Ur=l(Yr),Er=u(re),yr=u(l(Er)),Jr=l(yr),wr=u(Er),Qe=u(l(wr)),Ar=l(Qe),Fr=u(Qe,2),un=l(Fr),zr=u(wr),Rr=u(l(zr)),Yt=l(Rr),Hr=u(Rr,2),dn=l(Hr),Tr=u(zr),Zr=u(l(Tr)),Xr=l(Zr),xn=u(Zr,2),Cn=l(xn),Rn=u(Tr),Qr=u(l(Rn)),tn=l(Qr),fn=u(Qr,2),en=l(fn),qt=u(Ce,4),gr=l(qt),xr=l(gr),$r=u(l(xr)),ns=l($r),Sr=u($r,2),$s=l(Sr),qn=u(xr),In=u(l(qn)),ss=l(In),as=u(In,2),ar=l(as),jn=u(qn),hn=u(l(jn)),rn=l(hn),Pn=u(hn,2),$n=l(Pn),is=u(jn),kn=u(l(is)),pn=l(kn),Dn=u(is),Nr=u(l(Dn)),os=l(Nr),vn=u(Nr,2),Mn=l(vn),ls=u(Dn),f=u(l(ls)),E=l(f),j=u(f,2),ct=l(j),ie=u(ls),Pt=u(l(ie)),ke=l(Pt),ye=u(Pt,2),Fe=l(ye),Te=u(ie),tr=u(l(Te)),hr=l(tr),Ke=u(tr,2),er=l(Ke),We=u(qt,2),nn=l(We),qr=l(nn),sn=u(l(qr)),ks=l(sn),cs=u(qr),us=u(l(cs)),fi=l(us),sa=u(We,2),Sa=l(sa),Es=l(Sa),js=u(l(Es)),As=l(js),Ps=u(As,2),aa=u(Ps,2),St=u(aa,2),rr=u(Es,3);mt(rr,()=>i(et).length>0,yt=>{var Se=Nx(),Oe=vt(Se),Ze=l(Oe),Gt=l(Ze),Ir=u(Ze),oe=l(Ir),Bn=u(Oe,2),mn=l(Bn),Kr=l(mn),ia=u(Kr,2),oa=u(ia,2),Na=u(oa,2),Oa=u(Na,2),La=u(Oa,2),la=u(mn),ca=l(la),Ds=u(ca,2),Ms=u(Ds,2),ua=u(Ms,2),Ca=u(ua,2),Go=u(Ca,2);V(()=>{x(Gt,`${i(K)??""} 프레임 보기`),Ee(oe,"max",i(ut)),x(Kr,`내 체력 : ${i(et)[i(K)].myLife??""}`),x(ia,` ${(i(et)[i(K)].myTriedAttack?"공격시도":null)??""} `),x(oa,` ${(i(et)[i(K)].myAttackSuccess?`공격성공 : ${i(et)[i(K)].myAttackSuccess}`:null)??""} `),x(Na,` ${(i(et)[i(K)].myCrushSuccess?"강타발동":null)??""} `),x(Oa,` ${(i(et)[i(K)].myDeadlySuccess?"치타발동":null)??""} `),x(La,` ${(i(et)[i(K)].myOpenedWoundSuccess?"상악발동":null)??""} `),x(ca,`상대 체력 : ${i(et)[i(K)].yourLife??""}`),x(Ds,` ${(i(et)[i(K)].yourTriedAttack?"공격시도":null)??""} `),x(Ms,` ${(i(et)[i(K)].yourAttackSuccess?`공격성공: ${i(et)[i(K)].yourAttackSuccess}`:null)??""} `),x(ua,` ${(i(et)[i(K)].yourCrushSuccess?"강타발동":null)??""} `),x(Ca,` ${(i(et)[i(K)].yourDeadlySuccess?"치타발동":null)??""} `),x(Go,` ${(i(et)[i(K)].yourOpenedWoundSuccess?"상악발동":null)??""} `)}),M(oe,()=>i(K),wt=>_(K,wt)),C(yt,Se)}),V(()=>{x(As,`승 : ${rt()??""}`),x(Ps,` 패 : ${at()??""}`),x(aa,` 무승부 : ${nt()??""}`),x(St,` 승률 : ${Z()??""} %`)}),M(Cr,n,yt=>bt(ft,yt)),M(qe,o,yt=>bt(Q,yt)),M(xt,a,yt=>bt(it,yt)),M(ee,c,yt=>bt(ht,yt)),M(cn,v,yt=>bt(Bt,yt)),M(Ur,d,yt=>bt(_t,yt)),M(Jr,s,yt=>bt(ot,yt)),M(Ar,b,yt=>bt(Qt,yt)),M(un,p,yt=>bt(Jt,yt)),M(Yt,y,yt=>bt(Ct,yt)),M(dn,g,yt=>bt(Vt,yt)),M(Xr,$,yt=>bt(Ht,yt)),M(Cn,k,yt=>bt(Et,yt)),tt("click",tn,je),tt("change",en,Ue),M(ns,L,yt=>bt(It,yt)),M($s,F,yt=>bt(Ft,yt)),M(ss,R,yt=>bt(Dt,yt)),M(ar,G,yt=>bt(Nt,yt)),M(rn,B,yt=>bt(ae,yt)),M($n,z,yt=>bt(Rt,yt)),M(pn,q,yt=>bt(Ut,yt)),M(os,m,yt=>bt(ne,yt)),M(Mn,S,yt=>bt(le,yt)),M(E,O,yt=>bt(me,yt)),M(ct,A,yt=>bt(_e,yt)),M(ke,D,yt=>bt(Zt,yt)),M(Fe,H,yt=>bt(Xt,yt)),tt("click",hr,Be),tt("change",er,dr),M(ks,X,yt=>bt(ce,yt)),tt("click",fi,lr),C(r,Xe),ve()}var Cx=W("<option> </option>"),Rx=W('<div class="left">직접 점수를 부여할 선수 <input list="nicknames_list" class="input-text name svelte-6gm00j" placeholder="선수 선택"> <datalist id="nicknames_list"></datalist> <input type="number" placeholder="점수" class="score input-text svelte-6gm00j"> <button class="simple-button">점수 부여하기</button> <br> <br> <br> <button class="emphasis-button">모든 점수 초기화하기</button></div>'),qx=W('<div class="left">권한이 없습니다.</div>'),Ix=W('<div class="main_data"><!></div>');function jx(r,t){pe(t,!1);const e=we(),n=()=>I(wa,"$nicknames",e),s=()=>I(Re,"$mode",e),a=()=>I(ln,"$admin",e);let o=N(),c=N();function d(w){_(o,v(w.target.value,n()))}function h(w){_(c,w.target.value)}function v(w,$){return $.includes(w)?w:""}or(async()=>{ui(s())});async function b(){const w={player:i(o),playerScore:i(c),mode:s()};try{const $=await Mt("/admin-score/submit","POST",w);$&&$.status===201?alert("점수 부여 완료"):alert(`에러 발생: ${$.status}`)}catch{alert("오류 발생")}}async function p(){if(confirm("모든 참가자 점수를 초기화합니다. 계속하시겠습니까?"))try{const $=await Mt("/admin-score/reset","DELETE",{mode:s()});$&&$.status===200?alert("점수를 초기화하였습니다"):alert(`에러 발생: ${$.status}`)}catch{alert("오류 발생")}}Ae();var g=Ix(),y=l(g);mt(y,()=>a().includes(s()),w=>{var $=Rx(),k=u(l($)),T=u(k,2);be(T,5,n,xe,(F,G)=>{var z=Cx(),P={},B=l(z);V(()=>{P!==(P=i(G))&&(z.value=(z.__value=i(G))==null?"":i(G)),x(B,i(G))}),C(F,z)});var L=u(T,2),q=u(L,2),R=u(q,8);M(k,()=>i(o),F=>_(o,F)),tt("blur",k,d),M(L,()=>i(c),F=>_(c,F)),tt("change",L,h),tt("click",q,b),tt("click",R,p),C(w,$)},w=>{var $=qx();C(w,$)}),C(r,g),ve()}var Px=W("<p> </p>"),Dx=W("<p> </p>"),Mx=W('<button class="simple-button"> </button>'),Bx=W('<tr class="svelte-j9la9l"><td colspan="5" class="detail-row svelte-j9la9l"> <br> <br> <!></td></tr>'),Ux=W('<tr class="svelte-j9la9l"><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td><td class="svelte-j9la9l"> </td></tr> <!>',1),Fx=W('<table class="rank-table svelte-j9la9l"><thead><tr class="svelte-j9la9l"><th class="svelte-j9la9l"> </th><th class="svelte-j9la9l"> </th><th class="svelte-j9la9l"> </th><th class="svelte-j9la9l"> </th></tr></thead><tbody></tbody></table>'),zx=W('<div class="table-outline"><!></div>');function Hx(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(br,"$myaccount",e),a=()=>I(Ie,"$lang",e);let o=N([]),c=N(!0),d=N(null),h=N([]),v=N("");async function b(){let $,k=1,T=1,L=`/clan/${n()}/list`,q=`/clan/${n()}/myclan`;try{const R=await Mt(L,"GET");if(!R.ok)throw new Error("연결 에러입니다");_(o,await R.json()),i(o).sort((F,G)=>G.TScore-F.TScore),$=i(o).length||1;for(let F=0;F<i(o).length;F++)F>0&&i(o)[F].TScore===i(o)[F-1].TScore?Dr(o,i(o)[F].rank=k):(Dr(o,i(o)[F].rank=T),k=T),T++;if(s()){const F=await Mt(q,"POST");_(v,await F.json())}}catch(R){_(d,R)}finally{_(c,!1),console.log(s(),n(),a()),console.log(i(o),i(v))}}function p($){Dr(h,i(h)[$]=!i(h)[$]),_(h,[...i(h)])}or(()=>{const $=Xa.subscribe(()=>{b()});return()=>{$()}});async function g($){const k={clanname:$},T=`/clan/${n()}/join`;if(confirm(a()?`${$} 클랜에 가입합니다. 계속하시겠습니까?`:"Are you sure you want to join the clan? Do you want to continue? :"+$))try{(await Mt(T,"PATCH",k)).status===200?(alert(a()?"클랜에 가입하였습니다":"You joined clan"),b()):alert(a()?"오류 발생":"Error")}catch(q){alert(q)}}Ae();var y=zx(),w=l(y);mt(w,()=>i(c),$=>{var k=Px(),T=l(k);V(()=>x(T,`${(a()?"로딩 중":"Loading")??""}...`)),C($,k)},$=>{var k=ue(),T=vt(k);mt(T,()=>i(d),L=>{var q=Dx(),R=l(q);V(()=>x(R,`Error: ${i(d).message??""}`)),C(L,q)},L=>{var q=Fx(),R=l(q),F=l(R),G=l(F),z=l(G),P=u(G),B=l(P),m=u(P),S=l(m),A=u(m),O=l(A),U=u(R);be(U,5,()=>i(o),xe,(D,H,Y)=>{var st=Ux(),J=vt(st),X=l(J),rt=l(X),at=u(X),nt=l(at),Z=u(at),K=l(Z);V(()=>x(K,i(H).TScore.toFixed(2)));var ut=u(Z),et=l(ut),ft=u(J,2);mt(ft,()=>i(h)[Y],ot=>{var Q=Bx(),it=l(Q),ht=l(it);V(()=>x(ht,`${(a()?"대전점수":"Battle Score")??""}: ${i(H).BScore.toFixed(2)??""}`));var _t=u(ht,2),$t=u(_t,2),Bt=u($t);mt(Bt,()=>i(v)==="none",Qt=>{var Jt=Mx(),Vt=l(Jt);V(()=>x(Vt,a()?"가입하기":"Join")),tt("click",Jt,()=>g(i(H).name)),C(Qt,Jt)}),V(()=>{x(_t,` ${(a()?"대회점수":"Event Score")??""}: ${i(H).LScore??""}`),x($t,` ${(a()?"클랜원":"Members")??""}: ${i(H).members??""} `)}),C(ot,Q)}),V(()=>{x(rt,i(H).rank),x(nt,i(H).name),x(et,i(H).members.length)}),tt("click",J,()=>p(Y)),C(D,st)}),V(()=>{x(z,a()?"순위":"Rank"),x(B,a()?"클랜":"Clan"),x(S,a()?"점수":"Score"),x(O,a()?"인원":"Member")}),C(L,q)},!0),C($,k)}),C(r,y),ve()}var Kx=W('<button class="emphasis-button"> </button>'),Gx=W('<button class="emphasis-button"> </button>'),Vx=W("<h1> </h1> <div><!> <!></div>",1),Wx=W('<div class="social-login svelte-i8bt0t"><button class="button google svelte-i8bt0t"><svg width="24" height="24" viewBox="0 0 48 48" class="svelte-i8bt0t"><path fill="#EA4335" d="M24 9.5c3.15 0 5.96 1.1 8.19 3.25l6.1-6.1C34.83 3.17 29.78 1 24 1 14.61 1 6.84 6.69 3.34 14.51l7.91 6.14C13.05 14.01 18.02 9.5 24 9.5z"></path><path fill="#34A853" d="M46.06 24.58c0-1.7-.15-3.35-.41-4.96H24v9.41h12.57c-.54 2.8-2.17 5.16-4.59 6.81l7.19 5.59c4.19-3.87 6.89-9.59 6.89-16.85z"></path><path fill="#FBBC04" d="M10.25 28.91A15.42 15.42 0 0 1 9.63 24c0-1.64.27-3.23.77-4.74L2.48 13.1C.9 16.32 0 19.99 0 24c0 4.04.9 7.7 2.48 10.93l7.77-6.02z"></path><path fill="#4285F4" d="M24 48c6.48 0 11.91-2.15 15.88-5.84l-7.19-5.59c-2.01 1.35-4.6 2.17-7.32 2.17-5.99 0-11.06-4.51-12.73-10.54l-7.91 6.14C6.84 41.31 14.61 47 24 47z"></path></svg> </button> <button class="button kakao svelte-i8bt0t"><svg width="24" height="24" viewBox="0 0 48 48" class="svelte-i8bt0t"><path fill="#3C1E1E" d="M24 4C13.506 4 5 10.798 5 19c0 4.445 2.503 8.434 6.523 11.173-.343 1.89-1.244 6.827-1.445 7.895 0 0-.054.437.23.565.285.129.62-.073.62-.073.798-.118 7.774-5.068 9.07-6.055 1.594.398 3.297.595 5.002.595 10.493 0 19-6.798 19-15S34.493 4 24 4z"></path></svg> </button> <button class="simple-button svelte-i8bt0t"> </button></div>'),Yx=W('<td> </td> <td><button class="simple-button svelte-i8bt0t"> </button></td>',1),Jx=W('<td></td> <td><button class="simple-button svelte-i8bt0t"> </button></td>',1),Zx=W('<td> </td> <td><button class="simple-button svelte-i8bt0t"> </button></td>',1),Xx=W('<td></td> <td><button class="simple-button svelte-i8bt0t"> </button></td>',1),Qx=W('<td> </td> <td><button class="simple-button svelte-i8bt0t"> </button></td>',1),t4=W('<td></td> <td><button class="simple-button svelte-i8bt0t"> </button></td>',1),e4=W('<tr><td> </td><td>*********</td><td><button class="simple-button svelte-i8bt0t"> </button></td></tr>'),r4=W('<h1> </h1> <table><tbody><tr><td> </td><td> </td><td></td></tr><tr><td> </td><td> </td><td></td></tr><tr><td> </td><!></tr><tr><td> </td><!></tr><tr><td> </td><!></tr><!><tr><td> </td><td> </td><td><button class="simple-button svelte-i8bt0t"> </button></td></tr><tr><td> </td><td></td><td><button class="simple-button svelte-i8bt0t"> </button></td></tr><tr><td> </td><td></td><td><button class="simple-button svelte-i8bt0t"> </button></td></tr></tbody></table>',1);function n4(r,t){pe(t,!1);const e=we(),n=()=>I(Ie,"$lang",e),s=()=>I(Kn,"$mybabapk",e),a=()=>I(Gn,"$mympk",e),o=()=>I(Vn,"$myzpke",e),c=()=>I(gs,"$myUnionAccount",e),d=()=>I(lc,"$myorigin",e),h=()=>I(Zs,"$email",e);let v=ur(t,"onGoogleLogin",8,()=>{window.location.href=`https://accounts.google.com/o/oauth2/v2/auth?&client_id=437914976266-cr9noqqpjokobs52sbnvlce0ncljo5bk.apps.googleusercontent.com&redirect_uri=${window.location.origin}/auth/google/callback&response_type=code&scope=email`});or(async()=>{T();try{const G=sessionStorage.getItem("token"),z=await fetch("/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:G})});if(z.status===200){const P=await z.json();gs.set(P[0].account),Kn.set(P[0].babapk),Gn.set(P[0].mpk),Vn.set(P[0].zpke),Os.set(P[1]),Zs.set("")}}catch(G){console.error("Token validation failed:",G)}});let b=ur(t,"onKakaoLogin",8,()=>{window.location.href=`https://kauth.kakao.com/oauth/authorize?client_id=60bf89cf2d5751b33fd1ec7e34de8c23&redirect_uri=${window.location.origin}/auth/kakao/callback&response_type=code`});async function p(){try{await Mt("/auth/logout","POST"),alert(n()?"로그아웃하였습니다":"Logout success"),He.set("none"),br.set(""),gs.set(""),Kn.set(""),Gn.set(""),Vn.set(""),Os.set(""),Zs.set(""),ln.set([])}catch(G){alert(G)}}function g(G){Po.set(G),He.set("connect")}async function y(G){let z;G==="babapk"?z=s():G==="mpk"?z=a():G==="zpke"&&(z=o());const P={mode:G,nickname:z};if(confirm(n()?"다음 캐릭터 정보를 삭제하겠습니까? 캐릭터 정보 삭제시 현 시즌에 획득한 점수도 삭제되므로 꼭 확인해주세요!"+z:"Are you sure you want to delete this character? Deleting the character will also result in losing the points you have earned."+z))try{(await Mt("/connect/delete","DELETE",P)).status===200?(alert(n()?"삭제하였습니다!":"Delete Completed"),G==="babapk"?Kn.set(""):G==="mpk"?Gn.set(""):G==="zpke"&&Vn.set("")):alert(n()?"삭제에 실패하였습니다":"Error")}catch(m){alert(m)}}let w=N(!1),$=N(!1),k=N(!1);function T(){const G=navigator.userAgent||navigator.vendor||window.opera;(/wv/.test(G)||/Android.*Version\/[0-9.]+.*Chrome\/[0-9.]+ Mobile/.test(G))&&(_(w,!0),_($,!0)),/iPhone|iPad|iPod/.test(G)&&!/Safari/.test(G)&&(_(w,!0),_(k,!0))}function L(){const G="intent://d2rpvp.org#Intent;scheme=https;package=com.android.chrome;end;";window.location.href=G}function q(){const G="googlechrome://d2rpvp.org";window.location.href=G}Ae();var R=ue(),F=vt(R);mt(F,()=>i(w),G=>{var z=Vx(),P=vt(z),B=l(P),m=u(P,2),S=l(m);mt(S,()=>i($),O=>{var U=Kx(),D=l(U);V(()=>x(D,n()?"Chrome으로 열기":"Browse to Chrome")),tt("click",U,L),C(O,U)});var A=u(S,2);mt(A,()=>i(k),O=>{var U=Gx(),D=l(U);V(()=>x(D,n()?"Safari/Chrome으로 열기":"Browse to Safari/Chrome")),tt("click",U,q),C(O,U)}),V(()=>x(B,n()?"이 페이지는 현재 브라우저에서 동작하지 않습니다. 적절한 브라우저에서 열어주세요":"This page does not work in the current browser. Please open it in a compatible browser")),C(G,z)},G=>{var z=ue(),P=vt(z);mt(P,()=>c()==="",B=>{var m=Wx(),S=l(m),A=u(l(S)),O=u(S,2),U=u(l(O)),D=u(O,2),H=l(D);V(()=>{x(A,` ${(n()?"구글로 로그인":"Sign Up with Google")??""}`),x(U,` ${(n()?"카카오로 로그인":"Sign Up with Kakao")??""}`),x(H,n()?"로그인":"Sign Up")}),tt("click",S,function(...Y){var st;(st=v())==null||st.apply(this,Y)}),tt("click",O,function(...Y){var st;(st=b())==null||st.apply(this,Y)}),tt("click",D,()=>He.set("unionlogin")),C(B,m)},B=>{var m=r4(),S=vt(m),A=l(S),O=u(S,2),U=l(O),D=l(U),H=l(D),Y=l(H),st=u(H),J=l(st),X=u(D),rt=l(X),at=l(rt),nt=u(rt),Z=l(nt),K=u(X),ut=l(K),et=l(ut),ft=u(ut);mt(ft,s,Zt=>{var Xt=Yx(),se=vt(Xt),te=l(se),ce=u(se,2),fe=l(ce),he=l(fe);V(()=>{x(te,s()),x(he,n()?"삭제하기":"Remove")}),tt("click",fe,()=>y("babapk")),C(Zt,Xt)},Zt=>{var Xt=Jx(),se=u(vt(Xt),2),te=l(se),ce=l(te);V(()=>x(ce,n()?"등록하기":"Register")),tt("click",te,()=>g("babapk")),C(Zt,Xt)});var ot=u(K),Q=l(ot),it=l(Q),ht=u(Q);mt(ht,a,Zt=>{var Xt=Zx(),se=vt(Xt),te=l(se);V(()=>x(te,a().replace("_m","")));var ce=u(se,2),fe=l(ce),he=l(fe);V(()=>x(he,n()?"삭제하기":"Remove")),tt("click",fe,()=>y("mpk")),C(Zt,Xt)},Zt=>{var Xt=Xx(),se=u(vt(Xt),2),te=l(se),ce=l(te);V(()=>x(ce,n()?"등록하기":"Register")),tt("click",te,()=>g("mpk")),C(Zt,Xt)});var _t=u(ot),$t=l(_t),Bt=l($t),Qt=u($t);mt(Qt,o,Zt=>{var Xt=Qx(),se=vt(Xt),te=l(se);V(()=>x(te,o().replace("_z","")));var ce=u(se,2),fe=l(ce),he=l(fe);V(()=>x(he,n()?"삭제하기":"Remove")),tt("click",fe,()=>y("zpke")),C(Zt,Xt)},Zt=>{var Xt=t4(),se=u(vt(Xt),2),te=l(se),ce=l(te);V(()=>x(ce,n()?"등록하기":"Register")),tt("click",te,()=>g("zpke")),C(Zt,Xt)});var Jt=u(_t);mt(Jt,()=>d()==="d2rpvp",Zt=>{var Xt=e4(),se=l(Xt),te=l(se),ce=u(se,2),fe=l(ce),he=l(fe);V(()=>{x(te,n()?"암호":"Password"),x(he,n()?"변경":"Modify")}),tt("click",fe,()=>He.set("changepw")),C(Zt,Xt)});var Vt=u(Jt),Ct=l(Vt),Tt=l(Ct),Ht=u(Ct),Et=l(Ht),gt=u(Ht),kt=l(gt),It=l(kt),Ut=u(Vt),Ft=l(Ut),Dt=l(Ft),Nt=u(Ft,2),Rt=l(Nt),Wt=l(Rt),ae=u(Ut),ne=l(ae),le=l(ne),_e=u(ne,2),me=l(_e),$e=l(me);V(()=>{x(A,n()?"로그인하였습니다":"Your Account"),x(Y,n()?"계정":"Account"),x(J,c()),x(at,n()?"로그인 방법":"How to Login"),x(Z,d()),x(et,n()?"정통바바 캐릭터":"babapk Character"),x(it,n()?"밀리PK 캐릭터":"Mpk Character"),x(Bt,n()?"질딘PK 캐릭터":"Zeal PK Character"),x(Tt,n()?"이메일":"E-mail"),x(Et,h()),x(It,n()?"변경":"Modify"),x(Dt,n()?"계정 삭제":"Remove Account"),x(Wt,n()?"삭제":"Remove"),x(le,n()?"로그아웃":"Leave"),x($e,n()?"로그아웃":"Leave")}),tt("click",kt,()=>He.set("changeemail")),tt("click",Rt,()=>He.set("deleteaccount")),tt("click",me,()=>p()),C(B,m)}),C(G,z)}),C(r,R),ve()}var s4=W('<tr><td><input class="input-text" type="text"></td><td> </td><td><input class="input-text" type="password"></td><td><button class="emphasis-button"> </button></td></tr>'),a4=W('<tr><td colspan="4"> <br> <br> </td></tr>'),i4=W('<tr><td class="pointer svelte-16gi5cs"> </td><td> </td><td> </td><td class="pointer svelte-16gi5cs"> </td></tr>'),o4=W("<table><thead><tr><th> </th><th> </th><th> </th><th> </th></tr></thead><tbody><!><!><!></tbody></table>");function l4(r,t){pe(t,!1);const e=we(),n=()=>I(Re,"$mode",e),s=()=>I(Ie,"$lang",e),a=()=>I(br,"$myaccount",e);let o=N(),c=N(),d=N([]),h=N();async function v(){try{const O=await fetch("/rooms");if(!O.ok)throw new Error("데이터를 가져오는 데 실패했습니다.");const U=await O.json();_(d,U.map(D=>({...D,created_at:new Date(D.created_at)})))}catch(O){console.error("데이터 로드 오류:",O)}}async function b(){const O={name:i(o),password:i(c),mode:n()};try{const U=await Mt("/rooms/new","POST",O);U.status===201?(alert(s()?"방 등록에 성공하였습니다!":"Room successfully created!"),v()):U.status===401&&alert(s()?"권한이 없습니다":"You do not have permission.")}catch{alert(s()?"서버 에러입니다":"Server error.")}}or(v);async function p(O){if(!a())return;if(confirm(s()?"해당 방의 암호를 조회하면 당신의 조회기록이 남습니다. 조회하시겠습니까?":"Your access record will be saved when viewing the room password. Continue?")){const D={id:O};try{const H=await Mt("/rooms/password","POST",D),Y=await H.json();H.status===201?(alert((s()?"암호는 다음과 같습니다: ":"The password is: ")+Y.password),_(d,i(d).map(st=>st.id===O?{...st,views:st.views+1}:st))):H.status===401&&alert(s()?"권한이 없습니다":"You do not have permission.")}catch{alert(s()?"암호 조회에 실패하였습니다":"Failed to retrieve password.")}}}async function g(O){if(!a())return;const U={id:O};try{const D=await Mt("/rooms/views","POST",U),H=await D.json();D.status===201?(alert(s()?"암호를 조회한 사람들의 정보를 봅니다":"Viewing users who accessed the password."),_(h,H.map(Y=>({...Y,created_at:new Date(Y.created_at)})))):D.status===401&&alert(s()?"권한이 없습니다":"You do not have permission.")}catch{alert(s()?"암호 조회에 실패하였습니다":"Failed to retrieve password.")}}function y(O){O instanceof Date||(O=new Date(O));const U=String(O.getFullYear()).toString().slice(-2),D=String(O.getMonth()+1).padStart(2,"0"),H=String(O.getDate()).padStart(2,"0"),Y=String(O.getHours()).padStart(2,"0"),st=String(O.getMinutes()).padStart(2,"0"),J=String(O.getSeconds()).padStart(2,"0");return`${U}/${D}/${H} ${Y}:${st}:${J}`}Ae();var w=o4(),$=l(w),k=l($),T=l(k),L=l(T),q=u(T),R=l(q),F=u(q),G=l(F),z=u(F),P=l(z),B=u($),m=l(B);mt(m,a,O=>{var U=s4(),D=l(U),H=l(D),Y=u(D),st=l(Y),J=u(Y),X=l(J),rt=u(J),at=l(rt),nt=l(at);V(()=>{Ee(H,"placeholder",s()?"새 방 이름 입력":"Enter New Room Name"),x(st,n()),Ee(X,"placeholder",s()?"새 방 암호 입력":"Enter New Room Password"),x(nt,s()?"추가하기":"Add")}),M(H,()=>i(o),Z=>_(o,Z)),M(X,()=>i(c),Z=>_(c,Z)),tt("click",at,b),C(O,U)});var S=u(m);be(S,1,()=>i(h),xe,(O,U)=>{var D=a4(),H=l(D),Y=l(H),st=u(Y,2),J=u(st,2);V(()=>x(J,` ${(s()?"엑세스시간":"Access Time")??""}: ${y(i(U).access_time)??""}`)),V(()=>{x(Y,`${(s()?"계정":"Account")??""}: ${i(U).account??""} 
                    ${(s()?"아이피":"IP Address")??""}: ${i(U).ip_address??""} `),x(st,` ${(s()?"바바":"Babapk")??""}: ${i(U).babapk??""} 
                    ${(s()?"밀리":"Mpk")??""}: ${i(U).mpk??""} 
                    ${(s()?"질딘":"Zpke")??""}: ${i(U).zpke??""} `)}),C(O,D)});var A=u(S);be(A,1,()=>i(d),xe,(O,U)=>{var D=i4(),H=l(D),Y=l(H),st=u(H),J=l(st),X=u(st),rt=l(X);V(()=>x(rt,y(i(U).created_at)));var at=u(X),nt=l(at);V(()=>{x(Y,i(U).room_name),x(J,i(U).mode),x(nt,i(U).views)}),tt("click",H,()=>p(i(U).id)),tt("click",at,()=>g(i(U).id)),C(O,D)}),V(()=>{x(L,s()?"방 제목":"Room Name"),x(R,s()?"게임모드":"Game Mode"),x(G,s()?"생성시간":"Created At"),x(P,s()?"조회수":"Views")}),C(r,w),ve()}var c4=W('<nav><!></nav> <header><!></header> <main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main> <div class="form-container"><!></div> <footer><!></footer>',1);function u4(r){hv(r,{children:(t,e)=>{var n=c4(),s=vt(n),a=l(s);_v(a,{});var o=u(s,2),c=l(o);Ev(c,{});var d=u(o,2),h=l(d);Ge(h,{path:"/:type/info",component:Sv});var v=u(h,2);Ge(v,{path:"/",component:n4});var b=u(v,2);Ge(b,{path:"/babapk",component:rl});var p=u(b,2);Ge(p,{path:"/mpk",component:rl});var g=u(p,2);Ge(g,{path:"/zpke",component:rl});var y=u(g,2);Ge(y,{path:"/:type/rank",component:l1});var w=u(y,2);Ge(w,{path:"/:type/record",component:x1});var $=u(w,2);Ge($,{path:"/:type/tournament",component:q1});var k=u($,2);Ge(k,{path:"/:type/boardlist",component:F1});var T=u(k,2);Ge(T,{path:"/:type/post/:id",component:X1});var L=u(T,2);Ge(L,{path:"/:type/write",component:zw});var q=u(L,2);Ge(q,{path:"/:type/winners",component:Jw});var R=u(q,2);Ge(R,{path:"/:type/calculator",component:Qw});var F=u(R,2);Ge(F,{path:"/zpke/pscore",component:ex});var G=u(F,2);Ge(G,{path:"/babapk/pscore",component:nx});var z=u(G,2);Ge(z,{path:"/babapk/visio",component:ax});var P=u(z,2);Ge(P,{path:"/:type/ring",component:ox});var B=u(P,2);Ge(B,{path:"/babapk/simul",component:ux});var m=u(B,2);Ge(m,{path:"/:type/elo",component:fx});var S=u(m,2);Ge(S,{path:"/mpk/admin",component:gx});var A=u(S,2);Ge(A,{path:"/babapk/admin",component:$x});var O=u(A,2);Ge(O,{path:"/mpk/simul",component:Sx});var U=u(O,2);Ge(U,{path:"/zpke/simul",component:Lx});var D=u(U,2);Ge(D,{path:"/zpke/admin",component:jx});var H=u(D,2);Ge(H,{path:"/babapk/clan",component:Hx});var Y=u(H,2);Ge(Y,{path:"/:type/room",component:l4});var st=u(d,2),J=l(st);Bm(J,{});var X=u(st,2),rt=l(X);$v(rt,{}),C(t,n)},$$slots:{default:!0}})}Ap(u4,{target:document.getElementById("app")})});export default d4();
